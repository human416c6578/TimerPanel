/*!
 * The MIT License (MIT)
 *
 * Copyright (c) 2018 Stefan StojkoviÄ‡
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 */
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["HLViewer"] = factory();
	else
		root["HLViewer"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/free-style/dist.es2015/index.js":
/*!******************************************************!*\
  !*** ./node_modules/free-style/dist.es2015/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cache: () => (/* binding */ Cache),\n/* harmony export */   FreeStyle: () => (/* binding */ FreeStyle),\n/* harmony export */   Rule: () => (/* binding */ Rule),\n/* harmony export */   Selector: () => (/* binding */ Selector),\n/* harmony export */   Style: () => (/* binding */ Style),\n/* harmony export */   create: () => (/* binding */ create)\n/* harmony export */ });\n/**\n * The unique id is used for unique hashes.\n */\nlet uniqueId = 0;\n/**\n * Quick dictionary lookup for unit-less numbers.\n */\nconst CSS_NUMBER = Object.create(null);\n/**\n * CSS properties that are valid unit-less numbers.\n *\n * Ref: https://github.com/facebook/react/blob/master/packages/react-dom/src/shared/CSSProperty.js\n */\nconst CSS_NUMBER_KEYS = [\n    \"animation-iteration-count\",\n    \"border-image-outset\",\n    \"border-image-slice\",\n    \"border-image-width\",\n    \"box-flex\",\n    \"box-flex-group\",\n    \"box-ordinal-group\",\n    \"column-count\",\n    \"columns\",\n    \"counter-increment\",\n    \"counter-reset\",\n    \"flex\",\n    \"flex-grow\",\n    \"flex-positive\",\n    \"flex-shrink\",\n    \"flex-negative\",\n    \"flex-order\",\n    \"font-weight\",\n    \"grid-area\",\n    \"grid-column\",\n    \"grid-column-end\",\n    \"grid-column-span\",\n    \"grid-column-start\",\n    \"grid-row\",\n    \"grid-row-end\",\n    \"grid-row-span\",\n    \"grid-row-start\",\n    \"line-clamp\",\n    \"line-height\",\n    \"opacity\",\n    \"order\",\n    \"orphans\",\n    \"tab-size\",\n    \"widows\",\n    \"z-index\",\n    \"zoom\",\n    // SVG properties.\n    \"fill-opacity\",\n    \"flood-opacity\",\n    \"stop-opacity\",\n    \"stroke-dasharray\",\n    \"stroke-dashoffset\",\n    \"stroke-miterlimit\",\n    \"stroke-opacity\",\n    \"stroke-width\"\n];\n// Add vendor prefixes to all unit-less properties.\nfor (const property of CSS_NUMBER_KEYS) {\n    for (const prefix of [\"-webkit-\", \"-ms-\", \"-moz-\", \"-o-\", \"\"]) {\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Escape a CSS class name.\n */\nfunction escape(str) {\n    return str.replace(/[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g, \"\\\\$&\");\n}\n/**\n * Transform a JavaScript property into a CSS property.\n */\nfunction hyphenate(propertyName) {\n    return propertyName\n        .replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`)\n        .replace(/^ms-/, \"-ms-\"); // Internet Explorer vendor prefix.\n}\n/**\n * Generate a hash value from a string.\n */\nfunction stringHash(str) {\n    let value = 5381;\n    let len = str.length;\n    while (len--)\n        value = (value * 33) ^ str.charCodeAt(len);\n    return (value >>> 0).toString(36);\n}\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(key, value) {\n    if (value && typeof value === \"number\" && !CSS_NUMBER[key]) {\n        return `${key}:${value}px`;\n    }\n    return `${key}:${value}`;\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort((a, b) => (a[0] > b[0] ? 1 : -1));\n}\n/**\n * Categorize user styles.\n */\nfunction parseStyles(styles, hasNestedStyles) {\n    const properties = [];\n    const nestedStyles = [];\n    // Sort keys before adding to styles.\n    for (const key of Object.keys(styles)) {\n        const name = key.trim();\n        const value = styles[key];\n        if (name.charCodeAt(0) !== 36 /* $ */ && value != null) {\n            if (typeof value === \"object\" && !Array.isArray(value)) {\n                nestedStyles.push([name, value]);\n            }\n            else {\n                properties.push([hyphenate(name), value]);\n            }\n        }\n    }\n    return {\n        style: stringifyProperties(sortTuples(properties)),\n        nested: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: !!styles.$unique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    return properties\n        .map(([name, value]) => {\n        if (!Array.isArray(value))\n            return styleToString(name, value);\n        return value.map(x => styleToString(name, x)).join(\";\");\n    })\n        .join(\";\");\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf(\"&\") === -1)\n        return `${parent} ${selector}`;\n    return selector.replace(/&/g, parent);\n}\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize(selector, styles, rulesList, stylesList, parent) {\n    const { style, nested, isUnique } = parseStyles(styles, selector !== \"\");\n    let pid = style;\n    if (selector.charCodeAt(0) === 64 /* @ */) {\n        const child = {\n            selector,\n            styles: [],\n            rules: [],\n            style: parent ? \"\" : style\n        };\n        rulesList.push(child);\n        // Nested styles support (e.g. `.foo > @media > .bar`).\n        if (style && parent) {\n            child.styles.push({ selector: parent, style, isUnique });\n        }\n        for (const [name, value] of nested) {\n            pid += name + stylize(name, value, child.rules, child.styles, parent);\n        }\n    }\n    else {\n        const key = parent ? interpolate(selector, parent) : selector;\n        if (style)\n            stylesList.push({ selector: key, style, isUnique });\n        for (const [name, value] of nested) {\n            pid += name + stylize(name, value, rulesList, stylesList, key);\n        }\n    }\n    return pid;\n}\n/**\n * Transform `stylize` tree into style objects.\n */\nfunction composeStylize(cache, pid, rulesList, stylesList, className, isStyle) {\n    for (const { selector, style, isUnique } of stylesList) {\n        const key = isStyle ? interpolate(selector, className) : selector;\n        const id = isUnique\n            ? `u\\0${(++uniqueId).toString(36)}`\n            : `s\\0${pid}\\0${style}`;\n        const item = new Style(style, id);\n        item.add(new Selector(key, `k\\0${pid}\\0${key}`));\n        cache.add(item);\n    }\n    for (const { selector, style, rules, styles } of rulesList) {\n        const item = new Rule(selector, style, `r\\0${pid}\\0${selector}\\0${style}`);\n        composeStylize(item, pid, rules, styles, className, isStyle);\n        cache.add(item);\n    }\n}\n/**\n * Cache to list to styles.\n */\nfunction join(arr) {\n    let res = \"\";\n    for (let i = 0; i < arr.length; i++)\n        res += arr[i];\n    return res;\n}\n/**\n * Noop changes.\n */\nconst noopChanges = {\n    add: () => undefined,\n    change: () => undefined,\n    remove: () => undefined\n};\n/**\n * Implement a cache/event emitter.\n */\nclass Cache {\n    constructor(changes = noopChanges) {\n        this.changes = changes;\n        this.sheet = [];\n        this.changeId = 0;\n        this._keys = [];\n        this._children = Object.create(null);\n        this._counters = Object.create(null);\n    }\n    add(style) {\n        const count = this._counters[style.id] || 0;\n        const item = this._children[style.id] || style.clone();\n        this._counters[style.id] = count + 1;\n        if (count === 0) {\n            this._children[item.id] = item;\n            this._keys.push(item.id);\n            this.sheet.push(item.getStyles());\n            this.changeId++;\n            this.changes.add(item, this._keys.length - 1);\n        }\n        else if (item instanceof Cache && style instanceof Cache) {\n            const curIndex = this._keys.indexOf(style.id);\n            const prevItemChangeId = item.changeId;\n            item.merge(style);\n            if (item.changeId !== prevItemChangeId) {\n                this.sheet.splice(curIndex, 1, item.getStyles());\n                this.changeId++;\n                this.changes.change(item, curIndex, curIndex);\n            }\n        }\n    }\n    remove(style) {\n        const count = this._counters[style.id];\n        if (count) {\n            this._counters[style.id] = count - 1;\n            const item = this._children[style.id];\n            const index = this._keys.indexOf(item.id);\n            if (count === 1) {\n                delete this._counters[style.id];\n                delete this._children[style.id];\n                this._keys.splice(index, 1);\n                this.sheet.splice(index, 1);\n                this.changeId++;\n                this.changes.remove(item, index);\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                const prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.sheet.splice(index, 1, item.getStyles());\n                    this.changeId++;\n                    this.changes.change(item, index, index);\n                }\n            }\n        }\n    }\n    values() {\n        return this._keys.map(key => this._children[key]);\n    }\n    merge(cache) {\n        for (const item of cache.values())\n            this.add(item);\n        return this;\n    }\n    unmerge(cache) {\n        for (const item of cache.values())\n            this.remove(item);\n        return this;\n    }\n    clone() {\n        return new Cache().merge(this);\n    }\n}\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nclass Selector {\n    constructor(selector, id) {\n        this.selector = selector;\n        this.id = id;\n    }\n    getStyles() {\n        return this.selector;\n    }\n    clone() {\n        return this;\n    }\n}\n/**\n * The style container registers a style string with selectors.\n */\nclass Style extends Cache {\n    constructor(style, id) {\n        super();\n        this.style = style;\n        this.id = id;\n    }\n    getStyles() {\n        return `${this.sheet.join(\",\")}{${this.style}}`;\n    }\n    clone() {\n        return new Style(this.style, this.id).merge(this);\n    }\n}\n/**\n * Implement rule logic for style output.\n */\nclass Rule extends Cache {\n    constructor(rule, style, id) {\n        super();\n        this.rule = rule;\n        this.style = style;\n        this.id = id;\n    }\n    getStyles() {\n        return `${this.rule}{${this.style}${join(this.sheet)}}`;\n    }\n    clone() {\n        return new Rule(this.rule, this.style, this.id).merge(this);\n    }\n}\nfunction key(pid, styles) {\n    const key = `f${stringHash(pid)}`;\n    if ( false || !styles.$displayName)\n        return key;\n    return `${styles.$displayName}_${key}`;\n}\n/**\n * The FreeStyle class implements the API for everything else.\n */\nclass FreeStyle extends Cache {\n    constructor(id, changes) {\n        super(changes);\n        this.id = id;\n    }\n    registerStyle(styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(\"&\", styles, rulesList, stylesList);\n        const id = key(pid, styles);\n        const selector = `.${ false ? 0 : escape(id)}`;\n        composeStylize(this, pid, rulesList, stylesList, selector, true);\n        return id;\n    }\n    registerKeyframes(keyframes) {\n        return this.registerHashRule(\"@keyframes\", keyframes);\n    }\n    registerHashRule(prefix, styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(\"\", styles, rulesList, stylesList);\n        const id = key(pid, styles);\n        const selector = `${prefix} ${ false ? 0 : escape(id)}`;\n        const rule = new Rule(selector, \"\", `h\\0${pid}\\0${prefix}`);\n        composeStylize(rule, pid, rulesList, stylesList, \"\", false);\n        this.add(rule);\n        return id;\n    }\n    registerRule(rule, styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(rule, styles, rulesList, stylesList);\n        composeStylize(this, pid, rulesList, stylesList, \"\", false);\n    }\n    registerCss(styles) {\n        return this.registerRule(\"\", styles);\n    }\n    getStyles() {\n        return join(this.sheet);\n    }\n    clone() {\n        return new FreeStyle(this.id, this.changes).merge(this);\n    }\n}\n/**\n * Exports a simple function to create a new instance.\n */\nfunction create(changes) {\n    return new FreeStyle(`f${(++uniqueId).toString(36)}`, changes);\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZnJlZS1zdHlsZS9kaXN0LmVzMjAxNS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxXQUFXLEVBQUU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQjtBQUN0RCxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsSUFBSSxHQUFHLE1BQU07QUFDL0I7QUFDQSxjQUFjLElBQUksR0FBRyxNQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdELEtBQUs7QUFDTCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVEsRUFBRSxTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEJBQTBCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUNBQW1DO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0NBQWdDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRCQUE0QjtBQUM3QztBQUNBO0FBQ0Esb0JBQW9CLDBCQUEwQjtBQUM5QyxvQkFBb0IsSUFBSSxJQUFJLE1BQU07QUFDbEM7QUFDQSx5Q0FBeUMsSUFBSSxJQUFJLElBQUk7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQixpQ0FBaUM7QUFDbEQscURBQXFELElBQUksSUFBSSxTQUFTLElBQUksTUFBTTtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQixFQUFFLFlBQVk7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsV0FBVyxFQUFFLFdBQVcsRUFBRSxrQkFBa0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQyxRQUFRLE1BQXFDO0FBQzdDO0FBQ0EsY0FBYyxvQkFBb0IsR0FBRyxJQUFJO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsTUFBcUMsR0FBRyxDQUFFLGNBQWM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRLEVBQUUsTUFBcUMsR0FBRyxDQUFFLGNBQWM7QUFDOUYsa0RBQWtELElBQUksSUFBSSxPQUFPO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZCQUE2QiwwQkFBMEI7QUFDdkQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL2ZyZWUtc3R5bGUvZGlzdC5lczIwMTUvaW5kZXguanM/MGNlNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSB1bmlxdWUgaWQgaXMgdXNlZCBmb3IgdW5pcXVlIGhhc2hlcy5cbiAqL1xubGV0IHVuaXF1ZUlkID0gMDtcbi8qKlxuICogUXVpY2sgZGljdGlvbmFyeSBsb29rdXAgZm9yIHVuaXQtbGVzcyBudW1iZXJzLlxuICovXG5jb25zdCBDU1NfTlVNQkVSID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogQ1NTIHByb3BlcnRpZXMgdGhhdCBhcmUgdmFsaWQgdW5pdC1sZXNzIG51bWJlcnMuXG4gKlxuICogUmVmOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9tYXN0ZXIvcGFja2FnZXMvcmVhY3QtZG9tL3NyYy9zaGFyZWQvQ1NTUHJvcGVydHkuanNcbiAqL1xuY29uc3QgQ1NTX05VTUJFUl9LRVlTID0gW1xuICAgIFwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFwiLFxuICAgIFwiYm9yZGVyLWltYWdlLW91dHNldFwiLFxuICAgIFwiYm9yZGVyLWltYWdlLXNsaWNlXCIsXG4gICAgXCJib3JkZXItaW1hZ2Utd2lkdGhcIixcbiAgICBcImJveC1mbGV4XCIsXG4gICAgXCJib3gtZmxleC1ncm91cFwiLFxuICAgIFwiYm94LW9yZGluYWwtZ3JvdXBcIixcbiAgICBcImNvbHVtbi1jb3VudFwiLFxuICAgIFwiY29sdW1uc1wiLFxuICAgIFwiY291bnRlci1pbmNyZW1lbnRcIixcbiAgICBcImNvdW50ZXItcmVzZXRcIixcbiAgICBcImZsZXhcIixcbiAgICBcImZsZXgtZ3Jvd1wiLFxuICAgIFwiZmxleC1wb3NpdGl2ZVwiLFxuICAgIFwiZmxleC1zaHJpbmtcIixcbiAgICBcImZsZXgtbmVnYXRpdmVcIixcbiAgICBcImZsZXgtb3JkZXJcIixcbiAgICBcImZvbnQtd2VpZ2h0XCIsXG4gICAgXCJncmlkLWFyZWFcIixcbiAgICBcImdyaWQtY29sdW1uXCIsXG4gICAgXCJncmlkLWNvbHVtbi1lbmRcIixcbiAgICBcImdyaWQtY29sdW1uLXNwYW5cIixcbiAgICBcImdyaWQtY29sdW1uLXN0YXJ0XCIsXG4gICAgXCJncmlkLXJvd1wiLFxuICAgIFwiZ3JpZC1yb3ctZW5kXCIsXG4gICAgXCJncmlkLXJvdy1zcGFuXCIsXG4gICAgXCJncmlkLXJvdy1zdGFydFwiLFxuICAgIFwibGluZS1jbGFtcFwiLFxuICAgIFwibGluZS1oZWlnaHRcIixcbiAgICBcIm9wYWNpdHlcIixcbiAgICBcIm9yZGVyXCIsXG4gICAgXCJvcnBoYW5zXCIsXG4gICAgXCJ0YWItc2l6ZVwiLFxuICAgIFwid2lkb3dzXCIsXG4gICAgXCJ6LWluZGV4XCIsXG4gICAgXCJ6b29tXCIsXG4gICAgLy8gU1ZHIHByb3BlcnRpZXMuXG4gICAgXCJmaWxsLW9wYWNpdHlcIixcbiAgICBcImZsb29kLW9wYWNpdHlcIixcbiAgICBcInN0b3Atb3BhY2l0eVwiLFxuICAgIFwic3Ryb2tlLWRhc2hhcnJheVwiLFxuICAgIFwic3Ryb2tlLWRhc2hvZmZzZXRcIixcbiAgICBcInN0cm9rZS1taXRlcmxpbWl0XCIsXG4gICAgXCJzdHJva2Utb3BhY2l0eVwiLFxuICAgIFwic3Ryb2tlLXdpZHRoXCJcbl07XG4vLyBBZGQgdmVuZG9yIHByZWZpeGVzIHRvIGFsbCB1bml0LWxlc3MgcHJvcGVydGllcy5cbmZvciAoY29uc3QgcHJvcGVydHkgb2YgQ1NTX05VTUJFUl9LRVlTKSB7XG4gICAgZm9yIChjb25zdCBwcmVmaXggb2YgW1wiLXdlYmtpdC1cIiwgXCItbXMtXCIsIFwiLW1vei1cIiwgXCItby1cIiwgXCJcIl0pIHtcbiAgICAgICAgQ1NTX05VTUJFUltwcmVmaXggKyBwcm9wZXJ0eV0gPSB0cnVlO1xuICAgIH1cbn1cbi8qKlxuICogRXNjYXBlIGEgQ1NTIGNsYXNzIG5hbWUuXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1sgISMkJSYoKSorLC4vOzw9Pj9AW1xcXV5ge3x9flwiJ1xcXFxdL2csIFwiXFxcXCQmXCIpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBKYXZhU2NyaXB0IHByb3BlcnR5IGludG8gYSBDU1MgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGh5cGhlbmF0ZShwcm9wZXJ0eU5hbWUpIHtcbiAgICByZXR1cm4gcHJvcGVydHlOYW1lXG4gICAgICAgIC5yZXBsYWNlKC9bQS1aXS9nLCAobSkgPT4gYC0ke20udG9Mb3dlckNhc2UoKX1gKVxuICAgICAgICAucmVwbGFjZSgvXm1zLS8sIFwiLW1zLVwiKTsgLy8gSW50ZXJuZXQgRXhwbG9yZXIgdmVuZG9yIHByZWZpeC5cbn1cbi8qKlxuICogR2VuZXJhdGUgYSBoYXNoIHZhbHVlIGZyb20gYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ0hhc2goc3RyKSB7XG4gICAgbGV0IHZhbHVlID0gNTM4MTtcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuLS0pXG4gICAgICAgIHZhbHVlID0gKHZhbHVlICogMzMpIF4gc3RyLmNoYXJDb2RlQXQobGVuKTtcbiAgICByZXR1cm4gKHZhbHVlID4+PiAwKS50b1N0cmluZygzNik7XG59XG4vKipcbiAqIFRyYW5zZm9ybSBhIHN0eWxlIHN0cmluZyB0byBhIENTUyBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHN0eWxlVG9TdHJpbmcoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgIUNTU19OVU1CRVJba2V5XSkge1xuICAgICAgICByZXR1cm4gYCR7a2V5fToke3ZhbHVlfXB4YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke2tleX06JHt2YWx1ZX1gO1xufVxuLyoqXG4gKiBTb3J0IGFuIGFycmF5IG9mIHR1cGxlcyBieSBmaXJzdCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc29ydFR1cGxlcyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5zb3J0KChhLCBiKSA9PiAoYVswXSA+IGJbMF0gPyAxIDogLTEpKTtcbn1cbi8qKlxuICogQ2F0ZWdvcml6ZSB1c2VyIHN0eWxlcy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHlsZXMoc3R5bGVzLCBoYXNOZXN0ZWRTdHlsZXMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gW107XG4gICAgY29uc3QgbmVzdGVkU3R5bGVzID0gW107XG4gICAgLy8gU29ydCBrZXlzIGJlZm9yZSBhZGRpbmcgdG8gc3R5bGVzLlxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHN0eWxlcykpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGtleS50cmltKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV07XG4gICAgICAgIGlmIChuYW1lLmNoYXJDb2RlQXQoMCkgIT09IDM2IC8qICQgKi8gJiYgdmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBuZXN0ZWRTdHlsZXMucHVzaChbbmFtZSwgdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChbaHlwaGVuYXRlKG5hbWUpLCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlOiBzdHJpbmdpZnlQcm9wZXJ0aWVzKHNvcnRUdXBsZXMocHJvcGVydGllcykpLFxuICAgICAgICBuZXN0ZWQ6IGhhc05lc3RlZFN0eWxlcyA/IG5lc3RlZFN0eWxlcyA6IHNvcnRUdXBsZXMobmVzdGVkU3R5bGVzKSxcbiAgICAgICAgaXNVbmlxdWU6ICEhc3R5bGVzLiR1bmlxdWVcbiAgICB9O1xufVxuLyoqXG4gKiBTdHJpbmdpZnkgYW4gYXJyYXkgb2YgcHJvcGVydHkgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlQcm9wZXJ0aWVzKHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gcHJvcGVydGllc1xuICAgICAgICAubWFwKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gc3R5bGVUb1N0cmluZyhuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoeCA9PiBzdHlsZVRvU3RyaW5nKG5hbWUsIHgpKS5qb2luKFwiO1wiKTtcbiAgICB9KVxuICAgICAgICAuam9pbihcIjtcIik7XG59XG4vKipcbiAqIEludGVycG9sYXRlIENTUyBzZWxlY3RvcnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRlKHNlbGVjdG9yLCBwYXJlbnQpIHtcbiAgICBpZiAoc2VsZWN0b3IuaW5kZXhPZihcIiZcIikgPT09IC0xKVxuICAgICAgICByZXR1cm4gYCR7cGFyZW50fSAke3NlbGVjdG9yfWA7XG4gICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoLyYvZywgcGFyZW50KTtcbn1cbi8qKlxuICogUmVjdXJzaXZlIGxvb3AgYnVpbGRpbmcgc3R5bGVzIHdpdGggZGVmZXJyZWQgc2VsZWN0b3JzLlxuICovXG5mdW5jdGlvbiBzdHlsaXplKHNlbGVjdG9yLCBzdHlsZXMsIHJ1bGVzTGlzdCwgc3R5bGVzTGlzdCwgcGFyZW50KSB7XG4gICAgY29uc3QgeyBzdHlsZSwgbmVzdGVkLCBpc1VuaXF1ZSB9ID0gcGFyc2VTdHlsZXMoc3R5bGVzLCBzZWxlY3RvciAhPT0gXCJcIik7XG4gICAgbGV0IHBpZCA9IHN0eWxlO1xuICAgIGlmIChzZWxlY3Rvci5jaGFyQ29kZUF0KDApID09PSA2NCAvKiBAICovKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0ge1xuICAgICAgICAgICAgc2VsZWN0b3IsXG4gICAgICAgICAgICBzdHlsZXM6IFtdLFxuICAgICAgICAgICAgcnVsZXM6IFtdLFxuICAgICAgICAgICAgc3R5bGU6IHBhcmVudCA/IFwiXCIgOiBzdHlsZVxuICAgICAgICB9O1xuICAgICAgICBydWxlc0xpc3QucHVzaChjaGlsZCk7XG4gICAgICAgIC8vIE5lc3RlZCBzdHlsZXMgc3VwcG9ydCAoZS5nLiBgLmZvbyA+IEBtZWRpYSA+IC5iYXJgKS5cbiAgICAgICAgaWYgKHN0eWxlICYmIHBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQuc3R5bGVzLnB1c2goeyBzZWxlY3RvcjogcGFyZW50LCBzdHlsZSwgaXNVbmlxdWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIG5lc3RlZCkge1xuICAgICAgICAgICAgcGlkICs9IG5hbWUgKyBzdHlsaXplKG5hbWUsIHZhbHVlLCBjaGlsZC5ydWxlcywgY2hpbGQuc3R5bGVzLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBrZXkgPSBwYXJlbnQgPyBpbnRlcnBvbGF0ZShzZWxlY3RvciwgcGFyZW50KSA6IHNlbGVjdG9yO1xuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgICAgICBzdHlsZXNMaXN0LnB1c2goeyBzZWxlY3Rvcjoga2V5LCBzdHlsZSwgaXNVbmlxdWUgfSk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBuZXN0ZWQpIHtcbiAgICAgICAgICAgIHBpZCArPSBuYW1lICsgc3R5bGl6ZShuYW1lLCB2YWx1ZSwgcnVsZXNMaXN0LCBzdHlsZXNMaXN0LCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwaWQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybSBgc3R5bGl6ZWAgdHJlZSBpbnRvIHN0eWxlIG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2VTdHlsaXplKGNhY2hlLCBwaWQsIHJ1bGVzTGlzdCwgc3R5bGVzTGlzdCwgY2xhc3NOYW1lLCBpc1N0eWxlKSB7XG4gICAgZm9yIChjb25zdCB7IHNlbGVjdG9yLCBzdHlsZSwgaXNVbmlxdWUgfSBvZiBzdHlsZXNMaXN0KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGlzU3R5bGUgPyBpbnRlcnBvbGF0ZShzZWxlY3RvciwgY2xhc3NOYW1lKSA6IHNlbGVjdG9yO1xuICAgICAgICBjb25zdCBpZCA9IGlzVW5pcXVlXG4gICAgICAgICAgICA/IGB1XFwwJHsoKyt1bmlxdWVJZCkudG9TdHJpbmcoMzYpfWBcbiAgICAgICAgICAgIDogYHNcXDAke3BpZH1cXDAke3N0eWxlfWA7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgU3R5bGUoc3R5bGUsIGlkKTtcbiAgICAgICAgaXRlbS5hZGQobmV3IFNlbGVjdG9yKGtleSwgYGtcXDAke3BpZH1cXDAke2tleX1gKSk7XG4gICAgICAgIGNhY2hlLmFkZChpdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB7IHNlbGVjdG9yLCBzdHlsZSwgcnVsZXMsIHN0eWxlcyB9IG9mIHJ1bGVzTGlzdCkge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IFJ1bGUoc2VsZWN0b3IsIHN0eWxlLCBgclxcMCR7cGlkfVxcMCR7c2VsZWN0b3J9XFwwJHtzdHlsZX1gKTtcbiAgICAgICAgY29tcG9zZVN0eWxpemUoaXRlbSwgcGlkLCBydWxlcywgc3R5bGVzLCBjbGFzc05hbWUsIGlzU3R5bGUpO1xuICAgICAgICBjYWNoZS5hZGQoaXRlbSk7XG4gICAgfVxufVxuLyoqXG4gKiBDYWNoZSB0byBsaXN0IHRvIHN0eWxlcy5cbiAqL1xuZnVuY3Rpb24gam9pbihhcnIpIHtcbiAgICBsZXQgcmVzID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKylcbiAgICAgICAgcmVzICs9IGFycltpXTtcbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBOb29wIGNoYW5nZXMuXG4gKi9cbmNvbnN0IG5vb3BDaGFuZ2VzID0ge1xuICAgIGFkZDogKCkgPT4gdW5kZWZpbmVkLFxuICAgIGNoYW5nZTogKCkgPT4gdW5kZWZpbmVkLFxuICAgIHJlbW92ZTogKCkgPT4gdW5kZWZpbmVkXG59O1xuLyoqXG4gKiBJbXBsZW1lbnQgYSBjYWNoZS9ldmVudCBlbWl0dGVyLlxuICovXG5leHBvcnQgY2xhc3MgQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5nZXMgPSBub29wQ2hhbmdlcykge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgICB0aGlzLnNoZWV0ID0gW107XG4gICAgICAgIHRoaXMuY2hhbmdlSWQgPSAwO1xuICAgICAgICB0aGlzLl9rZXlzID0gW107XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fY291bnRlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgICBhZGQoc3R5bGUpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9jb3VudGVyc1tzdHlsZS5pZF0gfHwgMDtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NoaWxkcmVuW3N0eWxlLmlkXSB8fCBzdHlsZS5jbG9uZSgpO1xuICAgICAgICB0aGlzLl9jb3VudGVyc1tzdHlsZS5pZF0gPSBjb3VudCArIDE7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baXRlbS5pZF0gPSBpdGVtO1xuICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICAgICAgdGhpcy5zaGVldC5wdXNoKGl0ZW0uZ2V0U3R5bGVzKCkpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VJZCsrO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VzLmFkZChpdGVtLCB0aGlzLl9rZXlzLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDYWNoZSAmJiBzdHlsZSBpbnN0YW5jZW9mIENhY2hlKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZihzdHlsZS5pZCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2SXRlbUNoYW5nZUlkID0gaXRlbS5jaGFuZ2VJZDtcbiAgICAgICAgICAgIGl0ZW0ubWVyZ2Uoc3R5bGUpO1xuICAgICAgICAgICAgaWYgKGl0ZW0uY2hhbmdlSWQgIT09IHByZXZJdGVtQ2hhbmdlSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoZWV0LnNwbGljZShjdXJJbmRleCwgMSwgaXRlbS5nZXRTdHlsZXMoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VJZCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlcy5jaGFuZ2UoaXRlbSwgY3VySW5kZXgsIGN1ckluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmUoc3R5bGUpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9jb3VudGVyc1tzdHlsZS5pZF07XG4gICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgdGhpcy5fY291bnRlcnNbc3R5bGUuaWRdID0gY291bnQgLSAxO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NoaWxkcmVuW3N0eWxlLmlkXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fa2V5cy5pbmRleE9mKGl0ZW0uaWQpO1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NvdW50ZXJzW3N0eWxlLmlkXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2hpbGRyZW5bc3R5bGUuaWRdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2tleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoZWV0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VJZCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlcy5yZW1vdmUoaXRlbSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIENhY2hlICYmIHN0eWxlIGluc3RhbmNlb2YgQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q2hhbmdlSWQgPSBpdGVtLmNoYW5nZUlkO1xuICAgICAgICAgICAgICAgIGl0ZW0udW5tZXJnZShzdHlsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2hhbmdlSWQgIT09IHByZXZDaGFuZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoZWV0LnNwbGljZShpbmRleCwgMSwgaXRlbS5nZXRTdHlsZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlSWQrKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VzLmNoYW5nZShpdGVtLCBpbmRleCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlzLm1hcChrZXkgPT4gdGhpcy5fY2hpbGRyZW5ba2V5XSk7XG4gICAgfVxuICAgIG1lcmdlKGNhY2hlKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjYWNoZS52YWx1ZXMoKSlcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdW5tZXJnZShjYWNoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgY2FjaGUudmFsdWVzKCkpXG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IENhY2hlKCkubWVyZ2UodGhpcyk7XG4gICAgfVxufVxuLyoqXG4gKiBTZWxlY3RvciBpcyBhIGR1bWIgY2xhc3MgbWFkZSB0byByZXByZXNlbnQgbmVzdGVkIENTUyBzZWxlY3RvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGlkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICBnZXRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdG9yO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgc3R5bGUgY29udGFpbmVyIHJlZ2lzdGVycyBhIHN0eWxlIHN0cmluZyB3aXRoIHNlbGVjdG9ycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0eWxlIGV4dGVuZHMgQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKHN0eWxlLCBpZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgZ2V0U3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5zaGVldC5qb2luKFwiLFwiKX17JHt0aGlzLnN0eWxlfX1gO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHlsZSh0aGlzLnN0eWxlLCB0aGlzLmlkKS5tZXJnZSh0aGlzKTtcbiAgICB9XG59XG4vKipcbiAqIEltcGxlbWVudCBydWxlIGxvZ2ljIGZvciBzdHlsZSBvdXRwdXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdWxlIGV4dGVuZHMgQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKHJ1bGUsIHN0eWxlLCBpZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJ1bGUgPSBydWxlO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgZ2V0U3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ydWxlfXske3RoaXMuc3R5bGV9JHtqb2luKHRoaXMuc2hlZXQpfX1gO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdWxlKHRoaXMucnVsZSwgdGhpcy5zdHlsZSwgdGhpcy5pZCkubWVyZ2UodGhpcyk7XG4gICAgfVxufVxuZnVuY3Rpb24ga2V5KHBpZCwgc3R5bGVzKSB7XG4gICAgY29uc3Qga2V5ID0gYGYke3N0cmluZ0hhc2gocGlkKX1gO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgfHwgIXN0eWxlcy4kZGlzcGxheU5hbWUpXG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgcmV0dXJuIGAke3N0eWxlcy4kZGlzcGxheU5hbWV9XyR7a2V5fWA7XG59XG4vKipcbiAqIFRoZSBGcmVlU3R5bGUgY2xhc3MgaW1wbGVtZW50cyB0aGUgQVBJIGZvciBldmVyeXRoaW5nIGVsc2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBGcmVlU3R5bGUgZXh0ZW5kcyBDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoaWQsIGNoYW5nZXMpIHtcbiAgICAgICAgc3VwZXIoY2hhbmdlcyk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgcmVnaXN0ZXJTdHlsZShzdHlsZXMpIHtcbiAgICAgICAgY29uc3QgcnVsZXNMaXN0ID0gW107XG4gICAgICAgIGNvbnN0IHN0eWxlc0xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgcGlkID0gc3R5bGl6ZShcIiZcIiwgc3R5bGVzLCBydWxlc0xpc3QsIHN0eWxlc0xpc3QpO1xuICAgICAgICBjb25zdCBpZCA9IGtleShwaWQsIHN0eWxlcyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gYC4ke3Byb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGlkIDogZXNjYXBlKGlkKX1gO1xuICAgICAgICBjb21wb3NlU3R5bGl6ZSh0aGlzLCBwaWQsIHJ1bGVzTGlzdCwgc3R5bGVzTGlzdCwgc2VsZWN0b3IsIHRydWUpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIHJlZ2lzdGVyS2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3Rlckhhc2hSdWxlKFwiQGtleWZyYW1lc1wiLCBrZXlmcmFtZXMpO1xuICAgIH1cbiAgICByZWdpc3Rlckhhc2hSdWxlKHByZWZpeCwgc3R5bGVzKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVzTGlzdCA9IFtdO1xuICAgICAgICBjb25zdCBzdHlsZXNMaXN0ID0gW107XG4gICAgICAgIGNvbnN0IHBpZCA9IHN0eWxpemUoXCJcIiwgc3R5bGVzLCBydWxlc0xpc3QsIHN0eWxlc0xpc3QpO1xuICAgICAgICBjb25zdCBpZCA9IGtleShwaWQsIHN0eWxlcyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gYCR7cHJlZml4fSAke3Byb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGlkIDogZXNjYXBlKGlkKX1gO1xuICAgICAgICBjb25zdCBydWxlID0gbmV3IFJ1bGUoc2VsZWN0b3IsIFwiXCIsIGBoXFwwJHtwaWR9XFwwJHtwcmVmaXh9YCk7XG4gICAgICAgIGNvbXBvc2VTdHlsaXplKHJ1bGUsIHBpZCwgcnVsZXNMaXN0LCBzdHlsZXNMaXN0LCBcIlwiLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYWRkKHJ1bGUpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIHJlZ2lzdGVyUnVsZShydWxlLCBzdHlsZXMpIHtcbiAgICAgICAgY29uc3QgcnVsZXNMaXN0ID0gW107XG4gICAgICAgIGNvbnN0IHN0eWxlc0xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgcGlkID0gc3R5bGl6ZShydWxlLCBzdHlsZXMsIHJ1bGVzTGlzdCwgc3R5bGVzTGlzdCk7XG4gICAgICAgIGNvbXBvc2VTdHlsaXplKHRoaXMsIHBpZCwgcnVsZXNMaXN0LCBzdHlsZXNMaXN0LCBcIlwiLCBmYWxzZSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyQ3NzKHN0eWxlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJ1bGUoXCJcIiwgc3R5bGVzKTtcbiAgICB9XG4gICAgZ2V0U3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gam9pbih0aGlzLnNoZWV0KTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJlZVN0eWxlKHRoaXMuaWQsIHRoaXMuY2hhbmdlcykubWVyZ2UodGhpcyk7XG4gICAgfVxufVxuLyoqXG4gKiBFeHBvcnRzIGEgc2ltcGxlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShjaGFuZ2VzKSB7XG4gICAgcmV0dXJuIG5ldyBGcmVlU3R5bGUoYGYkeygrK3VuaXF1ZUlkKS50b1N0cmluZygzNil9YCwgY2hhbmdlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/free-style/dist.es2015/index.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/common.js":
/*!**********************************************!*\
  !*** ./node_modules/gl-matrix/esm/common.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARRAY_TYPE: () => (/* binding */ ARRAY_TYPE),\n/* harmony export */   EPSILON: () => (/* binding */ EPSILON),\n/* harmony export */   RANDOM: () => (/* binding */ RANDOM),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   setMatrixArrayType: () => (/* binding */ setMatrixArrayType),\n/* harmony export */   toRadian: () => (/* binding */ toRadian)\n/* harmony export */ });\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNENBQTRDO0FBQ3ZEOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0Qjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL2NvbW1vbi5qcz9jOTRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tbW9uIHV0aWxpdGllc1xuICogQG1vZHVsZSBnbE1hdHJpeFxuICovXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5O1xuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbi8qKlxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHkgPSAwLFxuICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydCh5KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/common.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/index.js":
/*!*********************************************!*\
  !*** ./node_modules/gl-matrix/esm/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   glMatrix: () => (/* reexport module object */ _common_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   mat2: () => (/* reexport module object */ _mat2_js__WEBPACK_IMPORTED_MODULE_1__),\n/* harmony export */   mat2d: () => (/* reexport module object */ _mat2d_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   mat3: () => (/* reexport module object */ _mat3_js__WEBPACK_IMPORTED_MODULE_3__),\n/* harmony export */   mat4: () => (/* reexport module object */ _mat4_js__WEBPACK_IMPORTED_MODULE_4__),\n/* harmony export */   quat: () => (/* reexport module object */ _quat_js__WEBPACK_IMPORTED_MODULE_5__),\n/* harmony export */   quat2: () => (/* reexport module object */ _quat2_js__WEBPACK_IMPORTED_MODULE_6__),\n/* harmony export */   vec2: () => (/* reexport module object */ _vec2_js__WEBPACK_IMPORTED_MODULE_7__),\n/* harmony export */   vec3: () => (/* reexport module object */ _vec3_js__WEBPACK_IMPORTED_MODULE_8__),\n/* harmony export */   vec4: () => (/* reexport module object */ _vec4_js__WEBPACK_IMPORTED_MODULE_9__)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n/* harmony import */ var _mat2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat2.js */ \"./node_modules/gl-matrix/esm/mat2.js\");\n/* harmony import */ var _mat2d_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat2d.js */ \"./node_modules/gl-matrix/esm/mat2d.js\");\n/* harmony import */ var _mat3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mat3.js */ \"./node_modules/gl-matrix/esm/mat3.js\");\n/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mat4.js */ \"./node_modules/gl-matrix/esm/mat4.js\");\n/* harmony import */ var _quat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./quat.js */ \"./node_modules/gl-matrix/esm/quat.js\");\n/* harmony import */ var _quat2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./quat2.js */ \"./node_modules/gl-matrix/esm/quat2.js\");\n/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./vec2.js */ \"./node_modules/gl-matrix/esm/vec2.js\");\n/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./vec3.js */ \"./node_modules/gl-matrix/esm/vec3.js\");\n/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./vec4.js */ \"./node_modules/gl-matrix/esm/vec4.js\");\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNOO0FBQ0U7QUFDRjtBQUNBO0FBQ0E7QUFDRTtBQUNGO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vaW5kZXguanM/MjBlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIG1hdDIgZnJvbSBcIi4vbWF0Mi5qc1wiO1xuaW1wb3J0ICogYXMgbWF0MmQgZnJvbSBcIi4vbWF0MmQuanNcIjtcbmltcG9ydCAqIGFzIG1hdDMgZnJvbSBcIi4vbWF0My5qc1wiO1xuaW1wb3J0ICogYXMgbWF0NCBmcm9tIFwiLi9tYXQ0LmpzXCI7XG5pbXBvcnQgKiBhcyBxdWF0IGZyb20gXCIuL3F1YXQuanNcIjtcbmltcG9ydCAqIGFzIHF1YXQyIGZyb20gXCIuL3F1YXQyLmpzXCI7XG5pbXBvcnQgKiBhcyB2ZWMyIGZyb20gXCIuL3ZlYzIuanNcIjtcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSBcIi4vdmVjMy5qc1wiO1xuaW1wb3J0ICogYXMgdmVjNCBmcm9tIFwiLi92ZWM0LmpzXCI7XG5leHBvcnQgeyBnbE1hdHJpeCwgbWF0MiwgbWF0MmQsIG1hdDMsIG1hdDQsIHF1YXQsIHF1YXQyLCB2ZWMyLCB2ZWMzLCB2ZWM0IH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/index.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/mat2.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/mat2.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LDU: () => (/* binding */ LDU),\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   adjoint: () => (/* binding */ adjoint),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   determinant: () => (/* binding */ determinant),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   frob: () => (/* binding */ frob),\n/* harmony export */   fromRotation: () => (/* binding */ fromRotation),\n/* harmony export */   fromScaling: () => (/* binding */ fromScaling),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   multiplyScalar: () => (/* binding */ multiplyScalar),\n/* harmony export */   multiplyScalarAndAdd: () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   transpose: () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\nfunction fromValues(m00, m01, m10, m11) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\nfunction set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\nfunction LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nvar sub = subtract;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ3RCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0I7QUFDN1M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTztBQUNQO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDIuanM/ZWEyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMngyIE1hdHJpeFxuICogQG1vZHVsZSBtYXQyXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDJcbiAqXG4gKiBAcmV0dXJucyB7bWF0Mn0gYSBuZXcgMngyIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDIgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQyfSBhIG5ldyAyeDIgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MiB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIG1hdDIgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0MiB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0IEEgbmV3IDJ4MiBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTEwLCBtMTEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTEwO1xuICBvdXRbM10gPSBtMTE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDIgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMTAsIG0xMSkge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTEwO1xuICBvdXRbM10gPSBtMTE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGVcbiAgLy8gc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMSA9IGFbMV07XG4gICAgb3V0WzFdID0gYVsyXTtcbiAgICBvdXRbMl0gPSBhMTtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMl07XG4gICAgb3V0WzJdID0gYVsxXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGEwICogYTMgLSBhMiAqIGExO1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IGEzICogZGV0O1xuICBvdXRbMV0gPSAtYTEgKiBkZXQ7XG4gIG91dFsyXSA9IC1hMiAqIGRldDtcbiAgb3V0WzNdID0gYTAgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICAvLyBDYWNoaW5nIHRoaXMgdmFsdWUgaXMgbmVzc2VjYXJ5IGlmIG91dCA9PSBhXG4gIHZhciBhMCA9IGFbMF07XG4gIG91dFswXSA9IGFbM107XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gYTA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgcmV0dXJuIGFbMF0gKiBhWzNdIC0gYVsyXSAqIGFbMV07XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDInc1xuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBhMCAqIGIwICsgYTIgKiBiMTtcbiAgb3V0WzFdID0gYTEgKiBiMCArIGEzICogYjE7XG4gIG91dFsyXSA9IGEwICogYjIgKyBhMiAqIGIzO1xuICBvdXRbM10gPSBhMSAqIGIyICsgYTMgKiBiMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDIgYnkgdGhlIGdpdmVuIGFuZ2xlXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGEwICogYyArIGEyICogcztcbiAgb3V0WzFdID0gYTEgKiBjICsgYTMgKiBzO1xuICBvdXRbMl0gPSBhMCAqIC1zICsgYTIgKiBjO1xuICBvdXRbM10gPSBhMSAqIC1zICsgYTMgKiBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgdGhlIG1hdDIgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IHRoZSB2ZWMyIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgdjAgPSB2WzBdLFxuICAgICAgdjEgPSB2WzFdO1xuICBvdXRbMF0gPSBhMCAqIHYwO1xuICBvdXRbMV0gPSBhMSAqIHYwO1xuICBvdXRbMl0gPSBhMiAqIHYxO1xuICBvdXRbM10gPSBhMyAqIHYxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDIuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0Mi5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCBtYXQyIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDIuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0Mi5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IG1hdDIgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSB2WzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdKTtcbn1cbi8qKlxuICogUmV0dXJucyBMLCBEIGFuZCBVIG1hdHJpY2VzIChMb3dlciB0cmlhbmd1bGFyLCBEaWFnb25hbCBhbmQgVXBwZXIgdHJpYW5ndWxhcikgYnkgZmFjdG9yaXppbmcgdGhlIGlucHV0IG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IEwgdGhlIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gRCB0aGUgZGlhZ29uYWwgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gVSB0aGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBpbnB1dCBtYXRyaXggdG8gZmFjdG9yaXplXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIExEVShMLCBELCBVLCBhKSB7XG4gIExbMl0gPSBhWzJdIC8gYVswXTtcbiAgVVswXSA9IGFbMF07XG4gIFVbMV0gPSBhWzFdO1xuICBVWzNdID0gYVszXSAtIExbMl0gKiBVWzFdO1xuICByZXR1cm4gW0wsIEQsIFVdO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQyJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKTtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQyJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDIubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDIuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/mat2.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/mat2d.js":
/*!*********************************************!*\
  !*** ./node_modules/gl-matrix/esm/mat2d.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   determinant: () => (/* binding */ determinant),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   frob: () => (/* binding */ frob),\n/* harmony export */   fromRotation: () => (/* binding */ fromRotation),\n/* harmony export */   fromScaling: () => (/* binding */ fromScaling),\n/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   multiplyScalar: () => (/* binding */ multiplyScalar),\n/* harmony export */   multiplyScalarAndAdd: () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   translate: () => (/* binding */ translate)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(6);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\nfunction fromValues(a, b, c, d, tx, ty) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\nfunction set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nfunction invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\nfunction translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nvar sub = subtract;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVcsZUFBZTtBQUMxQixXQUFXLGVBQWU7QUFDMUIsYUFBYSxPQUFPO0FBQ3BCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGVBQWU7QUFDMUIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxlQUFlO0FBQzFCLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLGVBQWU7QUFDMUIsYUFBYSxTQUFTO0FBQ3RCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLGVBQWU7QUFDMUIsYUFBYSxTQUFTO0FBQ3RCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0I7QUFDdmQ7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVPO0FBQ1A7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0MmQuanM/NzUxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMngzIE1hdHJpeFxuICogQG1vZHVsZSBtYXQyZFxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hdDJkIGNvbnRhaW5zIHNpeCBlbGVtZW50cyBkZWZpbmVkIGFzOlxuICogPHByZT5cbiAqIFthLCBiLFxuICogIGMsIGQsXG4gKiAgdHgsIHR5XVxuICogPC9wcmU+XG4gKiBUaGlzIGlzIGEgc2hvcnQgZm9ybSBmb3IgdGhlIDN4MyBtYXRyaXg6XG4gKiA8cHJlPlxuICogW2EsIGIsIDAsXG4gKiAgYywgZCwgMCxcbiAqICB0eCwgdHksIDFdXG4gKiA8L3ByZT5cbiAqIFRoZSBsYXN0IGNvbHVtbiBpcyBpZ25vcmVkIHNvIHRoZSBhcnJheSBpcyBzaG9ydGVyIGFuZCBvcGVyYXRpb25zIGFyZSBmYXN0ZXIuXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDJkXG4gKlxuICogQHJldHVybnMge21hdDJkfSBhIG5ldyAyeDMgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs1XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDJkIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDJkfSBhIG5ldyAyeDMgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MmQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0MmR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0MmR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQyZCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQyZH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0MmR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDJkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIENvbXBvbmVudCBBIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgQ29tcG9uZW50IEIgKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gYyBDb21wb25lbnQgQyAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBkIENvbXBvbmVudCBEIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IHR4IENvbXBvbmVudCBUWCAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eSBDb21wb25lbnQgVFkgKGluZGV4IDUpXG4gKiBAcmV0dXJucyB7bWF0MmR9IEEgbmV3IG1hdDJkXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg2KTtcbiAgb3V0WzBdID0gYTtcbiAgb3V0WzFdID0gYjtcbiAgb3V0WzJdID0gYztcbiAgb3V0WzNdID0gZDtcbiAgb3V0WzRdID0gdHg7XG4gIG91dFs1XSA9IHR5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQyZCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQyZH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gYSBDb21wb25lbnQgQSAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIENvbXBvbmVudCBCIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IGMgQ29tcG9uZW50IEMgKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gZCBDb21wb25lbnQgRCAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eCBDb21wb25lbnQgVFggKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gdHkgQ29tcG9uZW50IFRZIChpbmRleCA1KVxuICogQHJldHVybnMge21hdDJkfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gIG91dFswXSA9IGE7XG4gIG91dFsxXSA9IGI7XG4gIG91dFsyXSA9IGM7XG4gIG91dFszXSA9IGQ7XG4gIG91dFs0XSA9IHR4O1xuICBvdXRbNV0gPSB0eTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDJkXG4gKlxuICogQHBhcmFtIHttYXQyZH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGFhID0gYVswXSxcbiAgICAgIGFiID0gYVsxXSxcbiAgICAgIGFjID0gYVsyXSxcbiAgICAgIGFkID0gYVszXTtcbiAgdmFyIGF0eCA9IGFbNF0sXG4gICAgICBhdHkgPSBhWzVdO1xuICB2YXIgZGV0ID0gYWEgKiBhZCAtIGFiICogYWM7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gYWQgKiBkZXQ7XG4gIG91dFsxXSA9IC1hYiAqIGRldDtcbiAgb3V0WzJdID0gLWFjICogZGV0O1xuICBvdXRbM10gPSBhYSAqIGRldDtcbiAgb3V0WzRdID0gKGFjICogYXR5IC0gYWQgKiBhdHgpICogZGV0O1xuICBvdXRbNV0gPSAoYWIgKiBhdHggLSBhYSAqIGF0eSkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0MmRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICByZXR1cm4gYVswXSAqIGFbM10gLSBhWzFdICogYVsyXTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MmQnc1xuICpcbiAqIEBwYXJhbSB7bWF0MmR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0MmR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXSxcbiAgICAgIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXSxcbiAgICAgIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XTtcbiAgb3V0WzBdID0gYTAgKiBiMCArIGEyICogYjE7XG4gIG91dFsxXSA9IGExICogYjAgKyBhMyAqIGIxO1xuICBvdXRbMl0gPSBhMCAqIGIyICsgYTIgKiBiMztcbiAgb3V0WzNdID0gYTEgKiBiMiArIGEzICogYjM7XG4gIG91dFs0XSA9IGEwICogYjQgKyBhMiAqIGI1ICsgYTQ7XG4gIG91dFs1XSA9IGExICogYjQgKyBhMyAqIGI1ICsgYTU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQyZCBieSB0aGUgZ2l2ZW4gYW5nbGVcbiAqXG4gKiBAcGFyYW0ge21hdDJkfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdLFxuICAgICAgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdO1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYTAgKiBjICsgYTIgKiBzO1xuICBvdXRbMV0gPSBhMSAqIGMgKyBhMyAqIHM7XG4gIG91dFsyXSA9IGEwICogLXMgKyBhMiAqIGM7XG4gIG91dFszXSA9IGExICogLXMgKyBhMyAqIGM7XG4gIG91dFs0XSA9IGE0O1xuICBvdXRbNV0gPSBhNTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQyZCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMlxuICpcbiAqIEBwYXJhbSB7bWF0MmR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0MmR9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM10sXG4gICAgICBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV07XG4gIHZhciB2MCA9IHZbMF0sXG4gICAgICB2MSA9IHZbMV07XG4gIG91dFswXSA9IGEwICogdjA7XG4gIG91dFsxXSA9IGExICogdjA7XG4gIG91dFsyXSA9IGEyICogdjE7XG4gIG91dFszXSA9IGEzICogdjE7XG4gIG91dFs0XSA9IGE0O1xuICBvdXRbNV0gPSBhNTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyB0aGUgbWF0MmQgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcbiAqXG4gKiBAcGFyYW0ge21hdDJkfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gdHJhbnNsYXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM10sXG4gICAgICBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV07XG4gIHZhciB2MCA9IHZbMF0sXG4gICAgICB2MSA9IHZbMV07XG4gIG91dFswXSA9IGEwO1xuICBvdXRbMV0gPSBhMTtcbiAgb3V0WzJdID0gYTI7XG4gIG91dFszXSA9IGEzO1xuICBvdXRbNF0gPSBhMCAqIHYwICsgYTIgKiB2MSArIGE0O1xuICBvdXRbNV0gPSBhMSAqIHYwICsgYTMgKiB2MSArIGE1O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDJkLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDJkLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0MmR9IG91dCBtYXQyZCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCksXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IGM7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0MmQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0MmQuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDJkfSBvdXQgbWF0MmQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0MmR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gdlsxXTtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0MmQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0MmQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQyZH0gb3V0IG1hdDJkIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgb3V0WzRdID0gdlswXTtcbiAgb3V0WzVdID0gdlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDJkXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDJkKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQyZFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIDEpO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQyZCdzXG4gKlxuICogQHBhcmFtIHttYXQyZH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDJkfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJkfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0MmR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQyZH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQyZCdzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQyZH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0MmR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXSxcbiAgICAgIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXSxcbiAgICAgIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDJkLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyZC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/mat2d.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/mat3.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/mat3.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   adjoint: () => (/* binding */ adjoint),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   determinant: () => (/* binding */ determinant),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   frob: () => (/* binding */ frob),\n/* harmony export */   fromMat2d: () => (/* binding */ fromMat2d),\n/* harmony export */   fromMat4: () => (/* binding */ fromMat4),\n/* harmony export */   fromQuat: () => (/* binding */ fromQuat),\n/* harmony export */   fromRotation: () => (/* binding */ fromRotation),\n/* harmony export */   fromScaling: () => (/* binding */ fromScaling),\n/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   multiplyScalar: () => (/* binding */ multiplyScalar),\n/* harmony export */   multiplyScalarAndAdd: () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   normalFromMat4: () => (/* binding */ normalFromMat4),\n/* harmony export */   projection: () => (/* binding */ projection),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   translate: () => (/* binding */ translate),\n/* harmony export */   transpose: () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(9);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nvar sub = subtract;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCO0FBQ3R0QjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU87QUFDUDtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQzLmpzPzFmMDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDN4MyBNYXRyaXhcbiAqIEBtb2R1bGUgbWF0M1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQzXG4gKlxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzVdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDQob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbNF07XG4gIG91dFs0XSA9IGFbNV07XG4gIG91dFs1XSA9IGFbNl07XG4gIG91dFs2XSA9IGFbOF07XG4gIG91dFs3XSA9IGFbOV07XG4gIG91dFs4XSA9IGFbMTBdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQzIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBBIG5ldyBtYXQzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0xMDtcbiAgb3V0WzRdID0gbTExO1xuICBvdXRbNV0gPSBtMTI7XG4gIG91dFs2XSA9IG0yMDtcbiAgb3V0WzddID0gbTIxO1xuICBvdXRbOF0gPSBtMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0MyB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMTIgPSBhWzVdO1xuICAgIG91dFsxXSA9IGFbM107XG4gICAgb3V0WzJdID0gYVs2XTtcbiAgICBvdXRbM10gPSBhMDE7XG4gICAgb3V0WzVdID0gYVs3XTtcbiAgICBvdXRbNl0gPSBhMDI7XG4gICAgb3V0WzddID0gYTEyO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGFbMV07XG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGFbMl07XG4gICAgb3V0WzddID0gYVs1XTtcbiAgICBvdXRbOF0gPSBhWzhdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICB2YXIgYjAxID0gYTIyICogYTExIC0gYTEyICogYTIxO1xuICB2YXIgYjExID0gLWEyMiAqIGExMCArIGExMiAqIGEyMDtcbiAgdmFyIGIyMSA9IGEyMSAqIGExMCAtIGExMSAqIGEyMDsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBhMDAgKiBiMDEgKyBhMDEgKiBiMTEgKyBhMDIgKiBiMjE7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gYjAxICogZGV0O1xuICBvdXRbMV0gPSAoLWEyMiAqIGEwMSArIGEwMiAqIGEyMSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMTIgKiBhMDEgLSBhMDIgKiBhMTEpICogZGV0O1xuICBvdXRbM10gPSBiMTEgKiBkZXQ7XG4gIG91dFs0XSA9IChhMjIgKiBhMDAgLSBhMDIgKiBhMjApICogZGV0O1xuICBvdXRbNV0gPSAoLWExMiAqIGEwMCArIGEwMiAqIGExMCkgKiBkZXQ7XG4gIG91dFs2XSA9IGIyMSAqIGRldDtcbiAgb3V0WzddID0gKC1hMjEgKiBhMDAgKyBhMDEgKiBhMjApICogZGV0O1xuICBvdXRbOF0gPSAoYTExICogYTAwIC0gYTAxICogYTEwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcbiAgb3V0WzFdID0gYTAyICogYTIxIC0gYTAxICogYTIyO1xuICBvdXRbMl0gPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcbiAgb3V0WzRdID0gYTAwICogYTIyIC0gYTAyICogYTIwO1xuICBvdXRbNV0gPSBhMDIgKiBhMTAgLSBhMDAgKiBhMTI7XG4gIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcbiAgb3V0WzddID0gYTAxICogYTIwIC0gYTAwICogYTIxO1xuICBvdXRbOF0gPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgcmV0dXJuIGEwMCAqIChhMjIgKiBhMTEgLSBhMTIgKiBhMjEpICsgYTAxICogKC1hMjIgKiBhMTAgKyBhMTIgKiBhMjApICsgYTAyICogKGEyMSAqIGExMCAtIGExMSAqIGEyMCk7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICB2YXIgYjAwID0gYlswXSxcbiAgICAgIGIwMSA9IGJbMV0sXG4gICAgICBiMDIgPSBiWzJdO1xuICB2YXIgYjEwID0gYlszXSxcbiAgICAgIGIxMSA9IGJbNF0sXG4gICAgICBiMTIgPSBiWzVdO1xuICB2YXIgYjIwID0gYls2XSxcbiAgICAgIGIyMSA9IGJbN10sXG4gICAgICBiMjIgPSBiWzhdO1xuICBvdXRbMF0gPSBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjA7XG4gIG91dFsxXSA9IGIwMCAqIGEwMSArIGIwMSAqIGExMSArIGIwMiAqIGEyMTtcbiAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xuICBvdXRbM10gPSBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjA7XG4gIG91dFs0XSA9IGIxMCAqIGEwMSArIGIxMSAqIGExMSArIGIxMiAqIGEyMTtcbiAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xuICBvdXRbNl0gPSBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjA7XG4gIG91dFs3XSA9IGIyMCAqIGEwMSArIGIyMSAqIGExMSArIGIyMiAqIGEyMTtcbiAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQzIGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXTtcbiAgb3V0WzBdID0gYTAwO1xuICBvdXRbMV0gPSBhMDE7XG4gIG91dFsyXSA9IGEwMjtcbiAgb3V0WzNdID0gYTEwO1xuICBvdXRbNF0gPSBhMTE7XG4gIG91dFs1XSA9IGExMjtcbiAgb3V0WzZdID0geCAqIGEwMCArIHkgKiBhMTAgKyBhMjA7XG4gIG91dFs3XSA9IHggKiBhMDEgKyB5ICogYTExICsgYTIxO1xuICBvdXRbOF0gPSB4ICogYTAyICsgeSAqIGExMiArIGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDMgYnkgdGhlIGdpdmVuIGFuZ2xlXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XSxcbiAgICAgIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XSxcbiAgICAgIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGMgKiBhMDAgKyBzICogYTEwO1xuICBvdXRbMV0gPSBjICogYTAxICsgcyAqIGExMTtcbiAgb3V0WzJdID0gYyAqIGEwMiArIHMgKiBhMTI7XG4gIG91dFszXSA9IGMgKiBhMTAgLSBzICogYTAwO1xuICBvdXRbNF0gPSBjICogYTExIC0gcyAqIGEwMTtcbiAgb3V0WzVdID0gYyAqIGExMiAtIHMgKiBhMDI7XG4gIG91dFs2XSA9IGEyMDtcbiAgb3V0WzddID0gYTIxO1xuICBvdXRbOF0gPSBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0MyBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdO1xuICBvdXRbMF0gPSB4ICogYVswXTtcbiAgb3V0WzFdID0geCAqIGFbMV07XG4gIG91dFsyXSA9IHggKiBhWzJdO1xuICBvdXRbM10gPSB5ICogYVszXTtcbiAgb3V0WzRdID0geSAqIGFbNF07XG4gIG91dFs1XSA9IHkgKiBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gdlswXTtcbiAgb3V0WzddID0gdlsxXTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMucm90YXRlKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAtcztcbiAgb3V0WzRdID0gYztcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gdlsxXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQyZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gYVsyXTtcbiAgb3V0WzRdID0gYVszXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gYVs0XTtcbiAgb3V0WzddID0gYVs1XTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDN4MyBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzNdID0geXggLSB3ejtcbiAgb3V0WzZdID0genggKyB3eTtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gIG91dFs3XSA9IHp5IC0gd3g7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFs1XSA9IHp5ICsgd3g7XG4gIG91dFs4XSA9IDEgLSB4eCAtIHl5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG5vcm1hbCBtYXRyaXggKHRyYW5zcG9zZSBpbnZlcnNlKSBmcm9tIHRoZSA0eDQgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgTWF0NCB0byBkZXJpdmUgdGhlIG5vcm1hbCBtYXRyaXggZnJvbVxuICpcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsRnJvbU1hdDQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFsyXSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbM10gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzRdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbNl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzddID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSAyRCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgeW91ciBnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiBnbCBjb250ZXh0XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3Rpb24ob3V0LCB3aWR0aCwgaGVpZ2h0KSB7XG4gIG91dFswXSA9IDIgLyB3aWR0aDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLTIgLyBoZWlnaHQ7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IC0xO1xuICBvdXRbN10gPSAxO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXSxcbiAgICAgIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XSxcbiAgICAgIGE4ID0gYVs4XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXSxcbiAgICAgIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XSxcbiAgICAgIGI4ID0gYls4XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/mat3.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/mat4.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/mat4.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   adjoint: () => (/* binding */ adjoint),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   determinant: () => (/* binding */ determinant),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   frob: () => (/* binding */ frob),\n/* harmony export */   fromQuat: () => (/* binding */ fromQuat),\n/* harmony export */   fromQuat2: () => (/* binding */ fromQuat2),\n/* harmony export */   fromRotation: () => (/* binding */ fromRotation),\n/* harmony export */   fromRotationTranslation: () => (/* binding */ fromRotationTranslation),\n/* harmony export */   fromRotationTranslationScale: () => (/* binding */ fromRotationTranslationScale),\n/* harmony export */   fromRotationTranslationScaleOrigin: () => (/* binding */ fromRotationTranslationScaleOrigin),\n/* harmony export */   fromScaling: () => (/* binding */ fromScaling),\n/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   fromXRotation: () => (/* binding */ fromXRotation),\n/* harmony export */   fromYRotation: () => (/* binding */ fromYRotation),\n/* harmony export */   fromZRotation: () => (/* binding */ fromZRotation),\n/* harmony export */   frustum: () => (/* binding */ frustum),\n/* harmony export */   getRotation: () => (/* binding */ getRotation),\n/* harmony export */   getScaling: () => (/* binding */ getScaling),\n/* harmony export */   getTranslation: () => (/* binding */ getTranslation),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   lookAt: () => (/* binding */ lookAt),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   multiplyScalar: () => (/* binding */ multiplyScalar),\n/* harmony export */   multiplyScalarAndAdd: () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   ortho: () => (/* binding */ ortho),\n/* harmony export */   orthoNO: () => (/* binding */ orthoNO),\n/* harmony export */   orthoZO: () => (/* binding */ orthoZO),\n/* harmony export */   perspective: () => (/* binding */ perspective),\n/* harmony export */   perspectiveFromFieldOfView: () => (/* binding */ perspectiveFromFieldOfView),\n/* harmony export */   perspectiveNO: () => (/* binding */ perspectiveNO),\n/* harmony export */   perspectiveZO: () => (/* binding */ perspectiveZO),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   targetTo: () => (/* binding */ targetTo),\n/* harmony export */   translate: () => (/* binding */ translate),\n/* harmony export */   transpose: () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nvar perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nvar ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyey - centery) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyez - centerz) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nvar sub = subtract;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IsdUVBQXVFLCtDQUFnQix5RUFBeUUsK0NBQWdCLHlFQUF5RSwrQ0FBZ0IseUVBQXlFLCtDQUFnQix5RUFBeUUsK0NBQWdCLHlFQUF5RSwrQ0FBZ0I7QUFDL3pDO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTztBQUNQO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanM/NjVhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNHg0IE1hdHJpeDxicj5Gb3JtYXQ6IGNvbHVtbi1tYWpvciwgd2hlbiB0eXBlZCBvdXQgaXQgbG9va3MgbGlrZSByb3ctbWFqb3I8YnI+VGhlIG1hdHJpY2VzIGFyZSBiZWluZyBwb3N0IG11bHRpcGxpZWQuXG4gKiBAbW9kdWxlIG1hdDRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgICBvdXRbOF0gPSAwO1xuICAgIG91dFs5XSA9IDA7XG4gICAgb3V0WzExXSA9IDA7XG4gICAgb3V0WzEyXSA9IDA7XG4gICAgb3V0WzEzXSA9IDA7XG4gICAgb3V0WzE0XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMDMgPSBhWzNdO1xuICAgIHZhciBhMTIgPSBhWzZdLFxuICAgICAgICBhMTMgPSBhWzddO1xuICAgIHZhciBhMjMgPSBhWzExXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYTAxO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYTAyO1xuICAgIG91dFs5XSA9IGExMjtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGEwMztcbiAgICBvdXRbMTNdID0gYTEzO1xuICAgIG91dFsxNF0gPSBhMjM7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYVsxXTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYVsyXTtcbiAgICBvdXRbOV0gPSBhWzZdO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGFbM107XG4gICAgb3V0WzEzXSA9IGFbN107XG4gICAgb3V0WzE0XSA9IGFbMTFdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzJdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xuICBvdXRbNF0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xuICBvdXRbN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMV0gPSAoYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwKSAqIGRldDtcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xuICBvdXRbMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxNF0gPSAoYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwKSAqIGRldDtcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIG91dFswXSA9IGExMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKTtcbiAgb3V0WzFdID0gLShhMDEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikpO1xuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFszXSA9IC0oYTAxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzRdID0gLShhMTAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikpO1xuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XG4gIG91dFs2XSA9IC0oYTAwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzddID0gYTAwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XG4gIG91dFs5XSA9IC0oYTAwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpKTtcbiAgb3V0WzEwXSA9IGEwMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKTtcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcbiAgb3V0WzEyXSA9IC0oYTEwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpKTtcbiAgb3V0WzEzXSA9IGEwMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKTtcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcbiAgb3V0WzE1XSA9IGEwMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdOyAvLyBDYWNoZSBvbmx5IHRoZSBjdXJyZW50IGxpbmUgb2YgdGhlIHNlY29uZCBtYXRyaXhcblxuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDQgYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjIC0gYTIxICogcztcbiAgb3V0WzJdID0gYTAyICogYyAtIGEyMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMDAgKiBzICsgYTIwICogYztcbiAgb3V0WzldID0gYTAxICogcyArIGEyMSAqIGM7XG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcbiAgb3V0WzExXSA9IGEwMyAqIHMgKyBhMjMgKiBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSB2WzFdO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gdlsyXTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVooZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybnMge21hdDR9IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLFxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSB0cmFuc2xhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xuICBvdXRbMV0gPSBNYXRoLmh5cG90KG0yMSwgbTIyLCBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLmh5cG90KG0zMSwgbTMyLCBtMzMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG5cbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRbM10gPSAwLjI1ICogUztcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG9yaWdpbik7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBmcnVzdHVtIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICBvdXRbMF0gPSB4U2NhbGU7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIG91dFs0XSA9IDAuMDtcbiAgb3V0WzVdID0geVNjYWxlO1xuICBvdXRbNl0gPSAwLjA7XG4gIG91dFs3XSA9IDAuMDtcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTFdID0gLTEuMDtcbiAgb3V0WzEyXSA9IDAuMDtcbiAgb3V0WzEzXSA9IDAuMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxNV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvTk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDIgKiBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG9ydGhvID0gb3J0aG9OTztcbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LCBleWUsIHRhcmdldCwgdXApIHtcbiAgdmFyIGV5ZXggPSBleWVbMF0sXG4gICAgICBleWV5ID0gZXllWzFdLFxuICAgICAgZXlleiA9IGV5ZVsyXSxcbiAgICAgIHVweCA9IHVwWzBdLFxuICAgICAgdXB5ID0gdXBbMV0sXG4gICAgICB1cHogPSB1cFsyXTtcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcbiAgICAgIHoxID0gZXlleSAtIHRhcmdldFsxXSxcbiAgICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB6MCAqPSBsZW47XG4gICAgejEgKj0gbGVuO1xuICAgIHoyICo9IGxlbjtcbiAgfVxuXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXG4gICAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3NcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgICAgYTkgPSBhWzldLFxuICAgICAgYTEwID0gYVsxMF0sXG4gICAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgICAgYTEzID0gYVsxM10sXG4gICAgICBhMTQgPSBhWzE0XSxcbiAgICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgICAgYjkgPSBiWzldLFxuICAgICAgYjEwID0gYlsxMF0sXG4gICAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgICAgYjEzID0gYlsxM10sXG4gICAgICBiMTQgPSBiWzE0XSxcbiAgICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/mat4.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/quat.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/quat.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   calculateW: () => (/* binding */ calculateW),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   conjugate: () => (/* binding */ conjugate),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   exp: () => (/* binding */ exp),\n/* harmony export */   fromEuler: () => (/* binding */ fromEuler),\n/* harmony export */   fromMat3: () => (/* binding */ fromMat3),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   getAngle: () => (/* binding */ getAngle),\n/* harmony export */   getAxisAngle: () => (/* binding */ getAxisAngle),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   ln: () => (/* binding */ ln),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   rotationTo: () => (/* binding */ rotationTo),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   setAxes: () => (/* binding */ setAxes),\n/* harmony export */   setAxisAngle: () => (/* binding */ setAxisAngle),\n/* harmony export */   slerp: () => (/* binding */ slerp),\n/* harmony export */   sqlerp: () => (/* binding */ sqlerp),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n/* harmony import */ var _mat3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mat3.js */ \"./node_modules/gl-matrix/esm/mat3.js\");\n/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec3.js */ \"./node_modules/gl-matrix/esm/vec3.js\");\n/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vec4.js */ \"./node_modules/gl-matrix/esm/vec4.js\");\n\n\n\n\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nfunction setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nfunction getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nfunction getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nfunction multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nfunction rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nfunction rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nfunction rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nfunction calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nfunction exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nfunction ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nfunction pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nfunction slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nfunction random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();\n  var u2 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();\n  var u3 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nfunction fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nfunction fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nvar clone = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nvar fromValues = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nvar copy = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nvar set = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nvar add = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nvar scale = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nvar dot = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nvar lerp = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nvar length = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nvar len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nvar squaredLength = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nvar normalize = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nvar exactEquals = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nvar equals = _vec4_js__WEBPACK_IMPORTED_MODULE_1__.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nvar rotationTo = function () {\n  var tmpvec3 = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.create();\n  var xUnitVec3 = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.fromValues(1, 0, 0);\n  var yUnitVec3 = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.dot(a, b);\n\n    if (dot < -0.999999) {\n      _vec3_js__WEBPACK_IMPORTED_MODULE_2__.cross(tmpvec3, xUnitVec3, a);\n      if (_vec3_js__WEBPACK_IMPORTED_MODULE_2__.len(tmpvec3) < 0.000001) _vec3_js__WEBPACK_IMPORTED_MODULE_2__.cross(tmpvec3, yUnitVec3, a);\n      _vec3_js__WEBPACK_IMPORTED_MODULE_2__.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      _vec3_js__WEBPACK_IMPORTED_MODULE_2__.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nvar sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nvar setAxes = function () {\n  var matr = _mat3_js__WEBPACK_IMPORTED_MODULE_3__.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDTjtBQUNBO0FBQ0E7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1AsZ0JBQWdCLGtEQUFtQjs7QUFFbkMsTUFBTSxrREFBbUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQixZQUFZLGNBQWM7QUFDMUIsWUFBWSxZQUFZO0FBQ3hCOztBQUVPO0FBQ1A7QUFDQTs7QUFFQSxVQUFVLCtDQUFnQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksY0FBYztBQUMxQixZQUFZLFlBQVk7QUFDeEI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQzs7QUFFM0MsaURBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSixvQkFBb0IsK0NBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBLFdBQVcsOENBQWU7QUFDMUIsV0FBVyw4Q0FBZTtBQUMxQixXQUFXLDhDQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFTyxZQUFZLDJDQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFTyxpQkFBaUIsZ0RBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFTyxXQUFXLDBDQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7O0FBRU8sVUFBVSx5Q0FBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFTyxVQUFVLHlDQUFRO0FBQ3pCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFTyxZQUFZLDJDQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7O0FBRU8sVUFBVSx5Q0FBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7O0FBRU8sV0FBVywwQ0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCOztBQUVPLGFBQWEsNENBQVc7QUFDL0I7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixhQUFhLFFBQVE7QUFDckI7QUFDQTs7QUFFTyxvQkFBb0IsbURBQWtCO0FBQzdDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVPLGdCQUFnQiwrQ0FBYztBQUNyQztBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTyxrQkFBa0IsaURBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxTQUFTO0FBQ3RCOztBQUVPLGFBQWEsNENBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1AsZ0JBQWdCLDRDQUFXO0FBQzNCLGtCQUFrQixnREFBZTtBQUNqQyxrQkFBa0IsZ0RBQWU7QUFDakM7QUFDQSxjQUFjLHlDQUFROztBQUV0QjtBQUNBLE1BQU0sMkNBQVU7QUFDaEIsVUFBVSx5Q0FBUSxzQkFBc0IsMkNBQVU7QUFDbEQsTUFBTSwrQ0FBYztBQUNwQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sTUFBTSwyQ0FBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUCxhQUFhLDRDQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQuanM/OTI1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIG1hdDMgZnJvbSBcIi4vbWF0My5qc1wiO1xuaW1wb3J0ICogYXMgdmVjMyBmcm9tIFwiLi92ZWMzLmpzXCI7XG5pbXBvcnQgKiBhcyB2ZWM0IGZyb20gXCIuL3ZlYzQuanNcIjtcbi8qKlxuICogUXVhdGVybmlvblxuICogQG1vZHVsZSBxdWF0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IHF1YXRcbiAqXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIHF1YXQgdG8gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDA7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldHMgYSBxdWF0IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCByb3RhdGlvbiBheGlzLFxuICogdGhlbiByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXhpc0FuZ2xlKG91dCwgYXhpcywgcmFkKSB7XG4gIHJhZCA9IHJhZCAqIDAuNTtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICBvdXRbMF0gPSBzICogYXhpc1swXTtcbiAgb3V0WzFdID0gcyAqIGF4aXNbMV07XG4gIG91dFsyXSA9IHMgKiBheGlzWzJdO1xuICBvdXRbM10gPSBNYXRoLmNvcyhyYWQpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXRzIHRoZSByb3RhdGlvbiBheGlzIGFuZCBhbmdsZSBmb3IgYSBnaXZlblxuICogIHF1YXRlcm5pb24uIElmIGEgcXVhdGVybmlvbiBpcyBjcmVhdGVkIHdpdGhcbiAqICBzZXRBeGlzQW5nbGUsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXG4gKiAgdmFsdWVzIGFzIHByb3ZpZGllZCBpbiB0aGUgb3JpZ2luYWwgcGFyYW1ldGVyIGxpc3RcbiAqICBPUiBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKiBFeGFtcGxlOiBUaGUgcXVhdGVybmlvbiBmb3JtZWQgYnkgYXhpcyBbMCwgMCwgMV0gYW5kXG4gKiAgYW5nbGUgLTkwIGlzIHRoZSBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieVxuICogIFswLCAwLCAxXSBhbmQgMjcwLiBUaGlzIG1ldGhvZCBmYXZvcnMgdGhlIGxhdHRlci5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9heGlzICBWZWN0b3IgcmVjZWl2aW5nIHRoZSBheGlzIG9mIHJvdGF0aW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IHEgICAgIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIG9mIHRoZSByb3RhdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBeGlzQW5nbGUob3V0X2F4aXMsIHEpIHtcbiAgdmFyIHJhZCA9IE1hdGguYWNvcyhxWzNdKSAqIDIuMDtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQgLyAyLjApO1xuXG4gIGlmIChzID4gZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIG91dF9heGlzWzBdID0gcVswXSAvIHM7XG4gICAgb3V0X2F4aXNbMV0gPSBxWzFdIC8gcztcbiAgICBvdXRfYXhpc1syXSA9IHFbMl0gLyBzO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHMgaXMgemVybywgcmV0dXJuIGFueSBheGlzIChubyByb3RhdGlvbiAtIGF4aXMgZG9lcyBub3QgbWF0dGVyKVxuICAgIG91dF9heGlzWzBdID0gMTtcbiAgICBvdXRfYXhpc1sxXSA9IDA7XG4gICAgb3V0X2F4aXNbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIHJhZDtcbn1cbi8qKlxuICogR2V0cyB0aGUgYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIHR3byB1bml0IHF1YXRlcm5pb25zXG4gKlxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBhICAgICBPcmlnaW4gdW5pdCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGIgICAgIERlc3RpbmF0aW9uIHVuaXQgcXVhdGVybmlvblxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIGJldHdlZW4gdGhlIHR3byBxdWF0ZXJuaW9uc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShhLCBiKSB7XG4gIHZhciBkb3Rwcm9kdWN0ID0gZG90KGEsIGIpO1xuICByZXR1cm4gTWF0aC5hY29zKDIgKiBkb3Rwcm9kdWN0ICogZG90cHJvZHVjdCAtIDEpO1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBidyA9IGJbM107XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWCBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IE1hdGguc2luKHJhZCksXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXogKiBieDtcbiAgb3V0WzJdID0gYXogKiBidyAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnkgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnk7XG4gIG91dFsyXSA9IGF6ICogYncgKyBheCAqIGJ5O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXkgKiBieTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ6ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIFcgY29tcG9uZW50IG9mIGEgcXVhdCBmcm9tIHRoZSBYLCBZLCBhbmQgWiBjb21wb25lbnRzLlxuICogQXNzdW1lcyB0aGF0IHF1YXRlcm5pb24gaXMgMSB1bml0IGluIGxlbmd0aC5cbiAqIEFueSBleGlzdGluZyBXIGNvbXBvbmVudCB3aWxsIGJlIGlnbm9yZWQuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBXIGNvbXBvbmVudCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSBNYXRoLnNxcnQoTWF0aC5hYnMoMS4wIC0geCAqIHggLSB5ICogeSAtIHogKiB6KSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2YgYSB1bml0IHF1YXRlcm5pb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIHZhciByID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciBldCA9IE1hdGguZXhwKHcpO1xuICB2YXIgcyA9IHIgPiAwID8gZXQgKiBNYXRoLnNpbihyKSAvIHIgOiAwO1xuICBvdXRbMF0gPSB4ICogcztcbiAgb3V0WzFdID0geSAqIHM7XG4gIG91dFsyXSA9IHogKiBzO1xuICBvdXRbM10gPSBldCAqIE1hdGguY29zKHIpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxuKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIHZhciByID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciB0ID0gciA+IDAgPyBNYXRoLmF0YW4yKHIsIHcpIC8gciA6IDA7XG4gIG91dFswXSA9IHggKiB0O1xuICBvdXRbMV0gPSB5ICogdDtcbiAgb3V0WzJdID0geiAqIHQ7XG4gIG91dFszXSA9IDAuNSAqIE1hdGgubG9nKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzY2FsYXIgcG93ZXIgb2YgYSB1bml0IHF1YXRlcm5pb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgcXVhdGVybmlvbiBieVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwb3cob3V0LCBhLCBiKSB7XG4gIGxuKG91dCwgYSk7XG4gIHNjYWxlKG91dCwgb3V0LCBiKTtcbiAgZXhwKG91dCwgb3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgLy8gYmVuY2htYXJrczpcbiAgLy8gICAgaHR0cDovL2pzcGVyZi5jb20vcXVhdGVybmlvbi1zbGVycC1pbXBsZW1lbnRhdGlvbnNcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIGJ3ID0gYlszXTtcbiAgdmFyIG9tZWdhLCBjb3NvbSwgc2lub20sIHNjYWxlMCwgc2NhbGUxOyAvLyBjYWxjIGNvc2luZVxuXG4gIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpXG5cbiAgaWYgKGNvc29tIDwgMC4wKSB7XG4gICAgY29zb20gPSAtY29zb207XG4gICAgYnggPSAtYng7XG4gICAgYnkgPSAtYnk7XG4gICAgYnogPSAtYno7XG4gICAgYncgPSAtYnc7XG4gIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50c1xuXG5cbiAgaWYgKDEuMCAtIGNvc29tID4gZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxuICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTtcbiAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTtcbiAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207XG4gIH0gZWxzZSB7XG4gICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxuICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb25cbiAgICBzY2FsZTAgPSAxLjAgLSB0O1xuICAgIHNjYWxlMSA9IHQ7XG4gIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlc1xuXG5cbiAgb3V0WzBdID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDtcbiAgb3V0WzFdID0gc2NhbGUwICogYXkgKyBzY2FsZTEgKiBieTtcbiAgb3V0WzJdID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejtcbiAgb3V0WzNdID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHVuaXQgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0KSB7XG4gIC8vIEltcGxlbWVudGF0aW9uIG9mIGh0dHA6Ly9wbGFubmluZy5jcy51aXVjLmVkdS9ub2RlMTk4Lmh0bWxcbiAgLy8gVE9ETzogQ2FsbGluZyByYW5kb20gMyB0aW1lcyBpcyBwcm9iYWJseSBub3QgdGhlIGZhc3Rlc3Qgc29sdXRpb25cbiAgdmFyIHUxID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciB1MiA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgdTMgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHNxcnQxTWludXNVMSA9IE1hdGguc3FydCgxIC0gdTEpO1xuICB2YXIgc3FydFUxID0gTWF0aC5zcXJ0KHUxKTtcbiAgb3V0WzBdID0gc3FydDFNaW51c1UxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUyKTtcbiAgb3V0WzFdID0gc3FydDFNaW51c1UxICogTWF0aC5jb3MoMi4wICogTWF0aC5QSSAqIHUyKTtcbiAgb3V0WzJdID0gc3FydFUxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUzKTtcbiAgb3V0WzNdID0gc3FydFUxICogTWF0aC5jb3MoMi4wICogTWF0aC5QSSAqIHUzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgZG90ID0gYTAgKiBhMCArIGExICogYTEgKyBhMiAqIGEyICsgYTMgKiBhMztcbiAgdmFyIGludkRvdCA9IGRvdCA/IDEuMCAvIGRvdCA6IDA7IC8vIFRPRE86IFdvdWxkIGJlIGZhc3RlciB0byByZXR1cm4gWzAsMCwwLDBdIGltbWVkaWF0ZWx5IGlmIGRvdCA9PSAwXG5cbiAgb3V0WzBdID0gLWEwICogaW52RG90O1xuICBvdXRbMV0gPSAtYTEgKiBpbnZEb3Q7XG4gIG91dFsyXSA9IC1hMiAqIGludkRvdDtcbiAgb3V0WzNdID0gYTMgKiBpbnZEb3Q7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIHF1YXRcbiAqIElmIHRoZSBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdC5pbnZlcnNlIGFuZCBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHQuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29uanVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiAzeDMgcm90YXRpb24gbWF0cml4LlxuICpcbiAqIE5PVEU6IFRoZSByZXN1bHRhbnQgcXVhdGVybmlvbiBpcyBub3Qgbm9ybWFsaXplZCwgc28geW91IHNob3VsZCBiZSBzdXJlXG4gKiB0byByZW5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbiB5b3Vyc2VsZiB3aGVyZSBuZWNlc3NhcnkuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSByb3RhdGlvbiBtYXRyaXhcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcbiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXNcbiAgLy8gYXJ0aWNsZSBcIlF1YXRlcm5pb24gQ2FsY3VsdXMgYW5kIEZhc3QgQW5pbWF0aW9uXCIuXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XG4gIHZhciBmUm9vdDtcblxuICBpZiAoZlRyYWNlID4gMC4wKSB7XG4gICAgLy8gfHd8ID4gMS8yLCBtYXkgYXMgd2VsbCBjaG9vc2UgdyA+IDEvMlxuICAgIGZSb290ID0gTWF0aC5zcXJ0KGZUcmFjZSArIDEuMCk7IC8vIDJ3XG5cbiAgICBvdXRbM10gPSAwLjUgKiBmUm9vdDtcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290OyAvLyAxLyg0dylcblxuICAgIG91dFswXSA9IChtWzVdIC0gbVs3XSkgKiBmUm9vdDtcbiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7XG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xuICB9IGVsc2Uge1xuICAgIC8vIHx3fCA8PSAxLzJcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKG1bNF0gPiBtWzBdKSBpID0gMTtcbiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7XG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcbiAgICB2YXIgayA9IChpICsgMikgJSAzO1xuICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7XG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDtcbiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290O1xuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2tdID0gKG1bayAqIDMgKyBpXSArIG1baSAqIDMgKyBrXSkgKiBmUm9vdDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHouXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge3h9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWCBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0ge3l9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWSBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0ge3p9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV1bGVyKG91dCwgeCwgeSwgeikge1xuICB2YXIgaGFsZlRvUmFkID0gMC41ICogTWF0aC5QSSAvIDE4MC4wO1xuICB4ICo9IGhhbGZUb1JhZDtcbiAgeSAqPSBoYWxmVG9SYWQ7XG4gIHogKj0gaGFsZlRvUmFkO1xuICB2YXIgc3ggPSBNYXRoLnNpbih4KTtcbiAgdmFyIGN4ID0gTWF0aC5jb3MoeCk7XG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xuICB2YXIgY3kgPSBNYXRoLmNvcyh5KTtcbiAgdmFyIHN6ID0gTWF0aC5zaW4oeik7XG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xuICBvdXRbMF0gPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XG4gIG91dFsxXSA9IGN4ICogc3kgKiBjeiArIHN4ICogY3kgKiBzejtcbiAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICBvdXRbM10gPSBjeCAqIGN5ICogY3ogKyBzeCAqIHN5ICogc3o7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBxdWF0ZW5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJxdWF0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBjbG9uZVxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgY2xvbmUgPSB2ZWM0LmNsb25lO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZyb21WYWx1ZXMgPSB2ZWM0LmZyb21WYWx1ZXM7XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBjb3B5ID0gdmVjNC5jb3B5O1xuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBxdWF0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNldCA9IHZlYzQuc2V0O1xuLyoqXG4gKiBBZGRzIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgYWRkID0gdmVjNC5hZGQ7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIFNjYWxlcyBhIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNjYWxlID0gdmVjNC5zY2FsZTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZG90ID0gdmVjNC5kb3Q7XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlcnAgPSB2ZWM0LmxlcnA7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgdmFyIGxlbmd0aCA9IHZlYzQubGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3F1YXJlZExlbmd0aCA9IHZlYzQuc3F1YXJlZExlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG5vcm1hbGl6ZSA9IHZlYzQubm9ybWFsaXplO1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHF1YXRlcm5pb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgdmFyIGV4YWN0RXF1YWxzID0gdmVjNC5leGFjdEVxdWFscztcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCB2YXIgZXF1YWxzID0gdmVjNC5lcXVhbHM7XG4vKipcbiAqIFNldHMgYSBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCB0aGUgc2hvcnRlc3Qgcm90YXRpb24gZnJvbSBvbmVcbiAqIHZlY3RvciB0byBhbm90aGVyLlxuICpcbiAqIEJvdGggdmVjdG9ycyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgaW5pdGlhbCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBkZXN0aW5hdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgdmFyIHJvdGF0aW9uVG8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0bXB2ZWMzID0gdmVjMy5jcmVhdGUoKTtcbiAgdmFyIHhVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygxLCAwLCAwKTtcbiAgdmFyIHlVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIpIHtcbiAgICB2YXIgZG90ID0gdmVjMy5kb3QoYSwgYik7XG5cbiAgICBpZiAoZG90IDwgLTAuOTk5OTk5KSB7XG4gICAgICB2ZWMzLmNyb3NzKHRtcHZlYzMsIHhVbml0VmVjMywgYSk7XG4gICAgICBpZiAodmVjMy5sZW4odG1wdmVjMykgPCAwLjAwMDAwMSkgdmVjMy5jcm9zcyh0bXB2ZWMzLCB5VW5pdFZlYzMsIGEpO1xuICAgICAgdmVjMy5ub3JtYWxpemUodG1wdmVjMywgdG1wdmVjMyk7XG4gICAgICBzZXRBeGlzQW5nbGUob3V0LCB0bXB2ZWMzLCBNYXRoLlBJKTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfSBlbHNlIGlmIChkb3QgPiAwLjk5OTk5OSkge1xuICAgICAgb3V0WzBdID0gMDtcbiAgICAgIG91dFsxXSA9IDA7XG4gICAgICBvdXRbMl0gPSAwO1xuICAgICAgb3V0WzNdID0gMTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgYSwgYik7XG4gICAgICBvdXRbMF0gPSB0bXB2ZWMzWzBdO1xuICAgICAgb3V0WzFdID0gdG1wdmVjM1sxXTtcbiAgICAgIG91dFsyXSA9IHRtcHZlYzNbMl07XG4gICAgICBvdXRbM10gPSAxICsgZG90O1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZShvdXQsIG91dCk7XG4gICAgfVxuICB9O1xufSgpO1xuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCB2YXIgc3FsZXJwID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGVtcDEgPSBjcmVhdGUoKTtcbiAgdmFyIHRlbXAyID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gICAgc2xlcnAodGVtcDEsIGEsIGQsIHQpO1xuICAgIHNsZXJwKHRlbXAyLCBiLCBjLCB0KTtcbiAgICBzbGVycChvdXQsIHRlbXAxLCB0ZW1wMiwgMiAqIHQgKiAoMSAtIHQpKTtcbiAgICByZXR1cm4gb3V0O1xuICB9O1xufSgpO1xuLyoqXG4gKiBTZXRzIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbiB3aXRoIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlblxuICogYXhlcy4gRWFjaCBheGlzIGlzIGEgdmVjMyBhbmQgaXMgZXhwZWN0ZWQgdG8gYmUgdW5pdCBsZW5ndGggYW5kXG4gKiBwZXJwZW5kaWN1bGFyIHRvIGFsbCBvdGhlciBzcGVjaWZpZWQgYXhlcy5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdmlldyAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIHZpZXdpbmcgZGlyZWN0aW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcmlnaHQgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwicmlnaHRcIiBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCAgICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJ1cFwiIGRpcmVjdGlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCB2YXIgc2V0QXhlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1hdHIgPSBtYXQzLmNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgdmlldywgcmlnaHQsIHVwKSB7XG4gICAgbWF0clswXSA9IHJpZ2h0WzBdO1xuICAgIG1hdHJbM10gPSByaWdodFsxXTtcbiAgICBtYXRyWzZdID0gcmlnaHRbMl07XG4gICAgbWF0clsxXSA9IHVwWzBdO1xuICAgIG1hdHJbNF0gPSB1cFsxXTtcbiAgICBtYXRyWzddID0gdXBbMl07XG4gICAgbWF0clsyXSA9IC12aWV3WzBdO1xuICAgIG1hdHJbNV0gPSAtdmlld1sxXTtcbiAgICBtYXRyWzhdID0gLXZpZXdbMl07XG4gICAgcmV0dXJuIG5vcm1hbGl6ZShvdXQsIGZyb21NYXQzKG91dCwgbWF0cikpO1xuICB9O1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/quat.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/quat2.js":
/*!*********************************************!*\
  !*** ./node_modules/gl-matrix/esm/quat2.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   conjugate: () => (/* binding */ conjugate),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   fromMat4: () => (/* binding */ fromMat4),\n/* harmony export */   fromRotation: () => (/* binding */ fromRotation),\n/* harmony export */   fromRotationTranslation: () => (/* binding */ fromRotationTranslation),\n/* harmony export */   fromRotationTranslationValues: () => (/* binding */ fromRotationTranslationValues),\n/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   getDual: () => (/* binding */ getDual),\n/* harmony export */   getReal: () => (/* binding */ getReal),\n/* harmony export */   getTranslation: () => (/* binding */ getTranslation),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   rotateAroundAxis: () => (/* binding */ rotateAroundAxis),\n/* harmony export */   rotateByQuatAppend: () => (/* binding */ rotateByQuatAppend),\n/* harmony export */   rotateByQuatPrepend: () => (/* binding */ rotateByQuatPrepend),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   setDual: () => (/* binding */ setDual),\n/* harmony export */   setReal: () => (/* binding */ setReal),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   translate: () => (/* binding */ translate)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n/* harmony import */ var _quat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quat.js */ \"./node_modules/gl-matrix/esm/quat.js\");\n/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat4.js */ \"./node_modules/gl-matrix/esm/mat4.js\");\n\n\n\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nfunction create() {\n  var dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nfunction clone(a) {\n  var dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nfunction fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nfunction fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nfunction fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nfunction fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nfunction fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nfunction fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = _quat_js__WEBPACK_IMPORTED_MODULE_1__.create();\n  _mat4_js__WEBPACK_IMPORTED_MODULE_2__.getRotation(outer, a);\n  var t = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  _mat4_js__WEBPACK_IMPORTED_MODULE_2__.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nfunction set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nvar getReal = _quat_js__WEBPACK_IMPORTED_MODULE_1__.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nfunction getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nvar setReal = _quat_js__WEBPACK_IMPORTED_MODULE_1__.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nfunction setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nfunction getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nfunction translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nfunction rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  _quat_js__WEBPACK_IMPORTED_MODULE_1__.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nfunction rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  _quat_js__WEBPACK_IMPORTED_MODULE_1__.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nfunction rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  _quat_js__WEBPACK_IMPORTED_MODULE_1__.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nfunction rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nfunction rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nfunction rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nfunction multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nvar dot = _quat_js__WEBPACK_IMPORTED_MODULE_1__.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nfunction lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nfunction invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nvar length = _quat_js__WEBPACK_IMPORTED_MODULE_1__.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nvar len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nvar squaredLength = _quat_js__WEBPACK_IMPORTED_MODULE_1__.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nfunction normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nfunction str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDTjtBQUNBO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjs7QUFFTztBQUNQLGVBQWUsa0RBQW1COztBQUVsQyxNQUFNLGtEQUFtQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7QUFFTztBQUNQLGVBQWUsa0RBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7QUFFTztBQUNQLGVBQWUsa0RBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBOztBQUVPO0FBQ1AsZUFBZSxrREFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsUUFBUTtBQUNyQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxlQUFlO0FBQzFCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxlQUFlO0FBQzFCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCLHFFQUFxRSwrQ0FBZ0IscUVBQXFFLCtDQUFnQixxRUFBcUUsK0NBQWdCO0FBQ2pvQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vcXVhdDIuanM/ZTZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIHF1YXQgZnJvbSBcIi4vcXVhdC5qc1wiO1xuaW1wb3J0ICogYXMgbWF0NCBmcm9tIFwiLi9tYXQ0LmpzXCI7XG4vKipcbiAqIER1YWwgUXVhdGVybmlvbjxicj5cbiAqIEZvcm1hdDogW3JlYWwsIGR1YWxdPGJyPlxuICogUXVhdGVybmlvbiBmb3JtYXQ6IFhZWlc8YnI+XG4gKiBNYWtlIHN1cmUgdG8gaGF2ZSBub3JtYWxpemVkIGR1YWwgcXVhdGVybmlvbnMsIG90aGVyd2lzZSB0aGUgZnVuY3Rpb25zIG1heSBub3Qgd29yayBhcyBpbnRlbmRlZC48YnI+XG4gKiBAbW9kdWxlIHF1YXQyXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IGR1YWwgcXVhdFxuICpcbiAqIEByZXR1cm5zIHtxdWF0Mn0gYSBuZXcgZHVhbCBxdWF0ZXJuaW9uIFtyZWFsIC0+IHJvdGF0aW9uLCBkdWFsIC0+IHRyYW5zbGF0aW9uXVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIGRxWzBdID0gMDtcbiAgICBkcVsxXSA9IDA7XG4gICAgZHFbMl0gPSAwO1xuICAgIGRxWzRdID0gMDtcbiAgICBkcVs1XSA9IDA7XG4gICAgZHFbNl0gPSAwO1xuICAgIGRxWzddID0gMDtcbiAgfVxuXG4gIGRxWzNdID0gMTtcbiAgcmV0dXJuIGRxO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBjbG9uZVxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcbiAgZHFbMF0gPSBhWzBdO1xuICBkcVsxXSA9IGFbMV07XG4gIGRxWzJdID0gYVsyXTtcbiAgZHFbM10gPSBhWzNdO1xuICBkcVs0XSA9IGFbNF07XG4gIGRxWzVdID0gYVs1XTtcbiAgZHFbNl0gPSBhWzZdO1xuICBkcVs3XSA9IGFbN107XG4gIHJldHVybiBkcTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIsIHcyKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuICBkcVswXSA9IHgxO1xuICBkcVsxXSA9IHkxO1xuICBkcVsyXSA9IHoxO1xuICBkcVszXSA9IHcxO1xuICBkcVs0XSA9IHgyO1xuICBkcVs1XSA9IHkyO1xuICBkcVs2XSA9IHoyO1xuICBkcVs3XSA9IHcyO1xuICByZXR1cm4gZHE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gdGhlIGdpdmVuIHZhbHVlcyAocXVhdCBhbmQgdHJhbnNsYXRpb24pXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50ICh0cmFuc2xhdGlvbilcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblZhbHVlcyh4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6Mikge1xuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcbiAgZHFbMF0gPSB4MTtcbiAgZHFbMV0gPSB5MTtcbiAgZHFbMl0gPSB6MTtcbiAgZHFbM10gPSB3MTtcbiAgdmFyIGF4ID0geDIgKiAwLjUsXG4gICAgICBheSA9IHkyICogMC41LFxuICAgICAgYXogPSB6MiAqIDAuNTtcbiAgZHFbNF0gPSBheCAqIHcxICsgYXkgKiB6MSAtIGF6ICogeTE7XG4gIGRxWzVdID0gYXkgKiB3MSArIGF6ICogeDEgLSBheCAqIHoxO1xuICBkcVs2XSA9IGF6ICogdzEgKyBheCAqIHkxIC0gYXkgKiB4MTtcbiAgZHFbN10gPSAtYXggKiB4MSAtIGF5ICogeTEgLSBheiAqIHoxO1xuICByZXR1cm4gZHE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBkdWFsIHF1YXQgZnJvbSBhIHF1YXRlcm5pb24gYW5kIGEgdHJhbnNsYXRpb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgYSBub3JtYWxpemVkIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB0IHRyYW5sYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdCkge1xuICB2YXIgYXggPSB0WzBdICogMC41LFxuICAgICAgYXkgPSB0WzFdICogMC41LFxuICAgICAgYXogPSB0WzJdICogMC41LFxuICAgICAgYnggPSBxWzBdLFxuICAgICAgYnkgPSBxWzFdLFxuICAgICAgYnogPSBxWzJdLFxuICAgICAgYncgPSBxWzNdO1xuICBvdXRbMF0gPSBieDtcbiAgb3V0WzFdID0gYnk7XG4gIG91dFsyXSA9IGJ6O1xuICBvdXRbM10gPSBidztcbiAgb3V0WzRdID0gYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbNV0gPSBheSAqIGJ3ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFs2XSA9IGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgb3V0WzddID0gLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgdHJhbnNsYXRpb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHQpIHtcbiAgb3V0WzBdID0gMDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgb3V0WzRdID0gdFswXSAqIDAuNTtcbiAgb3V0WzVdID0gdFsxXSAqIDAuNTtcbiAgb3V0WzZdID0gdFsyXSAqIDAuNTtcbiAgb3V0WzddID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSB0aGUgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCBxKSB7XG4gIG91dFswXSA9IHFbMF07XG4gIG91dFsxXSA9IHFbMV07XG4gIG91dFsyXSA9IHFbMl07XG4gIG91dFszXSA9IHFbM107XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gYSBtYXRyaXggKDR4NClcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeFxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcbiAgLy9UT0RPIE9wdGltaXplIHRoaXNcbiAgdmFyIG91dGVyID0gcXVhdC5jcmVhdGUoKTtcbiAgbWF0NC5nZXRSb3RhdGlvbihvdXRlciwgYSk7XG4gIHZhciB0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG1hdDQuZ2V0VHJhbnNsYXRpb24odCwgYSk7XG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgb3V0ZXIsIHQpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgZHVhbCBxdWF0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgc291cmNlIGR1YWwgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBkdWFsIHF1YXQgdG8gdGhlIGlkZW50aXR5IGR1YWwgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkxIFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gejEgWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHgyIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcyIFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyLCB3Mikge1xuICBvdXRbMF0gPSB4MTtcbiAgb3V0WzFdID0geTE7XG4gIG91dFsyXSA9IHoxO1xuICBvdXRbM10gPSB3MTtcbiAgb3V0WzRdID0geDI7XG4gIG91dFs1XSA9IHkyO1xuICBvdXRbNl0gPSB6MjtcbiAgb3V0WzddID0gdzI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldHMgdGhlIHJlYWwgcGFydCBvZiBhIGR1YWwgcXVhdFxuICogQHBhcmFtICB7cXVhdH0gb3V0IHJlYWwgcGFydFxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cbiAqIEByZXR1cm4ge3F1YXR9IHJlYWwgcGFydFxuICovXG5cbmV4cG9ydCB2YXIgZ2V0UmVhbCA9IHF1YXQuY29weTtcbi8qKlxuICogR2V0cyB0aGUgZHVhbCBwYXJ0IG9mIGEgZHVhbCBxdWF0XG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgZHVhbCBwYXJ0XG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybiB7cXVhdH0gZHVhbCBwYXJ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldER1YWwob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbNF07XG4gIG91dFsxXSA9IGFbNV07XG4gIG91dFsyXSA9IGFbNl07XG4gIG91dFszXSA9IGFbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgcmVhbCBjb21wb25lbnQgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByZWFsIHBhcnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNldFJlYWwgPSBxdWF0LmNvcHk7XG4vKipcbiAqIFNldCB0aGUgZHVhbCBjb21wb25lbnQgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSBkdWFsIHBhcnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RHVhbChvdXQsIHEpIHtcbiAgb3V0WzRdID0gcVswXTtcbiAgb3V0WzVdID0gcVsxXTtcbiAgb3V0WzZdID0gcVsyXTtcbiAgb3V0WzddID0gcVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0cyB0aGUgdHJhbnNsYXRpb24gb2YgYSBub3JtYWxpemVkIGR1YWwgcXVhdFxuICogQHBhcmFtICB7dmVjM30gb3V0IHRyYW5zbGF0aW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXG4gKiBAcmV0dXJuIHt2ZWMzfSB0cmFuc2xhdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIGEpIHtcbiAgdmFyIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XSxcbiAgICAgIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXTtcbiAgb3V0WzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcbiAgb3V0WzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgb3V0WzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyBhIGR1YWwgcXVhdCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIGF4MSA9IGFbMF0sXG4gICAgICBheTEgPSBhWzFdLFxuICAgICAgYXoxID0gYVsyXSxcbiAgICAgIGF3MSA9IGFbM10sXG4gICAgICBieDEgPSB2WzBdICogMC41LFxuICAgICAgYnkxID0gdlsxXSAqIDAuNSxcbiAgICAgIGJ6MSA9IHZbMl0gKiAwLjUsXG4gICAgICBheDIgPSBhWzRdLFxuICAgICAgYXkyID0gYVs1XSxcbiAgICAgIGF6MiA9IGFbNl0sXG4gICAgICBhdzIgPSBhWzddO1xuICBvdXRbMF0gPSBheDE7XG4gIG91dFsxXSA9IGF5MTtcbiAgb3V0WzJdID0gYXoxO1xuICBvdXRbM10gPSBhdzE7XG4gIG91dFs0XSA9IGF3MSAqIGJ4MSArIGF5MSAqIGJ6MSAtIGF6MSAqIGJ5MSArIGF4MjtcbiAgb3V0WzVdID0gYXcxICogYnkxICsgYXoxICogYngxIC0gYXgxICogYnoxICsgYXkyO1xuICBvdXRbNl0gPSBhdzEgKiBiejEgKyBheDEgKiBieTEgLSBheTEgKiBieDEgKyBhejI7XG4gIG91dFs3XSA9IC1heDEgKiBieDEgLSBheTEgKiBieTEgLSBhejEgKiBiejEgKyBhdzI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XSxcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHF1YXQucm90YXRlWChvdXQsIGEsIHJhZCk7XG4gIGJ4ID0gb3V0WzBdO1xuICBieSA9IG91dFsxXTtcbiAgYnogPSBvdXRbMl07XG4gIGJ3ID0gb3V0WzNdO1xuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddLFxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcXVhdC5yb3RhdGVZKG91dCwgYSwgcmFkKTtcbiAgYnggPSBvdXRbMF07XG4gIGJ5ID0gb3V0WzFdO1xuICBieiA9IG91dFsyXTtcbiAgYncgPSBvdXRbM107XG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN10sXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICBxdWF0LnJvdGF0ZVoob3V0LCBhLCByYWQpO1xuICBieCA9IG91dFswXTtcbiAgYnkgPSBvdXRbMV07XG4gIGJ6ID0gb3V0WzJdO1xuICBidyA9IG91dFszXTtcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYnkgYSBnaXZlbiBxdWF0ZXJuaW9uIChhICogcSlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byByb3RhdGUgYnlcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdEFwcGVuZChvdXQsIGEsIHEpIHtcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXSxcbiAgICAgIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKiBxdyArIGF3ICogcXggKyBheSAqIHF6IC0gYXogKiBxeTtcbiAgb3V0WzFdID0gYXkgKiBxdyArIGF3ICogcXkgKyBheiAqIHF4IC0gYXggKiBxejtcbiAgb3V0WzJdID0gYXogKiBxdyArIGF3ICogcXogKyBheCAqIHF5IC0gYXkgKiBxeDtcbiAgb3V0WzNdID0gYXcgKiBxdyAtIGF4ICogcXggLSBheSAqIHF5IC0gYXogKiBxejtcbiAgYXggPSBhWzRdO1xuICBheSA9IGFbNV07XG4gIGF6ID0gYVs2XTtcbiAgYXcgPSBhWzddO1xuICBvdXRbNF0gPSBheCAqIHF3ICsgYXcgKiBxeCArIGF5ICogcXogLSBheiAqIHF5O1xuICBvdXRbNV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xuICBvdXRbNl0gPSBheiAqIHF3ICsgYXcgKiBxeiArIGF4ICogcXkgLSBheSAqIHF4O1xuICBvdXRbN10gPSBhdyAqIHF3IC0gYXggKiBxeCAtIGF5ICogcXkgLSBheiAqIHF6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGJ5IGEgZ2l2ZW4gcXVhdGVybmlvbiAocSAqIGEpXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVCeVF1YXRQcmVwZW5kKG91dCwgcSwgYSkge1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdLFxuICAgICAgYnggPSBhWzBdLFxuICAgICAgYnkgPSBhWzFdLFxuICAgICAgYnogPSBhWzJdLFxuICAgICAgYncgPSBhWzNdO1xuICBvdXRbMF0gPSBxeCAqIGJ3ICsgcXcgKiBieCArIHF5ICogYnogLSBxeiAqIGJ5O1xuICBvdXRbMV0gPSBxeSAqIGJ3ICsgcXcgKiBieSArIHF6ICogYnggLSBxeCAqIGJ6O1xuICBvdXRbMl0gPSBxeiAqIGJ3ICsgcXcgKiBieiArIHF4ICogYnkgLSBxeSAqIGJ4O1xuICBvdXRbM10gPSBxdyAqIGJ3IC0gcXggKiBieCAtIHF5ICogYnkgLSBxeiAqIGJ6O1xuICBieCA9IGFbNF07XG4gIGJ5ID0gYVs1XTtcbiAgYnogPSBhWzZdO1xuICBidyA9IGFbN107XG4gIG91dFs0XSA9IHF4ICogYncgKyBxdyAqIGJ4ICsgcXkgKiBieiAtIHF6ICogYnk7XG4gIG91dFs1XSA9IHF5ICogYncgKyBxdyAqIGJ5ICsgcXogKiBieCAtIHF4ICogYno7XG4gIG91dFs2XSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XG4gIG91dFs3XSA9IHF3ICogYncgLSBxeCAqIGJ4IC0gcXkgKiBieSAtIHF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIGEgZ2l2ZW4gYXhpcy4gRG9lcyB0aGUgbm9ybWFsaXNhdGlvbiBhdXRvbWF0aWNhbGx5XG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgaG93IGZhciB0aGUgcm90YXRpb24gc2hvdWxkIGJlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBcm91bmRBeGlzKG91dCwgYSwgYXhpcywgcmFkKSB7XG4gIC8vU3BlY2lhbCBjYXNlIGZvciByYWQgPSAwXG4gIGlmIChNYXRoLmFicyhyYWQpIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBjb3B5KG91dCwgYSk7XG4gIH1cblxuICB2YXIgYXhpc0xlbmd0aCA9IE1hdGguaHlwb3QoYXhpc1swXSwgYXhpc1sxXSwgYXhpc1syXSk7XG4gIHJhZCA9IHJhZCAqIDAuNTtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYnggPSBzICogYXhpc1swXSAvIGF4aXNMZW5ndGg7XG4gIHZhciBieSA9IHMgKiBheGlzWzFdIC8gYXhpc0xlbmd0aDtcbiAgdmFyIGJ6ID0gcyAqIGF4aXNbMl0gLyBheGlzTGVuZ3RoO1xuICB2YXIgYncgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYXgxID0gYVswXSxcbiAgICAgIGF5MSA9IGFbMV0sXG4gICAgICBhejEgPSBhWzJdLFxuICAgICAgYXcxID0gYVszXTtcbiAgb3V0WzBdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XG4gIG91dFsxXSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xuICBvdXRbMl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcbiAgb3V0WzNdID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XG4gIHZhciBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN107XG4gIG91dFs0XSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFs1XSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFs2XSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFs3XSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIGR1YWwgcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcbiAgb3V0WzddID0gYVs3XSArIGJbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIGR1YWwgcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYXgwID0gYVswXSxcbiAgICAgIGF5MCA9IGFbMV0sXG4gICAgICBhejAgPSBhWzJdLFxuICAgICAgYXcwID0gYVszXSxcbiAgICAgIGJ4MSA9IGJbNF0sXG4gICAgICBieTEgPSBiWzVdLFxuICAgICAgYnoxID0gYls2XSxcbiAgICAgIGJ3MSA9IGJbN10sXG4gICAgICBheDEgPSBhWzRdLFxuICAgICAgYXkxID0gYVs1XSxcbiAgICAgIGF6MSA9IGFbNl0sXG4gICAgICBhdzEgPSBhWzddLFxuICAgICAgYngwID0gYlswXSxcbiAgICAgIGJ5MCA9IGJbMV0sXG4gICAgICBiejAgPSBiWzJdLFxuICAgICAgYncwID0gYlszXTtcbiAgb3V0WzBdID0gYXgwICogYncwICsgYXcwICogYngwICsgYXkwICogYnowIC0gYXowICogYnkwO1xuICBvdXRbMV0gPSBheTAgKiBidzAgKyBhdzAgKiBieTAgKyBhejAgKiBieDAgLSBheDAgKiBiejA7XG4gIG91dFsyXSA9IGF6MCAqIGJ3MCArIGF3MCAqIGJ6MCArIGF4MCAqIGJ5MCAtIGF5MCAqIGJ4MDtcbiAgb3V0WzNdID0gYXcwICogYncwIC0gYXgwICogYngwIC0gYXkwICogYnkwIC0gYXowICogYnowO1xuICBvdXRbNF0gPSBheDAgKiBidzEgKyBhdzAgKiBieDEgKyBheTAgKiBiejEgLSBhejAgKiBieTEgKyBheDEgKiBidzAgKyBhdzEgKiBieDAgKyBheTEgKiBiejAgLSBhejEgKiBieTA7XG4gIG91dFs1XSA9IGF5MCAqIGJ3MSArIGF3MCAqIGJ5MSArIGF6MCAqIGJ4MSAtIGF4MCAqIGJ6MSArIGF5MSAqIGJ3MCArIGF3MSAqIGJ5MCArIGF6MSAqIGJ4MCAtIGF4MSAqIGJ6MDtcbiAgb3V0WzZdID0gYXowICogYncxICsgYXcwICogYnoxICsgYXgwICogYnkxIC0gYXkwICogYngxICsgYXoxICogYncwICsgYXcxICogYnowICsgYXgxICogYnkwIC0gYXkxICogYngwO1xuICBvdXRbN10gPSBhdzAgKiBidzEgLSBheDAgKiBieDEgLSBheTAgKiBieTEgLSBhejAgKiBiejEgKyBhdzEgKiBidzAgLSBheDEgKiBieDAgLSBheTEgKiBieTAgLSBhejEgKiBiejA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBTY2FsZXMgYSBkdWFsIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBkdWFsIHF1YXQgYnlcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIGR1YWwgcXVhdCdzIChUaGUgZG90IHByb2R1Y3Qgb2YgdGhlIHJlYWwgcGFydHMpXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRvdCA9IHF1YXQuZG90O1xuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIGR1YWwgcXVhdHMnc1xuICogTk9URTogVGhlIHJlc3VsdGluZyBkdWFsIHF1YXRlcm5pb25zIHdvbid0IGFsd2F5cyBiZSBub3JtYWxpemVkIChUaGUgZXJyb3IgaXMgbW9zdCBub3RpY2VhYmxlIHdoZW4gdCA9IDAuNSlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIG10ID0gMSAtIHQ7XG4gIGlmIChkb3QoYSwgYikgPCAwKSB0ID0gLXQ7XG4gIG91dFswXSA9IGFbMF0gKiBtdCArIGJbMF0gKiB0O1xuICBvdXRbMV0gPSBhWzFdICogbXQgKyBiWzFdICogdDtcbiAgb3V0WzJdID0gYVsyXSAqIG10ICsgYlsyXSAqIHQ7XG4gIG91dFszXSA9IGFbM10gKiBtdCArIGJbM10gKiB0O1xuICBvdXRbNF0gPSBhWzRdICogbXQgKyBiWzRdICogdDtcbiAgb3V0WzVdID0gYVs1XSAqIG10ICsgYls1XSAqIHQ7XG4gIG91dFs2XSA9IGFbNl0gKiBtdCArIGJbNl0gKiB0O1xuICBvdXRbN10gPSBhWzddICogbXQgKyBiWzddICogdDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIGR1YWwgcXVhdC4gSWYgdGhleSBhcmUgbm9ybWFsaXplZCwgY29uanVnYXRlIGlzIGNoZWFwZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIHNxbGVuID0gc3F1YXJlZExlbmd0aChhKTtcbiAgb3V0WzBdID0gLWFbMF0gLyBzcWxlbjtcbiAgb3V0WzFdID0gLWFbMV0gLyBzcWxlbjtcbiAgb3V0WzJdID0gLWFbMl0gLyBzcWxlbjtcbiAgb3V0WzNdID0gYVszXSAvIHNxbGVuO1xuICBvdXRbNF0gPSAtYVs0XSAvIHNxbGVuO1xuICBvdXRbNV0gPSAtYVs1XSAvIHNxbGVuO1xuICBvdXRbNl0gPSAtYVs2XSAvIHNxbGVuO1xuICBvdXRbN10gPSBhWzddIC8gc3FsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIGR1YWwgcXVhdFxuICogSWYgdGhlIGR1YWwgcXVhdGVybmlvbiBpcyBub3JtYWxpemVkLCB0aGlzIGZ1bmN0aW9uIGlzIGZhc3RlciB0aGFuIHF1YXQyLmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgcXVhdCB0byBjYWxjdWxhdGUgY29uanVnYXRlIG9mXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IC1hWzRdO1xuICBvdXRbNV0gPSAtYVs1XTtcbiAgb3V0WzZdID0gLWFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIGR1YWwgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuZ3RoID0gcXVhdC5sZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3F1YXJlZExlbmd0aCA9IHF1YXQuc3F1YXJlZExlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBOb3JtYWxpemUgYSBkdWFsIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIG1hZ25pdHVkZSA9IHNxdWFyZWRMZW5ndGgoYSk7XG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICBtYWduaXR1ZGUgPSBNYXRoLnNxcnQobWFnbml0dWRlKTtcbiAgICB2YXIgYTAgPSBhWzBdIC8gbWFnbml0dWRlO1xuICAgIHZhciBhMSA9IGFbMV0gLyBtYWduaXR1ZGU7XG4gICAgdmFyIGEyID0gYVsyXSAvIG1hZ25pdHVkZTtcbiAgICB2YXIgYTMgPSBhWzNdIC8gbWFnbml0dWRlO1xuICAgIHZhciBiMCA9IGFbNF07XG4gICAgdmFyIGIxID0gYVs1XTtcbiAgICB2YXIgYjIgPSBhWzZdO1xuICAgIHZhciBiMyA9IGFbN107XG4gICAgdmFyIGFfZG90X2IgPSBhMCAqIGIwICsgYTEgKiBiMSArIGEyICogYjIgKyBhMyAqIGIzO1xuICAgIG91dFswXSA9IGEwO1xuICAgIG91dFsxXSA9IGExO1xuICAgIG91dFsyXSA9IGEyO1xuICAgIG91dFszXSA9IGEzO1xuICAgIG91dFs0XSA9IChiMCAtIGEwICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XG4gICAgb3V0WzVdID0gKGIxIC0gYTEgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcbiAgICBvdXRbNl0gPSAoYjIgLSBhMiAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xuICAgIG91dFs3XSA9IChiMyAtIGEzICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZHVhbCBxdWF0ZW5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkdWFsIHF1YXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwicXVhdDIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkdWFsIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IGR1YWwgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIGR1YWwgcXVhdGVybmlvbi5cbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBkdWFsIHF1YXRlcm5pb25zIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN107XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGR1YWwgcXVhdGVybmlvbnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3QgZHVhbCBxdWF0LlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgZHVhbCBxdWF0LlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdHMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM10sXG4gICAgICBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM10sXG4gICAgICBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/quat2.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec2.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec2.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   angle: () => (/* binding */ angle),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   cross: () => (/* binding */ cross),\n/* harmony export */   dist: () => (/* binding */ dist),\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   div: () => (/* binding */ div),\n/* harmony export */   divide: () => (/* binding */ divide),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   floor: () => (/* binding */ floor),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   inverse: () => (/* binding */ inverse),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   sqrDist: () => (/* binding */ sqrDist),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   transformMat2: () => (/* binding */ transformMat2),\n/* harmony export */   transformMat2d: () => (/* binding */ transformMat2d),\n/* harmony export */   transformMat3: () => (/* binding */ transformMat3),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4),\n/* harmony export */   zero: () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nfunction fromValues(x, y) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nfunction rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzIuanM/NjcxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMiBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjMlxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjMlxuICpcbiAqIEByZXR1cm5zIHt2ZWMyfSBhIG5ldyAyRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMyIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7dmVjMn0gYSBuZXcgMkQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzIgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjMn0gYSBuZXcgMkQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMyIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMiB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMyIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMyJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF0sXG4gICAgICB5ID0gYlsxXSAtIGFbMV07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHkpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdLFxuICAgICAgeSA9IGJbMV0gLSBhWzFdO1xuICByZXR1cm4geCAqIHggKyB5ICogeTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICByZXR1cm4geCAqIHggKyB5ICogeTtcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHk7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMidzXG4gKiBOb3RlIHRoYXQgdGhlIGNyb3NzIHByb2R1Y3QgbXVzdCBieSBkZWZpbml0aW9uIHByb2R1Y2UgYSAzRCB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIHogPSBhWzBdICogYlsxXSAtIGFbMV0gKiBiWzBdO1xuICBvdXRbMF0gPSBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV07XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHNjYWxlO1xuICBvdXRbMV0gPSBNYXRoLnNpbihyKSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MihvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVsyXSAqIHk7XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVszXSAqIHk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDJkXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDJkKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzJdICogeSArIG1bNF07XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVszXSAqIHkgKyBtWzVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQzXG4gKiAzcmQgdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bM10gKiB5ICsgbVs2XTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzRdICogeSArIG1bN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDRcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzAnXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVsxMl07XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzEzXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgMkQgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIFRoZSB2ZWMyIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgYiwgcmFkKSB7XG4gIC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cbiAgdmFyIHAwID0gYVswXSAtIGJbMF0sXG4gICAgICBwMSA9IGFbMV0gLSBiWzFdLFxuICAgICAgc2luQyA9IE1hdGguc2luKHJhZCksXG4gICAgICBjb3NDID0gTWF0aC5jb3MocmFkKTsgLy9wZXJmb3JtIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHAwICogY29zQyAtIHAxICogc2luQyArIGJbMF07XG4gIG91dFsxXSA9IHAwICogc2luQyArIHAxICogY29zQyArIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gMkQgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgeDEgPSBhWzBdLFxuICAgICAgeTEgPSBhWzFdLFxuICAgICAgeDIgPSBiWzBdLFxuICAgICAgeTIgPSBiWzFdLFxuICAgICAgLy8gbWFnIGlzIHRoZSBwcm9kdWN0IG9mIHRoZSBtYWduaXR1ZGVzIG9mIGEgYW5kIGJcbiAgbWFnID0gTWF0aC5zcXJ0KHgxICogeDEgKyB5MSAqIHkxKSAqIE1hdGguc3FydCh4MiAqIHgyICsgeTIgKiB5MiksXG4gICAgICAvLyBtYWcgJiYuLiBzaG9ydCBjaXJjdWl0cyBpZiBtYWcgPT0gMFxuICBjb3NpbmUgPSBtYWcgJiYgKHgxICogeDIgKyB5MSAqIHkyKSAvIG1hZzsgLy8gTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpIGNsYW1wcyB0aGUgY29zaW5lIGJldHdlZW4gLTEgYW5kIDFcblxuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzIgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMihcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgZXhhY3RseSBoYXZlIHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuZGl2aWRlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5kaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuc3F1YXJlZERpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzJzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzIuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMycyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAyO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/vec2.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec3.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec3.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   angle: () => (/* binding */ angle),\n/* harmony export */   bezier: () => (/* binding */ bezier),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   cross: () => (/* binding */ cross),\n/* harmony export */   dist: () => (/* binding */ dist),\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   div: () => (/* binding */ div),\n/* harmony export */   divide: () => (/* binding */ divide),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   floor: () => (/* binding */ floor),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   hermite: () => (/* binding */ hermite),\n/* harmony export */   inverse: () => (/* binding */ inverse),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   sqrDist: () => (/* binding */ sqrDist),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   transformMat3: () => (/* binding */ transformMat3),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4),\n/* harmony export */   transformQuat: () => (/* binding */ transformQuat),\n/* harmony export */   zero: () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nfunction fromValues(x, y, z) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n  var z = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjO0FBQ2Q7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBLHFCQUFxQixPQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanM/OWZlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjM1xuICpcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogejtcblxuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgb3V0WzJdID0gYVsyXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICBvdXRbMl0gPSB6ICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgcXVhdFxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXTtcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMl0gKiBNYXRoLnNpbihyYWQpICsgcFswXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMV0gPSBwWzFdO1xuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIG1hZzEgPSBNYXRoLnNxcnQoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSxcbiAgICAgIG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSxcbiAgICAgIG1hZyA9IG1hZzEgKiBtYWcyLFxuICAgICAgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gMztcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/vec3.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec4.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec4.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   cross: () => (/* binding */ cross),\n/* harmony export */   dist: () => (/* binding */ dist),\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   div: () => (/* binding */ div),\n/* harmony export */   divide: () => (/* binding */ divide),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   floor: () => (/* binding */ floor),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   inverse: () => (/* binding */ inverse),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   sqrDist: () => (/* binding */ sqrDist),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4),\n/* harmony export */   transformQuat: () => (/* binding */ transformQuat),\n/* harmony export */   zero: () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nfunction fromValues(x, y, z, w) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    v2 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    v4 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcz82ZTVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0IERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWM0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWM0XG4gKlxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6LCB3KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeiwgdykge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIG91dFszXSA9IGFbM10gKiBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIG91dFszXSA9IGFbM10gLyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguY2VpbChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmZsb29yKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIG91dFszXSA9IE1hdGgubWluKGFbM10sIGJbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIG91dFszXSA9IE1hdGgubWF4KGFbM10sIGJbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIG91dFszXSA9IE1hdGgucm91bmQoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gLWFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgb3V0WzNdID0gMS4wIC8gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSB4ICogbGVuO1xuICBvdXRbMV0gPSB5ICogbGVuO1xuICBvdXRbMl0gPSB6ICogbGVuO1xuICBvdXRbM10gPSB3ICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdICsgYVszXSAqIGJbM107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gcmVzdWx0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVSB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gViB0aGUgc2Vjb25kIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFcgdGhlIHRoaXJkIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIHUsIHYsIHcpIHtcbiAgdmFyIEEgPSB2WzBdICogd1sxXSAtIHZbMV0gKiB3WzBdLFxuICAgICAgQiA9IHZbMF0gKiB3WzJdIC0gdlsyXSAqIHdbMF0sXG4gICAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcbiAgICAgIEQgPSB2WzFdICogd1syXSAtIHZbMl0gKiB3WzFdLFxuICAgICAgRSA9IHZbMV0gKiB3WzNdIC0gdlszXSAqIHdbMV0sXG4gICAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcbiAgdmFyIEcgPSB1WzBdO1xuICB2YXIgSCA9IHVbMV07XG4gIHZhciBJID0gdVsyXTtcbiAgdmFyIEogPSB1WzNdO1xuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgdmFyIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wOyAvLyBNYXJzYWdsaWEsIEdlb3JnZS4gQ2hvb3NpbmcgYSBQb2ludCBmcm9tIHRoZSBTdXJmYWNlIG9mIGFcbiAgLy8gU3BoZXJlLiBBbm4uIE1hdGguIFN0YXRpc3QuIDQzICgxOTcyKSwgbm8uIDIsIDY0NS0tNjQ2LlxuICAvLyBodHRwOi8vcHJvamVjdGV1Y2xpZC5vcmcvZXVjbGlkLmFvbXMvMTE3NzY5MjY0NDtcblxuICB2YXIgdjEsIHYyLCB2MywgdjQ7XG4gIHZhciBzMSwgczI7XG5cbiAgZG8ge1xuICAgIHYxID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICB2MiA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgczEgPSB2MSAqIHYxICsgdjIgKiB2MjtcbiAgfSB3aGlsZSAoczEgPj0gMSk7XG5cbiAgZG8ge1xuICAgIHYzID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICB2NCA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcbiAgfSB3aGlsZSAoczIgPj0gMSk7XG5cbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XG4gIG91dFswXSA9IHNjYWxlICogdjE7XG4gIG91dFsxXSA9IHNjYWxlICogdjI7XG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgbWF0NC5cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBxdWF0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107IC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjXG5cbiAgdmFyIGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICB2YXIgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG4gIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcbiAgdmFyIGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gIG91dFswXSA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gIG91dFsxXSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7XG4gIG91dFsyXSA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzQuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWM0cyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/vec4.js\n");

/***/ }),

/***/ "./node_modules/preact/dist/preact.module.js":
/*!***************************************************!*\
  !*** ./node_modules/preact/dist/preact.module.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ b),\n/* harmony export */   Fragment: () => (/* binding */ k),\n/* harmony export */   cloneElement: () => (/* binding */ E),\n/* harmony export */   createContext: () => (/* binding */ G),\n/* harmony export */   createElement: () => (/* binding */ _),\n/* harmony export */   createRef: () => (/* binding */ m),\n/* harmony export */   h: () => (/* binding */ _),\n/* harmony export */   hydrate: () => (/* binding */ D),\n/* harmony export */   isValidElement: () => (/* binding */ t),\n/* harmony export */   options: () => (/* binding */ l),\n/* harmony export */   render: () => (/* binding */ B),\n/* harmony export */   toChildArray: () => (/* binding */ H)\n/* harmony export */ });\nvar n,l,u,t,i,o,r,f,e,c,s,a,h={},p=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function w(n){var l=n.parentNode;l&&l.removeChild(n)}function _(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return g(l,f,i,o,null)}function g(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function m(){return{current:null}}function k(n){return n.children}function b(n,l){this.props=n,this.context=l}function x(n,l){if(null==l)return n.__?x(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?x(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!P.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(P)}function P(){var n,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,c=[],s=[],t.__P&&((o=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),O(t.__P,o,r,t.__n,t.__P.namespaceURI,32&r.__u?[e]:null,c,null==e?x(r):e,!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,j(c,o,s),o.__e!=e&&C(o)),i.length>u&&i.sort(f));P.__r=0}function S(n,l,u,t,i,o,r,f,e,c,s){var a,v,y,d,w,_=t&&t.__k||p,g=l.length;for(u.__d=e,$(u,l,_),e=u.__d,a=0;a<g;a++)null!=(y=u.__k[a])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(v=-1===y.__i?h:_[y.__i]||h,y.__i=a,O(n,y,v,i,o,r,f,e,c,s),d=y.__e,y.ref&&v.ref!=y.ref&&(v.ref&&N(v.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),65536&y.__u||v.__k===y.__k?e=I(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=w}function $(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)r=t+a,null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?g(null,i,null,null,null):y(i)?g(k,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?g(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=L(i,u,r,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f==r-1?a--:f==r+1?a++:f>r?s>e-r?a+=f-r:a--:f<r&&(f==r-a?a-=f-r:a++),f!==t+a&&(i.__u|=65536))):(o=u[r])&&null==o.key&&o.__e&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o,!1),u[r]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o))}function I(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=I(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=x(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(y(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type&&0==(131072&e.__u))return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||v.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"===l||\"onFocusIn\"===l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=e,n.addEventListener(l,o?s:c,o)):n.removeEventListener(l,o?s:c,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=e++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,f,e,c,s){var a,h,p,v,w,_,g,m,x,C,M,P,$,I,H,L,T=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(m=u.props,x=\"prototype\"in T&&T.prototype.render,C=(a=T.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?g=(h=u.__c=t.__c).__=h.__E:(x?u.__c=h=new T(m,M):(u.__c=h=new b(m,M),h.constructor=T,h.render=q),C&&C.sub(h),h.props=m,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),x&&null==h.__s&&(h.__s=h.state),x&&null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,T.getDerivedStateFromProps(m,h.__s))),v=h.props,w=h.state,h.__v=u,p)x&&null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),x&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(x&&null==T.getDerivedStateFromProps&&m!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,M),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,M)||u.__v===t.__v)){for(u.__v!==t.__v&&(h.props=m,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,M),x&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,w,_)})}if(h.context=M,h.props=m,h.__P=n,h.__e=!1,$=l.__r,I=0,x){for(h.state=h.__s,h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++I<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),x&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,w)),S(n,y(L=null!=a&&a.type===k&&null==a.key?a.props.children:a)?L:[L],u,t,i,o,r,f,e,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&f.push(h),g&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r){for(u.__u|=c?160:32;e&&8===e.nodeType&&e.nextSibling;)e=e.nextSibling;r[r.indexOf(e)]=null,u.__e=e}else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(l,u,t,i,o,r,f,e,c){var s,a,p,v,d,_,g,m=t.props,k=u.props,b=u.type;if(\"svg\"===b?o=\"http://www.w3.org/2000/svg\":\"math\"===b?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=r)for(s=0;s<r.length;s++)if((d=r[s])&&\"setAttribute\"in d==!!b&&(b?d.localName===b:3===d.nodeType)){l=d,r[s]=null;break}if(null==l){if(null===b)return document.createTextNode(k);l=document.createElementNS(o,b,k.is&&k),r=null,e=!1}if(null===b)m===k||e&&l.data===k||(l.data=k);else{if(r=r&&n.call(l.childNodes),m=t.props||h,!e&&null!=r)for(m={},s=0;s<l.attributes.length;s++)m[(d=l.attributes[s]).name]=d.value;for(s in m)if(d=m[s],\"children\"==s);else if(\"dangerouslySetInnerHTML\"==s)p=d;else if(\"key\"!==s&&!(s in k)){if(\"value\"==s&&\"defaultValue\"in k||\"checked\"==s&&\"defaultChecked\"in k)continue;A(l,s,null,d,o)}for(s in k)d=k[s],\"children\"==s?v=d:\"dangerouslySetInnerHTML\"==s?a=d:\"value\"==s?_=d:\"checked\"==s?g=d:\"key\"===s||e&&\"function\"!=typeof d||m[s]===d||A(l,s,d,m[s],o);if(a)e||p&&(a.__html===p.__html||a.__html===l.innerHTML)||(l.innerHTML=a.__html),u.__k=[];else if(p&&(l.innerHTML=\"\"),S(l,y(v)?v:[v],u,t,i,\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":o,r,f,r?r[0]:t.__k&&x(t,0),e,c),null!=r)for(s=r.length;s--;)null!=r[s]&&w(r[s]);e||(s=\"value\",void 0!==_&&(_!==l[s]||\"progress\"===b&&!_||\"option\"===b&&_!==m[s])&&A(l,s,_,m[s],o),s=\"checked\",void 0!==g&&g!==l[s]&&A(l,s,g,m[s],o))}return l}function N(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function V(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&V(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||w(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],O(t,u=(!o&&i||t).__k=_(k,null,[u]),r||h,h,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),j(f,u,e)}function D(n,l){B(n,l,D)}function E(l,u,t){var i,o,r,f,e=d({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),g(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+a++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=p.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},b.prototype.render=k,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},P.__r=0,e=0,c=F(!1),s=F(!0),a=0;\n//# sourceMappingURL=preact.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvcHJlYWN0Lm1vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBZ0MsNEZBQTRGLGdCQUFnQix5QkFBeUIsU0FBUyxjQUFjLG1CQUFtQixvQkFBb0Isa0JBQWtCLGVBQWUscURBQXFELHdMQUF3TCx1QkFBdUIsc0JBQXNCLE9BQU8sa0lBQWtJLDRDQUE0QyxhQUFhLE9BQU8sY0FBYyxjQUFjLGtCQUFrQixnQkFBZ0IsNEJBQTRCLGdCQUFnQiw0Q0FBNEMsVUFBVSxlQUFlLG9EQUFvRCwwQ0FBMEMsY0FBYyxRQUFRLGdDQUFnQyw4QkFBOEIsZUFBZSx3Q0FBd0MsdUJBQXVCLE1BQU0sYUFBYSxjQUFjLG9HQUFvRyxhQUFhLG9CQUFvQixjQUFjLFlBQVksMEVBQTBFLDJNQUEyTSxRQUFRLGtDQUFrQyx1Q0FBdUMsaUNBQWlDLElBQUksK1dBQStXLGdCQUFnQixrQkFBa0IsNENBQTRDLGlCQUFpQixJQUFJLGdOQUFnTixXQUFXLHNkQUFzZCxhQUFhLElBQUksMkVBQTJFLGtCQUFrQixRQUFRLDhCQUE4QixnQkFBZ0IsY0FBYyxvQ0FBb0MsU0FBUyxzRkFBc0YsR0FBRyxtQkFBbUIsK0JBQStCLFNBQVMsZ0JBQWdCLHNFQUFzRSxPQUFPLGVBQWUsb0JBQW9CLHdDQUF3QyxpRUFBaUUsMkNBQTJDLGlCQUFpQixFQUFFLFNBQVMsOERBQThELElBQUksZUFBZSw4REFBOEQsS0FBSyxTQUFTLGtCQUFrQixnR0FBZ0csc0JBQXNCLE1BQU0seURBQXlELEtBQUssc0ZBQXNGLGtEQUFrRCxnTUFBZ00sZ0dBQWdHLEtBQUssd0ZBQXdGLGdLQUFnSyxrQkFBa0IsUUFBUSxVQUFVLG9IQUFvSCxjQUFjLG1CQUFtQixXQUFXLHVCQUF1QixxQkFBcUIsdUJBQXVCLGlDQUFpQyxnQ0FBZ0MsNkNBQTZDLHNDQUFzQyw4REFBOEQsOEJBQThCLDZQQUE2UCxxSkFBcUosMk9BQTJPLEtBQUssb05BQW9OLHdHQUF3RyxZQUFZLE1BQU0sZUFBZSx5QkFBeUIsaUNBQWlDLFFBQVEsbUhBQW1ILDRCQUE0QixFQUFFLHlEQUF5RCw2RUFBNkUsZUFBZSx5QkFBeUIsU0FBUyxRQUFRLHFFQUFxRSxxQkFBcUIsZ0RBQWdELGlRQUFpUSxTQUFTLDBCQUEwQixvQkFBb0IsaUNBQWlDLGlCQUFpQiw2QkFBNkIsNkJBQTZCLGFBQWEscUZBQXFGLG1CQUFtQixrQkFBa0IsYUFBYSxZQUFZLFdBQVcsMEJBQTBCLHFDQUFxQyxJQUFJLG9DQUFvQyxVQUFVLEVBQUUsU0FBUyxnQkFBZ0IsRUFBRSw4QkFBOEIsK0NBQStDLG9KQUFvSixXQUFXLDhFQUE4RSxjQUFjLE1BQU0sWUFBWSw4Q0FBOEMsb0RBQW9ELDZDQUE2QyxLQUFLLDhEQUE4RCxLQUFLLHNCQUFzQix3Q0FBd0Msb0NBQW9DLHlDQUF5Qyw4QkFBOEIsK0VBQStFLGdCQUFnQixtS0FBbUssMEZBQTBGLDJKQUEySixJQUFJLHFCQUFxQixxSkFBcUosU0FBUyxrQkFBa0IsSUFBSSx5QkFBeUIsK0JBQStCLG9DQUFvQyxpQkFBaUIsU0FBUyxZQUFZLGtCQUFrQixRQUFRLG1HQUFtRyw4QkFBOEIseUJBQXlCLFNBQVMsV0FBVyxrQkFBa0IsbUJBQW1CLFdBQVcsaURBQWlELHVEQUF1RCxrQkFBa0IsNkJBQTZCLGtCQUFrQixZQUFZLHdPQUF3TyxnQkFBZ0IsU0FBUyxrQkFBa0Isa0JBQWtCLFVBQVUseUlBQXlJLG9IQUFvSCxnQkFBZ0IsT0FBTyw2Q0FBNkMscUJBQXFCLHNCQUFzQixRQUFRLHdDQUF3QywwQ0FBMEMsU0FBUyxzQ0FBc0MsT0FBTyx3Q0FBd0MsK0NBQStDLGNBQWMsRUFBRSxzQkFBc0IsVUFBVSw2QkFBNkIsa0NBQWtDLDBDQUEwQyxlQUFlLDhDQUE4QyxhQUFhLHNCQUFzQixjQUFjLE9BQU8seUJBQXlCLG1LQUFtSyw0QkFBNEIsU0FBUyxJQUFJLFNBQVMsbUJBQW1CLG9DQUFvQyxvQ0FBb0MsTUFBTSw4REFBOEQsNENBQTRDLDRFQUE0RSxxQ0FBcUMsb0RBQW9ELGtJQUFrSSwyQkFBMkIsaUNBQWdPO0FBQzV4VyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0L3ByZWFjdC5tb2R1bGUuanM/ZGE2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbixsLHUsdCxpLG8scixmLGUsYyxzLGEsaD17fSxwPVtdLHY9L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaSx5PUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gZChuLGwpe2Zvcih2YXIgdSBpbiBsKW5bdV09bFt1XTtyZXR1cm4gbn1mdW5jdGlvbiB3KG4pe3ZhciBsPW4ucGFyZW50Tm9kZTtsJiZsLnJlbW92ZUNoaWxkKG4pfWZ1bmN0aW9uIF8obCx1LHQpe3ZhciBpLG8scixmPXt9O2ZvcihyIGluIHUpXCJrZXlcIj09cj9pPXVbcl06XCJyZWZcIj09cj9vPXVbcl06ZltyXT11W3JdO2lmKGFyZ3VtZW50cy5sZW5ndGg+MiYmKGYuY2hpbGRyZW49YXJndW1lbnRzLmxlbmd0aD4zP24uY2FsbChhcmd1bWVudHMsMik6dCksXCJmdW5jdGlvblwiPT10eXBlb2YgbCYmbnVsbCE9bC5kZWZhdWx0UHJvcHMpZm9yKHIgaW4gbC5kZWZhdWx0UHJvcHMpdm9pZCAwPT09ZltyXSYmKGZbcl09bC5kZWZhdWx0UHJvcHNbcl0pO3JldHVybiBnKGwsZixpLG8sbnVsbCl9ZnVuY3Rpb24gZyhuLHQsaSxvLHIpe3ZhciBmPXt0eXBlOm4scHJvcHM6dCxrZXk6aSxyZWY6byxfX2s6bnVsbCxfXzpudWxsLF9fYjowLF9fZTpudWxsLF9fZDp2b2lkIDAsX19jOm51bGwsY29uc3RydWN0b3I6dm9pZCAwLF9fdjpudWxsPT1yPysrdTpyLF9faTotMSxfX3U6MH07cmV0dXJuIG51bGw9PXImJm51bGwhPWwudm5vZGUmJmwudm5vZGUoZiksZn1mdW5jdGlvbiBtKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19ZnVuY3Rpb24gayhuKXtyZXR1cm4gbi5jaGlsZHJlbn1mdW5jdGlvbiBiKG4sbCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD1sfWZ1bmN0aW9uIHgobixsKXtpZihudWxsPT1sKXJldHVybiBuLl9fP3gobi5fXyxuLl9faSsxKTpudWxsO2Zvcih2YXIgdTtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSlyZXR1cm4gdS5fX2U7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlP3gobik6bnVsbH1mdW5jdGlvbiBDKG4pe3ZhciBsLHU7aWYobnVsbCE9KG49bi5fXykmJm51bGwhPW4uX19jKXtmb3Iobi5fX2U9bi5fX2MuYmFzZT1udWxsLGw9MDtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSl7bi5fX2U9bi5fX2MuYmFzZT11Ll9fZTticmVha31yZXR1cm4gQyhuKX19ZnVuY3Rpb24gTShuKXsoIW4uX19kJiYobi5fX2Q9ITApJiZpLnB1c2gobikmJiFQLl9fcisrfHxvIT09bC5kZWJvdW5jZVJlbmRlcmluZykmJigobz1sLmRlYm91bmNlUmVuZGVyaW5nKXx8cikoUCl9ZnVuY3Rpb24gUCgpe3ZhciBuLHUsdCxvLHIsZSxjLHM7Zm9yKGkuc29ydChmKTtuPWkuc2hpZnQoKTspbi5fX2QmJih1PWkubGVuZ3RoLG89dm9pZCAwLGU9KHI9KHQ9bikuX192KS5fX2UsYz1bXSxzPVtdLHQuX19QJiYoKG89ZCh7fSxyKSkuX192PXIuX192KzEsbC52bm9kZSYmbC52bm9kZShvKSxPKHQuX19QLG8scix0Ll9fbix0Ll9fUC5uYW1lc3BhY2VVUkksMzImci5fX3U/W2VdOm51bGwsYyxudWxsPT1lP3gocik6ZSwhISgzMiZyLl9fdSkscyksby5fX3Y9ci5fX3Ysby5fXy5fX2tbby5fX2ldPW8saihjLG8scyksby5fX2UhPWUmJkMobykpLGkubGVuZ3RoPnUmJmkuc29ydChmKSk7UC5fX3I9MH1mdW5jdGlvbiBTKG4sbCx1LHQsaSxvLHIsZixlLGMscyl7dmFyIGEsdix5LGQsdyxfPXQmJnQuX19rfHxwLGc9bC5sZW5ndGg7Zm9yKHUuX19kPWUsJCh1LGwsXyksZT11Ll9fZCxhPTA7YTxnO2ErKyludWxsIT0oeT11Ll9fa1thXSkmJlwiYm9vbGVhblwiIT10eXBlb2YgeSYmXCJmdW5jdGlvblwiIT10eXBlb2YgeSYmKHY9LTE9PT15Ll9faT9oOl9beS5fX2ldfHxoLHkuX19pPWEsTyhuLHksdixpLG8scixmLGUsYyxzKSxkPXkuX19lLHkucmVmJiZ2LnJlZiE9eS5yZWYmJih2LnJlZiYmTih2LnJlZixudWxsLHkpLHMucHVzaCh5LnJlZix5Ll9fY3x8ZCx5KSksbnVsbD09dyYmbnVsbCE9ZCYmKHc9ZCksNjU1MzYmeS5fX3V8fHYuX19rPT09eS5fX2s/ZT1JKHksZSxuKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB5LnR5cGUmJnZvaWQgMCE9PXkuX19kP2U9eS5fX2Q6ZCYmKGU9ZC5uZXh0U2libGluZykseS5fX2Q9dm9pZCAwLHkuX191Jj0tMTk2NjA5KTt1Ll9fZD1lLHUuX19lPXd9ZnVuY3Rpb24gJChuLGwsdSl7dmFyIHQsaSxvLHIsZixlPWwubGVuZ3RoLGM9dS5sZW5ndGgscz1jLGE9MDtmb3Iobi5fX2s9W10sdD0wO3Q8ZTt0Kyspcj10K2EsbnVsbCE9KGk9bi5fX2tbdF09bnVsbD09KGk9bFt0XSl8fFwiYm9vbGVhblwiPT10eXBlb2YgaXx8XCJmdW5jdGlvblwiPT10eXBlb2YgaT9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiBpfHxcIm51bWJlclwiPT10eXBlb2YgaXx8XCJiaWdpbnRcIj09dHlwZW9mIGl8fGkuY29uc3RydWN0b3I9PVN0cmluZz9nKG51bGwsaSxudWxsLG51bGwsbnVsbCk6eShpKT9nKGsse2NoaWxkcmVuOml9LG51bGwsbnVsbCxudWxsKTp2b2lkIDA9PT1pLmNvbnN0cnVjdG9yJiZpLl9fYj4wP2coaS50eXBlLGkucHJvcHMsaS5rZXksaS5yZWY/aS5yZWY6bnVsbCxpLl9fdik6aSk/KGkuX189bixpLl9fYj1uLl9fYisxLGY9TChpLHUscixzKSxpLl9faT1mLG89bnVsbCwtMSE9PWYmJihzLS0sKG89dVtmXSkmJihvLl9fdXw9MTMxMDcyKSksbnVsbD09b3x8bnVsbD09PW8uX192PygtMT09ZiYmYS0tLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkudHlwZSYmKGkuX191fD02NTUzNikpOmYhPT1yJiYoZj09ci0xP2EtLTpmPT1yKzE/YSsrOmY+cj9zPmUtcj9hKz1mLXI6YS0tOmY8ciYmKGY9PXItYT9hLT1mLXI6YSsrKSxmIT09dCthJiYoaS5fX3V8PTY1NTM2KSkpOihvPXVbcl0pJiZudWxsPT1vLmtleSYmby5fX2UmJjA9PSgxMzEwNzImby5fX3UpJiYoby5fX2U9PW4uX19kJiYobi5fX2Q9eChvKSksVihvLG8sITEpLHVbcl09bnVsbCxzLS0pO2lmKHMpZm9yKHQ9MDt0PGM7dCsrKW51bGwhPShvPXVbdF0pJiYwPT0oMTMxMDcyJm8uX191KSYmKG8uX19lPT1uLl9fZCYmKG4uX19kPXgobykpLFYobyxvKSl9ZnVuY3Rpb24gSShuLGwsdSl7dmFyIHQsaTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnR5cGUpe2Zvcih0PW4uX19rLGk9MDt0JiZpPHQubGVuZ3RoO2krKyl0W2ldJiYodFtpXS5fXz1uLGw9SSh0W2ldLGwsdSkpO3JldHVybiBsfW4uX19lIT1sJiYobCYmbi50eXBlJiYhdS5jb250YWlucyhsKSYmKGw9eChuKSksdS5pbnNlcnRCZWZvcmUobi5fX2UsbHx8bnVsbCksbD1uLl9fZSk7ZG97bD1sJiZsLm5leHRTaWJsaW5nfXdoaWxlKG51bGwhPWwmJjg9PT1sLm5vZGVUeXBlKTtyZXR1cm4gbH1mdW5jdGlvbiBIKG4sbCl7cmV0dXJuIGw9bHx8W10sbnVsbD09bnx8XCJib29sZWFuXCI9PXR5cGVvZiBufHwoeShuKT9uLnNvbWUoZnVuY3Rpb24obil7SChuLGwpfSk6bC5wdXNoKG4pKSxsfWZ1bmN0aW9uIEwobixsLHUsdCl7dmFyIGk9bi5rZXksbz1uLnR5cGUscj11LTEsZj11KzEsZT1sW3VdO2lmKG51bGw9PT1lfHxlJiZpPT1lLmtleSYmbz09PWUudHlwZSYmMD09KDEzMTA3MiZlLl9fdSkpcmV0dXJuIHU7aWYodD4obnVsbCE9ZSYmMD09KDEzMTA3MiZlLl9fdSk/MTowKSlmb3IoO3I+PTB8fGY8bC5sZW5ndGg7KXtpZihyPj0wKXtpZigoZT1sW3JdKSYmMD09KDEzMTA3MiZlLl9fdSkmJmk9PWUua2V5JiZvPT09ZS50eXBlKXJldHVybiByO3ItLX1pZihmPGwubGVuZ3RoKXtpZigoZT1sW2ZdKSYmMD09KDEzMTA3MiZlLl9fdSkmJmk9PWUua2V5JiZvPT09ZS50eXBlKXJldHVybiBmO2YrK319cmV0dXJuLTF9ZnVuY3Rpb24gVChuLGwsdSl7XCItXCI9PT1sWzBdP24uc2V0UHJvcGVydHkobCxudWxsPT11P1wiXCI6dSk6bltsXT1udWxsPT11P1wiXCI6XCJudW1iZXJcIiE9dHlwZW9mIHV8fHYudGVzdChsKT91OnUrXCJweFwifWZ1bmN0aW9uIEEobixsLHUsdCxpKXt2YXIgbztuOmlmKFwic3R5bGVcIj09PWwpaWYoXCJzdHJpbmdcIj09dHlwZW9mIHUpbi5zdHlsZS5jc3NUZXh0PXU7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKG4uc3R5bGUuY3NzVGV4dD10PVwiXCIpLHQpZm9yKGwgaW4gdCl1JiZsIGluIHV8fFQobi5zdHlsZSxsLFwiXCIpO2lmKHUpZm9yKGwgaW4gdSl0JiZ1W2xdPT09dFtsXXx8VChuLnN0eWxlLGwsdVtsXSl9ZWxzZSBpZihcIm9cIj09PWxbMF0mJlwiblwiPT09bFsxXSlvPWwhPT0obD1sLnJlcGxhY2UoLyhQb2ludGVyQ2FwdHVyZSkkfENhcHR1cmUkL2ksXCIkMVwiKSksbD1sLnRvTG93ZXJDYXNlKClpbiBufHxcIm9uRm9jdXNPdXRcIj09PWx8fFwib25Gb2N1c0luXCI9PT1sP2wudG9Mb3dlckNhc2UoKS5zbGljZSgyKTpsLnNsaWNlKDIpLG4ubHx8KG4ubD17fSksbi5sW2wrb109dSx1P3Q/dS51PXQudToodS51PWUsbi5hZGRFdmVudExpc3RlbmVyKGwsbz9zOmMsbykpOm4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihsLG8/czpjLG8pO2Vsc2V7aWYoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT1pKWw9bC5yZXBsYWNlKC94bGluayhIfDpoKS8sXCJoXCIpLnJlcGxhY2UoL3NOYW1lJC8sXCJzXCIpO2Vsc2UgaWYoXCJ3aWR0aFwiIT1sJiZcImhlaWdodFwiIT1sJiZcImhyZWZcIiE9bCYmXCJsaXN0XCIhPWwmJlwiZm9ybVwiIT1sJiZcInRhYkluZGV4XCIhPWwmJlwiZG93bmxvYWRcIiE9bCYmXCJyb3dTcGFuXCIhPWwmJlwiY29sU3BhblwiIT1sJiZcInJvbGVcIiE9bCYmXCJwb3BvdmVyXCIhPWwmJmwgaW4gbil0cnl7bltsXT1udWxsPT11P1wiXCI6dTticmVhayBufWNhdGNoKG4pe31cImZ1bmN0aW9uXCI9PXR5cGVvZiB1fHwobnVsbD09dXx8ITE9PT11JiZcIi1cIiE9PWxbNF0/bi5yZW1vdmVBdHRyaWJ1dGUobCk6bi5zZXRBdHRyaWJ1dGUobCxcInBvcG92ZXJcIj09bCYmMT09dT9cIlwiOnUpKX19ZnVuY3Rpb24gRihuKXtyZXR1cm4gZnVuY3Rpb24odSl7aWYodGhpcy5sKXt2YXIgdD10aGlzLmxbdS50eXBlK25dO2lmKG51bGw9PXUudCl1LnQ9ZSsrO2Vsc2UgaWYodS50PHQudSlyZXR1cm47cmV0dXJuIHQobC5ldmVudD9sLmV2ZW50KHUpOnUpfX19ZnVuY3Rpb24gTyhuLHUsdCxpLG8scixmLGUsYyxzKXt2YXIgYSxoLHAsdix3LF8sZyxtLHgsQyxNLFAsJCxJLEgsTCxUPXUudHlwZTtpZih2b2lkIDAhPT11LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOzEyOCZ0Ll9fdSYmKGM9ISEoMzImdC5fX3UpLHI9W2U9dS5fX2U9dC5fX2VdKSwoYT1sLl9fYikmJmEodSk7bjppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBUKXRyeXtpZihtPXUucHJvcHMseD1cInByb3RvdHlwZVwiaW4gVCYmVC5wcm90b3R5cGUucmVuZGVyLEM9KGE9VC5jb250ZXh0VHlwZSkmJmlbYS5fX2NdLE09YT9DP0MucHJvcHMudmFsdWU6YS5fXzppLHQuX19jP2c9KGg9dS5fX2M9dC5fX2MpLl9fPWguX19FOih4P3UuX19jPWg9bmV3IFQobSxNKToodS5fX2M9aD1uZXcgYihtLE0pLGguY29uc3RydWN0b3I9VCxoLnJlbmRlcj1xKSxDJiZDLnN1YihoKSxoLnByb3BzPW0saC5zdGF0ZXx8KGguc3RhdGU9e30pLGguY29udGV4dD1NLGguX19uPWkscD1oLl9fZD0hMCxoLl9faD1bXSxoLl9zYj1bXSkseCYmbnVsbD09aC5fX3MmJihoLl9fcz1oLnN0YXRlKSx4JiZudWxsIT1ULmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmKGguX19zPT1oLnN0YXRlJiYoaC5fX3M9ZCh7fSxoLl9fcykpLGQoaC5fX3MsVC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobSxoLl9fcykpKSx2PWgucHJvcHMsdz1oLnN0YXRlLGguX192PXUscCl4JiZudWxsPT1ULmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmbnVsbCE9aC5jb21wb25lbnRXaWxsTW91bnQmJmguY29tcG9uZW50V2lsbE1vdW50KCkseCYmbnVsbCE9aC5jb21wb25lbnREaWRNb3VudCYmaC5fX2gucHVzaChoLmNvbXBvbmVudERpZE1vdW50KTtlbHNle2lmKHgmJm51bGw9PVQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZtIT09diYmbnVsbCE9aC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZoLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobSxNKSwhaC5fX2UmJihudWxsIT1oLnNob3VsZENvbXBvbmVudFVwZGF0ZSYmITE9PT1oLnNob3VsZENvbXBvbmVudFVwZGF0ZShtLGguX19zLE0pfHx1Ll9fdj09PXQuX192KSl7Zm9yKHUuX192IT09dC5fX3YmJihoLnByb3BzPW0saC5zdGF0ZT1oLl9fcyxoLl9fZD0hMSksdS5fX2U9dC5fX2UsdS5fX2s9dC5fX2ssdS5fX2suZm9yRWFjaChmdW5jdGlvbihuKXtuJiYobi5fXz11KX0pLFA9MDtQPGguX3NiLmxlbmd0aDtQKyspaC5fX2gucHVzaChoLl9zYltQXSk7aC5fc2I9W10saC5fX2gubGVuZ3RoJiZmLnB1c2goaCk7YnJlYWsgbn1udWxsIT1oLmNvbXBvbmVudFdpbGxVcGRhdGUmJmguY29tcG9uZW50V2lsbFVwZGF0ZShtLGguX19zLE0pLHgmJm51bGwhPWguY29tcG9uZW50RGlkVXBkYXRlJiZoLl9faC5wdXNoKGZ1bmN0aW9uKCl7aC5jb21wb25lbnREaWRVcGRhdGUodix3LF8pfSl9aWYoaC5jb250ZXh0PU0saC5wcm9wcz1tLGguX19QPW4saC5fX2U9ITEsJD1sLl9fcixJPTAseCl7Zm9yKGguc3RhdGU9aC5fX3MsaC5fX2Q9ITEsJCYmJCh1KSxhPWgucmVuZGVyKGgucHJvcHMsaC5zdGF0ZSxoLmNvbnRleHQpLEg9MDtIPGguX3NiLmxlbmd0aDtIKyspaC5fX2gucHVzaChoLl9zYltIXSk7aC5fc2I9W119ZWxzZSBkb3toLl9fZD0hMSwkJiYkKHUpLGE9aC5yZW5kZXIoaC5wcm9wcyxoLnN0YXRlLGguY29udGV4dCksaC5zdGF0ZT1oLl9fc313aGlsZShoLl9fZCYmKytJPDI1KTtoLnN0YXRlPWguX19zLG51bGwhPWguZ2V0Q2hpbGRDb250ZXh0JiYoaT1kKGQoe30saSksaC5nZXRDaGlsZENvbnRleHQoKSkpLHgmJiFwJiZudWxsIT1oLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYoXz1oLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHYsdykpLFMobix5KEw9bnVsbCE9YSYmYS50eXBlPT09ayYmbnVsbD09YS5rZXk/YS5wcm9wcy5jaGlsZHJlbjphKT9MOltMXSx1LHQsaSxvLHIsZixlLGMscyksaC5iYXNlPXUuX19lLHUuX191Jj0tMTYxLGguX19oLmxlbmd0aCYmZi5wdXNoKGgpLGcmJihoLl9fRT1oLl9fPW51bGwpfWNhdGNoKG4pe2lmKHUuX192PW51bGwsY3x8bnVsbCE9cil7Zm9yKHUuX191fD1jPzE2MDozMjtlJiY4PT09ZS5ub2RlVHlwZSYmZS5uZXh0U2libGluZzspZT1lLm5leHRTaWJsaW5nO3Jbci5pbmRleE9mKGUpXT1udWxsLHUuX19lPWV9ZWxzZSB1Ll9fZT10Ll9fZSx1Ll9faz10Ll9faztsLl9fZShuLHUsdCl9ZWxzZSBudWxsPT1yJiZ1Ll9fdj09PXQuX192Pyh1Ll9faz10Ll9fayx1Ll9fZT10Ll9fZSk6dS5fX2U9eih0Ll9fZSx1LHQsaSxvLHIsZixjLHMpOyhhPWwuZGlmZmVkKSYmYSh1KX1mdW5jdGlvbiBqKG4sdSx0KXt1Ll9fZD12b2lkIDA7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspTih0W2ldLHRbKytpXSx0WysraV0pO2wuX19jJiZsLl9fYyh1LG4pLG4uc29tZShmdW5jdGlvbih1KXt0cnl7bj11Ll9faCx1Ll9faD1bXSxuLnNvbWUoZnVuY3Rpb24obil7bi5jYWxsKHUpfSl9Y2F0Y2gobil7bC5fX2Uobix1Ll9fdil9fSl9ZnVuY3Rpb24geihsLHUsdCxpLG8scixmLGUsYyl7dmFyIHMsYSxwLHYsZCxfLGcsbT10LnByb3BzLGs9dS5wcm9wcyxiPXUudHlwZTtpZihcInN2Z1wiPT09Yj9vPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjpcIm1hdGhcIj09PWI/bz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIjpvfHwobz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiksbnVsbCE9cilmb3Iocz0wO3M8ci5sZW5ndGg7cysrKWlmKChkPXJbc10pJiZcInNldEF0dHJpYnV0ZVwiaW4gZD09ISFiJiYoYj9kLmxvY2FsTmFtZT09PWI6Mz09PWQubm9kZVR5cGUpKXtsPWQscltzXT1udWxsO2JyZWFrfWlmKG51bGw9PWwpe2lmKG51bGw9PT1iKXJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShrKTtsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhvLGIsay5pcyYmaykscj1udWxsLGU9ITF9aWYobnVsbD09PWIpbT09PWt8fGUmJmwuZGF0YT09PWt8fChsLmRhdGE9ayk7ZWxzZXtpZihyPXImJm4uY2FsbChsLmNoaWxkTm9kZXMpLG09dC5wcm9wc3x8aCwhZSYmbnVsbCE9cilmb3IobT17fSxzPTA7czxsLmF0dHJpYnV0ZXMubGVuZ3RoO3MrKyltWyhkPWwuYXR0cmlidXRlc1tzXSkubmFtZV09ZC52YWx1ZTtmb3IocyBpbiBtKWlmKGQ9bVtzXSxcImNoaWxkcmVuXCI9PXMpO2Vsc2UgaWYoXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT1zKXA9ZDtlbHNlIGlmKFwia2V5XCIhPT1zJiYhKHMgaW4gaykpe2lmKFwidmFsdWVcIj09cyYmXCJkZWZhdWx0VmFsdWVcImluIGt8fFwiY2hlY2tlZFwiPT1zJiZcImRlZmF1bHRDaGVja2VkXCJpbiBrKWNvbnRpbnVlO0EobCxzLG51bGwsZCxvKX1mb3IocyBpbiBrKWQ9a1tzXSxcImNoaWxkcmVuXCI9PXM/dj1kOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09cz9hPWQ6XCJ2YWx1ZVwiPT1zP189ZDpcImNoZWNrZWRcIj09cz9nPWQ6XCJrZXlcIj09PXN8fGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGR8fG1bc109PT1kfHxBKGwscyxkLG1bc10sbyk7aWYoYSllfHxwJiYoYS5fX2h0bWw9PT1wLl9faHRtbHx8YS5fX2h0bWw9PT1sLmlubmVySFRNTCl8fChsLmlubmVySFRNTD1hLl9faHRtbCksdS5fX2s9W107ZWxzZSBpZihwJiYobC5pbm5lckhUTUw9XCJcIiksUyhsLHkodik/djpbdl0sdSx0LGksXCJmb3JlaWduT2JqZWN0XCI9PT1iP1wiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiOm8scixmLHI/clswXTp0Ll9fayYmeCh0LDApLGUsYyksbnVsbCE9cilmb3Iocz1yLmxlbmd0aDtzLS07KW51bGwhPXJbc10mJncocltzXSk7ZXx8KHM9XCJ2YWx1ZVwiLHZvaWQgMCE9PV8mJihfIT09bFtzXXx8XCJwcm9ncmVzc1wiPT09YiYmIV98fFwib3B0aW9uXCI9PT1iJiZfIT09bVtzXSkmJkEobCxzLF8sbVtzXSxvKSxzPVwiY2hlY2tlZFwiLHZvaWQgMCE9PWcmJmchPT1sW3NdJiZBKGwscyxnLG1bc10sbykpfXJldHVybiBsfWZ1bmN0aW9uIE4obix1LHQpe3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuLl9fdTtpJiZuLl9fdSgpLGkmJm51bGw9PXV8fChuLl9fdT1uKHUpKX1lbHNlIG4uY3VycmVudD11fWNhdGNoKG4pe2wuX19lKG4sdCl9fWZ1bmN0aW9uIFYobix1LHQpe3ZhciBpLG87aWYobC51bm1vdW50JiZsLnVubW91bnQobiksKGk9bi5yZWYpJiYoaS5jdXJyZW50JiZpLmN1cnJlbnQhPT1uLl9fZXx8TihpLG51bGwsdSkpLG51bGwhPShpPW4uX19jKSl7aWYoaS5jb21wb25lbnRXaWxsVW5tb3VudCl0cnl7aS5jb21wb25lbnRXaWxsVW5tb3VudCgpfWNhdGNoKG4pe2wuX19lKG4sdSl9aS5iYXNlPWkuX19QPW51bGx9aWYoaT1uLl9faylmb3Iobz0wO288aS5sZW5ndGg7bysrKWlbb10mJlYoaVtvXSx1LHR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4udHlwZSk7dHx8bnVsbD09bi5fX2V8fHcobi5fX2UpLG4uX19jPW4uX189bi5fX2U9bi5fX2Q9dm9pZCAwfWZ1bmN0aW9uIHEobixsLHUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKG4sdSl9ZnVuY3Rpb24gQih1LHQsaSl7dmFyIG8scixmLGU7bC5fXyYmbC5fXyh1LHQpLHI9KG89XCJmdW5jdGlvblwiPT10eXBlb2YgaSk/bnVsbDppJiZpLl9fa3x8dC5fX2ssZj1bXSxlPVtdLE8odCx1PSghbyYmaXx8dCkuX19rPV8oayxudWxsLFt1XSkscnx8aCxoLHQubmFtZXNwYWNlVVJJLCFvJiZpP1tpXTpyP251bGw6dC5maXJzdENoaWxkP24uY2FsbCh0LmNoaWxkTm9kZXMpOm51bGwsZiwhbyYmaT9pOnI/ci5fX2U6dC5maXJzdENoaWxkLG8sZSksaihmLHUsZSl9ZnVuY3Rpb24gRChuLGwpe0IobixsLEQpfWZ1bmN0aW9uIEUobCx1LHQpe3ZhciBpLG8scixmLGU9ZCh7fSxsLnByb3BzKTtmb3IociBpbiBsLnR5cGUmJmwudHlwZS5kZWZhdWx0UHJvcHMmJihmPWwudHlwZS5kZWZhdWx0UHJvcHMpLHUpXCJrZXlcIj09cj9pPXVbcl06XCJyZWZcIj09cj9vPXVbcl06ZVtyXT12b2lkIDA9PT11W3JdJiZ2b2lkIDAhPT1mP2Zbcl06dVtyXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4yJiYoZS5jaGlsZHJlbj1hcmd1bWVudHMubGVuZ3RoPjM/bi5jYWxsKGFyZ3VtZW50cywyKTp0KSxnKGwudHlwZSxlLGl8fGwua2V5LG98fGwucmVmLG51bGwpfWZ1bmN0aW9uIEcobixsKXt2YXIgdT17X19jOmw9XCJfX2NDXCIrYSsrLF9fOm4sQ29uc3VtZXI6ZnVuY3Rpb24obixsKXtyZXR1cm4gbi5jaGlsZHJlbihsKX0sUHJvdmlkZXI6ZnVuY3Rpb24obil7dmFyIHUsdDtyZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHR8fCh1PVtdLCh0PXt9KVtsXT10aGlzLHRoaXMuZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHR9LHRoaXMuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt1PW51bGx9LHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKG4pe3RoaXMucHJvcHMudmFsdWUhPT1uLnZhbHVlJiZ1LnNvbWUoZnVuY3Rpb24obil7bi5fX2U9ITAsTShuKX0pfSx0aGlzLnN1Yj1mdW5jdGlvbihuKXt1LnB1c2gobik7dmFyIGw9bi5jb21wb25lbnRXaWxsVW5tb3VudDtuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dSYmdS5zcGxpY2UodS5pbmRleE9mKG4pLDEpLGwmJmwuY2FsbChuKX19KSxuLmNoaWxkcmVufX07cmV0dXJuIHUuUHJvdmlkZXIuX189dS5Db25zdW1lci5jb250ZXh0VHlwZT11fW49cC5zbGljZSxsPXtfX2U6ZnVuY3Rpb24obixsLHUsdCl7Zm9yKHZhciBpLG8scjtsPWwuX187KWlmKChpPWwuX19jKSYmIWkuX18pdHJ5e2lmKChvPWkuY29uc3RydWN0b3IpJiZudWxsIT1vLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciYmKGkuc2V0U3RhdGUoby5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IobikpLHI9aS5fX2QpLG51bGwhPWkuY29tcG9uZW50RGlkQ2F0Y2gmJihpLmNvbXBvbmVudERpZENhdGNoKG4sdHx8e30pLHI9aS5fX2QpLHIpcmV0dXJuIGkuX19FPWl9Y2F0Y2gobCl7bj1sfXRocm93IG59fSx1PTAsdD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmbnVsbD09bi5jb25zdHJ1Y3Rvcn0sYi5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24obixsKXt2YXIgdTt1PW51bGwhPXRoaXMuX19zJiZ0aGlzLl9fcyE9PXRoaXMuc3RhdGU/dGhpcy5fX3M6dGhpcy5fX3M9ZCh7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYobj1uKGQoe30sdSksdGhpcy5wcm9wcykpLG4mJmQodSxuKSxudWxsIT1uJiZ0aGlzLl9fdiYmKGwmJnRoaXMuX3NiLnB1c2gobCksTSh0aGlzKSl9LGIucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKG4pe3RoaXMuX192JiYodGhpcy5fX2U9ITAsbiYmdGhpcy5fX2gucHVzaChuKSxNKHRoaXMpKX0sYi5wcm90b3R5cGUucmVuZGVyPWssaT1bXSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKTpzZXRUaW1lb3V0LGY9ZnVuY3Rpb24obixsKXtyZXR1cm4gbi5fX3YuX19iLWwuX192Ll9fYn0sUC5fX3I9MCxlPTAsYz1GKCExKSxzPUYoITApLGE9MDtleHBvcnR7YiBhcyBDb21wb25lbnQsayBhcyBGcmFnbWVudCxFIGFzIGNsb25lRWxlbWVudCxHIGFzIGNyZWF0ZUNvbnRleHQsXyBhcyBjcmVhdGVFbGVtZW50LG0gYXMgY3JlYXRlUmVmLF8gYXMgaCxEIGFzIGh5ZHJhdGUsdCBhcyBpc1ZhbGlkRWxlbWVudCxsIGFzIG9wdGlvbnMsQiBhcyByZW5kZXIsSCBhcyB0b0NoaWxkQXJyYXl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlYWN0Lm1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/preact/dist/preact.module.js\n");

/***/ }),

/***/ "./src/BitReader.ts":
/*!**************************!*\
  !*** ./src/BitReader.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BitStream = exports.BitView = void 0;\nclass BitView {\n    constructor(buffer) {\n        this.view = new Uint8Array(buffer, 0, buffer.byteLength);\n    }\n    getBits(offset, bits, signed = false) {\n        const available = this.view.length * 8 - offset;\n        if (bits > available) {\n            throw new Error('Bits out of bounds');\n        }\n        let value = 0;\n        for (let i = 0; i < bits;) {\n            const remaining = bits - i;\n            const bitOffset = offset & 7;\n            const currentByte = this.view[offset >> 3];\n            const read = Math.min(remaining, 8 - bitOffset);\n            const mask = (1 << read) - 1;\n            const readBits = (currentByte >> bitOffset) & mask;\n            value |= readBits << i;\n            offset += read;\n            i += read;\n        }\n        if (signed) {\n            if (bits !== 32 && value & (1 << (bits - 1))) {\n                value |= -1 ^ ((1 << bits) - 1);\n            }\n            return value;\n        }\n        return value >>> 0;\n    }\n    getInt8(offset) {\n        return this.getBits(offset, 8, true);\n    }\n    getUint8(offset) {\n        return this.getBits(offset, 8, false);\n    }\n    getInt16(offset) {\n        return this.getBits(offset, 16, true);\n    }\n    getUint16(offset) {\n        return this.getBits(offset, 16, false);\n    }\n    getInt32(offset) {\n        return this.getBits(offset, 32, true);\n    }\n    getUint32(offset) {\n        return this.getBits(offset, 32, false);\n    }\n    getFloat32(offset) {\n        BitView.scratch.setUint32(0, this.getUint32(offset));\n        return BitView.scratch.getFloat32(0);\n    }\n    getFloat64(offset) {\n        BitView.scratch.setUint32(0, this.getUint32(offset));\n        BitView.scratch.setUint32(4, this.getUint32(offset + 32));\n        return BitView.scratch.getFloat64(0);\n    }\n}\nexports.BitView = BitView;\nBitView.scratch = new DataView(new ArrayBuffer(8));\nclass BitStream {\n    constructor(source) {\n        this.view = new BitView(source);\n        this.index = 0;\n    }\n    readBits(bits, signed = false) {\n        const val = this.view.getBits(this.index, bits, signed);\n        this.index += bits;\n        return val;\n    }\n    readInt8() {\n        const val = this.view.getInt8(this.index);\n        this.index += 8;\n        return val;\n    }\n    readUint8() {\n        const val = this.view.getUint8(this.index);\n        this.index += 8;\n        return val;\n    }\n    readInt16() {\n        const val = this.view.getInt16(this.index);\n        this.index += 16;\n        return val;\n    }\n    readUint16() {\n        const val = this.view.getUint16(this.index);\n        this.index += 16;\n        return val;\n    }\n    readInt32() {\n        const val = this.view.getInt32(this.index);\n        this.index += 32;\n        return val;\n    }\n    readUint32() {\n        const val = this.view.getUint32(this.index);\n        this.index += 32;\n        return val;\n    }\n    readFloat32() {\n        const val = this.view.getFloat32(this.index);\n        this.index += 32;\n        return val;\n    }\n    readFloat64() {\n        const val = this.view.getFloat64(this.index);\n        this.index += 64;\n        return val;\n    }\n    readString(bytes = 0, utf8 = false) {\n        let i = 0;\n        const chars = [];\n        let append = true;\n        while (!bytes || (bytes && i < bytes)) {\n            const c = this.readUint8();\n            if (c === 0x00) {\n                append = false;\n                if (!bytes) {\n                    break;\n                }\n            }\n            if (append) {\n                chars.push(c);\n            }\n            i++;\n        }\n        const string = String.fromCharCode.apply(null, chars);\n        if (utf8) {\n            try {\n                return decodeURIComponent(string);\n            }\n            catch (e) {\n                return string;\n            }\n        }\n        else {\n            return string;\n        }\n    }\n}\nexports.BitStream = BitStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQml0UmVhZGVyLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixHQUFHLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0JpdFJlYWRlci50cz8zNTFhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CaXRTdHJlYW0gPSBleHBvcnRzLkJpdFZpZXcgPSB2b2lkIDA7XG5jbGFzcyBCaXRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihidWZmZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCAwLCBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGdldEJpdHMob2Zmc2V0LCBiaXRzLCBzaWduZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBhdmFpbGFibGUgPSB0aGlzLnZpZXcubGVuZ3RoICogOCAtIG9mZnNldDtcbiAgICAgICAgaWYgKGJpdHMgPiBhdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQml0cyBvdXQgb2YgYm91bmRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbHVlID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaXRzOykge1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gYml0cyAtIGk7XG4gICAgICAgICAgICBjb25zdCBiaXRPZmZzZXQgPSBvZmZzZXQgJiA3O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEJ5dGUgPSB0aGlzLnZpZXdbb2Zmc2V0ID4+IDNdO1xuICAgICAgICAgICAgY29uc3QgcmVhZCA9IE1hdGgubWluKHJlbWFpbmluZywgOCAtIGJpdE9mZnNldCk7XG4gICAgICAgICAgICBjb25zdCBtYXNrID0gKDEgPDwgcmVhZCkgLSAxO1xuICAgICAgICAgICAgY29uc3QgcmVhZEJpdHMgPSAoY3VycmVudEJ5dGUgPj4gYml0T2Zmc2V0KSAmIG1hc2s7XG4gICAgICAgICAgICB2YWx1ZSB8PSByZWFkQml0cyA8PCBpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHJlYWQ7XG4gICAgICAgICAgICBpICs9IHJlYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpZ25lZCkge1xuICAgICAgICAgICAgaWYgKGJpdHMgIT09IDMyICYmIHZhbHVlICYgKDEgPDwgKGJpdHMgLSAxKSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSB8PSAtMSBeICgoMSA8PCBiaXRzKSAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZSA+Pj4gMDtcbiAgICB9XG4gICAgZ2V0SW50OChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qml0cyhvZmZzZXQsIDgsIHRydWUpO1xuICAgIH1cbiAgICBnZXRVaW50OChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qml0cyhvZmZzZXQsIDgsIGZhbHNlKTtcbiAgICB9XG4gICAgZ2V0SW50MTYob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJpdHMob2Zmc2V0LCAxNiwgdHJ1ZSk7XG4gICAgfVxuICAgIGdldFVpbnQxNihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qml0cyhvZmZzZXQsIDE2LCBmYWxzZSk7XG4gICAgfVxuICAgIGdldEludDMyKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCaXRzKG9mZnNldCwgMzIsIHRydWUpO1xuICAgIH1cbiAgICBnZXRVaW50MzIob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJpdHMob2Zmc2V0LCAzMiwgZmFsc2UpO1xuICAgIH1cbiAgICBnZXRGbG9hdDMyKG9mZnNldCkge1xuICAgICAgICBCaXRWaWV3LnNjcmF0Y2guc2V0VWludDMyKDAsIHRoaXMuZ2V0VWludDMyKG9mZnNldCkpO1xuICAgICAgICByZXR1cm4gQml0Vmlldy5zY3JhdGNoLmdldEZsb2F0MzIoMCk7XG4gICAgfVxuICAgIGdldEZsb2F0NjQob2Zmc2V0KSB7XG4gICAgICAgIEJpdFZpZXcuc2NyYXRjaC5zZXRVaW50MzIoMCwgdGhpcy5nZXRVaW50MzIob2Zmc2V0KSk7XG4gICAgICAgIEJpdFZpZXcuc2NyYXRjaC5zZXRVaW50MzIoNCwgdGhpcy5nZXRVaW50MzIob2Zmc2V0ICsgMzIpKTtcbiAgICAgICAgcmV0dXJuIEJpdFZpZXcuc2NyYXRjaC5nZXRGbG9hdDY0KDApO1xuICAgIH1cbn1cbmV4cG9ydHMuQml0VmlldyA9IEJpdFZpZXc7XG5CaXRWaWV3LnNjcmF0Y2ggPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDgpKTtcbmNsYXNzIEJpdFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBCaXRWaWV3KHNvdXJjZSk7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cbiAgICByZWFkQml0cyhiaXRzLCBzaWduZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnZpZXcuZ2V0Qml0cyh0aGlzLmluZGV4LCBiaXRzLCBzaWduZWQpO1xuICAgICAgICB0aGlzLmluZGV4ICs9IGJpdHM7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJlYWRJbnQ4KCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnZpZXcuZ2V0SW50OCh0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5pbmRleCArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICByZWFkVWludDgoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMudmlldy5nZXRVaW50OCh0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5pbmRleCArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICByZWFkSW50MTYoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMudmlldy5nZXRJbnQxNih0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5pbmRleCArPSAxNjtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmVhZFVpbnQxNigpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy52aWV3LmdldFVpbnQxNih0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5pbmRleCArPSAxNjtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmVhZEludDMyKCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnZpZXcuZ2V0SW50MzIodGhpcy5pbmRleCk7XG4gICAgICAgIHRoaXMuaW5kZXggKz0gMzI7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJlYWRVaW50MzIoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMudmlldy5nZXRVaW50MzIodGhpcy5pbmRleCk7XG4gICAgICAgIHRoaXMuaW5kZXggKz0gMzI7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJlYWRGbG9hdDMyKCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnZpZXcuZ2V0RmxvYXQzMih0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5pbmRleCArPSAzMjtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmVhZEZsb2F0NjQoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMudmlldy5nZXRGbG9hdDY0KHRoaXMuaW5kZXgpO1xuICAgICAgICB0aGlzLmluZGV4ICs9IDY0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICByZWFkU3RyaW5nKGJ5dGVzID0gMCwgdXRmOCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgY2hhcnMgPSBbXTtcbiAgICAgICAgbGV0IGFwcGVuZCA9IHRydWU7XG4gICAgICAgIHdoaWxlICghYnl0ZXMgfHwgKGJ5dGVzICYmIGkgPCBieXRlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB0aGlzLnJlYWRVaW50OCgpO1xuICAgICAgICAgICAgaWYgKGMgPT09IDB4MDApIHtcbiAgICAgICAgICAgICAgICBhcHBlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIWJ5dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcHBlbmQpIHtcbiAgICAgICAgICAgICAgICBjaGFycy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgY2hhcnMpO1xuICAgICAgICBpZiAodXRmOCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5CaXRTdHJlYW0gPSBCaXRTdHJlYW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/BitReader.ts\n");

/***/ }),

/***/ "./src/Bsp.ts":
/*!********************!*\
  !*** ./src/Bsp.ts ***!
  \********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Bsp = void 0;\nclass Bsp {\n    constructor(name, entities, textures, models, lightmap) {\n        this.skies = [];\n        this.sprites = {};\n        this.name = name;\n        this.entities = entities;\n        this.textures = textures;\n        this.models = models;\n        this.lightmap = lightmap;\n    }\n}\nexports.Bsp = Bsp;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQnNwLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0JzcC50cz9jMjRmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Cc3AgPSB2b2lkIDA7XG5jbGFzcyBCc3Age1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGVudGl0aWVzLCB0ZXh0dXJlcywgbW9kZWxzLCBsaWdodG1hcCkge1xuICAgICAgICB0aGlzLnNraWVzID0gW107XG4gICAgICAgIHRoaXMuc3ByaXRlcyA9IHt9O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgICAgICAgdGhpcy5tb2RlbHMgPSBtb2RlbHM7XG4gICAgICAgIHRoaXMubGlnaHRtYXAgPSBsaWdodG1hcDtcbiAgICB9XG59XG5leHBvcnRzLkJzcCA9IEJzcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Bsp.ts\n");

/***/ }),

/***/ "./src/Config.ts":
/*!***********************!*\
  !*** ./src/Config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Config = void 0;\nclass Config {\n    static init(params) {\n        if (typeof params === 'string') {\n            return new Config({\n                paths: {\n                    base: params,\n                    replays: `${params}/replays`,\n                    maps: `${params}/maps`,\n                    wads: `${params}/wads`,\n                    skies: `${params}/skies`,\n                    sounds: `${params}/sounds`\n                }\n            });\n        }\n        else {\n            return new Config({\n                paths: {\n                    base: (params && params.paths && params.paths.base) || '',\n                    replays: (params && params.paths && params.paths.replays) || '/replays',\n                    maps: (params && params.paths && params.paths.maps) || '/maps',\n                    wads: (params && params.paths && params.paths.wads) || '/wads',\n                    skies: (params && params.paths && params.paths.skies) || '/skies',\n                    sounds: (params && params.paths && params.paths.sounds) || '/sounds'\n                }\n            });\n        }\n    }\n    constructor(params) {\n        this.paths = Object.assign({}, params.paths);\n    }\n    getBasePath() {\n        return this.paths.base;\n    }\n    getReplaysPath() {\n        return this.paths.replays;\n    }\n    getMapsPath() {\n        return this.paths.maps;\n    }\n    getWadsPath() {\n        return this.paths.wads;\n    }\n    getSkiesPath() {\n        return this.paths.skies;\n    }\n    getSoundsPath() {\n        return this.paths.sounds;\n    }\n}\nexports.Config = Config;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQ29uZmlnLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2Qyw2QkFBNkIsT0FBTztBQUNwQyw2QkFBNkIsT0FBTztBQUNwQyw4QkFBOEIsT0FBTztBQUNyQywrQkFBK0IsT0FBTztBQUN0QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0NvbmZpZy50cz82Nzg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25maWcgPSB2b2lkIDA7XG5jbGFzcyBDb25maWcge1xuICAgIHN0YXRpYyBpbml0KHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uZmlnKHtcbiAgICAgICAgICAgICAgICBwYXRoczoge1xuICAgICAgICAgICAgICAgICAgICBiYXNlOiBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHJlcGxheXM6IGAke3BhcmFtc30vcmVwbGF5c2AsXG4gICAgICAgICAgICAgICAgICAgIG1hcHM6IGAke3BhcmFtc30vbWFwc2AsXG4gICAgICAgICAgICAgICAgICAgIHdhZHM6IGAke3BhcmFtc30vd2Fkc2AsXG4gICAgICAgICAgICAgICAgICAgIHNraWVzOiBgJHtwYXJhbXN9L3NraWVzYCxcbiAgICAgICAgICAgICAgICAgICAgc291bmRzOiBgJHtwYXJhbXN9L3NvdW5kc2BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uZmlnKHtcbiAgICAgICAgICAgICAgICBwYXRoczoge1xuICAgICAgICAgICAgICAgICAgICBiYXNlOiAocGFyYW1zICYmIHBhcmFtcy5wYXRocyAmJiBwYXJhbXMucGF0aHMuYmFzZSkgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHJlcGxheXM6IChwYXJhbXMgJiYgcGFyYW1zLnBhdGhzICYmIHBhcmFtcy5wYXRocy5yZXBsYXlzKSB8fCAnL3JlcGxheXMnLFxuICAgICAgICAgICAgICAgICAgICBtYXBzOiAocGFyYW1zICYmIHBhcmFtcy5wYXRocyAmJiBwYXJhbXMucGF0aHMubWFwcykgfHwgJy9tYXBzJyxcbiAgICAgICAgICAgICAgICAgICAgd2FkczogKHBhcmFtcyAmJiBwYXJhbXMucGF0aHMgJiYgcGFyYW1zLnBhdGhzLndhZHMpIHx8ICcvd2FkcycsXG4gICAgICAgICAgICAgICAgICAgIHNraWVzOiAocGFyYW1zICYmIHBhcmFtcy5wYXRocyAmJiBwYXJhbXMucGF0aHMuc2tpZXMpIHx8ICcvc2tpZXMnLFxuICAgICAgICAgICAgICAgICAgICBzb3VuZHM6IChwYXJhbXMgJiYgcGFyYW1zLnBhdGhzICYmIHBhcmFtcy5wYXRocy5zb3VuZHMpIHx8ICcvc291bmRzJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICB0aGlzLnBhdGhzID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zLnBhdGhzKTtcbiAgICB9XG4gICAgZ2V0QmFzZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGhzLmJhc2U7XG4gICAgfVxuICAgIGdldFJlcGxheXNQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRocy5yZXBsYXlzO1xuICAgIH1cbiAgICBnZXRNYXBzUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aHMubWFwcztcbiAgICB9XG4gICAgZ2V0V2Fkc1BhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGhzLndhZHM7XG4gICAgfVxuICAgIGdldFNraWVzUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aHMuc2tpZXM7XG4gICAgfVxuICAgIGdldFNvdW5kc1BhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGhzLnNvdW5kcztcbiAgICB9XG59XG5leHBvcnRzLkNvbmZpZyA9IENvbmZpZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Config.ts\n");

/***/ }),

/***/ "./src/Fullscreen.ts":
/*!***************************!*\
  !*** ./src/Fullscreen.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Fullscreen = void 0;\nconst apis = [\n    {\n        enabled: 'fullscreenEnabled',\n        element: 'fullscreenElement',\n        request: 'requestFullscreen',\n        exit: 'exitFullscreen',\n        change: 'fullscreenchange',\n        error: 'fullscreenerror'\n    },\n    {\n        enabled: 'mozFullScreenEnabled',\n        element: 'mozFullScreenElement',\n        request: 'mozRequestFullScreen',\n        exit: 'mozCancelFullScreen',\n        change: 'mozfullscreenchange',\n        error: 'mozfullscreenerror'\n    },\n    {\n        enabled: 'webkitFullscreenEnabled',\n        element: 'webkitCurrentFullScreenElement',\n        request: 'webkitRequestFullscreen',\n        exit: 'webkitExitFullscreen',\n        change: 'webkitfullscreenchange',\n        error: 'webkitfullscreenerror'\n    },\n    {\n        enabled: 'msFullscreenEnabled',\n        element: 'msFullscreenElement',\n        request: 'msRequestFullscreen',\n        exit: 'msExitFullscreen',\n        change: 'MSFullscreenChange',\n        error: 'MSFullscreenError'\n    }\n];\nlet apiIdx = 0;\nconst doc = document;\nfor (let i = 0; i < apis.length; ++i) {\n    if (typeof doc[apis[i].enabled] !== 'undefined') {\n        apiIdx = i;\n        break;\n    }\n}\nclass Fullscreen {\n    static element() {\n        return doc[apis[apiIdx].element];\n    }\n    static enabled() {\n        return doc[apis[apiIdx].enabled];\n    }\n    static isInFullscreen() {\n        return Fullscreen.element() !== null;\n    }\n    static enter(node) {\n        node[apis[apiIdx].request]();\n    }\n    static exit() {\n        doc[apis[apiIdx].exit]();\n    }\n    static onChange(callback) {\n        return window.addEventListener(apis[apiIdx].change, callback);\n    }\n    static onChangeRemove(callback) {\n        window.removeEventListener(apis[apiIdx].change, callback);\n    }\n    static onError(callback) {\n        return window.addEventListener(apis[apiIdx].error, callback);\n    }\n}\nexports.Fullscreen = Fullscreen;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRnVsbHNjcmVlbi50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0Z1bGxzY3JlZW4udHM/NDE2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRnVsbHNjcmVlbiA9IHZvaWQgMDtcbmNvbnN0IGFwaXMgPSBbXG4gICAge1xuICAgICAgICBlbmFibGVkOiAnZnVsbHNjcmVlbkVuYWJsZWQnLFxuICAgICAgICBlbGVtZW50OiAnZnVsbHNjcmVlbkVsZW1lbnQnLFxuICAgICAgICByZXF1ZXN0OiAncmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICAgICBleGl0OiAnZXhpdEZ1bGxzY3JlZW4nLFxuICAgICAgICBjaGFuZ2U6ICdmdWxsc2NyZWVuY2hhbmdlJyxcbiAgICAgICAgZXJyb3I6ICdmdWxsc2NyZWVuZXJyb3InXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGVuYWJsZWQ6ICdtb3pGdWxsU2NyZWVuRW5hYmxlZCcsXG4gICAgICAgIGVsZW1lbnQ6ICdtb3pGdWxsU2NyZWVuRWxlbWVudCcsXG4gICAgICAgIHJlcXVlc3Q6ICdtb3pSZXF1ZXN0RnVsbFNjcmVlbicsXG4gICAgICAgIGV4aXQ6ICdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcbiAgICAgICAgY2hhbmdlOiAnbW96ZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgICAgIGVycm9yOiAnbW96ZnVsbHNjcmVlbmVycm9yJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBlbmFibGVkOiAnd2Via2l0RnVsbHNjcmVlbkVuYWJsZWQnLFxuICAgICAgICBlbGVtZW50OiAnd2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50JyxcbiAgICAgICAgcmVxdWVzdDogJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJyxcbiAgICAgICAgZXhpdDogJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJyxcbiAgICAgICAgY2hhbmdlOiAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgICAgIGVycm9yOiAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBlbmFibGVkOiAnbXNGdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgICAgIGVsZW1lbnQ6ICdtc0Z1bGxzY3JlZW5FbGVtZW50JyxcbiAgICAgICAgcmVxdWVzdDogJ21zUmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICAgICBleGl0OiAnbXNFeGl0RnVsbHNjcmVlbicsXG4gICAgICAgIGNoYW5nZTogJ01TRnVsbHNjcmVlbkNoYW5nZScsXG4gICAgICAgIGVycm9yOiAnTVNGdWxsc2NyZWVuRXJyb3InXG4gICAgfVxuXTtcbmxldCBhcGlJZHggPSAwO1xuY29uc3QgZG9jID0gZG9jdW1lbnQ7XG5mb3IgKGxldCBpID0gMDsgaSA8IGFwaXMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIGRvY1thcGlzW2ldLmVuYWJsZWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhcGlJZHggPSBpO1xuICAgICAgICBicmVhaztcbiAgICB9XG59XG5jbGFzcyBGdWxsc2NyZWVuIHtcbiAgICBzdGF0aWMgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY1thcGlzW2FwaUlkeF0uZWxlbWVudF07XG4gICAgfVxuICAgIHN0YXRpYyBlbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gZG9jW2FwaXNbYXBpSWR4XS5lbmFibGVkXTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5GdWxsc2NyZWVuKCkge1xuICAgICAgICByZXR1cm4gRnVsbHNjcmVlbi5lbGVtZW50KCkgIT09IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBlbnRlcihub2RlKSB7XG4gICAgICAgIG5vZGVbYXBpc1thcGlJZHhdLnJlcXVlc3RdKCk7XG4gICAgfVxuICAgIHN0YXRpYyBleGl0KCkge1xuICAgICAgICBkb2NbYXBpc1thcGlJZHhdLmV4aXRdKCk7XG4gICAgfVxuICAgIHN0YXRpYyBvbkNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYXBpc1thcGlJZHhdLmNoYW5nZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdGF0aWMgb25DaGFuZ2VSZW1vdmUoY2FsbGJhY2spIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoYXBpc1thcGlJZHhdLmNoYW5nZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdGF0aWMgb25FcnJvcihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYXBpc1thcGlJZHhdLmVycm9yLCBjYWxsYmFjayk7XG4gICAgfVxufVxuZXhwb3J0cy5GdWxsc2NyZWVuID0gRnVsbHNjcmVlbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Fullscreen.ts\n");

/***/ }),

/***/ "./src/Game.ts":
/*!*********************!*\
  !*** ./src/Game.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Game = exports.PlayerMode = void 0;\nconst nanoevents_1 = __webpack_require__(/*! nanoevents */ \"./node_modules/nanoevents/index.js\");\nconst Time = __webpack_require__(/*! ./Time */ \"./src/Time.ts\");\nconst Loader_1 = __webpack_require__(/*! ./Loader */ \"./src/Loader.ts\");\nconst Mouse_1 = __webpack_require__(/*! ./Input/Mouse */ \"./src/Input/Mouse.ts\");\nconst Touch_1 = __webpack_require__(/*! ./Input/Touch */ \"./src/Input/Touch.ts\");\nconst Camera_1 = __webpack_require__(/*! ./Graphics/Camera */ \"./src/Graphics/Camera.ts\");\nconst Keyboard_1 = __webpack_require__(/*! ./Input/Keyboard */ \"./src/Input/Keyboard.ts\");\nconst SoundSystem_1 = __webpack_require__(/*! ./SoundSystem */ \"./src/SoundSystem.ts\");\nconst Context_1 = __webpack_require__(/*! ./Graphics/Context */ \"./src/Graphics/Context.ts\");\nconst ReplayPlayer_1 = __webpack_require__(/*! ./ReplayPlayer */ \"./src/ReplayPlayer.ts\");\nconst Renderer_1 = __webpack_require__(/*! ./Graphics/Renderer */ \"./src/Graphics/Renderer.ts\");\nconst SkyScene_1 = __webpack_require__(/*! ./Graphics/SkyScene */ \"./src/Graphics/SkyScene.ts\");\nconst WorldScene_1 = __webpack_require__(/*! ./Graphics/WorldScene */ \"./src/Graphics/WorldScene.ts\");\nvar PlayerMode;\n(function (PlayerMode) {\n    PlayerMode[PlayerMode[\"FREE\"] = 0] = \"FREE\";\n    PlayerMode[PlayerMode[\"REPLAY\"] = 1] = \"REPLAY\";\n})(PlayerMode || (exports.PlayerMode = PlayerMode = {}));\nclass Game {\n    static init(config) {\n        const status = Context_1.Context.checkWebGLSupport();\n        if (!status.hasSupport) {\n            return {\n                status: 'error',\n                message: 'No WebGL support!'\n            };\n        }\n        const canvas = document.createElement('canvas');\n        if (!canvas) {\n            return {\n                status: 'error',\n                message: 'Failed to create <canvas> element!'\n            };\n        }\n        const context = Context_1.Context.init(canvas);\n        if (!context) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize WebGL context'\n            };\n        }\n        const renderer = Renderer_1.Renderer.init(context);\n        if (!renderer) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize renderer'\n            };\n        }\n        const worldScene = WorldScene_1.WorldScene.init(context);\n        if (!worldScene) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize world scene'\n            };\n        }\n        const skyScene = SkyScene_1.SkyScene.init(context);\n        if (!skyScene) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize sky scene'\n            };\n        }\n        const game = new Game({\n            canvas,\n            config,\n            context,\n            renderer,\n            worldScene,\n            skyScene\n        });\n        return {\n            status: 'success',\n            game\n        };\n    }\n    constructor(params) {\n        this.pauseTime = 0;\n        this.isPaused = false;\n        this.lastTime = 0;\n        this.accumTime = 0;\n        this.timeStep = 1 / 60;\n        this.title = '';\n        this.pointerLocked = false;\n        this.touch = new Touch_1.Touch();\n        this.mouse = new Mouse_1.Mouse();\n        this.keyboard = new Keyboard_1.Keyboard();\n        this.entities = [];\n        this.onLoadAll = (loader) => {\n            if (loader && loader.replay) {\n                this.changeReplay(loader.replay.data);\n                this.changeMode(PlayerMode.REPLAY);\n            }\n            if (!loader.map || !loader.map.data) {\n                return;\n            }\n            const map = loader.map.data;\n            const skies = loader.skies;\n            let skiesValid = true;\n            skies.forEach(sky => {\n                skiesValid = skiesValid && sky.isDone();\n            });\n            if (skiesValid) {\n                skies.forEach(sky => (sky.data ? map.skies.push(sky.data) : 0));\n            }\n            Object.entries(loader.sprites).forEach(([name, item]) => {\n                if (item.data) {\n                    map.sprites[name] = item.data;\n                }\n            });\n            if (loader.sounds.length > 0) {\n                loader.sounds.forEach(sound => {\n                    if (sound.data) {\n                        this.sounds.push(sound.data);\n                    }\n                });\n            }\n            this.changeMap(map);\n            this.events.emit('load', loader);\n        };\n        this.draw = () => {\n            requestAnimationFrame(this.draw);\n            const canvas = this.canvas;\n            const parent = canvas.parentElement;\n            if (parent) {\n                const pw = parent.clientWidth;\n                const ph = parent.clientHeight;\n                if (canvas.width !== pw || canvas.height !== ph) {\n                    canvas.width = pw;\n                    canvas.height = ph;\n                    this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\n                    this.camera.updateProjectionMatrix();\n                    this.context.gl.viewport(0, 0, this.context.gl.drawingBufferWidth, this.context.gl.drawingBufferHeight);\n                }\n                if (canvas.clientWidth !== canvas.width ||\n                    canvas.clientHeight !== canvas.height) {\n                    canvas.width = canvas.clientWidth;\n                    canvas.height = canvas.clientHeight;\n                    this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\n                    this.camera.updateProjectionMatrix();\n                    this.context.gl.viewport(0, 0, this.context.gl.drawingBufferWidth, this.context.gl.drawingBufferHeight);\n                }\n            }\n            const currTime = Time.now() / 1000;\n            const dt = currTime - this.lastTime;\n            this.accumTime += dt;\n            while (this.accumTime > this.timeStep) {\n                this.update(this.timeStep);\n                this.accumTime -= this.timeStep;\n            }\n            this.renderer.draw();\n            if (this.mapName !== '') {\n                this.skyScene.draw(this.camera);\n                this.worldScene.draw(this.camera, this.entities);\n            }\n            this.lastTime = currTime;\n        };\n        this.onTouchStart = (e) => {\n            const touch = e.touches.item(0);\n            if (touch) {\n                this.touch.pressed = true;\n                this.touch.position[0] = touch.clientX;\n                this.touch.position[1] = touch.clientY;\n            }\n        };\n        this.onTouchEnd = () => {\n            this.touch.pressed = false;\n            this.touch.delta[0] = 0;\n            this.touch.delta[1] = 0;\n        };\n        this.onTouchMove = (e) => {\n            const touch = e.touches.item(0);\n            if (touch && this.touch.pressed) {\n                this.touch.delta[0];\n                this.touch.delta[0] = touch.clientX - this.touch.position[0];\n                this.touch.delta[1] = touch.clientY - this.touch.position[1];\n                this.touch.position[0] = touch.clientX;\n                this.touch.position[1] = touch.clientY;\n            }\n        };\n        this.onMouseMove = (e) => {\n            if (this.pointerLocked) {\n                this.mouse.delta[0] = e.movementX * 0.5;\n                this.mouse.delta[1] = e.movementY * 0.5;\n                this.mouse.position[0] = e.pageX;\n                this.mouse.position[1] = e.pageY;\n            }\n        };\n        this.keyDown = (e) => {\n            this.keyboard.keys[e.which] = 1;\n            if (this.pointerLocked) {\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        };\n        this.keyUp = (e) => {\n            this.keyboard.keys[e.which] = 0;\n            if (this.pointerLocked) {\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        };\n        this.onVisibilityChange = () => {\n            if (document.hidden) {\n                if (this.isPaused) {\n                    return;\n                }\n                this.pauseTime = Time.now() / 1000;\n                this.isPaused = true;\n            }\n            else {\n                if (!this.isPaused) {\n                    return;\n                }\n                this.lastTime = Time.now() / 1000 - this.pauseTime + this.lastTime;\n                this.isPaused = false;\n            }\n        };\n        this.sounds = [];\n        this.soundSystem = new SoundSystem_1.SoundSystem();\n        this.config = params.config;\n        this.loader = new Loader_1.Loader(this.config);\n        this.loader.events.on('loadall', this.onLoadAll);\n        document.addEventListener('touchstart', this.onTouchStart, false);\n        document.addEventListener('touchend', this.onTouchEnd, false);\n        document.addEventListener('touchcancel', this.onTouchEnd, false);\n        document.addEventListener('touchmove', this.onTouchMove, false);\n        document.addEventListener('mousemove', this.onMouseMove, false);\n        window.addEventListener('keydown', this.keyDown);\n        window.addEventListener('keyup', this.keyUp);\n        window.addEventListener('visibilitychange', this.onVisibilityChange);\n        this.canvas = params.canvas;\n        this.camera = Camera_1.Camera.init(this.canvas.width / this.canvas.height);\n        this.context = params.context;\n        this.renderer = params.renderer;\n        this.worldScene = params.worldScene;\n        this.skyScene = params.skyScene;\n        this.mode = PlayerMode.FREE;\n        this.player = new ReplayPlayer_1.ReplayPlayer(this);\n        this.events = (0, nanoevents_1.createNanoEvents)();\n        this.mapName = '';\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    load(name) {\n        this.events.emit('loadstart');\n        this.loader.load(name);\n    }\n    changeMap(map) {\n        if (this.mapName.toLowerCase() === map.name.toLowerCase()) {\n            return;\n        }\n        this.mapName = map.name;\n        this.worldScene.changeMap(map);\n        this.skyScene.changeMap(map);\n        this.entities = map.entities;\n        const spawn = map.entities.find(e => e['classname'] === 'info_player_start');\n        if (spawn) {\n            this.camera.position[0] = spawn.origin[0];\n            this.camera.position[1] = spawn.origin[1];\n            this.camera.position[2] = spawn.origin[2];\n        }\n        else {\n            this.camera.position[0] = 0;\n            this.camera.position[1] = 0;\n            this.camera.position[2] = 0;\n        }\n        this.camera.rotation[0] = 0;\n        this.camera.rotation[1] = 0;\n        this.camera.rotation[2] = 0;\n    }\n    changeReplay(replay) {\n        this.events.emit('prereplaychange', this, replay);\n        this.player.changeReplay(replay);\n        this.events.emit('postreplaychange', this, replay);\n    }\n    changeMode(mode) {\n        this.mode = mode;\n        this.events.emit('modechange', mode);\n    }\n    setTitle(title) {\n        this.title = title;\n        this.events.emit('titlechange', title);\n    }\n    getTitle() {\n        return this.title;\n    }\n    update(dt) {\n        this.events.emit('preupdate', this);\n        const camera = this.camera;\n        const keyboard = this.keyboard;\n        const mouse = this.mouse;\n        const touch = this.touch;\n        if (this.mode === PlayerMode.REPLAY) {\n            this.player.update(dt);\n        }\n        else if (this.mode === PlayerMode.FREE) {\n            if (this.touch.pressed) {\n                camera.rotation[0] = Math.min(Math.max(camera.rotation[0] + touch.delta[1] / 100, -Math.PI / 2), Math.PI / 2);\n                camera.rotation[1] -= touch.delta[0] / 100;\n            }\n            else {\n                camera.rotation[0] = Math.min(Math.max(camera.rotation[0] + mouse.delta[1] / 100, -Math.PI / 2), Math.PI / 2);\n                camera.rotation[1] -= mouse.delta[0] / 100;\n            }\n            const speed = 500;\n            const ds = speed * dt;\n            const KEY_W = Keyboard_1.Keyboard.KEYS.W;\n            const KEY_S = Keyboard_1.Keyboard.KEYS.S;\n            const KEY_A = Keyboard_1.Keyboard.KEYS.A;\n            const KEY_D = Keyboard_1.Keyboard.KEYS.D;\n            const downKey = Keyboard_1.Keyboard.KEYS.C;\n            const upKey = Keyboard_1.Keyboard.KEYS.SPACE;\n            if (keyboard.keys[KEY_W] !== keyboard.keys[KEY_S]) {\n                if (keyboard.keys[KEY_W]) {\n                    camera.position[1] -= Math.cos(camera.rotation[1] + Math.PI / 2) * ds;\n                    camera.position[0] += Math.sin(camera.rotation[1] + Math.PI / 2) * ds;\n                }\n                else if (keyboard.keys[KEY_S]) {\n                    camera.position[1] -= Math.cos(camera.rotation[1] - Math.PI / 2) * ds;\n                    camera.position[0] += Math.sin(camera.rotation[1] - Math.PI / 2) * ds;\n                }\n            }\n            if (keyboard.keys[KEY_A] !== keyboard.keys[KEY_D]) {\n                if (keyboard.keys[KEY_A]) {\n                    camera.position[1] += Math.cos(camera.rotation[1]) * ds;\n                    camera.position[0] -= Math.sin(camera.rotation[1]) * ds;\n                }\n                else if (keyboard.keys[KEY_D]) {\n                    camera.position[1] -= Math.cos(camera.rotation[1]) * ds;\n                    camera.position[0] += Math.sin(camera.rotation[1]) * ds;\n                }\n            }\n            if (keyboard.keys[upKey] !== keyboard.keys[downKey]) {\n                if (keyboard.keys[upKey]) {\n                    camera.position[2] += ds;\n                }\n                else if (keyboard.keys[downKey]) {\n                    camera.position[2] -= ds;\n                }\n            }\n        }\n        mouse.delta[0] = 0;\n        mouse.delta[1] = 0;\n        this.events.emit('postupdate', this);\n    }\n}\nexports.Game = Game;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR2FtZS50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZLEdBQUcsa0JBQWtCO0FBQ2pDLHFCQUFxQixtQkFBTyxDQUFDLHNEQUFZO0FBQ3pDLGFBQWEsbUJBQU8sQ0FBQyw2QkFBUTtBQUM3QixpQkFBaUIsbUJBQU8sQ0FBQyxpQ0FBVTtBQUNuQyxnQkFBZ0IsbUJBQU8sQ0FBQywyQ0FBZTtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQywyQ0FBZTtBQUN2QyxpQkFBaUIsbUJBQU8sQ0FBQyxtREFBbUI7QUFDNUMsbUJBQW1CLG1CQUFPLENBQUMsaURBQWtCO0FBQzdDLHNCQUFzQixtQkFBTyxDQUFDLDJDQUFlO0FBQzdDLGtCQUFrQixtQkFBTyxDQUFDLHFEQUFvQjtBQUM5Qyx1QkFBdUIsbUJBQU8sQ0FBQyw2Q0FBZ0I7QUFDL0MsbUJBQW1CLG1CQUFPLENBQUMsdURBQXFCO0FBQ2hELG1CQUFtQixtQkFBTyxDQUFDLHVEQUFxQjtBQUNoRCxxQkFBcUIsbUJBQU8sQ0FBQywyREFBdUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGlCQUFpQixrQkFBa0Isa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvR2FtZS50cz9mMGVmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HYW1lID0gZXhwb3J0cy5QbGF5ZXJNb2RlID0gdm9pZCAwO1xuY29uc3QgbmFub2V2ZW50c18xID0gcmVxdWlyZShcIm5hbm9ldmVudHNcIik7XG5jb25zdCBUaW1lID0gcmVxdWlyZShcIi4vVGltZVwiKTtcbmNvbnN0IExvYWRlcl8xID0gcmVxdWlyZShcIi4vTG9hZGVyXCIpO1xuY29uc3QgTW91c2VfMSA9IHJlcXVpcmUoXCIuL0lucHV0L01vdXNlXCIpO1xuY29uc3QgVG91Y2hfMSA9IHJlcXVpcmUoXCIuL0lucHV0L1RvdWNoXCIpO1xuY29uc3QgQ2FtZXJhXzEgPSByZXF1aXJlKFwiLi9HcmFwaGljcy9DYW1lcmFcIik7XG5jb25zdCBLZXlib2FyZF8xID0gcmVxdWlyZShcIi4vSW5wdXQvS2V5Ym9hcmRcIik7XG5jb25zdCBTb3VuZFN5c3RlbV8xID0gcmVxdWlyZShcIi4vU291bmRTeXN0ZW1cIik7XG5jb25zdCBDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9HcmFwaGljcy9Db250ZXh0XCIpO1xuY29uc3QgUmVwbGF5UGxheWVyXzEgPSByZXF1aXJlKFwiLi9SZXBsYXlQbGF5ZXJcIik7XG5jb25zdCBSZW5kZXJlcl8xID0gcmVxdWlyZShcIi4vR3JhcGhpY3MvUmVuZGVyZXJcIik7XG5jb25zdCBTa3lTY2VuZV8xID0gcmVxdWlyZShcIi4vR3JhcGhpY3MvU2t5U2NlbmVcIik7XG5jb25zdCBXb3JsZFNjZW5lXzEgPSByZXF1aXJlKFwiLi9HcmFwaGljcy9Xb3JsZFNjZW5lXCIpO1xudmFyIFBsYXllck1vZGU7XG4oZnVuY3Rpb24gKFBsYXllck1vZGUpIHtcbiAgICBQbGF5ZXJNb2RlW1BsYXllck1vZGVbXCJGUkVFXCJdID0gMF0gPSBcIkZSRUVcIjtcbiAgICBQbGF5ZXJNb2RlW1BsYXllck1vZGVbXCJSRVBMQVlcIl0gPSAxXSA9IFwiUkVQTEFZXCI7XG59KShQbGF5ZXJNb2RlIHx8IChleHBvcnRzLlBsYXllck1vZGUgPSBQbGF5ZXJNb2RlID0ge30pKTtcbmNsYXNzIEdhbWUge1xuICAgIHN0YXRpYyBpbml0KGNvbmZpZykge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBDb250ZXh0XzEuQ29udGV4dC5jaGVja1dlYkdMU3VwcG9ydCgpO1xuICAgICAgICBpZiAoIXN0YXR1cy5oYXNTdXBwb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gV2ViR0wgc3VwcG9ydCEnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBjcmVhdGUgPGNhbnZhcz4gZWxlbWVudCEnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBDb250ZXh0XzEuQ29udGV4dC5pbml0KGNhbnZhcyk7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMIGNvbnRleHQnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gUmVuZGVyZXJfMS5SZW5kZXJlci5pbml0KGNvbnRleHQpO1xuICAgICAgICBpZiAoIXJlbmRlcmVyKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGluaXRpYWxpemUgcmVuZGVyZXInXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdvcmxkU2NlbmUgPSBXb3JsZFNjZW5lXzEuV29ybGRTY2VuZS5pbml0KGNvbnRleHQpO1xuICAgICAgICBpZiAoIXdvcmxkU2NlbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSB3b3JsZCBzY2VuZSdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2t5U2NlbmUgPSBTa3lTY2VuZV8xLlNreVNjZW5lLmluaXQoY29udGV4dCk7XG4gICAgICAgIGlmICghc2t5U2NlbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBza3kgc2NlbmUnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdhbWUgPSBuZXcgR2FtZSh7XG4gICAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICB3b3JsZFNjZW5lLFxuICAgICAgICAgICAgc2t5U2NlbmVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGdhbWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMucGF1c2VUaW1lID0gMDtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gMDtcbiAgICAgICAgdGhpcy5hY2N1bVRpbWUgPSAwO1xuICAgICAgICB0aGlzLnRpbWVTdGVwID0gMSAvIDYwO1xuICAgICAgICB0aGlzLnRpdGxlID0gJyc7XG4gICAgICAgIHRoaXMucG9pbnRlckxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoXzEuVG91Y2goKTtcbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZV8xLk1vdXNlKCk7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRfMS5LZXlib2FyZCgpO1xuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XG4gICAgICAgIHRoaXMub25Mb2FkQWxsID0gKGxvYWRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKGxvYWRlciAmJiBsb2FkZXIucmVwbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VSZXBsYXkobG9hZGVyLnJlcGxheS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZU1vZGUoUGxheWVyTW9kZS5SRVBMQVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFsb2FkZXIubWFwIHx8ICFsb2FkZXIubWFwLmRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXAgPSBsb2FkZXIubWFwLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBza2llcyA9IGxvYWRlci5za2llcztcbiAgICAgICAgICAgIGxldCBza2llc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNraWVzLmZvckVhY2goc2t5ID0+IHtcbiAgICAgICAgICAgICAgICBza2llc1ZhbGlkID0gc2tpZXNWYWxpZCAmJiBza3kuaXNEb25lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChza2llc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc2tpZXMuZm9yRWFjaChza3kgPT4gKHNreS5kYXRhID8gbWFwLnNraWVzLnB1c2goc2t5LmRhdGEpIDogMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMobG9hZGVyLnNwcml0ZXMpLmZvckVhY2goKFtuYW1lLCBpdGVtXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNwcml0ZXNbbmFtZV0gPSBpdGVtLmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobG9hZGVyLnNvdW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyLnNvdW5kcy5mb3JFYWNoKHNvdW5kID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzLnB1c2goc291bmQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTWFwKG1hcCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2FkJywgbG9hZGVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kcmF3ID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhdyk7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHB3ID0gcGFyZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBoID0gcGFyZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9PSBwdyB8fCBjYW52YXMuaGVpZ2h0ICE9PSBwaCkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBwdztcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHBoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSBjYW52YXMuY2xpZW50V2lkdGggLyBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC52aWV3cG9ydCgwLCAwLCB0aGlzLmNvbnRleHQuZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCB0aGlzLmNvbnRleHQuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYW52YXMuY2xpZW50V2lkdGggIT09IGNhbnZhcy53aWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuY2xpZW50SGVpZ2h0ICE9PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IGNhbnZhcy5jbGllbnRXaWR0aCAvIGNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnZpZXdwb3J0KDAsIDAsIHRoaXMuY29udGV4dC5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsIHRoaXMuY29udGV4dC5nbC5kcmF3aW5nQnVmZmVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyVGltZSA9IFRpbWUubm93KCkgLyAxMDAwO1xuICAgICAgICAgICAgY29uc3QgZHQgPSBjdXJyVGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICAgICAgICB0aGlzLmFjY3VtVGltZSArPSBkdDtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmFjY3VtVGltZSA+IHRoaXMudGltZVN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnRpbWVTdGVwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjY3VtVGltZSAtPSB0aGlzLnRpbWVTdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXBOYW1lICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2t5U2NlbmUuZHJhdyh0aGlzLmNhbWVyYSk7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZFNjZW5lLmRyYXcodGhpcy5jYW1lcmEsIHRoaXMuZW50aXRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJUaW1lO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVG91Y2hTdGFydCA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b3VjaCA9IGUudG91Y2hlcy5pdGVtKDApO1xuICAgICAgICAgICAgaWYgKHRvdWNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaC5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoLnBvc2l0aW9uWzBdID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoLnBvc2l0aW9uWzFdID0gdG91Y2guY2xpZW50WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblRvdWNoRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50b3VjaC5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRvdWNoLmRlbHRhWzBdID0gMDtcbiAgICAgICAgICAgIHRoaXMudG91Y2guZGVsdGFbMV0gPSAwO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVG91Y2hNb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvdWNoID0gZS50b3VjaGVzLml0ZW0oMCk7XG4gICAgICAgICAgICBpZiAodG91Y2ggJiYgdGhpcy50b3VjaC5wcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaC5kZWx0YVswXTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoLmRlbHRhWzBdID0gdG91Y2guY2xpZW50WCAtIHRoaXMudG91Y2gucG9zaXRpb25bMF07XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaC5kZWx0YVsxXSA9IHRvdWNoLmNsaWVudFkgLSB0aGlzLnRvdWNoLnBvc2l0aW9uWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2gucG9zaXRpb25bMF0gPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2gucG9zaXRpb25bMV0gPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlLmRlbHRhWzBdID0gZS5tb3ZlbWVudFggKiAwLjU7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZS5kZWx0YVsxXSA9IGUubW92ZW1lbnRZICogMC41O1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2UucG9zaXRpb25bMF0gPSBlLnBhZ2VYO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2UucG9zaXRpb25bMV0gPSBlLnBhZ2VZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmtleURvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5rZXlzW2Uud2hpY2hdID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMua2V5VXAgPSAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5rZXlzW2Uud2hpY2hdID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZVRpbWUgPSBUaW1lLm5vdygpIC8gMTAwMDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1BhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBUaW1lLm5vdygpIC8gMTAwMCAtIHRoaXMucGF1c2VUaW1lICsgdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc291bmRzID0gW107XG4gICAgICAgIHRoaXMuc291bmRTeXN0ZW0gPSBuZXcgU291bmRTeXN0ZW1fMS5Tb3VuZFN5c3RlbSgpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHBhcmFtcy5jb25maWc7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IExvYWRlcl8xLkxvYWRlcih0aGlzLmNvbmZpZyk7XG4gICAgICAgIHRoaXMubG9hZGVyLmV2ZW50cy5vbignbG9hZGFsbCcsIHRoaXMub25Mb2FkQWxsKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5RG93bik7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5VXApO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBwYXJhbXMuY2FudmFzO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IENhbWVyYV8xLkNhbWVyYS5pbml0KHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gcGFyYW1zLmNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBwYXJhbXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMud29ybGRTY2VuZSA9IHBhcmFtcy53b3JsZFNjZW5lO1xuICAgICAgICB0aGlzLnNreVNjZW5lID0gcGFyYW1zLnNreVNjZW5lO1xuICAgICAgICB0aGlzLm1vZGUgPSBQbGF5ZXJNb2RlLkZSRUU7XG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFJlcGxheVBsYXllcl8xLlJlcGxheVBsYXllcih0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSAoMCwgbmFub2V2ZW50c18xLmNyZWF0ZU5hbm9FdmVudHMpKCk7XG4gICAgICAgIHRoaXMubWFwTmFtZSA9ICcnO1xuICAgIH1cbiAgICBnZXRDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG4gICAgbG9hZChuYW1lKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2xvYWRzdGFydCcpO1xuICAgICAgICB0aGlzLmxvYWRlci5sb2FkKG5hbWUpO1xuICAgIH1cbiAgICBjaGFuZ2VNYXAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbWFwLm5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwTmFtZSA9IG1hcC5uYW1lO1xuICAgICAgICB0aGlzLndvcmxkU2NlbmUuY2hhbmdlTWFwKG1hcCk7XG4gICAgICAgIHRoaXMuc2t5U2NlbmUuY2hhbmdlTWFwKG1hcCk7XG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBtYXAuZW50aXRpZXM7XG4gICAgICAgIGNvbnN0IHNwYXduID0gbWFwLmVudGl0aWVzLmZpbmQoZSA9PiBlWydjbGFzc25hbWUnXSA9PT0gJ2luZm9fcGxheWVyX3N0YXJ0Jyk7XG4gICAgICAgIGlmIChzcGF3bikge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb25bMF0gPSBzcGF3bi5vcmlnaW5bMF07XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvblsxXSA9IHNwYXduLm9yaWdpblsxXTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uWzJdID0gc3Bhd24ub3JpZ2luWzJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb25bMF0gPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb25bMV0gPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb25bMl0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FtZXJhLnJvdGF0aW9uWzBdID0gMDtcbiAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb25bMV0gPSAwO1xuICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvblsyXSA9IDA7XG4gICAgfVxuICAgIGNoYW5nZVJlcGxheShyZXBsYXkpIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncHJlcmVwbGF5Y2hhbmdlJywgdGhpcywgcmVwbGF5KTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY2hhbmdlUmVwbGF5KHJlcGxheSk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Bvc3RyZXBsYXljaGFuZ2UnLCB0aGlzLCByZXBsYXkpO1xuICAgIH1cbiAgICBjaGFuZ2VNb2RlKG1vZGUpIHtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnbW9kZWNoYW5nZScsIG1vZGUpO1xuICAgIH1cbiAgICBzZXRUaXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3RpdGxlY2hhbmdlJywgdGl0bGUpO1xuICAgIH1cbiAgICBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwcmV1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gdGhpcy5jYW1lcmE7XG4gICAgICAgIGNvbnN0IGtleWJvYXJkID0gdGhpcy5rZXlib2FyZDtcbiAgICAgICAgY29uc3QgbW91c2UgPSB0aGlzLm1vdXNlO1xuICAgICAgICBjb25zdCB0b3VjaCA9IHRoaXMudG91Y2g7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IFBsYXllck1vZGUuUkVQTEFZKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci51cGRhdGUoZHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubW9kZSA9PT0gUGxheWVyTW9kZS5GUkVFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50b3VjaC5wcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgY2FtZXJhLnJvdGF0aW9uWzBdID0gTWF0aC5taW4oTWF0aC5tYXgoY2FtZXJhLnJvdGF0aW9uWzBdICsgdG91Y2guZGVsdGFbMV0gLyAxMDAsIC1NYXRoLlBJIC8gMiksIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICBjYW1lcmEucm90YXRpb25bMV0gLT0gdG91Y2guZGVsdGFbMF0gLyAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYW1lcmEucm90YXRpb25bMF0gPSBNYXRoLm1pbihNYXRoLm1heChjYW1lcmEucm90YXRpb25bMF0gKyBtb3VzZS5kZWx0YVsxXSAvIDEwMCwgLU1hdGguUEkgLyAyKSwgTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgICAgIGNhbWVyYS5yb3RhdGlvblsxXSAtPSBtb3VzZS5kZWx0YVswXSAvIDEwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNwZWVkID0gNTAwO1xuICAgICAgICAgICAgY29uc3QgZHMgPSBzcGVlZCAqIGR0O1xuICAgICAgICAgICAgY29uc3QgS0VZX1cgPSBLZXlib2FyZF8xLktleWJvYXJkLktFWVMuVztcbiAgICAgICAgICAgIGNvbnN0IEtFWV9TID0gS2V5Ym9hcmRfMS5LZXlib2FyZC5LRVlTLlM7XG4gICAgICAgICAgICBjb25zdCBLRVlfQSA9IEtleWJvYXJkXzEuS2V5Ym9hcmQuS0VZUy5BO1xuICAgICAgICAgICAgY29uc3QgS0VZX0QgPSBLZXlib2FyZF8xLktleWJvYXJkLktFWVMuRDtcbiAgICAgICAgICAgIGNvbnN0IGRvd25LZXkgPSBLZXlib2FyZF8xLktleWJvYXJkLktFWVMuQztcbiAgICAgICAgICAgIGNvbnN0IHVwS2V5ID0gS2V5Ym9hcmRfMS5LZXlib2FyZC5LRVlTLlNQQUNFO1xuICAgICAgICAgICAgaWYgKGtleWJvYXJkLmtleXNbS0VZX1ddICE9PSBrZXlib2FyZC5rZXlzW0tFWV9TXSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlib2FyZC5rZXlzW0tFWV9XXSkge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMV0gLT0gTWF0aC5jb3MoY2FtZXJhLnJvdGF0aW9uWzFdICsgTWF0aC5QSSAvIDIpICogZHM7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5wb3NpdGlvblswXSArPSBNYXRoLnNpbihjYW1lcmEucm90YXRpb25bMV0gKyBNYXRoLlBJIC8gMikgKiBkcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5Ym9hcmQua2V5c1tLRVlfU10pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzFdIC09IE1hdGguY29zKGNhbWVyYS5yb3RhdGlvblsxXSAtIE1hdGguUEkgLyAyKSAqIGRzO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMF0gKz0gTWF0aC5zaW4oY2FtZXJhLnJvdGF0aW9uWzFdIC0gTWF0aC5QSSAvIDIpICogZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleWJvYXJkLmtleXNbS0VZX0FdICE9PSBrZXlib2FyZC5rZXlzW0tFWV9EXSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlib2FyZC5rZXlzW0tFWV9BXSkge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMV0gKz0gTWF0aC5jb3MoY2FtZXJhLnJvdGF0aW9uWzFdKSAqIGRzO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMF0gLT0gTWF0aC5zaW4oY2FtZXJhLnJvdGF0aW9uWzFdKSAqIGRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXlib2FyZC5rZXlzW0tFWV9EXSkge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMV0gLT0gTWF0aC5jb3MoY2FtZXJhLnJvdGF0aW9uWzFdKSAqIGRzO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMF0gKz0gTWF0aC5zaW4oY2FtZXJhLnJvdGF0aW9uWzFdKSAqIGRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlib2FyZC5rZXlzW3VwS2V5XSAhPT0ga2V5Ym9hcmQua2V5c1tkb3duS2V5XSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlib2FyZC5rZXlzW3VwS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEucG9zaXRpb25bMl0gKz0gZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleWJvYXJkLmtleXNbZG93bktleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzJdIC09IGRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtb3VzZS5kZWx0YVswXSA9IDA7XG4gICAgICAgIG1vdXNlLmRlbHRhWzFdID0gMDtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncG9zdHVwZGF0ZScsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuR2FtZSA9IEdhbWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Game.ts\n");

/***/ }),

/***/ "./src/Graphics/Camera.ts":
/*!********************************!*\
  !*** ./src/Graphics/Camera.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Camera = void 0;\nconst gl_matrix_1 = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/index.js\");\nclass Camera {\n    static init(aspect) {\n        return new Camera(aspect);\n    }\n    constructor(aspect) {\n        this.projectionMatrix = gl_matrix_1.mat4.create();\n        this.fov = gl_matrix_1.glMatrix.toRadian(60);\n        this.near = 1.0;\n        this.far = 8192.0;\n        this.viewMatrix = gl_matrix_1.mat4.create();\n        this.position = gl_matrix_1.vec3.create();\n        this.rotation = gl_matrix_1.vec3.create();\n        this.aspect = aspect;\n        this.updateProjectionMatrix();\n    }\n    updateProjectionMatrix() {\n        gl_matrix_1.mat4.perspective(this.projectionMatrix, this.fov, this.aspect, this.near, this.far);\n    }\n    updateViewMatrix() {\n        gl_matrix_1.mat4.identity(this.viewMatrix);\n        gl_matrix_1.mat4.rotateX(this.viewMatrix, this.viewMatrix, this.rotation[0] - Math.PI / 2);\n        gl_matrix_1.mat4.rotateZ(this.viewMatrix, this.viewMatrix, Math.PI / 2 - this.rotation[1]);\n        gl_matrix_1.mat4.translate(this.viewMatrix, this.viewMatrix, [\n            -this.position[0],\n            -this.position[1],\n            -this.position[2]\n        ]);\n    }\n}\nexports.Camera = Camera;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvQ2FtZXJhLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCxvQkFBb0IsbUJBQU8sQ0FBQyx3REFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0dyYXBoaWNzL0NhbWVyYS50cz9mMWU2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DYW1lcmEgPSB2b2lkIDA7XG5jb25zdCBnbF9tYXRyaXhfMSA9IHJlcXVpcmUoXCJnbC1tYXRyaXhcIik7XG5jbGFzcyBDYW1lcmEge1xuICAgIHN0YXRpYyBpbml0KGFzcGVjdCkge1xuICAgICAgICByZXR1cm4gbmV3IENhbWVyYShhc3BlY3QpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihhc3BlY3QpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gZ2xfbWF0cml4XzEubWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5mb3YgPSBnbF9tYXRyaXhfMS5nbE1hdHJpeC50b1JhZGlhbig2MCk7XG4gICAgICAgIHRoaXMubmVhciA9IDEuMDtcbiAgICAgICAgdGhpcy5mYXIgPSA4MTkyLjA7XG4gICAgICAgIHRoaXMudmlld01hdHJpeCA9IGdsX21hdHJpeF8xLm1hdDQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBnbF9tYXRyaXhfMS52ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gZ2xfbWF0cml4XzEudmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5hc3BlY3QgPSBhc3BlY3Q7XG4gICAgICAgIHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgICB1cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnBlcnNwZWN0aXZlKHRoaXMucHJvamVjdGlvbk1hdHJpeCwgdGhpcy5mb3YsIHRoaXMuYXNwZWN0LCB0aGlzLm5lYXIsIHRoaXMuZmFyKTtcbiAgICB9XG4gICAgdXBkYXRlVmlld01hdHJpeCgpIHtcbiAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5pZGVudGl0eSh0aGlzLnZpZXdNYXRyaXgpO1xuICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVgodGhpcy52aWV3TWF0cml4LCB0aGlzLnZpZXdNYXRyaXgsIHRoaXMucm90YXRpb25bMF0gLSBNYXRoLlBJIC8gMik7XG4gICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWih0aGlzLnZpZXdNYXRyaXgsIHRoaXMudmlld01hdHJpeCwgTWF0aC5QSSAvIDIgLSB0aGlzLnJvdGF0aW9uWzFdKTtcbiAgICAgICAgZ2xfbWF0cml4XzEubWF0NC50cmFuc2xhdGUodGhpcy52aWV3TWF0cml4LCB0aGlzLnZpZXdNYXRyaXgsIFtcbiAgICAgICAgICAgIC10aGlzLnBvc2l0aW9uWzBdLFxuICAgICAgICAgICAgLXRoaXMucG9zaXRpb25bMV0sXG4gICAgICAgICAgICAtdGhpcy5wb3NpdGlvblsyXVxuICAgICAgICBdKTtcbiAgICB9XG59XG5leHBvcnRzLkNhbWVyYSA9IENhbWVyYTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Graphics/Camera.ts\n");

/***/ }),

/***/ "./src/Graphics/Context.ts":
/*!*********************************!*\
  !*** ./src/Graphics/Context.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Context = exports.ShaderType = void 0;\nvar ShaderType;\n(function (ShaderType) {\n    ShaderType[ShaderType[\"VERTEX\"] = 0] = \"VERTEX\";\n    ShaderType[ShaderType[\"FRAGMENT\"] = 1] = \"FRAGMENT\";\n})(ShaderType || (exports.ShaderType = ShaderType = {}));\nclass Context {\n    static init(canvas) {\n        const gl = canvas.getContext('webgl', {\n            alpha: false\n        });\n        if (!gl) {\n            console.error('Failed to get WebGL context');\n            return null;\n        }\n        return new Context(gl);\n    }\n    static checkWebGLSupport() {\n        const MESSAGES = {\n            BAD_BROWSER: 'Your browser does not seem to support WebGL',\n            BAD_GPU: 'Your graphics card does not seem to support WebGL'\n        };\n        const wnd = window;\n        if (!wnd.WebGLRenderingContext) {\n            return {\n                hasSupport: false,\n                message: MESSAGES.BAD_BROWSER\n            };\n        }\n        const c = document.createElement('canvas');\n        try {\n            const ctx = c.getContext('webgl') || c.getContext('experimental-webgl');\n            if (ctx) {\n                return {\n                    hasSupport: true,\n                    message: ''\n                };\n            }\n            else {\n                return {\n                    hasSupport: false,\n                    message: MESSAGES.BAD_GPU\n                };\n            }\n        }\n        catch (e) {\n            return {\n                hasSupport: false,\n                message: MESSAGES.BAD_GPU\n            };\n        }\n    }\n    constructor(gl) {\n        this.gl = gl;\n    }\n    createProgram(params) {\n        const gl = this.gl;\n        var program = gl.createProgram();\n        if (!program) {\n            console.error('Failed to create WebGL program');\n            return null;\n        }\n        const vertexShader = this.createShader({\n            source: params.vertexShaderSrc,\n            type: ShaderType.VERTEX\n        });\n        if (!vertexShader) {\n            console.error('Failed to compile vertex shader');\n            return null;\n        }\n        const fragmentShader = this.createShader({\n            source: params.fragmentShaderSrc,\n            type: ShaderType.FRAGMENT\n        });\n        if (!fragmentShader) {\n            console.error('Failed to compile fragment shader');\n            return null;\n        }\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        gl.linkProgram(program);\n        gl.validateProgram(program);\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n            gl.deleteProgram(program);\n            gl.deleteShader(vertexShader);\n            gl.deleteShader(fragmentShader);\n            const reason = gl.getProgramInfoLog(program);\n            console.error(`Could not initialize shader: ${reason}`);\n            return null;\n        }\n        if (!gl.getProgramParameter(program, gl.VALIDATE_STATUS)) {\n            gl.deleteProgram(program);\n            gl.deleteShader(vertexShader);\n            gl.deleteShader(fragmentShader);\n            const reason = gl.getProgramInfoLog(program);\n            console.error(`Could not initialize shader: ${reason}`);\n            return null;\n        }\n        gl.useProgram(program);\n        const attributes = {};\n        for (let i = 0; i < params.attributeNames.length; ++i) {\n            const name = params.attributeNames[i];\n            const attr = gl.getAttribLocation(program, name);\n            if (attr === -1) {\n                console.error(`gl.getAttribLocation failed for attrib named \"${name}\"`);\n                gl.deleteProgram(program);\n                return null;\n            }\n            attributes[name] = attr;\n        }\n        const uniforms = {};\n        for (let i = 0; i < params.uniformNames.length; ++i) {\n            const name = params.uniformNames[i];\n            const uniform = gl.getUniformLocation(program, name);\n            if (uniform === null) {\n                console.error(`gl.getUniformLocation failed for uniform named \"${name}\"`);\n                gl.deleteProgram(program);\n                return null;\n            }\n            uniforms[name] = uniform;\n        }\n        return {\n            handle: program,\n            attributes,\n            uniforms\n        };\n    }\n    createShader(params) {\n        const gl = this.gl;\n        const shader = params.type === ShaderType.VERTEX\n            ? gl.createShader(gl.VERTEX_SHADER)\n            : gl.createShader(gl.FRAGMENT_SHADER);\n        if (!shader) {\n            console.error('Failed to create shader program');\n            return null;\n        }\n        gl.shaderSource(shader, params.source);\n        gl.compileShader(shader);\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            console.error(gl.getShaderInfoLog(shader));\n            gl.deleteShader(shader);\n            return null;\n        }\n        return shader;\n    }\n    getAnisotropyExtension() {\n        return (this.gl.getExtension('EXT_texture_filter_anisotropic') ||\n            this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n            this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic'));\n    }\n    getMaxAnisotropy(extension) {\n        return this.gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n    }\n}\nexports.Context = Context;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvQ29udGV4dC50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxlQUFlLEdBQUcsa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQkFBaUIsa0JBQWtCLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsT0FBTztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxPQUFPO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtDQUFrQztBQUMxRDtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsS0FBSztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixLQUFLO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvR3JhcGhpY3MvQ29udGV4dC50cz83YWNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db250ZXh0ID0gZXhwb3J0cy5TaGFkZXJUeXBlID0gdm9pZCAwO1xudmFyIFNoYWRlclR5cGU7XG4oZnVuY3Rpb24gKFNoYWRlclR5cGUpIHtcbiAgICBTaGFkZXJUeXBlW1NoYWRlclR5cGVbXCJWRVJURVhcIl0gPSAwXSA9IFwiVkVSVEVYXCI7XG4gICAgU2hhZGVyVHlwZVtTaGFkZXJUeXBlW1wiRlJBR01FTlRcIl0gPSAxXSA9IFwiRlJBR01FTlRcIjtcbn0pKFNoYWRlclR5cGUgfHwgKGV4cG9ydHMuU2hhZGVyVHlwZSA9IFNoYWRlclR5cGUgPSB7fSkpO1xuY2xhc3MgQ29udGV4dCB7XG4gICAgc3RhdGljIGluaXQoY2FudmFzKSB7XG4gICAgICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge1xuICAgICAgICAgICAgYWxwaGE6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IFdlYkdMIGNvbnRleHQnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29udGV4dChnbCk7XG4gICAgfVxuICAgIHN0YXRpYyBjaGVja1dlYkdMU3VwcG9ydCgpIHtcbiAgICAgICAgY29uc3QgTUVTU0FHRVMgPSB7XG4gICAgICAgICAgICBCQURfQlJPV1NFUjogJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgV2ViR0wnLFxuICAgICAgICAgICAgQkFEX0dQVTogJ1lvdXIgZ3JhcGhpY3MgY2FyZCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgV2ViR0wnXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHduZCA9IHdpbmRvdztcbiAgICAgICAgaWYgKCF3bmQuV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhhc1N1cHBvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IE1FU1NBR0VTLkJBRF9CUk9XU0VSXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO1xuICAgICAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1N1cHBvcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICcnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1N1cHBvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBNRVNTQUdFUy5CQURfR1BVXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoYXNTdXBwb3J0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBNRVNTQUdFUy5CQURfR1BVXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB9XG4gICAgY3JlYXRlUHJvZ3JhbShwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIFdlYkdMIHByb2dyYW0nKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IHRoaXMuY3JlYXRlU2hhZGVyKHtcbiAgICAgICAgICAgIHNvdXJjZTogcGFyYW1zLnZlcnRleFNoYWRlclNyYyxcbiAgICAgICAgICAgIHR5cGU6IFNoYWRlclR5cGUuVkVSVEVYXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbXBpbGUgdmVydGV4IHNoYWRlcicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmNyZWF0ZVNoYWRlcih7XG4gICAgICAgICAgICBzb3VyY2U6IHBhcmFtcy5mcmFnbWVudFNoYWRlclNyYyxcbiAgICAgICAgICAgIHR5cGU6IFNoYWRlclR5cGUuRlJBR01FTlRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZnJhZ21lbnRTaGFkZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb21waWxlIGZyYWdtZW50IHNoYWRlcicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC52YWxpZGF0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlcjogJHtyZWFzb259YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyOiAke3JlYXNvbn1gKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMuYXR0cmlidXRlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwYXJhbXMuYXR0cmlidXRlTmFtZXNbaV07XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgbmFtZSk7XG4gICAgICAgICAgICBpZiAoYXR0ciA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBnbC5nZXRBdHRyaWJMb2NhdGlvbiBmYWlsZWQgZm9yIGF0dHJpYiBuYW1lZCBcIiR7bmFtZX1cImApO1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdHRyaWJ1dGVzW25hbWVdID0gYXR0cjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy51bmlmb3JtTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwYXJhbXMudW5pZm9ybU5hbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKTtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uIGZhaWxlZCBmb3IgdW5pZm9ybSBuYW1lZCBcIiR7bmFtZX1cImApO1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHVuaWZvcm07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhhbmRsZTogcHJvZ3JhbSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICB1bmlmb3Jtc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjcmVhdGVTaGFkZXIocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gcGFyYW1zLnR5cGUgPT09IFNoYWRlclR5cGUuVkVSVEVYXG4gICAgICAgICAgICA/IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKVxuICAgICAgICAgICAgOiBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2hhZGVyIHByb2dyYW0nKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHBhcmFtcy5zb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgICAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfVxuICAgIGdldEFuaXNvdHJvcHlFeHRlbnNpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpKTtcbiAgICB9XG4gICAgZ2V0TWF4QW5pc290cm9weShleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuZ2V0UGFyYW1ldGVyKGV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29udGV4dCA9IENvbnRleHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Graphics/Context.ts\n");

/***/ }),

/***/ "./src/Graphics/Renderer.ts":
/*!**********************************!*\
  !*** ./src/Graphics/Renderer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Renderer = void 0;\nclass Renderer {\n    static init(context) {\n        const gl = context.gl;\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.clearDepth(1.0);\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthFunc(gl.LEQUAL);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n        gl.enable(gl.CULL_FACE);\n        gl.cullFace(gl.FRONT);\n        return new Renderer({ context });\n    }\n    constructor(params) {\n        this.draw = () => {\n            const gl = this.context.gl;\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        };\n        this.context = params.context;\n    }\n}\nexports.Renderer = Renderer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvUmVuZGVyZXIudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsU0FBUztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9HcmFwaGljcy9SZW5kZXJlci50cz9mMGJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZW5kZXJlciA9IHZvaWQgMDtcbmNsYXNzIFJlbmRlcmVyIHtcbiAgICBzdGF0aWMgaW5pdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICBnbC5jbGVhckRlcHRoKDEuMCk7XG4gICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XG4gICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcbiAgICAgICAgZ2wuY3VsbEZhY2UoZ2wuRlJPTlQpO1xuICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKHsgY29udGV4dCB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuZHJhdyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBwYXJhbXMuY29udGV4dDtcbiAgICB9XG59XG5leHBvcnRzLlJlbmRlcmVyID0gUmVuZGVyZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Graphics/Renderer.ts\n");

/***/ }),

/***/ "./src/Graphics/SkyScene.ts":
/*!**********************************!*\
  !*** ./src/Graphics/SkyScene.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SkyScene = void 0;\nconst SkyShader_1 = __webpack_require__(/*! ./SkyShader/SkyShader */ \"./src/Graphics/SkyShader/SkyShader.ts\");\nclass SkyScene {\n    static init(context) {\n        const shader = SkyShader_1.SkyShader.init(context);\n        if (!shader) {\n            console.error(\"skyscenen't\");\n            return null;\n        }\n        return new SkyScene({ context, shader });\n    }\n    constructor(params) {\n        this.vertexBuffer = null;\n        this.indexBuffer = null;\n        this.texture = null;\n        this.isReady = false;\n        this.context = params.context;\n        this.shader = params.shader;\n    }\n    changeMap(bsp) {\n        if (bsp.skies.length !== 6) {\n            this.isReady = false;\n            return;\n        }\n        const gl = this.context.gl;\n        const vertexBuffer = gl.createBuffer();\n        const indexBuffer = gl.createBuffer();\n        const texture = gl.createTexture();\n        if (!vertexBuffer || !indexBuffer || !texture) {\n            throw new Error('shouldnt happen');\n        }\n        const indices = new Uint8Array([\n            0, 1, 2, 0, 2, 3,\n            4, 5, 6, 4, 6, 7,\n            8, 9, 10, 8, 10, 11,\n            12, 13, 14, 12, 14, 15,\n            16, 17, 18, 16, 18, 19,\n            20, 21, 22, 20, 22, 23,\n        ]);\n        const vertices = new Float32Array([\n            -1.0, -1.0, 1.0, 0.499, 0.001,\n            1.0, -1.0, 1.0, 0.499, 0.249,\n            1.0, 1.0, 1.0, 0.001, 0.249,\n            -1.0, 1.0, 1.0, 0.001, 0.001,\n            -1.0, -1.0, -1.0, 0.499, 0.749,\n            -1.0, 1.0, -1.0, 0.001, 0.749,\n            1.0, 1.0, -1.0, 0.001, 0.501,\n            1.0, -1.0, -1.0, 0.499, 0.501,\n            -1.0, 1.0, -1.0, 0.501, 0.749,\n            -1.0, 1.0, 1.0, 0.501, 0.501,\n            1.0, 1.0, 1.0, 0.999, 0.501,\n            1.0, 1.0, -1.0, 0.999, 0.749,\n            -1.0, -1.0, -1.0, 0.999, 0.249,\n            1.0, -1.0, -1.0, 0.501, 0.249,\n            1.0, -1.0, 1.0, 0.501, 0.001,\n            -1.0, -1.0, 1.0, 0.999, 0.001,\n            1.0, -1.0, -1.0, 0.499, 0.499,\n            1.0, 1.0, -1.0, 0.001, 0.499,\n            1.0, 1.0, 1.0, 0.001, 0.251,\n            1.0, -1.0, 1.0, 0.499, 0.251,\n            -1.0, -1.0, -1.0, 0.501, 0.499,\n            -1.0, -1.0, 1.0, 0.501, 0.251,\n            -1.0, 1.0, 1.0, 0.999, 0.251,\n            -1.0, 1.0, -1.0, 0.999, 0.499\n        ].map((a, i) => ((i % 5) < 3) ? a * 4096 : a));\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(0);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n        const canvas = document.createElement('canvas');\n        canvas.width = 512;\n        canvas.height = 1024;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('sky ctx fail');\n        }\n        const coords = {\n            up: [0, 0],\n            rt: [0, 256],\n            dn: [0, 512],\n            ft: [256, 0],\n            lf: [256, 256],\n            bk: [256, 512]\n        };\n        bsp.skies.forEach((sky) => {\n            const smc = document.createElement('canvas');\n            const smctx = smc.getContext('2d');\n            if (!smctx) {\n                throw new Error('Runtime error.');\n            }\n            smc.width = sky.width;\n            smc.height = sky.height;\n            const imageData = smctx.getImageData(0, 0, smc.width, smc.height);\n            for (let i = 0; i < sky.data.length; ++i) {\n                imageData.data[i] = sky.data[i];\n            }\n            smctx.putImageData(imageData, 0, 0);\n            const side = sky.name.slice(-2);\n            const c = coords[side] ? coords[side] : [];\n            if (!ctx) {\n                throw new Error('Runtime error.');\n            }\n            ctx.drawImage(smc, c[0], c[1]);\n        });\n        const pixelData = ctx.getImageData(0, 0, 512, 1024).data;\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 512, 1024, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(pixelData));\n        gl.generateMipmap(gl.TEXTURE_2D);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n        gl.texParameterf(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        const anisotropy = this.context.getAnisotropyExtension();\n        if (anisotropy) {\n            gl.texParameteri(gl.TEXTURE_2D, anisotropy.TEXTURE_MAX_ANISOTROPY_EXT, this.context.getMaxAnisotropy(anisotropy));\n        }\n        this.vertexBuffer = vertexBuffer;\n        this.indexBuffer = indexBuffer;\n        this.texture = texture;\n        this.isReady = true;\n    }\n    draw(camera) {\n        if (!this.isReady) {\n            return;\n        }\n        const gl = this.context.gl;\n        const shader = this.shader;\n        shader.useProgram(gl);\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        shader.enableVertexAttribs(gl);\n        shader.setVertexAttribPointers(gl);\n        shader.setDiffuse(gl, 0);\n        const x = camera.position[0];\n        const y = camera.position[1];\n        const z = camera.position[2];\n        camera.position[0] = 0;\n        camera.position[1] = 0;\n        camera.position[2] = 0;\n        camera.updateViewMatrix();\n        camera.position[0] = x;\n        camera.position[1] = y;\n        camera.position[2] = z;\n        shader.setViewMatrix(gl, camera.viewMatrix);\n        shader.setProjectionMatrix(gl, camera.projectionMatrix);\n        gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_BYTE, 0);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n    }\n}\nexports.SkyScene = SkyScene;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvU2t5U2NlbmUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLG9CQUFvQixtQkFBTyxDQUFDLG9FQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFCQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9HcmFwaGljcy9Ta3lTY2VuZS50cz9jZmQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ta3lTY2VuZSA9IHZvaWQgMDtcbmNvbnN0IFNreVNoYWRlcl8xID0gcmVxdWlyZShcIi4vU2t5U2hhZGVyL1NreVNoYWRlclwiKTtcbmNsYXNzIFNreVNjZW5lIHtcbiAgICBzdGF0aWMgaW5pdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IFNreVNoYWRlcl8xLlNreVNoYWRlci5pbml0KGNvbnRleHQpO1xuICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInNreXNjZW5lbid0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTa3lTY2VuZSh7IGNvbnRleHQsIHNoYWRlciB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBwYXJhbXMuY29udGV4dDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBwYXJhbXMuc2hhZGVyO1xuICAgIH1cbiAgICBjaGFuZ2VNYXAoYnNwKSB7XG4gICAgICAgIGlmIChic3Auc2tpZXMubGVuZ3RoICE9PSA2KSB7XG4gICAgICAgICAgICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgY29uc3QgdmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGlmICghdmVydGV4QnVmZmVyIHx8ICFpbmRleEJ1ZmZlciB8fCAhdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaG91bGRudCBoYXBwZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRpY2VzID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMCwgMSwgMiwgMCwgMiwgMyxcbiAgICAgICAgICAgIDQsIDUsIDYsIDQsIDYsIDcsXG4gICAgICAgICAgICA4LCA5LCAxMCwgOCwgMTAsIDExLFxuICAgICAgICAgICAgMTIsIDEzLCAxNCwgMTIsIDE0LCAxNSxcbiAgICAgICAgICAgIDE2LCAxNywgMTgsIDE2LCAxOCwgMTksXG4gICAgICAgICAgICAyMCwgMjEsIDIyLCAyMCwgMjIsIDIzLFxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLjAsIC0xLjAsIDEuMCwgMC40OTksIDAuMDAxLFxuICAgICAgICAgICAgMS4wLCAtMS4wLCAxLjAsIDAuNDk5LCAwLjI0OSxcbiAgICAgICAgICAgIDEuMCwgMS4wLCAxLjAsIDAuMDAxLCAwLjI0OSxcbiAgICAgICAgICAgIC0xLjAsIDEuMCwgMS4wLCAwLjAwMSwgMC4wMDEsXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAtMS4wLCAwLjQ5OSwgMC43NDksXG4gICAgICAgICAgICAtMS4wLCAxLjAsIC0xLjAsIDAuMDAxLCAwLjc0OSxcbiAgICAgICAgICAgIDEuMCwgMS4wLCAtMS4wLCAwLjAwMSwgMC41MDEsXG4gICAgICAgICAgICAxLjAsIC0xLjAsIC0xLjAsIDAuNDk5LCAwLjUwMSxcbiAgICAgICAgICAgIC0xLjAsIDEuMCwgLTEuMCwgMC41MDEsIDAuNzQ5LFxuICAgICAgICAgICAgLTEuMCwgMS4wLCAxLjAsIDAuNTAxLCAwLjUwMSxcbiAgICAgICAgICAgIDEuMCwgMS4wLCAxLjAsIDAuOTk5LCAwLjUwMSxcbiAgICAgICAgICAgIDEuMCwgMS4wLCAtMS4wLCAwLjk5OSwgMC43NDksXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAtMS4wLCAwLjk5OSwgMC4yNDksXG4gICAgICAgICAgICAxLjAsIC0xLjAsIC0xLjAsIDAuNTAxLCAwLjI0OSxcbiAgICAgICAgICAgIDEuMCwgLTEuMCwgMS4wLCAwLjUwMSwgMC4wMDEsXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAxLjAsIDAuOTk5LCAwLjAwMSxcbiAgICAgICAgICAgIDEuMCwgLTEuMCwgLTEuMCwgMC40OTksIDAuNDk5LFxuICAgICAgICAgICAgMS4wLCAxLjAsIC0xLjAsIDAuMDAxLCAwLjQ5OSxcbiAgICAgICAgICAgIDEuMCwgMS4wLCAxLjAsIDAuMDAxLCAwLjI1MSxcbiAgICAgICAgICAgIDEuMCwgLTEuMCwgMS4wLCAwLjQ5OSwgMC4yNTEsXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAtMS4wLCAwLjUwMSwgMC40OTksXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAxLjAsIDAuNTAxLCAwLjI1MSxcbiAgICAgICAgICAgIC0xLjAsIDEuMCwgMS4wLCAwLjk5OSwgMC4yNTEsXG4gICAgICAgICAgICAtMS4wLCAxLjAsIC0xLjAsIDAuOTk5LCAwLjQ5OVxuICAgICAgICBdLm1hcCgoYSwgaSkgPT4gKChpICUgNSkgPCAzKSA/IGEgKiA0MDk2IDogYSkpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdmVydGV4QnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHZlcnRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KDApO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDUxMjtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdza3kgY3R4IGZhaWwnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgICAgICB1cDogWzAsIDBdLFxuICAgICAgICAgICAgcnQ6IFswLCAyNTZdLFxuICAgICAgICAgICAgZG46IFswLCA1MTJdLFxuICAgICAgICAgICAgZnQ6IFsyNTYsIDBdLFxuICAgICAgICAgICAgbGY6IFsyNTYsIDI1Nl0sXG4gICAgICAgICAgICBiazogWzI1NiwgNTEyXVxuICAgICAgICB9O1xuICAgICAgICBic3Auc2tpZXMuZm9yRWFjaCgoc2t5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzbWMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGNvbnN0IHNtY3R4ID0gc21jLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBpZiAoIXNtY3R4KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSdW50aW1lIGVycm9yLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc21jLndpZHRoID0gc2t5LndpZHRoO1xuICAgICAgICAgICAgc21jLmhlaWdodCA9IHNreS5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBzbWN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc21jLndpZHRoLCBzbWMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2t5LmRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpXSA9IHNreS5kYXRhW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc21jdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgICAgICBjb25zdCBzaWRlID0gc2t5Lm5hbWUuc2xpY2UoLTIpO1xuICAgICAgICAgICAgY29uc3QgYyA9IGNvb3Jkc1tzaWRlXSA/IGNvb3Jkc1tzaWRlXSA6IFtdO1xuICAgICAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1J1bnRpbWUgZXJyb3IuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHNtYywgY1swXSwgY1sxXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwaXhlbERhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIDUxMiwgMTAyNCkuZGF0YTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgNTEyLCAxMDI0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheShwaXhlbERhdGEpKTtcbiAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBjb25zdCBhbmlzb3Ryb3B5ID0gdGhpcy5jb250ZXh0LmdldEFuaXNvdHJvcHlFeHRlbnNpb24oKTtcbiAgICAgICAgaWYgKGFuaXNvdHJvcHkpIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgYW5pc290cm9weS5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgdGhpcy5jb250ZXh0LmdldE1heEFuaXNvdHJvcHkoYW5pc290cm9weSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gdmVydGV4QnVmZmVyO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gaW5kZXhCdWZmZXI7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gICAgfVxuICAgIGRyYXcoY2FtZXJhKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlYWR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICBzaGFkZXIudXNlUHJvZ3JhbShnbCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICBzaGFkZXIuZW5hYmxlVmVydGV4QXR0cmlicyhnbCk7XG4gICAgICAgIHNoYWRlci5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCk7XG4gICAgICAgIHNoYWRlci5zZXREaWZmdXNlKGdsLCAwKTtcbiAgICAgICAgY29uc3QgeCA9IGNhbWVyYS5wb3NpdGlvblswXTtcbiAgICAgICAgY29uc3QgeSA9IGNhbWVyYS5wb3NpdGlvblsxXTtcbiAgICAgICAgY29uc3QgeiA9IGNhbWVyYS5wb3NpdGlvblsyXTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzBdID0gMDtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzFdID0gMDtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzJdID0gMDtcbiAgICAgICAgY2FtZXJhLnVwZGF0ZVZpZXdNYXRyaXgoKTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzBdID0geDtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzFdID0geTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uWzJdID0gejtcbiAgICAgICAgc2hhZGVyLnNldFZpZXdNYXRyaXgoZ2wsIGNhbWVyYS52aWV3TWF0cml4KTtcbiAgICAgICAgc2hhZGVyLnNldFByb2plY3Rpb25NYXRyaXgoZ2wsIGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KTtcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgMzYsIGdsLlVOU0lHTkVEX0JZVEUsIDApO1xuICAgICAgICBnbC5jbGVhcihnbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICB9XG59XG5leHBvcnRzLlNreVNjZW5lID0gU2t5U2NlbmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Graphics/SkyScene.ts\n");

/***/ }),

/***/ "./src/Graphics/SkyShader/SkyShader.ts":
/*!*********************************************!*\
  !*** ./src/Graphics/SkyShader/SkyShader.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SkyShader = void 0;\nconst fragmentSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D diffuse;\n\nvarying vec2 vTexCoord;\n\nvoid main(void) {\n  vec4 diffuseColor = texture2D(diffuse, vTexCoord);\n  gl_FragColor = vec4(diffuseColor.rgb, 1.0);\n}`;\nconst vertexSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute vec3 position;\nattribute vec2 texCoord;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nvoid main(void) {\n  vTexCoord = texCoord;\n  gl_Position = projectionMatrix * viewMatrix * vec4(position, 1);\n}`;\nclass SkyShader {\n    static init(context) {\n        const attributeNames = ['position', 'texCoord'];\n        const uniformNames = ['viewMatrix', 'projectionMatrix', 'diffuse'];\n        const program = context.createProgram({\n            vertexShaderSrc: vertexSrc,\n            fragmentShaderSrc: fragmentSrc,\n            attributeNames,\n            uniformNames\n        });\n        if (!program) {\n            console.error(`Failed to create sky shader program`);\n            return null;\n        }\n        return new SkyShader(program);\n    }\n    constructor(program) {\n        this.program = program.handle;\n        this.aPosition = program.attributes['position'];\n        this.aTexCoord = program.attributes['texCoord'];\n        this.uViewMx = program.uniforms['viewMatrix'];\n        this.uProjectionMx = program.uniforms['projectionMatrix'];\n        this.uDiffuse = program.uniforms['diffuse'];\n    }\n    useProgram(gl) {\n        gl.useProgram(this.program);\n    }\n    setViewMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uViewMx, false, matrix);\n    }\n    setProjectionMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uProjectionMx, false, matrix);\n    }\n    setDiffuse(gl, value) {\n        gl.uniform1i(this.uDiffuse, value);\n    }\n    enableVertexAttribs(gl) {\n        gl.enableVertexAttribArray(this.aPosition);\n        gl.enableVertexAttribArray(this.aTexCoord);\n    }\n    setVertexAttribPointers(gl) {\n        gl.vertexAttribPointer(this.aPosition, 3, gl.FLOAT, false, 5 * 4, 0);\n        gl.vertexAttribPointer(this.aTexCoord, 2, gl.FLOAT, false, 5 * 4, 3 * 4);\n    }\n}\nexports.SkyShader = SkyShader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvU2t5U2hhZGVyL1NreVNoYWRlci50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0dyYXBoaWNzL1NreVNoYWRlci9Ta3lTaGFkZXIudHM/M2Y0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2t5U2hhZGVyID0gdm9pZCAwO1xuY29uc3QgZnJhZ21lbnRTcmMgPSBgI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZW5kaWZcblxudW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZTtcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgdmVjNCBkaWZmdXNlQ29sb3IgPSB0ZXh0dXJlMkQoZGlmZnVzZSwgdlRleENvb3JkKTtcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChkaWZmdXNlQ29sb3IucmdiLCAxLjApO1xufWA7XG5jb25zdCB2ZXJ0ZXhTcmMgPSBgI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZW5kaWZcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5hdHRyaWJ1dGUgdmVjMiB0ZXhDb29yZDtcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcblxudW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XG51bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgdlRleENvb3JkID0gdGV4Q29vcmQ7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxKTtcbn1gO1xuY2xhc3MgU2t5U2hhZGVyIHtcbiAgICBzdGF0aWMgaW5pdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gWydwb3NpdGlvbicsICd0ZXhDb29yZCddO1xuICAgICAgICBjb25zdCB1bmlmb3JtTmFtZXMgPSBbJ3ZpZXdNYXRyaXgnLCAncHJvamVjdGlvbk1hdHJpeCcsICdkaWZmdXNlJ107XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBjb250ZXh0LmNyZWF0ZVByb2dyYW0oe1xuICAgICAgICAgICAgdmVydGV4U2hhZGVyU3JjOiB2ZXJ0ZXhTcmMsXG4gICAgICAgICAgICBmcmFnbWVudFNoYWRlclNyYzogZnJhZ21lbnRTcmMsXG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lcyxcbiAgICAgICAgICAgIHVuaWZvcm1OYW1lc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHNreSBzaGFkZXIgcHJvZ3JhbWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTa3lTaGFkZXIocHJvZ3JhbSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHByb2dyYW0pIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbS5oYW5kbGU7XG4gICAgICAgIHRoaXMuYVBvc2l0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVzWydwb3NpdGlvbiddO1xuICAgICAgICB0aGlzLmFUZXhDb29yZCA9IHByb2dyYW0uYXR0cmlidXRlc1sndGV4Q29vcmQnXTtcbiAgICAgICAgdGhpcy51Vmlld014ID0gcHJvZ3JhbS51bmlmb3Jtc1sndmlld01hdHJpeCddO1xuICAgICAgICB0aGlzLnVQcm9qZWN0aW9uTXggPSBwcm9ncmFtLnVuaWZvcm1zWydwcm9qZWN0aW9uTWF0cml4J107XG4gICAgICAgIHRoaXMudURpZmZ1c2UgPSBwcm9ncmFtLnVuaWZvcm1zWydkaWZmdXNlJ107XG4gICAgfVxuICAgIHVzZVByb2dyYW0oZ2wpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgIH1cbiAgICBzZXRWaWV3TWF0cml4KGdsLCBtYXRyaXgpIHtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVWaWV3TXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgIH1cbiAgICBzZXRQcm9qZWN0aW9uTWF0cml4KGdsLCBtYXRyaXgpIHtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVQcm9qZWN0aW9uTXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgIH1cbiAgICBzZXREaWZmdXNlKGdsLCB2YWx1ZSkge1xuICAgICAgICBnbC51bmlmb3JtMWkodGhpcy51RGlmZnVzZSwgdmFsdWUpO1xuICAgIH1cbiAgICBlbmFibGVWZXJ0ZXhBdHRyaWJzKGdsKSB7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYVBvc2l0aW9uKTtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hVGV4Q29vcmQpO1xuICAgIH1cbiAgICBzZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCkge1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYVBvc2l0aW9uLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDUgKiA0LCAwKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFUZXhDb29yZCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCA1ICogNCwgMyAqIDQpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2t5U2hhZGVyID0gU2t5U2hhZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Graphics/SkyShader/SkyShader.ts\n");

/***/ }),

/***/ "./src/Graphics/Util.ts":
/*!******************************!*\
  !*** ./src/Graphics/Util.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.nextPowerOfTwo = exports.isPowerOfTwo = exports.resizeTexture = void 0;\nconst resizeTexture = (pixels, width, height, newWidth, newHeight) => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        throw new Error('Runtime error.');\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const nc = document.createElement('canvas');\n    const nctx = nc.getContext('2d');\n    if (!nctx) {\n        throw new Error('Runtime error.');\n    }\n    nc.width = newWidth;\n    nc.height = newHeight;\n    const cid = ctx.createImageData(width, height);\n    for (let i = 0, size = width * height * 4; i < size; i += 4) {\n        cid.data[i] = pixels[i];\n        cid.data[i + 1] = pixels[i + 1];\n        cid.data[i + 2] = pixels[i + 2];\n        cid.data[i + 3] = pixels[i + 3];\n    }\n    ctx.putImageData(cid, 0, 0);\n    nctx.drawImage(canvas, 0, 0, newWidth, newHeight);\n    return new Uint8Array(nctx.getImageData(0, 0, newWidth, newHeight).data);\n};\nexports.resizeTexture = resizeTexture;\nconst isPowerOfTwo = (n) => (n & (n - 1)) === 0;\nexports.isPowerOfTwo = isPowerOfTwo;\nconst nextPowerOfTwo = (n) => {\n    --n;\n    for (let i = 1; i < 32; i <<= 1) {\n        n = n | (n >> i);\n    }\n    return n + 1;\n};\nexports.nextPowerOfTwo = nextPowerOfTwo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvVXRpbC50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0IsR0FBRyxvQkFBb0IsR0FBRyxxQkFBcUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsVUFBVTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvR3JhcGhpY3MvVXRpbC50cz8yNGIwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5uZXh0UG93ZXJPZlR3byA9IGV4cG9ydHMuaXNQb3dlck9mVHdvID0gZXhwb3J0cy5yZXNpemVUZXh0dXJlID0gdm9pZCAwO1xuY29uc3QgcmVzaXplVGV4dHVyZSA9IChwaXhlbHMsIHdpZHRoLCBoZWlnaHQsIG5ld1dpZHRoLCBuZXdIZWlnaHQpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1J1bnRpbWUgZXJyb3IuJyk7XG4gICAgfVxuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgY29uc3QgbmMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBuY3R4ID0gbmMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIW5jdHgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSdW50aW1lIGVycm9yLicpO1xuICAgIH1cbiAgICBuYy53aWR0aCA9IG5ld1dpZHRoO1xuICAgIG5jLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgICBjb25zdCBjaWQgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgIGZvciAobGV0IGkgPSAwLCBzaXplID0gd2lkdGggKiBoZWlnaHQgKiA0OyBpIDwgc2l6ZTsgaSArPSA0KSB7XG4gICAgICAgIGNpZC5kYXRhW2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICBjaWQuZGF0YVtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICBjaWQuZGF0YVtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICBjaWQuZGF0YVtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuICAgIH1cbiAgICBjdHgucHV0SW1hZ2VEYXRhKGNpZCwgMCwgMCk7XG4gICAgbmN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgbmV3V2lkdGgsIG5ld0hlaWdodCkuZGF0YSk7XG59O1xuZXhwb3J0cy5yZXNpemVUZXh0dXJlID0gcmVzaXplVGV4dHVyZTtcbmNvbnN0IGlzUG93ZXJPZlR3byA9IChuKSA9PiAobiAmIChuIC0gMSkpID09PSAwO1xuZXhwb3J0cy5pc1Bvd2VyT2ZUd28gPSBpc1Bvd2VyT2ZUd287XG5jb25zdCBuZXh0UG93ZXJPZlR3byA9IChuKSA9PiB7XG4gICAgLS1uO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMzI7IGkgPDw9IDEpIHtcbiAgICAgICAgbiA9IG4gfCAobiA+PiBpKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gKyAxO1xufTtcbmV4cG9ydHMubmV4dFBvd2VyT2ZUd28gPSBuZXh0UG93ZXJPZlR3bztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Graphics/Util.ts\n");

/***/ }),

/***/ "./src/Graphics/WorldScene.ts":
/*!************************************!*\
  !*** ./src/Graphics/WorldScene.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WorldScene = void 0;\nconst gl_matrix_1 = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/index.js\");\nconst WorldShader_1 = __webpack_require__(/*! ./WorldShader/WorldShader */ \"./src/Graphics/WorldShader/WorldShader.ts\");\nconst BspEntityParser_1 = __webpack_require__(/*! ../Parsers/BspEntityParser */ \"./src/Parsers/BspEntityParser.ts\");\nconst Sprite_1 = __webpack_require__(/*! ../Parsers/Sprite */ \"./src/Parsers/Sprite.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Graphics/Util.ts\");\nclass WorldScene {\n    static init(context) {\n        const shader = WorldShader_1.MainShader.init(context);\n        if (!shader) {\n            console.error('Failed to init MainShader');\n            return null;\n        }\n        shader.useProgram(context.gl);\n        const buffer = context.gl.createBuffer();\n        if (!buffer) {\n            console.error('Failed to create WebGL buffer');\n            return null;\n        }\n        return new WorldScene({ buffer, context, shader });\n    }\n    constructor(params) {\n        this.modelMatrix = gl_matrix_1.mat4.create();\n        this.sceneInfo = {\n            length: 0,\n            data: new Float32Array(0),\n            models: []\n        };\n        this.bsp = null;\n        this.textures = [];\n        this.sprites = {};\n        this.lightmap = null;\n        this.buffer = params.buffer;\n        this.context = params.context;\n        this.shader = params.shader;\n    }\n    changeMap(bsp) {\n        this.fillBuffer(bsp);\n        this.loadTextures(bsp);\n        this.loadSpriteTextures(bsp);\n        this.loadLightmap(bsp);\n        this.bsp = bsp;\n    }\n    fillBuffer(bsp) {\n        const gl = this.context.gl;\n        const models = bsp.models;\n        const INVISIBLE_TEXTURES = [\n            'aaatrigger',\n            'clip',\n            'null',\n            'hint',\n            'nodraw',\n            'invisible',\n            'skip',\n            'trigger',\n            'sky',\n            'fog'\n        ];\n        let size = 0;\n        for (let i = 0; i < models.length; ++i) {\n            const model = models[i];\n            for (let j = 0; j < model.faces.length; ++j) {\n                const texture = bsp.textures[model.faces[j].textureIndex];\n                if (INVISIBLE_TEXTURES.indexOf(texture.name) > -1) {\n                    continue;\n                }\n                size += model.faces[j].buffer.length;\n            }\n        }\n        size += 7 * 6;\n        const sceneInfo = {\n            length: size,\n            data: new Float32Array(size),\n            models: []\n        };\n        let currentVertex = 0;\n        for (let i = 0; i < bsp.models.length; ++i) {\n            const model = bsp.models[i];\n            const modelInfo = {\n                origin: model.origin,\n                offset: currentVertex,\n                length: 0,\n                isTransparent: false,\n                faces: []\n            };\n            for (let j = 0; j < model.faces.length; ++j) {\n                const texture = bsp.textures[model.faces[j].textureIndex];\n                if (INVISIBLE_TEXTURES.indexOf(texture.name) > -1) {\n                    continue;\n                }\n                const faceInfo = {\n                    offset: currentVertex,\n                    length: 0,\n                    textureIndex: -1\n                };\n                for (let k = 0; k < model.faces[j].buffer.length; ++k) {\n                    sceneInfo.data[currentVertex++] = model.faces[j].buffer[k];\n                }\n                if (!modelInfo.isTransparent &&\n                    bsp.textures[model.faces[j].textureIndex].name[0] === '{') {\n                    modelInfo.isTransparent = true;\n                }\n                faceInfo.textureIndex = model.faces[j].textureIndex;\n                faceInfo.length = currentVertex - faceInfo.offset;\n                modelInfo.faces.push(faceInfo);\n            }\n            modelInfo.length = currentVertex - modelInfo.offset;\n            sceneInfo.models.push(modelInfo);\n        }\n        sceneInfo.models.push({\n            origin: [0, 0, 0],\n            offset: currentVertex,\n            length: 4,\n            isTransparent: false,\n            faces: [\n                {\n                    offset: currentVertex,\n                    length: 4,\n                    textureIndex: 0\n                }\n            ]\n        });\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        currentVertex = 0;\n        const sortedSceneInfo = {\n            data: new Float32Array(sceneInfo.data),\n            length: sceneInfo.length,\n            models: sceneInfo.models.map(model => ({\n                origin: [...model.origin],\n                offset: model.offset,\n                length: model.length,\n                isTransparent: model.isTransparent,\n                faces: model.faces.map(face => ({\n                    offset: face.offset,\n                    length: face.length,\n                    textureIndex: face.textureIndex\n                }))\n            }))\n        };\n        for (let i = 0; i < sortedSceneInfo.models.length; ++i) {\n            const model = sortedSceneInfo.models[i];\n            model.faces.sort((a, b) => a.textureIndex - b.textureIndex);\n            for (let j = 0; j < model.faces.length; ++j) {\n                const face = model.faces[j];\n                const newOffset = currentVertex;\n                for (let k = 0; k < face.length; ++k) {\n                    sortedSceneInfo.data[currentVertex] = sceneInfo.data[face.offset + k];\n                    currentVertex += 1;\n                }\n                face.offset = newOffset;\n            }\n            const newFaces = [];\n            let currentTextureIndex = -1;\n            for (let j = 0; j < model.faces.length; ++j) {\n                const face = model.faces[j];\n                if (face.textureIndex === currentTextureIndex) {\n                    newFaces[newFaces.length - 1].length += face.length;\n                }\n                else {\n                    newFaces.push({\n                        offset: face.offset,\n                        length: face.length,\n                        textureIndex: face.textureIndex\n                    });\n                    currentTextureIndex = face.textureIndex;\n                }\n            }\n            model.faces = newFaces;\n        }\n        this.sceneInfo = sortedSceneInfo;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, this.sceneInfo.data, gl.STATIC_DRAW);\n    }\n    loadTextures(bsp) {\n        const gl = this.context.gl;\n        for (let i = 0; i < bsp.textures.length; ++i) {\n            const glTexture = gl.createTexture();\n            if (!glTexture) {\n                throw new Error('fatal error');\n            }\n            const texture = bsp.textures[i];\n            if (!(0, Util_1.isPowerOfTwo)(texture.width) || !(0, Util_1.isPowerOfTwo)(texture.height)) {\n                const w = texture.width;\n                const h = texture.height;\n                const nw = (0, Util_1.nextPowerOfTwo)(texture.width);\n                const nh = (0, Util_1.nextPowerOfTwo)(texture.height);\n                texture.data = (0, Util_1.resizeTexture)(texture.data, w, h, nw, nh);\n                texture.width = nw;\n                texture.height = nh;\n            }\n            gl.bindTexture(gl.TEXTURE_2D, glTexture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texture.width, texture.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, texture.data);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            const anisotropy = this.context.getAnisotropyExtension();\n            if (anisotropy) {\n                gl.texParameteri(gl.TEXTURE_2D, anisotropy.TEXTURE_MAX_ANISOTROPY_EXT, this.context.getMaxAnisotropy(anisotropy));\n            }\n            this.textures.push({\n                name: texture.name,\n                width: texture.width,\n                height: texture.height,\n                data: texture.data,\n                handle: glTexture\n            });\n        }\n    }\n    loadSpriteTextures(bsp) {\n        const gl = this.context.gl;\n        for (const [name, sprite] of Object.entries(bsp.sprites)) {\n            const glTexture = gl.createTexture();\n            if (!glTexture) {\n                throw new Error('fatal error');\n            }\n            const texture = sprite.frames[0];\n            if (!(0, Util_1.isPowerOfTwo)(texture.width) || !(0, Util_1.isPowerOfTwo)(texture.height)) {\n                const w = texture.width;\n                const h = texture.height;\n                const nw = (0, Util_1.nextPowerOfTwo)(texture.width);\n                const nh = (0, Util_1.nextPowerOfTwo)(texture.height);\n                texture.data = (0, Util_1.resizeTexture)(texture.data, w, h, nw, nh);\n                texture.width = nw;\n                texture.height = nh;\n            }\n            gl.bindTexture(gl.TEXTURE_2D, glTexture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texture.width, texture.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, texture.data);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            const anisotropy = this.context.getAnisotropyExtension();\n            if (anisotropy) {\n                gl.texParameteri(gl.TEXTURE_2D, anisotropy.TEXTURE_MAX_ANISOTROPY_EXT, this.context.getMaxAnisotropy(anisotropy));\n            }\n            this.textures.push({\n                name: name,\n                width: texture.width,\n                height: texture.height,\n                data: texture.data,\n                handle: glTexture\n            });\n            this.sprites[name] = sprite;\n        }\n    }\n    loadLightmap(bsp) {\n        const gl = this.context.gl;\n        const glLightmap = gl.createTexture();\n        if (!glLightmap) {\n            throw new Error('fatal error');\n        }\n        gl.bindTexture(gl.TEXTURE_2D, glLightmap);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, bsp.lightmap.width, bsp.lightmap.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, bsp.lightmap.data);\n        gl.generateMipmap(gl.TEXTURE_2D);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n        this.lightmap = {\n            data: bsp.lightmap.data,\n            handle: glLightmap\n        };\n    }\n    draw(camera, entities) {\n        if (!this.bsp || !this.lightmap) {\n            return;\n        }\n        const gl = this.context.gl;\n        const shader = this.shader;\n        shader.useProgram(gl);\n        camera.updateProjectionMatrix();\n        camera.updateViewMatrix();\n        shader.setViewMatrix(gl, camera.viewMatrix);\n        shader.setProjectionMatrix(gl, camera.projectionMatrix);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        shader.enableVertexAttribs(gl);\n        shader.setVertexAttribPointers(gl);\n        shader.setDiffuse(gl, 0);\n        shader.setLightmap(gl, 1);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, this.lightmap.handle);\n        gl.activeTexture(gl.TEXTURE0);\n        const opaqueEntities = [];\n        const transparentEntities = [];\n        for (let i = 1; i < entities.length; ++i) {\n            const e = entities[i];\n            if (e.model) {\n                if (!e.rendermode ||\n                    e.rendermode == BspEntityParser_1.RenderMode.Normal ||\n                    e.rendermode == BspEntityParser_1.RenderMode.Solid) {\n                    if (e.model[0] === '*') {\n                        const model = this.sceneInfo.models[parseInt(e.model.substr(1))];\n                        if (model.isTransparent) {\n                            transparentEntities.push(e);\n                            continue;\n                        }\n                    }\n                    else if (e.model.indexOf('.spr') > -1) {\n                        transparentEntities.push(e);\n                        continue;\n                    }\n                    opaqueEntities.push(e);\n                }\n                else if (e.rendermode == BspEntityParser_1.RenderMode.Additive) {\n                    transparentEntities.push(e);\n                }\n                else {\n                    transparentEntities.push(e);\n                }\n            }\n        }\n        shader.setOpacity(gl, 1.0);\n        this.renderWorldSpawn();\n        this.renderOpaqueEntities(camera, opaqueEntities);\n        if (transparentEntities.length) {\n            gl.depthMask(false);\n            this.renderTransparentEntities(transparentEntities, camera);\n            gl.depthMask(true);\n        }\n    }\n    renderWorldSpawn() {\n        const model = this.sceneInfo.models[0];\n        const gl = this.context.gl;\n        gl_matrix_1.mat4.identity(this.modelMatrix);\n        this.shader.setModelMatrix(gl, this.modelMatrix);\n        for (let j = 0; j < model.faces.length; ++j) {\n            const face = model.faces[j];\n            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n        }\n    }\n    renderOpaqueEntities(camera, entities) {\n        const gl = this.context.gl;\n        const shader = this.shader;\n        const mmx = this.modelMatrix;\n        for (let i = 0; i < entities.length; ++i) {\n            const entity = entities[i];\n            const modelIndex = parseInt(entity.model.substr(1));\n            const model = this.sceneInfo.models[modelIndex];\n            if (model) {\n                const angles = entity.angles || [0, 0, 0];\n                const origin = entity.origin\n                    ? gl_matrix_1.vec3.fromValues(entity.origin[0], entity.origin[1], entity.origin[2])\n                    : gl_matrix_1.vec3.create();\n                const model_origin = gl_matrix_1.vec3.fromValues(model.origin[0], model.origin[1], model.origin[2]);\n                var yaw = angles[1];\n                var pitch = angles[2];\n                var roll = angles[0];\n                gl_matrix_1.mat4.identity(mmx);\n                gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                gl_matrix_1.mat4.translate(mmx, mmx, model_origin);\n                if (entity.origin) {\n                    gl_matrix_1.mat4.rotateZ(mmx, mmx, (yaw * Math.PI) / 180);\n                    gl_matrix_1.mat4.rotateY(mmx, mmx, (pitch * Math.PI) / 180);\n                    gl_matrix_1.mat4.rotateX(mmx, mmx, (roll * Math.PI) / 180);\n                }\n                shader.setModelMatrix(gl, mmx);\n                for (let j = 0; j < model.faces.length; ++j) {\n                    const face = model.faces[j];\n                    gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                    gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                }\n            }\n            else if (entity.model.indexOf('.spr') > -1) {\n                const texture = this.textures.find(a => a.name === entity.model);\n                const sprite = this.sprites[entity.model];\n                if (texture && sprite) {\n                    const origin = entity.origin\n                        ? gl_matrix_1.vec3.fromValues(entity.origin[0], entity.origin[1], entity.origin[2])\n                        : gl_matrix_1.vec3.create();\n                    const scale = gl_matrix_1.vec3.fromValues(texture.width, 1, texture.height);\n                    const angles = entity.angles\n                        ? gl_matrix_1.vec3.fromValues(entity.angles[0], entity.angles[2], entity.angles[1])\n                        : gl_matrix_1.vec3.create();\n                    gl_matrix_1.vec3.scale(scale, scale, entity.scale || 1);\n                    gl_matrix_1.mat4.identity(mmx);\n                    gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                    switch (sprite.header.type) {\n                        case Sprite_1.SpriteType.VP_PARALLEL_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.FACING_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, Math.atan2(origin[1] - camera.position[1], origin[0] - camera.position[0]) +\n                                Math.PI / 2);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, Math.atan2(camera.position[2] - origin[2], Math.sqrt(Math.pow(camera.position[0] - origin[0], 2) +\n                                Math.pow(camera.position[1] - origin[1], 2))));\n                            break;\n                        }\n                        case Sprite_1.SpriteType.ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, (angles[2] * Math.PI) / 180 - Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL_ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            break;\n                        }\n                        default: {\n                            throw new Error('Invalid sprite type');\n                        }\n                    }\n                    gl_matrix_1.mat4.scale(mmx, mmx, scale);\n                    shader.setModelMatrix(gl, mmx);\n                    shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                    const renderMode = entity.rendermode || BspEntityParser_1.RenderMode.Normal;\n                    switch (renderMode) {\n                        case BspEntityParser_1.RenderMode.Normal: {\n                            shader.setOpacity(gl, 1);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Color: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Texture: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Glow: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Solid: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Additive: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    renderTransparentEntities(entities, camera) {\n        const gl = this.context.gl;\n        const shader = this.shader;\n        const mmx = this.modelMatrix;\n        const entityDistances = entities\n            .map((e, i) => ({\n            index: i,\n            distance: gl_matrix_1.vec3.dist(camera.position, e.origin || [0, 0, 0])\n        }))\n            .sort((a, b) => a.distance - b.distance);\n        for (let i = 0; i < entityDistances.length; ++i) {\n            const entity = entities[entityDistances[i].index];\n            const modelIndex = parseInt(entity.model.substr(1));\n            const model = this.sceneInfo.models[modelIndex];\n            if (model) {\n                const angles = entity.angles || [0, 0, 0];\n                const origin = entity.origin || [0, 0, 0];\n                origin[0] += model.origin[0];\n                origin[1] += model.origin[1];\n                origin[2] += model.origin[2];\n                gl_matrix_1.mat4.identity(mmx);\n                gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180);\n                gl_matrix_1.mat4.rotateX(this.modelMatrix, this.modelMatrix, (angles[2] * Math.PI) / 180);\n                shader.setModelMatrix(gl, this.modelMatrix);\n                const renderMode = entity.rendermode || BspEntityParser_1.RenderMode.Normal;\n                switch (renderMode) {\n                    case BspEntityParser_1.RenderMode.Normal: {\n                        shader.setOpacity(gl, 1);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Color: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Texture: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Glow: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Solid: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Additive: {\n                        gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                        break;\n                    }\n                }\n            }\n            else if (entity.model.indexOf('.spr') > -1) {\n                const texture = this.textures.find(a => a.name === entity.model);\n                const sprite = this.sprites[entity.model];\n                if (texture && sprite) {\n                    const origin = entity.origin\n                        ? gl_matrix_1.vec3.fromValues(entity.origin[0], entity.origin[1], entity.origin[2])\n                        : gl_matrix_1.vec3.create();\n                    const scale = gl_matrix_1.vec3.fromValues(texture.width, 1, texture.height);\n                    const angles = entity.angles\n                        ? gl_matrix_1.vec3.fromValues(entity.angles[0], entity.angles[2], entity.angles[1])\n                        : gl_matrix_1.vec3.create();\n                    gl_matrix_1.vec3.scale(scale, scale, entity.scale || 1);\n                    gl_matrix_1.mat4.identity(mmx);\n                    gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                    switch (sprite.header.type) {\n                        case Sprite_1.SpriteType.VP_PARALLEL_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.FACING_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, Math.atan2(origin[1] - camera.position[1], origin[0] - camera.position[0]) +\n                                Math.PI / 2);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, Math.atan2(camera.position[2] - origin[2], Math.sqrt(Math.pow(camera.position[0] - origin[0], 2) +\n                                Math.pow(camera.position[1] - origin[1], 2))));\n                            break;\n                        }\n                        case Sprite_1.SpriteType.ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, (angles[2] * Math.PI) / 180 - Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL_ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            break;\n                        }\n                        default: {\n                            throw new Error('Invalid sprite type');\n                        }\n                    }\n                    gl_matrix_1.mat4.scale(mmx, mmx, scale);\n                    shader.setModelMatrix(gl, mmx);\n                    shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                    const renderMode = entity.rendermode || BspEntityParser_1.RenderMode.Normal;\n                    switch (renderMode) {\n                        case BspEntityParser_1.RenderMode.Normal: {\n                            shader.setOpacity(gl, 1);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Color: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Texture: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Glow: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Solid: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Additive: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\nexports.WorldScene = WorldScene;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdCQUF3QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx3QkFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx3QkFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx3QkFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx3QkFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx3QkFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHdCQUF3QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9HcmFwaGljcy9Xb3JsZFNjZW5lLnRzPzZkNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldvcmxkU2NlbmUgPSB2b2lkIDA7XG5jb25zdCBnbF9tYXRyaXhfMSA9IHJlcXVpcmUoXCJnbC1tYXRyaXhcIik7XG5jb25zdCBXb3JsZFNoYWRlcl8xID0gcmVxdWlyZShcIi4vV29ybGRTaGFkZXIvV29ybGRTaGFkZXJcIik7XG5jb25zdCBCc3BFbnRpdHlQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9QYXJzZXJzL0JzcEVudGl0eVBhcnNlclwiKTtcbmNvbnN0IFNwcml0ZV8xID0gcmVxdWlyZShcIi4uL1BhcnNlcnMvU3ByaXRlXCIpO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcbmNsYXNzIFdvcmxkU2NlbmUge1xuICAgIHN0YXRpYyBpbml0KGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gV29ybGRTaGFkZXJfMS5NYWluU2hhZGVyLmluaXQoY29udGV4dCk7XG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdCBNYWluU2hhZGVyJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXIudXNlUHJvZ3JhbShjb250ZXh0LmdsKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gY29udGV4dC5nbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgV2ViR0wgYnVmZmVyJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFdvcmxkU2NlbmUoeyBidWZmZXIsIGNvbnRleHQsIHNoYWRlciB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMubW9kZWxNYXRyaXggPSBnbF9tYXRyaXhfMS5tYXQ0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLnNjZW5lSW5mbyA9IHtcbiAgICAgICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkoMCksXG4gICAgICAgICAgICBtb2RlbHM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnNwID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLnNwcml0ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5saWdodG1hcCA9IG51bGw7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gcGFyYW1zLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gcGFyYW1zLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gcGFyYW1zLnNoYWRlcjtcbiAgICB9XG4gICAgY2hhbmdlTWFwKGJzcCkge1xuICAgICAgICB0aGlzLmZpbGxCdWZmZXIoYnNwKTtcbiAgICAgICAgdGhpcy5sb2FkVGV4dHVyZXMoYnNwKTtcbiAgICAgICAgdGhpcy5sb2FkU3ByaXRlVGV4dHVyZXMoYnNwKTtcbiAgICAgICAgdGhpcy5sb2FkTGlnaHRtYXAoYnNwKTtcbiAgICAgICAgdGhpcy5ic3AgPSBic3A7XG4gICAgfVxuICAgIGZpbGxCdWZmZXIoYnNwKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBjb25zdCBtb2RlbHMgPSBic3AubW9kZWxzO1xuICAgICAgICBjb25zdCBJTlZJU0lCTEVfVEVYVFVSRVMgPSBbXG4gICAgICAgICAgICAnYWFhdHJpZ2dlcicsXG4gICAgICAgICAgICAnY2xpcCcsXG4gICAgICAgICAgICAnbnVsbCcsXG4gICAgICAgICAgICAnaGludCcsXG4gICAgICAgICAgICAnbm9kcmF3JyxcbiAgICAgICAgICAgICdpbnZpc2libGUnLFxuICAgICAgICAgICAgJ3NraXAnLFxuICAgICAgICAgICAgJ3RyaWdnZXInLFxuICAgICAgICAgICAgJ3NreScsXG4gICAgICAgICAgICAnZm9nJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgc2l6ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IG1vZGVsc1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbW9kZWwuZmFjZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gYnNwLnRleHR1cmVzW21vZGVsLmZhY2VzW2pdLnRleHR1cmVJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKElOVklTSUJMRV9URVhUVVJFUy5pbmRleE9mKHRleHR1cmUubmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2l6ZSArPSBtb2RlbC5mYWNlc1tqXS5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNpemUgKz0gNyAqIDY7XG4gICAgICAgIGNvbnN0IHNjZW5lSW5mbyA9IHtcbiAgICAgICAgICAgIGxlbmd0aDogc2l6ZSxcbiAgICAgICAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkoc2l6ZSksXG4gICAgICAgICAgICBtb2RlbHM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjdXJyZW50VmVydGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBic3AubW9kZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IGJzcC5tb2RlbHNbaV07XG4gICAgICAgICAgICBjb25zdCBtb2RlbEluZm8gPSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBtb2RlbC5vcmlnaW4sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBjdXJyZW50VmVydGV4LFxuICAgICAgICAgICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICBpc1RyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWNlczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1vZGVsLmZhY2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGJzcC50ZXh0dXJlc1ttb2RlbC5mYWNlc1tqXS50ZXh0dXJlSW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChJTlZJU0lCTEVfVEVYVFVSRVMuaW5kZXhPZih0ZXh0dXJlLm5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY2VJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGN1cnJlbnRWZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4OiAtMVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBtb2RlbC5mYWNlc1tqXS5idWZmZXIubGVuZ3RoOyArK2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IG1vZGVsLmZhY2VzW2pdLmJ1ZmZlcltrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbEluZm8uaXNUcmFuc3BhcmVudCAmJlxuICAgICAgICAgICAgICAgICAgICBic3AudGV4dHVyZXNbbW9kZWwuZmFjZXNbal0udGV4dHVyZUluZGV4XS5uYW1lWzBdID09PSAneycpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxJbmZvLmlzVHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmYWNlSW5mby50ZXh0dXJlSW5kZXggPSBtb2RlbC5mYWNlc1tqXS50ZXh0dXJlSW5kZXg7XG4gICAgICAgICAgICAgICAgZmFjZUluZm8ubGVuZ3RoID0gY3VycmVudFZlcnRleCAtIGZhY2VJbmZvLm9mZnNldDtcbiAgICAgICAgICAgICAgICBtb2RlbEluZm8uZmFjZXMucHVzaChmYWNlSW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RlbEluZm8ubGVuZ3RoID0gY3VycmVudFZlcnRleCAtIG1vZGVsSW5mby5vZmZzZXQ7XG4gICAgICAgICAgICBzY2VuZUluZm8ubW9kZWxzLnB1c2gobW9kZWxJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBzY2VuZUluZm8ubW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBbMCwgMCwgMF0sXG4gICAgICAgICAgICBvZmZzZXQ6IGN1cnJlbnRWZXJ0ZXgsXG4gICAgICAgICAgICBsZW5ndGg6IDQsXG4gICAgICAgICAgICBpc1RyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgICAgIGZhY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGN1cnJlbnRWZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogNCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IC0wLjU7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gLTAuNTtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDE7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAxO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwLjU7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMC41O1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IC0wLjU7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMC41O1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMTtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IC0wLjU7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gLTAuNTtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDE7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAxO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwLjU7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gLTAuNTtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAxO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwLjU7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMC41O1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgc2NlbmVJbmZvLmRhdGFbY3VycmVudFZlcnRleCsrXSA9IDA7XG4gICAgICAgIHNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXgrK10gPSAwO1xuICAgICAgICBzY2VuZUluZm8uZGF0YVtjdXJyZW50VmVydGV4KytdID0gMDtcbiAgICAgICAgY3VycmVudFZlcnRleCA9IDA7XG4gICAgICAgIGNvbnN0IHNvcnRlZFNjZW5lSW5mbyA9IHtcbiAgICAgICAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkoc2NlbmVJbmZvLmRhdGEpLFxuICAgICAgICAgICAgbGVuZ3RoOiBzY2VuZUluZm8ubGVuZ3RoLFxuICAgICAgICAgICAgbW9kZWxzOiBzY2VuZUluZm8ubW9kZWxzLm1hcChtb2RlbCA9PiAoe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogWy4uLm1vZGVsLm9yaWdpbl0sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBtb2RlbC5vZmZzZXQsXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBtb2RlbC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaXNUcmFuc3BhcmVudDogbW9kZWwuaXNUcmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBmYWNlczogbW9kZWwuZmFjZXMubWFwKGZhY2UgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWNlLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBmYWNlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4OiBmYWNlLnRleHR1cmVJbmRleFxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkU2NlbmVJbmZvLm1vZGVscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSBzb3J0ZWRTY2VuZUluZm8ubW9kZWxzW2ldO1xuICAgICAgICAgICAgbW9kZWwuZmFjZXMuc29ydCgoYSwgYikgPT4gYS50ZXh0dXJlSW5kZXggLSBiLnRleHR1cmVJbmRleCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1vZGVsLmZhY2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFjZSA9IG1vZGVsLmZhY2VzW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld09mZnNldCA9IGN1cnJlbnRWZXJ0ZXg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBmYWNlLmxlbmd0aDsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZFNjZW5lSW5mby5kYXRhW2N1cnJlbnRWZXJ0ZXhdID0gc2NlbmVJbmZvLmRhdGFbZmFjZS5vZmZzZXQgKyBrXTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlcnRleCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmYWNlLm9mZnNldCA9IG5ld09mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld0ZhY2VzID0gW107XG4gICAgICAgICAgICBsZXQgY3VycmVudFRleHR1cmVJbmRleCA9IC0xO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb2RlbC5mYWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY2UgPSBtb2RlbC5mYWNlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoZmFjZS50ZXh0dXJlSW5kZXggPT09IGN1cnJlbnRUZXh0dXJlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmFjZXNbbmV3RmFjZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICs9IGZhY2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmFjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhY2Uub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBmYWNlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVJbmRleDogZmFjZS50ZXh0dXJlSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlSW5kZXggPSBmYWNlLnRleHR1cmVJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RlbC5mYWNlcyA9IG5ld0ZhY2VzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NlbmVJbmZvID0gc29ydGVkU2NlbmVJbmZvO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5zY2VuZUluZm8uZGF0YSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIH1cbiAgICBsb2FkVGV4dHVyZXMoYnNwKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJzcC50ZXh0dXJlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZ2xUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhdGFsIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gYnNwLnRleHR1cmVzW2ldO1xuICAgICAgICAgICAgaWYgKCEoMCwgVXRpbF8xLmlzUG93ZXJPZlR3bykodGV4dHVyZS53aWR0aCkgfHwgISgwLCBVdGlsXzEuaXNQb3dlck9mVHdvKSh0ZXh0dXJlLmhlaWdodCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3ID0gdGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBoID0gdGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgbncgPSAoMCwgVXRpbF8xLm5leHRQb3dlck9mVHdvKSh0ZXh0dXJlLndpZHRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuaCA9ICgwLCBVdGlsXzEubmV4dFBvd2VyT2ZUd28pKHRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmRhdGEgPSAoMCwgVXRpbF8xLnJlc2l6ZVRleHR1cmUpKHRleHR1cmUuZGF0YSwgdywgaCwgbncsIG5oKTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLndpZHRoID0gbnc7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5oZWlnaHQgPSBuaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0ZXh0dXJlLmRhdGEpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9MSU5FQVIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuUkVQRUFUKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbiAgICAgICAgICAgIGNvbnN0IGFuaXNvdHJvcHkgPSB0aGlzLmNvbnRleHQuZ2V0QW5pc290cm9weUV4dGVuc2lvbigpO1xuICAgICAgICAgICAgaWYgKGFuaXNvdHJvcHkpIHtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGFuaXNvdHJvcHkuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIHRoaXMuY29udGV4dC5nZXRNYXhBbmlzb3Ryb3B5KGFuaXNvdHJvcHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGV4dHVyZS5uYW1lLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgZGF0YTogdGV4dHVyZS5kYXRhLFxuICAgICAgICAgICAgICAgIGhhbmRsZTogZ2xUZXh0dXJlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2FkU3ByaXRlVGV4dHVyZXMoYnNwKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCBzcHJpdGVdIG9mIE9iamVjdC5lbnRyaWVzKGJzcC5zcHJpdGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZ2xUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhdGFsIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gc3ByaXRlLmZyYW1lc1swXTtcbiAgICAgICAgICAgIGlmICghKDAsIFV0aWxfMS5pc1Bvd2VyT2ZUd28pKHRleHR1cmUud2lkdGgpIHx8ICEoMCwgVXRpbF8xLmlzUG93ZXJPZlR3bykodGV4dHVyZS5oZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdyA9IHRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgaCA9IHRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG53ID0gKDAsIFV0aWxfMS5uZXh0UG93ZXJPZlR3bykodGV4dHVyZS53aWR0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmggPSAoMCwgVXRpbF8xLm5leHRQb3dlck9mVHdvKSh0ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5kYXRhID0gKDAsIFV0aWxfMS5yZXNpemVUZXh0dXJlKSh0ZXh0dXJlLmRhdGEsIHcsIGgsIG53LCBuaCk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS53aWR0aCA9IG53O1xuICAgICAgICAgICAgICAgIHRleHR1cmUuaGVpZ2h0ID0gbmg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBnbFRleHR1cmUpO1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZS5kYXRhKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTElORUFSKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7XG4gICAgICAgICAgICBjb25zdCBhbmlzb3Ryb3B5ID0gdGhpcy5jb250ZXh0LmdldEFuaXNvdHJvcHlFeHRlbnNpb24oKTtcbiAgICAgICAgICAgIGlmIChhbmlzb3Ryb3B5KSB7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBhbmlzb3Ryb3B5LlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCB0aGlzLmNvbnRleHQuZ2V0TWF4QW5pc290cm9weShhbmlzb3Ryb3B5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0ZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBkYXRhOiB0ZXh0dXJlLmRhdGEsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBnbFRleHR1cmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zcHJpdGVzW25hbWVdID0gc3ByaXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxvYWRMaWdodG1hcChic3ApIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGdsTGlnaHRtYXAgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGlmICghZ2xMaWdodG1hcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmYXRhbCBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsTGlnaHRtYXApO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGJzcC5saWdodG1hcC53aWR0aCwgYnNwLmxpZ2h0bWFwLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgYnNwLmxpZ2h0bWFwLmRhdGEpO1xuICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUik7XG4gICAgICAgIHRoaXMubGlnaHRtYXAgPSB7XG4gICAgICAgICAgICBkYXRhOiBic3AubGlnaHRtYXAuZGF0YSxcbiAgICAgICAgICAgIGhhbmRsZTogZ2xMaWdodG1hcFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkcmF3KGNhbWVyYSwgZW50aXRpZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJzcCB8fCAhdGhpcy5saWdodG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgc2hhZGVyLnVzZVByb2dyYW0oZ2wpO1xuICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICBjYW1lcmEudXBkYXRlVmlld01hdHJpeCgpO1xuICAgICAgICBzaGFkZXIuc2V0Vmlld01hdHJpeChnbCwgY2FtZXJhLnZpZXdNYXRyaXgpO1xuICAgICAgICBzaGFkZXIuc2V0UHJvamVjdGlvbk1hdHJpeChnbCwgY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICBzaGFkZXIuZW5hYmxlVmVydGV4QXR0cmlicyhnbCk7XG4gICAgICAgIHNoYWRlci5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCk7XG4gICAgICAgIHNoYWRlci5zZXREaWZmdXNlKGdsLCAwKTtcbiAgICAgICAgc2hhZGVyLnNldExpZ2h0bWFwKGdsLCAxKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMubGlnaHRtYXAuaGFuZGxlKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgICAgIGNvbnN0IG9wYXF1ZUVudGl0aWVzID0gW107XG4gICAgICAgIGNvbnN0IHRyYW5zcGFyZW50RW50aXRpZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBlbnRpdGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IGVudGl0aWVzW2ldO1xuICAgICAgICAgICAgaWYgKGUubW9kZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWUucmVuZGVybW9kZSB8fFxuICAgICAgICAgICAgICAgICAgICBlLnJlbmRlcm1vZGUgPT0gQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5Ob3JtYWwgfHxcbiAgICAgICAgICAgICAgICAgICAgZS5yZW5kZXJtb2RlID09IEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuU29saWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUubW9kZWxbMF0gPT09ICcqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLnNjZW5lSW5mby5tb2RlbHNbcGFyc2VJbnQoZS5tb2RlbC5zdWJzdHIoMSkpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5pc1RyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRFbnRpdGllcy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGUubW9kZWwuaW5kZXhPZignLnNwcicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50RW50aXRpZXMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wYXF1ZUVudGl0aWVzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGUucmVuZGVybW9kZSA9PSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLkFkZGl0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50RW50aXRpZXMucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50RW50aXRpZXMucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIDEuMCk7XG4gICAgICAgIHRoaXMucmVuZGVyV29ybGRTcGF3bigpO1xuICAgICAgICB0aGlzLnJlbmRlck9wYXF1ZUVudGl0aWVzKGNhbWVyYSwgb3BhcXVlRW50aXRpZXMpO1xuICAgICAgICBpZiAodHJhbnNwYXJlbnRFbnRpdGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGdsLmRlcHRoTWFzayhmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRyYW5zcGFyZW50RW50aXRpZXModHJhbnNwYXJlbnRFbnRpdGllcywgY2FtZXJhKTtcbiAgICAgICAgICAgIGdsLmRlcHRoTWFzayh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJXb3JsZFNwYXduKCkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuc2NlbmVJbmZvLm1vZGVsc1swXTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGdsX21hdHJpeF8xLm1hdDQuaWRlbnRpdHkodGhpcy5tb2RlbE1hdHJpeCk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnNldE1vZGVsTWF0cml4KGdsLCB0aGlzLm1vZGVsTWF0cml4KTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb2RlbC5mYWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgY29uc3QgZmFjZSA9IG1vZGVsLmZhY2VzW2pdO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlc1tmYWNlLnRleHR1cmVJbmRleF0uaGFuZGxlKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCBmYWNlLm9mZnNldCAvIDcsIGZhY2UubGVuZ3RoIC8gNyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyT3BhcXVlRW50aXRpZXMoY2FtZXJhLCBlbnRpdGllcykge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIGNvbnN0IG1teCA9IHRoaXMubW9kZWxNYXRyaXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50aXRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGVudGl0aWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleCA9IHBhcnNlSW50KGVudGl0eS5tb2RlbC5zdWJzdHIoMSkpO1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLnNjZW5lSW5mby5tb2RlbHNbbW9kZWxJbmRleF07XG4gICAgICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZXMgPSBlbnRpdHkuYW5nbGVzIHx8IFswLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBlbnRpdHkub3JpZ2luXG4gICAgICAgICAgICAgICAgICAgID8gZ2xfbWF0cml4XzEudmVjMy5mcm9tVmFsdWVzKGVudGl0eS5vcmlnaW5bMF0sIGVudGl0eS5vcmlnaW5bMV0sIGVudGl0eS5vcmlnaW5bMl0pXG4gICAgICAgICAgICAgICAgICAgIDogZ2xfbWF0cml4XzEudmVjMy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbF9vcmlnaW4gPSBnbF9tYXRyaXhfMS52ZWMzLmZyb21WYWx1ZXMobW9kZWwub3JpZ2luWzBdLCBtb2RlbC5vcmlnaW5bMV0sIG1vZGVsLm9yaWdpblsyXSk7XG4gICAgICAgICAgICAgICAgdmFyIHlhdyA9IGFuZ2xlc1sxXTtcbiAgICAgICAgICAgICAgICB2YXIgcGl0Y2ggPSBhbmdsZXNbMl07XG4gICAgICAgICAgICAgICAgdmFyIHJvbGwgPSBhbmdsZXNbMF07XG4gICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5pZGVudGl0eShtbXgpO1xuICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQudHJhbnNsYXRlKG1teCwgbW14LCBvcmlnaW4pO1xuICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQudHJhbnNsYXRlKG1teCwgbW14LCBtb2RlbF9vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkub3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWihtbXgsIG1teCwgKHlhdyAqIE1hdGguUEkpIC8gMTgwKTtcbiAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVZKG1teCwgbW14LCAocGl0Y2ggKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWChtbXgsIG1teCwgKHJvbGwgKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNoYWRlci5zZXRNb2RlbE1hdHJpeChnbCwgbW14KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1vZGVsLmZhY2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhY2UgPSBtb2RlbC5mYWNlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlc1tmYWNlLnRleHR1cmVJbmRleF0uaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIGZhY2Uub2Zmc2V0IC8gNywgZmFjZS5sZW5ndGggLyA3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRpdHkubW9kZWwuaW5kZXhPZignLnNwcicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlcy5maW5kKGEgPT4gYS5uYW1lID09PSBlbnRpdHkubW9kZWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMuc3ByaXRlc1tlbnRpdHkubW9kZWxdO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlICYmIHNwcml0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBlbnRpdHkub3JpZ2luXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGdsX21hdHJpeF8xLnZlYzMuZnJvbVZhbHVlcyhlbnRpdHkub3JpZ2luWzBdLCBlbnRpdHkub3JpZ2luWzFdLCBlbnRpdHkub3JpZ2luWzJdKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnbF9tYXRyaXhfMS52ZWMzLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IGdsX21hdHJpeF8xLnZlYzMuZnJvbVZhbHVlcyh0ZXh0dXJlLndpZHRoLCAxLCB0ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlcyA9IGVudGl0eS5hbmdsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xfbWF0cml4XzEudmVjMy5mcm9tVmFsdWVzKGVudGl0eS5hbmdsZXNbMF0sIGVudGl0eS5hbmdsZXNbMl0sIGVudGl0eS5hbmdsZXNbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGdsX21hdHJpeF8xLnZlYzMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLnZlYzMuc2NhbGUoc2NhbGUsIHNjYWxlLCBlbnRpdHkuc2NhbGUgfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQuaWRlbnRpdHkobW14KTtcbiAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC50cmFuc2xhdGUobW14LCBtbXgsIG9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3ByaXRlLmhlYWRlci50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFNwcml0ZV8xLlNwcml0ZVR5cGUuVlBfUEFSQUxMRUxfVVBSSUdIVDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWihtbXgsIG1teCwgY2FtZXJhLnJvdGF0aW9uWzFdICsgTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTcHJpdGVfMS5TcHJpdGVUeXBlLkZBQ0lOR19VUFJJR0hUOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVaKG1teCwgbW14LCBjYW1lcmEucm90YXRpb25bMV0gKyBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFNwcml0ZV8xLlNwcml0ZVR5cGUuVlBfUEFSQUxMRUw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVoobW14LCBtbXgsIE1hdGguYXRhbjIob3JpZ2luWzFdIC0gY2FtZXJhLnBvc2l0aW9uWzFdLCBvcmlnaW5bMF0gLSBjYW1lcmEucG9zaXRpb25bMF0pICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWChtbXgsIG1teCwgTWF0aC5hdGFuMihjYW1lcmEucG9zaXRpb25bMl0gLSBvcmlnaW5bMl0sIE1hdGguc3FydChNYXRoLnBvdyhjYW1lcmEucG9zaXRpb25bMF0gLSBvcmlnaW5bMF0sIDIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY2FtZXJhLnBvc2l0aW9uWzFdIC0gb3JpZ2luWzFdLCAyKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgU3ByaXRlXzEuU3ByaXRlVHlwZS5PUklFTlRFRDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWShtbXgsIG1teCwgKGFuZ2xlc1swXSAqIE1hdGguUEkpIC8gMTgwICsgTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVaKG1teCwgbW14LCAoYW5nbGVzWzFdICogTWF0aC5QSSkgLyAxODAgKyBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVgobW14LCBtbXgsIChhbmdsZXNbMl0gKiBNYXRoLlBJKSAvIDE4MCAtIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgU3ByaXRlXzEuU3ByaXRlVHlwZS5WUF9QQVJBTExFTF9PUklFTlRFRDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWShtbXgsIG1teCwgKGFuZ2xlc1swXSAqIE1hdGguUEkpIC8gMTgwICsgTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVaKG1teCwgbW14LCAoYW5nbGVzWzFdICogTWF0aC5QSSkgLyAxODAgKyBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3ByaXRlIHR5cGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnNjYWxlKG1teCwgbW14LCBzY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci5zZXRNb2RlbE1hdHJpeChnbCwgbW14KTtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJNb2RlID0gZW50aXR5LnJlbmRlcm1vZGUgfHwgQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5Ob3JtYWw7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVuZGVyTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLk5vcm1hbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlci5zZXRPcGFjaXR5KGdsLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlLmhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIHRoaXMuc2NlbmVJbmZvLm1vZGVsc1t0aGlzLnNjZW5lSW5mby5tb2RlbHMubGVuZ3RoIC0gMV0ub2Zmc2V0IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNywgNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuQ29sb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgKGVudGl0eS5yZW5kZXJhbXQgfHwgMjU1KSAvIDI1NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCB0aGlzLnNjZW5lSW5mby5tb2RlbHNbdGhpcy5zY2VuZUluZm8ubW9kZWxzLmxlbmd0aCAtIDFdLm9mZnNldCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsIDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLlRleHR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgKGVudGl0eS5yZW5kZXJhbXQgfHwgMjU1KSAvIDI1NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCB0aGlzLnNjZW5lSW5mby5tb2RlbHNbdGhpcy5zY2VuZUluZm8ubW9kZWxzLmxlbmd0aCAtIDFdLm9mZnNldCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsIDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLkdsb3c6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlci5zZXRPcGFjaXR5KGdsLCAoZW50aXR5LnJlbmRlcmFtdCB8fCAyNTUpIC8gMjU1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlLmhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIHRoaXMuc2NlbmVJbmZvLm1vZGVsc1t0aGlzLnNjZW5lSW5mby5tb2RlbHMubGVuZ3RoIC0gMV0ub2Zmc2V0IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNywgNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuU29saWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgKGVudGl0eS5yZW5kZXJhbXQgfHwgMjU1KSAvIDI1NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCB0aGlzLnNjZW5lSW5mby5tb2RlbHNbdGhpcy5zY2VuZUluZm8ubW9kZWxzLmxlbmd0aCAtIDFdLm9mZnNldCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsIDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLkFkZGl0aXZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuRFNUX0FMUEhBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgKGVudGl0eS5yZW5kZXJhbXQgfHwgMjU1KSAvIDI1NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCB0aGlzLnNjZW5lSW5mby5tb2RlbHNbdGhpcy5zY2VuZUluZm8ubW9kZWxzLmxlbmd0aCAtIDFdLm9mZnNldCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsIDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlclRyYW5zcGFyZW50RW50aXRpZXMoZW50aXRpZXMsIGNhbWVyYSkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIGNvbnN0IG1teCA9IHRoaXMubW9kZWxNYXRyaXg7XG4gICAgICAgIGNvbnN0IGVudGl0eURpc3RhbmNlcyA9IGVudGl0aWVzXG4gICAgICAgICAgICAubWFwKChlLCBpKSA9PiAoe1xuICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICBkaXN0YW5jZTogZ2xfbWF0cml4XzEudmVjMy5kaXN0KGNhbWVyYS5wb3NpdGlvbiwgZS5vcmlnaW4gfHwgWzAsIDAsIDBdKVxuICAgICAgICB9KSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50aXR5RGlzdGFuY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBlbnRpdGllc1tlbnRpdHlEaXN0YW5jZXNbaV0uaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleCA9IHBhcnNlSW50KGVudGl0eS5tb2RlbC5zdWJzdHIoMSkpO1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLnNjZW5lSW5mby5tb2RlbHNbbW9kZWxJbmRleF07XG4gICAgICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZXMgPSBlbnRpdHkuYW5nbGVzIHx8IFswLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBlbnRpdHkub3JpZ2luIHx8IFswLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBvcmlnaW5bMF0gKz0gbW9kZWwub3JpZ2luWzBdO1xuICAgICAgICAgICAgICAgIG9yaWdpblsxXSArPSBtb2RlbC5vcmlnaW5bMV07XG4gICAgICAgICAgICAgICAgb3JpZ2luWzJdICs9IG1vZGVsLm9yaWdpblsyXTtcbiAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LmlkZW50aXR5KG1teCk7XG4gICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC50cmFuc2xhdGUobW14LCBtbXgsIG9yaWdpbik7XG4gICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVaKG1teCwgbW14LCAoYW5nbGVzWzFdICogTWF0aC5QSSkgLyAxODApO1xuICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWCh0aGlzLm1vZGVsTWF0cml4LCB0aGlzLm1vZGVsTWF0cml4LCAoYW5nbGVzWzJdICogTWF0aC5QSSkgLyAxODApO1xuICAgICAgICAgICAgICAgIHNoYWRlci5zZXRNb2RlbE1hdHJpeChnbCwgdGhpcy5tb2RlbE1hdHJpeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyTW9kZSA9IGVudGl0eS5yZW5kZXJtb2RlIHx8IEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuTm9ybWFsO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVuZGVyTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuTm9ybWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1vZGVsLmZhY2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFjZSA9IG1vZGVsLmZhY2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZXNbZmFjZS50ZXh0dXJlSW5kZXhdLmhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIGZhY2Uub2Zmc2V0IC8gNywgZmFjZS5sZW5ndGggLyA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5Db2xvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb2RlbC5mYWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhY2UgPSBtb2RlbC5mYWNlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmVzW2ZhY2UudGV4dHVyZUluZGV4XS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCBmYWNlLm9mZnNldCAvIDcsIGZhY2UubGVuZ3RoIC8gNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuVGV4dHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb2RlbC5mYWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhY2UgPSBtb2RlbC5mYWNlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmVzW2ZhY2UudGV4dHVyZUluZGV4XS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCBmYWNlLm9mZnNldCAvIDcsIGZhY2UubGVuZ3RoIC8gNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuR2xvdzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb2RlbC5mYWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhY2UgPSBtb2RlbC5mYWNlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmVzW2ZhY2UudGV4dHVyZUluZGV4XS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCBmYWNlLm9mZnNldCAvIDcsIGZhY2UubGVuZ3RoIC8gNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuU29saWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlci5zZXRPcGFjaXR5KGdsLCAoZW50aXR5LnJlbmRlcmFtdCB8fCAyNTUpIC8gMjU1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbW9kZWwuZmFjZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWNlID0gbW9kZWwuZmFjZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlc1tmYWNlLnRleHR1cmVJbmRleF0uaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgZmFjZS5vZmZzZXQgLyA3LCBmYWNlLmxlbmd0aCAvIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLkFkZGl0aXZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb2RlbC5mYWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhY2UgPSBtb2RlbC5mYWNlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmVzW2ZhY2UudGV4dHVyZUluZGV4XS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCBmYWNlLm9mZnNldCAvIDcsIGZhY2UubGVuZ3RoIC8gNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW50aXR5Lm1vZGVsLmluZGV4T2YoJy5zcHInKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMudGV4dHVyZXMuZmluZChhID0+IGEubmFtZSA9PT0gZW50aXR5Lm1vZGVsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnNwcml0ZXNbZW50aXR5Lm1vZGVsXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZSAmJiBzcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gZW50aXR5Lm9yaWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgPyBnbF9tYXRyaXhfMS52ZWMzLmZyb21WYWx1ZXMoZW50aXR5Lm9yaWdpblswXSwgZW50aXR5Lm9yaWdpblsxXSwgZW50aXR5Lm9yaWdpblsyXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZ2xfbWF0cml4XzEudmVjMy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBnbF9tYXRyaXhfMS52ZWMzLmZyb21WYWx1ZXModGV4dHVyZS53aWR0aCwgMSwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmdsZXMgPSBlbnRpdHkuYW5nbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGdsX21hdHJpeF8xLnZlYzMuZnJvbVZhbHVlcyhlbnRpdHkuYW5nbGVzWzBdLCBlbnRpdHkuYW5nbGVzWzJdLCBlbnRpdHkuYW5nbGVzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnbF9tYXRyaXhfMS52ZWMzLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS52ZWMzLnNjYWxlKHNjYWxlLCBzY2FsZSwgZW50aXR5LnNjYWxlIHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LmlkZW50aXR5KG1teCk7XG4gICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQudHJhbnNsYXRlKG1teCwgbW14LCBvcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNwcml0ZS5oZWFkZXIudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTcHJpdGVfMS5TcHJpdGVUeXBlLlZQX1BBUkFMTEVMX1VQUklHSFQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVoobW14LCBtbXgsIGNhbWVyYS5yb3RhdGlvblsxXSArIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgU3ByaXRlXzEuU3ByaXRlVHlwZS5GQUNJTkdfVVBSSUdIVDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWihtbXgsIG1teCwgY2FtZXJhLnJvdGF0aW9uWzFdICsgTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTcHJpdGVfMS5TcHJpdGVUeXBlLlZQX1BBUkFMTEVMOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVaKG1teCwgbW14LCBNYXRoLmF0YW4yKG9yaWdpblsxXSAtIGNhbWVyYS5wb3NpdGlvblsxXSwgb3JpZ2luWzBdIC0gY2FtZXJhLnBvc2l0aW9uWzBdKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVgobW14LCBtbXgsIE1hdGguYXRhbjIoY2FtZXJhLnBvc2l0aW9uWzJdIC0gb3JpZ2luWzJdLCBNYXRoLnNxcnQoTWF0aC5wb3coY2FtZXJhLnBvc2l0aW9uWzBdIC0gb3JpZ2luWzBdLCAyKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGNhbWVyYS5wb3NpdGlvblsxXSAtIG9yaWdpblsxXSwgMikpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFNwcml0ZV8xLlNwcml0ZVR5cGUuT1JJRU5URUQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVkobW14LCBtbXgsIChhbmdsZXNbMF0gKiBNYXRoLlBJKSAvIDE4MCArIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWihtbXgsIG1teCwgKGFuZ2xlc1sxXSAqIE1hdGguUEkpIC8gMTgwICsgTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5yb3RhdGVYKG1teCwgbW14LCAoYW5nbGVzWzJdICogTWF0aC5QSSkgLyAxODAgLSBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFNwcml0ZV8xLlNwcml0ZVR5cGUuVlBfUEFSQUxMRUxfT1JJRU5URUQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbF9tYXRyaXhfMS5tYXQ0LnJvdGF0ZVkobW14LCBtbXgsIChhbmdsZXNbMF0gKiBNYXRoLlBJKSAvIDE4MCArIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsX21hdHJpeF8xLm1hdDQucm90YXRlWihtbXgsIG1teCwgKGFuZ2xlc1sxXSAqIE1hdGguUEkpIC8gMTgwICsgTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNwcml0ZSB0eXBlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2xfbWF0cml4XzEubWF0NC5zY2FsZShtbXgsIG1teCwgc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0TW9kZWxNYXRyaXgoZ2wsIG1teCk7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci5zZXRPcGFjaXR5KGdsLCAoZW50aXR5LnJlbmRlcmFtdCB8fCAyNTUpIC8gMjU1KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyTW9kZSA9IGVudGl0eS5yZW5kZXJtb2RlIHx8IEJzcEVudGl0eVBhcnNlcl8xLlJlbmRlck1vZGUuTm9ybWFsO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlbmRlck1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5Ob3JtYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCB0aGlzLnNjZW5lSW5mby5tb2RlbHNbdGhpcy5zY2VuZUluZm8ubW9kZWxzLmxlbmd0aCAtIDFdLm9mZnNldCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsIDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLkNvbG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUuaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgdGhpcy5zY2VuZUluZm8ubW9kZWxzW3RoaXMuc2NlbmVJbmZvLm1vZGVscy5sZW5ndGggLSAxXS5vZmZzZXQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LCA2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5UZXh0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUuaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgdGhpcy5zY2VuZUluZm8ubW9kZWxzW3RoaXMuc2NlbmVJbmZvLm1vZGVscy5sZW5ndGggLSAxXS5vZmZzZXQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LCA2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5HbG93OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuRFNUX0FMUEhBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZXIuc2V0T3BhY2l0eShnbCwgKGVudGl0eS5yZW5kZXJhbXQgfHwgMjU1KSAvIDI1NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZS5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCB0aGlzLnNjZW5lSW5mby5tb2RlbHNbdGhpcy5zY2VuZUluZm8ubW9kZWxzLmxlbmd0aCAtIDFdLm9mZnNldCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsIDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBCc3BFbnRpdHlQYXJzZXJfMS5SZW5kZXJNb2RlLlNvbGlkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUuaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgdGhpcy5zY2VuZUluZm8ubW9kZWxzW3RoaXMuc2NlbmVJbmZvLm1vZGVscy5sZW5ndGggLSAxXS5vZmZzZXQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LCA2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQnNwRW50aXR5UGFyc2VyXzEuUmVuZGVyTW9kZS5BZGRpdGl2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLkRTVF9BTFBIQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnNldE9wYWNpdHkoZ2wsIChlbnRpdHkucmVuZGVyYW10IHx8IDI1NSkgLyAyNTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUuaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgdGhpcy5zY2VuZUluZm8ubW9kZWxzW3RoaXMuc2NlbmVJbmZvLm1vZGVscy5sZW5ndGggLSAxXS5vZmZzZXQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LCA2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuV29ybGRTY2VuZSA9IFdvcmxkU2NlbmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Graphics/WorldScene.ts\n");

/***/ }),

/***/ "./src/Graphics/WorldShader/WorldShader.ts":
/*!*************************************************!*\
  !*** ./src/Graphics/WorldShader/WorldShader.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MainShader = void 0;\nconst fragmentSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D diffuse;\nuniform sampler2D lightmap;\nuniform float opacity;\n\nvarying vec2 vTexCoord;\nvarying vec2 vLightmapCoord;\n\nvoid main(void) {\n  vec4 diffuseColor = texture2D(diffuse, vTexCoord);\n  vec4 lightColor = texture2D(lightmap, vLightmapCoord);\n\n  gl_FragColor = vec4(diffuseColor.rgb * lightColor.rgb, diffuseColor.a * opacity);\n}`;\nconst vertexSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute vec3 position;\nattribute vec2 texCoord;\nattribute vec2 texCoord2;\n\nvarying vec2 vTexCoord;\nvarying vec2 vLightmapCoord;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nvoid main(void) {\n  vTexCoord = texCoord;\n  vLightmapCoord = texCoord2;\n\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1);\n}`;\nclass MainShader {\n    static init(context) {\n        const attributeNames = ['position', 'texCoord', 'texCoord2'];\n        const uniformNames = [\n            'modelMatrix',\n            'viewMatrix',\n            'projectionMatrix',\n            'diffuse',\n            'lightmap',\n            'opacity'\n        ];\n        const program = context.createProgram({\n            vertexShaderSrc: vertexSrc,\n            fragmentShaderSrc: fragmentSrc,\n            attributeNames,\n            uniformNames\n        });\n        if (!program) {\n            console.error('Failed to create MainShader program');\n            return null;\n        }\n        return new MainShader(program);\n    }\n    constructor(program) {\n        this.program = program.handle;\n        this.aPosition = program.attributes['position'];\n        this.aTexCoord = program.attributes['texCoord'];\n        this.aTexCoord2 = program.attributes['texCoord2'];\n        this.uModelMx = program.uniforms['modelMatrix'];\n        this.uViewMx = program.uniforms['viewMatrix'];\n        this.uProjectionMx = program.uniforms['projectionMatrix'];\n        this.uDiffuse = program.uniforms['diffuse'];\n        this.uLightmap = program.uniforms['lightmap'];\n        this.uOpacity = program.uniforms['opacity'];\n    }\n    useProgram(gl) {\n        gl.useProgram(this.program);\n    }\n    setModelMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uModelMx, false, matrix);\n    }\n    setViewMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uViewMx, false, matrix);\n    }\n    setProjectionMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uProjectionMx, false, matrix);\n    }\n    setDiffuse(gl, value) {\n        gl.uniform1i(this.uDiffuse, value);\n    }\n    setLightmap(gl, val) {\n        gl.uniform1i(this.uLightmap, val);\n    }\n    setOpacity(gl, val) {\n        gl.uniform1f(this.uOpacity, val);\n    }\n    enableVertexAttribs(gl) {\n        gl.enableVertexAttribArray(this.aPosition);\n        gl.enableVertexAttribArray(this.aTexCoord);\n        gl.enableVertexAttribArray(this.aTexCoord2);\n    }\n    setVertexAttribPointers(gl) {\n        gl.vertexAttribPointer(this.aPosition, 3, gl.FLOAT, false, 7 * 4, 0);\n        gl.vertexAttribPointer(this.aTexCoord, 2, gl.FLOAT, false, 7 * 4, 3 * 4);\n        gl.vertexAttribPointer(this.aTexCoord2, 2, gl.FLOAT, false, 7 * 4, 5 * 4);\n    }\n}\nexports.MainShader = MainShader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvR3JhcGhpY3MvV29ybGRTaGFkZXIvV29ybGRTaGFkZXIudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0dyYXBoaWNzL1dvcmxkU2hhZGVyL1dvcmxkU2hhZGVyLnRzPzlkNjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1haW5TaGFkZXIgPSB2b2lkIDA7XG5jb25zdCBmcmFnbWVudFNyYyA9IGAjaWZkZWYgR0xfRVNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiNlbmRpZlxuXG51bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlO1xudW5pZm9ybSBzYW1wbGVyMkQgbGlnaHRtYXA7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG5cbnZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XG52YXJ5aW5nIHZlYzIgdkxpZ2h0bWFwQ29vcmQ7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzQgZGlmZnVzZUNvbG9yID0gdGV4dHVyZTJEKGRpZmZ1c2UsIHZUZXhDb29yZCk7XG4gIHZlYzQgbGlnaHRDb2xvciA9IHRleHR1cmUyRChsaWdodG1hcCwgdkxpZ2h0bWFwQ29vcmQpO1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoZGlmZnVzZUNvbG9yLnJnYiAqIGxpZ2h0Q29sb3IucmdiLCBkaWZmdXNlQ29sb3IuYSAqIG9wYWNpdHkpO1xufWA7XG5jb25zdCB2ZXJ0ZXhTcmMgPSBgI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZW5kaWZcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5hdHRyaWJ1dGUgdmVjMiB0ZXhDb29yZDtcbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkMjtcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcbnZhcnlpbmcgdmVjMiB2TGlnaHRtYXBDb29yZDtcblxudW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4O1xudW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XG51bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgdlRleENvb3JkID0gdGV4Q29vcmQ7XG4gIHZMaWdodG1hcENvb3JkID0gdGV4Q29vcmQyO1xuXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEpO1xufWA7XG5jbGFzcyBNYWluU2hhZGVyIHtcbiAgICBzdGF0aWMgaW5pdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gWydwb3NpdGlvbicsICd0ZXhDb29yZCcsICd0ZXhDb29yZDInXTtcbiAgICAgICAgY29uc3QgdW5pZm9ybU5hbWVzID0gW1xuICAgICAgICAgICAgJ21vZGVsTWF0cml4JyxcbiAgICAgICAgICAgICd2aWV3TWF0cml4JyxcbiAgICAgICAgICAgICdwcm9qZWN0aW9uTWF0cml4JyxcbiAgICAgICAgICAgICdkaWZmdXNlJyxcbiAgICAgICAgICAgICdsaWdodG1hcCcsXG4gICAgICAgICAgICAnb3BhY2l0eSdcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGNvbnRleHQuY3JlYXRlUHJvZ3JhbSh7XG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXJTcmM6IHZlcnRleFNyYyxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyU3JjOiBmcmFnbWVudFNyYyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVzLFxuICAgICAgICAgICAgdW5pZm9ybU5hbWVzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgTWFpblNoYWRlciBwcm9ncmFtJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE1haW5TaGFkZXIocHJvZ3JhbSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHByb2dyYW0pIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbS5oYW5kbGU7XG4gICAgICAgIHRoaXMuYVBvc2l0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVzWydwb3NpdGlvbiddO1xuICAgICAgICB0aGlzLmFUZXhDb29yZCA9IHByb2dyYW0uYXR0cmlidXRlc1sndGV4Q29vcmQnXTtcbiAgICAgICAgdGhpcy5hVGV4Q29vcmQyID0gcHJvZ3JhbS5hdHRyaWJ1dGVzWyd0ZXhDb29yZDInXTtcbiAgICAgICAgdGhpcy51TW9kZWxNeCA9IHByb2dyYW0udW5pZm9ybXNbJ21vZGVsTWF0cml4J107XG4gICAgICAgIHRoaXMudVZpZXdNeCA9IHByb2dyYW0udW5pZm9ybXNbJ3ZpZXdNYXRyaXgnXTtcbiAgICAgICAgdGhpcy51UHJvamVjdGlvbk14ID0gcHJvZ3JhbS51bmlmb3Jtc1sncHJvamVjdGlvbk1hdHJpeCddO1xuICAgICAgICB0aGlzLnVEaWZmdXNlID0gcHJvZ3JhbS51bmlmb3Jtc1snZGlmZnVzZSddO1xuICAgICAgICB0aGlzLnVMaWdodG1hcCA9IHByb2dyYW0udW5pZm9ybXNbJ2xpZ2h0bWFwJ107XG4gICAgICAgIHRoaXMudU9wYWNpdHkgPSBwcm9ncmFtLnVuaWZvcm1zWydvcGFjaXR5J107XG4gICAgfVxuICAgIHVzZVByb2dyYW0oZ2wpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgIH1cbiAgICBzZXRNb2RlbE1hdHJpeChnbCwgbWF0cml4KSB7XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy51TW9kZWxNeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgfVxuICAgIHNldFZpZXdNYXRyaXgoZ2wsIG1hdHJpeCkge1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMudVZpZXdNeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgfVxuICAgIHNldFByb2plY3Rpb25NYXRyaXgoZ2wsIG1hdHJpeCkge1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMudVByb2plY3Rpb25NeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgfVxuICAgIHNldERpZmZ1c2UoZ2wsIHZhbHVlKSB7XG4gICAgICAgIGdsLnVuaWZvcm0xaSh0aGlzLnVEaWZmdXNlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHNldExpZ2h0bWFwKGdsLCB2YWwpIHtcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMudUxpZ2h0bWFwLCB2YWwpO1xuICAgIH1cbiAgICBzZXRPcGFjaXR5KGdsLCB2YWwpIHtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHRoaXMudU9wYWNpdHksIHZhbCk7XG4gICAgfVxuICAgIGVuYWJsZVZlcnRleEF0dHJpYnMoZ2wpIHtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hUG9zaXRpb24pO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFUZXhDb29yZCk7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYVRleENvb3JkMik7XG4gICAgfVxuICAgIHNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsKSB7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hUG9zaXRpb24sIDMsIGdsLkZMT0FULCBmYWxzZSwgNyAqIDQsIDApO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYVRleENvb3JkLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDcgKiA0LCAzICogNCk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hVGV4Q29vcmQyLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDcgKiA0LCA1ICogNCk7XG4gICAgfVxufVxuZXhwb3J0cy5NYWluU2hhZGVyID0gTWFpblNoYWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Graphics/WorldShader/WorldShader.ts\n");

/***/ }),

/***/ "./src/Input/Keyboard.ts":
/*!*******************************!*\
  !*** ./src/Input/Keyboard.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Keyboard = void 0;\nclass Keyboard {\n    constructor() {\n        this.keys = new Uint8Array(256);\n        for (let i = 0; i < 256; ++i) {\n            this.keys[0] = 0;\n        }\n    }\n}\nexports.Keyboard = Keyboard;\n(function (Keyboard) {\n    let KEYS;\n    (function (KEYS) {\n        KEYS[KEYS[\"A\"] = 'A'.charCodeAt(0)] = \"A\";\n        KEYS[KEYS[\"B\"] = 'B'.charCodeAt(0)] = \"B\";\n        KEYS[KEYS[\"C\"] = 'C'.charCodeAt(0)] = \"C\";\n        KEYS[KEYS[\"D\"] = 'D'.charCodeAt(0)] = \"D\";\n        KEYS[KEYS[\"E\"] = 'E'.charCodeAt(0)] = \"E\";\n        KEYS[KEYS[\"F\"] = 'F'.charCodeAt(0)] = \"F\";\n        KEYS[KEYS[\"G\"] = 'G'.charCodeAt(0)] = \"G\";\n        KEYS[KEYS[\"H\"] = 'H'.charCodeAt(0)] = \"H\";\n        KEYS[KEYS[\"I\"] = 'I'.charCodeAt(0)] = \"I\";\n        KEYS[KEYS[\"J\"] = 'J'.charCodeAt(0)] = \"J\";\n        KEYS[KEYS[\"K\"] = 'K'.charCodeAt(0)] = \"K\";\n        KEYS[KEYS[\"L\"] = 'L'.charCodeAt(0)] = \"L\";\n        KEYS[KEYS[\"M\"] = 'M'.charCodeAt(0)] = \"M\";\n        KEYS[KEYS[\"N\"] = 'N'.charCodeAt(0)] = \"N\";\n        KEYS[KEYS[\"O\"] = 'O'.charCodeAt(0)] = \"O\";\n        KEYS[KEYS[\"P\"] = 'P'.charCodeAt(0)] = \"P\";\n        KEYS[KEYS[\"Q\"] = 'Q'.charCodeAt(0)] = \"Q\";\n        KEYS[KEYS[\"R\"] = 'R'.charCodeAt(0)] = \"R\";\n        KEYS[KEYS[\"S\"] = 'S'.charCodeAt(0)] = \"S\";\n        KEYS[KEYS[\"T\"] = 'T'.charCodeAt(0)] = \"T\";\n        KEYS[KEYS[\"U\"] = 'U'.charCodeAt(0)] = \"U\";\n        KEYS[KEYS[\"V\"] = 'V'.charCodeAt(0)] = \"V\";\n        KEYS[KEYS[\"W\"] = 'W'.charCodeAt(0)] = \"W\";\n        KEYS[KEYS[\"X\"] = 'X'.charCodeAt(0)] = \"X\";\n        KEYS[KEYS[\"Y\"] = 'Y'.charCodeAt(0)] = \"Y\";\n        KEYS[KEYS[\"Z\"] = 'Z'.charCodeAt(0)] = \"Z\";\n        KEYS[KEYS[\"CTRL\"] = 17] = \"CTRL\";\n        KEYS[KEYS[\"ALT\"] = 18] = \"ALT\";\n        KEYS[KEYS[\"SPACE\"] = 32] = \"SPACE\";\n    })(KEYS = Keyboard.KEYS || (Keyboard.KEYS = {}));\n})(Keyboard || (exports.Keyboard = Keyboard = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSW5wdXQvS2V5Ym9hcmQudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDZDQUE2QztBQUNsRCxDQUFDLGVBQWUsZ0JBQWdCLGdCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0lucHV0L0tleWJvYXJkLnRzP2RkMzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLktleWJvYXJkID0gdm9pZCAwO1xuY2xhc3MgS2V5Ym9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmtleXMgPSBuZXcgVWludDhBcnJheSgyNTYpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmtleXNbMF0gPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5LZXlib2FyZCA9IEtleWJvYXJkO1xuKGZ1bmN0aW9uIChLZXlib2FyZCkge1xuICAgIGxldCBLRVlTO1xuICAgIChmdW5jdGlvbiAoS0VZUykge1xuICAgICAgICBLRVlTW0tFWVNbXCJBXCJdID0gJ0EnLmNoYXJDb2RlQXQoMCldID0gXCJBXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIkJcIl0gPSAnQicuY2hhckNvZGVBdCgwKV0gPSBcIkJcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiQ1wiXSA9ICdDJy5jaGFyQ29kZUF0KDApXSA9IFwiQ1wiO1xuICAgICAgICBLRVlTW0tFWVNbXCJEXCJdID0gJ0QnLmNoYXJDb2RlQXQoMCldID0gXCJEXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIkVcIl0gPSAnRScuY2hhckNvZGVBdCgwKV0gPSBcIkVcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiRlwiXSA9ICdGJy5jaGFyQ29kZUF0KDApXSA9IFwiRlwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJHXCJdID0gJ0cnLmNoYXJDb2RlQXQoMCldID0gXCJHXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIkhcIl0gPSAnSCcuY2hhckNvZGVBdCgwKV0gPSBcIkhcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiSVwiXSA9ICdJJy5jaGFyQ29kZUF0KDApXSA9IFwiSVwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJKXCJdID0gJ0onLmNoYXJDb2RlQXQoMCldID0gXCJKXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIktcIl0gPSAnSycuY2hhckNvZGVBdCgwKV0gPSBcIktcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiTFwiXSA9ICdMJy5jaGFyQ29kZUF0KDApXSA9IFwiTFwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJNXCJdID0gJ00nLmNoYXJDb2RlQXQoMCldID0gXCJNXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIk5cIl0gPSAnTicuY2hhckNvZGVBdCgwKV0gPSBcIk5cIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiT1wiXSA9ICdPJy5jaGFyQ29kZUF0KDApXSA9IFwiT1wiO1xuICAgICAgICBLRVlTW0tFWVNbXCJQXCJdID0gJ1AnLmNoYXJDb2RlQXQoMCldID0gXCJQXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIlFcIl0gPSAnUScuY2hhckNvZGVBdCgwKV0gPSBcIlFcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiUlwiXSA9ICdSJy5jaGFyQ29kZUF0KDApXSA9IFwiUlwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJTXCJdID0gJ1MnLmNoYXJDb2RlQXQoMCldID0gXCJTXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIlRcIl0gPSAnVCcuY2hhckNvZGVBdCgwKV0gPSBcIlRcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiVVwiXSA9ICdVJy5jaGFyQ29kZUF0KDApXSA9IFwiVVwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJWXCJdID0gJ1YnLmNoYXJDb2RlQXQoMCldID0gXCJWXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIldcIl0gPSAnVycuY2hhckNvZGVBdCgwKV0gPSBcIldcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiWFwiXSA9ICdYJy5jaGFyQ29kZUF0KDApXSA9IFwiWFwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJZXCJdID0gJ1knLmNoYXJDb2RlQXQoMCldID0gXCJZXCI7XG4gICAgICAgIEtFWVNbS0VZU1tcIlpcIl0gPSAnWicuY2hhckNvZGVBdCgwKV0gPSBcIlpcIjtcbiAgICAgICAgS0VZU1tLRVlTW1wiQ1RSTFwiXSA9IDE3XSA9IFwiQ1RSTFwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJBTFRcIl0gPSAxOF0gPSBcIkFMVFwiO1xuICAgICAgICBLRVlTW0tFWVNbXCJTUEFDRVwiXSA9IDMyXSA9IFwiU1BBQ0VcIjtcbiAgICB9KShLRVlTID0gS2V5Ym9hcmQuS0VZUyB8fCAoS2V5Ym9hcmQuS0VZUyA9IHt9KSk7XG59KShLZXlib2FyZCB8fCAoZXhwb3J0cy5LZXlib2FyZCA9IEtleWJvYXJkID0ge30pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Input/Keyboard.ts\n");

/***/ }),

/***/ "./src/Input/Mouse.ts":
/*!****************************!*\
  !*** ./src/Input/Mouse.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Mouse = void 0;\nconst gl_matrix_1 = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/index.js\");\nclass Mouse {\n    constructor() {\n        this.click = false;\n        this.leftClick = false;\n        this.rightClick = false;\n        this.position = gl_matrix_1.vec2.create();\n        this.delta = gl_matrix_1.vec2.create();\n    }\n}\nexports.Mouse = Mouse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSW5wdXQvTW91c2UudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLG9CQUFvQixtQkFBTyxDQUFDLHdEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9JbnB1dC9Nb3VzZS50cz82MzEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Nb3VzZSA9IHZvaWQgMDtcbmNvbnN0IGdsX21hdHJpeF8xID0gcmVxdWlyZShcImdsLW1hdHJpeFwiKTtcbmNsYXNzIE1vdXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jbGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxlZnRDbGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJpZ2h0Q2xpY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZGVsdGEgPSBnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTW91c2UgPSBNb3VzZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Input/Mouse.ts\n");

/***/ }),

/***/ "./src/Input/Touch.ts":
/*!****************************!*\
  !*** ./src/Input/Touch.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Touch = void 0;\nconst gl_matrix_1 = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/index.js\");\nclass Touch {\n    constructor() {\n        this.pressed = false;\n        this.position = gl_matrix_1.vec2.create();\n        this.delta = gl_matrix_1.vec2.create();\n    }\n}\nexports.Touch = Touch;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSW5wdXQvVG91Y2gudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLG9CQUFvQixtQkFBTyxDQUFDLHdEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL0lucHV0L1RvdWNoLnRzP2Q4M2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRvdWNoID0gdm9pZCAwO1xuY29uc3QgZ2xfbWF0cml4XzEgPSByZXF1aXJlKFwiZ2wtbWF0cml4XCIpO1xuY2xhc3MgVG91Y2gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZGVsdGEgPSBnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuVG91Y2ggPSBUb3VjaDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Input/Touch.ts\n");

/***/ }),

/***/ "./src/Loader.ts":
/*!***********************!*\
  !*** ./src/Loader.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Loader = void 0;\nconst nanoevents_1 = __webpack_require__(/*! nanoevents */ \"./node_modules/nanoevents/index.js\");\nconst Sound_1 = __webpack_require__(/*! ./Sound */ \"./src/Sound.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Tga_1 = __webpack_require__(/*! ./Parsers/Tga */ \"./src/Parsers/Tga.ts\");\nconst Wad_1 = __webpack_require__(/*! ./Parsers/Wad */ \"./src/Parsers/Wad.ts\");\nconst Replay_1 = __webpack_require__(/*! ./Replay/Replay */ \"./src/Replay/Replay.ts\");\nconst Sprite_1 = __webpack_require__(/*! ./Parsers/Sprite */ \"./src/Parsers/Sprite.ts\");\nconst Xhr_1 = __webpack_require__(/*! ./Xhr */ \"./src/Xhr.ts\");\nconst BspParser_1 = __webpack_require__(/*! ./Parsers/BspParser */ \"./src/Parsers/BspParser.ts\");\nvar LoadItemStatus;\n(function (LoadItemStatus) {\n    LoadItemStatus[LoadItemStatus[\"Loading\"] = 1] = \"Loading\";\n    LoadItemStatus[LoadItemStatus[\"Skipped\"] = 2] = \"Skipped\";\n    LoadItemStatus[LoadItemStatus[\"Error\"] = 3] = \"Error\";\n    LoadItemStatus[LoadItemStatus[\"Done\"] = 4] = \"Done\";\n})(LoadItemStatus || (LoadItemStatus = {}));\nclass LoadItemBase {\n    constructor(name) {\n        this.name = name;\n        this.progress = 0;\n        this.status = LoadItemStatus.Loading;\n        this.data = null;\n    }\n    isLoading() {\n        return this.status === LoadItemStatus.Loading;\n    }\n    skip() {\n        this.status = LoadItemStatus.Skipped;\n    }\n    isSkipped() {\n        return this.status === LoadItemStatus.Skipped;\n    }\n    error() {\n        this.status = LoadItemStatus.Error;\n    }\n    isError() {\n        return this.status === LoadItemStatus.Error;\n    }\n    done(data) {\n        this.status = LoadItemStatus.Done;\n        this.data = data;\n    }\n    isDone() {\n        return this.status === LoadItemStatus.Done;\n    }\n}\nclass LoadItemReplay extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'replay';\n    }\n}\nclass LoadItemBsp extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'bsp';\n    }\n}\nclass LoadItemSky extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'sky';\n    }\n}\nclass LoadItemWad extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'wad';\n    }\n}\nclass LoadItemSound extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'sound';\n    }\n}\nclass LoadItemSprite extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'sprite';\n    }\n}\nclass Loader {\n    constructor(config) {\n        this.sprites = {};\n        this.config = config;\n        this.replay = undefined;\n        this.map = undefined;\n        this.skies = [];\n        this.wads = [];\n        this.sounds = [];\n        this.events = (0, nanoevents_1.createNanoEvents)();\n        this.events.on('error', (err) => {\n            console.error(err);\n        });\n    }\n    clear() {\n        this.replay = undefined;\n        this.map = undefined;\n        this.skies.length = 0;\n        this.wads.length = 0;\n        this.sounds.length = 0;\n        this.sprites = {};\n    }\n    checkStatus() {\n        if (this.replay && !this.replay.isDone()) {\n            return;\n        }\n        if (this.map && !this.map.isDone()) {\n            return;\n        }\n        for (let i = 0; i < this.skies.length; ++i) {\n            if (this.skies[i].isLoading()) {\n                return;\n            }\n        }\n        for (let i = 0; i < this.wads.length; ++i) {\n            if (this.wads[i].isLoading()) {\n                return;\n            }\n        }\n        for (let i = 0; i < this.sounds.length; ++i) {\n            if (this.sounds[i].isLoading()) {\n                return;\n            }\n        }\n        const sprites = Object.entries(this.sprites);\n        for (let i = 0; i < sprites.length; ++i) {\n            if (sprites[i][1].isLoading()) {\n                return;\n            }\n        }\n        this.events.emit('loadall', this);\n    }\n    load(name) {\n        const extension = (0, Util_1.extname)(name);\n        if (extension === '.dem' || extension === '.rec') {\n            this.loadReplay(name);\n        }\n        else if (extension === '.bsp') {\n            this.loadMap(name);\n        }\n        else {\n            this.events.emit('error', 'Invalid file extension', name);\n        }\n    }\n    loadReplay(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.replay = new LoadItemReplay(name);\n            this.events.emit('loadstart', this.replay);\n            const progressCallback = (_1, progress) => {\n                if (this.replay) {\n                    this.replay.progress = progress;\n                }\n                this.events.emit('progress', this.replay);\n            };\n            const replayPath = this.config.getReplaysPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${replayPath}/${name}`, {\n                method: 'GET',\n                isBinary: false,\n                progressCallback\n            }).catch((err) => {\n                if (this.replay) {\n                    this.replay.error();\n                }\n                this.events.emit('error', err, this.replay);\n            });\n            if (this.replay.isError()) {\n                return;\n            }\n            const replay = yield Replay_1.Replay.parseCustomFile(buffer);\n            this.replay.done(replay);\n            this.events.emit('load', this.replay);\n            this.checkStatus();\n        });\n    }\n    loadMap(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.map = new LoadItemBsp(name);\n            this.events.emit('loadstart', this.map);\n            const progressCallback = (_1, progress) => {\n                if (this.map) {\n                    this.map.progress = progress;\n                }\n                this.events.emit('progress', this.map);\n            };\n            const mapsPath = this.config.getMapsPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${mapsPath}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch(err => {\n                if (this.map) {\n                    this.map.error();\n                }\n                this.events.emit('error', err, this.map);\n            });\n            if (this.map.isError()) {\n                return;\n            }\n            const map = yield BspParser_1.BspParser.parse(name, buffer);\n            this.map.done(map);\n            map.entities\n                .map((e) => {\n                if (typeof e.model === 'string' && e.model.indexOf('.spr') > -1) {\n                    return e.model;\n                }\n                return undefined;\n            })\n                .filter((a, pos, arr) => a && arr.indexOf(a) === pos)\n                .forEach(a => a && this.loadSprite(a));\n            const skyname = map.entities[0].skyname;\n            if (skyname) {\n                const sides = ['bk', 'dn', 'ft', 'lf', 'rt', 'up'];\n                sides.map(a => `${skyname}${a}`).forEach(a => this.loadSky(a));\n            }\n            if (map.textures.find(a => a.isExternal)) {\n                const wads = map.entities[0].wad;\n                const wadPromises = wads.map((w) => this.loadWad(w));\n                yield Promise.all(wadPromises);\n            }\n            this.events.emit('load', this.map);\n            this.checkStatus();\n        });\n    }\n    loadSprite(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const item = new LoadItemSprite(name);\n            this.sprites[name] = item;\n            this.events.emit('loadstart', item);\n            const progressCallback = (_1, progress) => {\n                item.progress = progress;\n                this.events.emit('progress', item);\n            };\n            const buffer = yield (0, Xhr_1.xhr)(`${this.config.getBasePath()}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                item.error();\n                this.events.emit('error', err, item);\n                this.checkStatus();\n            });\n            if (item.isError()) {\n                return;\n            }\n            const sprite = Sprite_1.Sprite.parse(buffer);\n            item.done(sprite);\n            this.events.emit('load', item);\n            this.checkStatus();\n        });\n    }\n    loadSky(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const item = new LoadItemSky(name);\n            this.skies.push(item);\n            this.events.emit('loadstart', item);\n            const progressCallback = (_1, progress) => {\n                item.progress = progress;\n                this.events.emit('progress', item);\n            };\n            const skiesPath = this.config.getSkiesPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${skiesPath}/${name}.tga`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                item.error();\n                this.events.emit('error', err, item);\n                this.checkStatus();\n            });\n            if (item.isError()) {\n                return;\n            }\n            const skyImage = Tga_1.Tga.parse(buffer, name);\n            item.done(skyImage);\n            this.events.emit('load', item);\n            this.checkStatus();\n        });\n    }\n    loadWad(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wadItem = new LoadItemWad(name);\n            this.wads.push(wadItem);\n            this.events.emit('loadstart', wadItem);\n            const progressCallback = (_1, progress) => {\n                wadItem.progress = progress;\n                this.events.emit('progress', wadItem);\n            };\n            const wadsPath = this.config.getWadsPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${wadsPath}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                wadItem.error();\n                this.events.emit('error', err, wadItem);\n                this.checkStatus();\n            });\n            if (wadItem.isError()) {\n                return;\n            }\n            const wad = yield Wad_1.Wad.parse(buffer);\n            wadItem.done(wad);\n            if (!this.map || !this.map.data) {\n                return;\n            }\n            const map = this.map.data;\n            const cmp = (a, b) => a.toLowerCase() === b.toLowerCase();\n            wad.entries.forEach(entry => {\n                if (entry.type !== 'texture') {\n                    return;\n                }\n                map.textures.forEach(texture => {\n                    if (cmp(entry.name, texture.name)) {\n                        texture.width = entry.width;\n                        texture.height = entry.height;\n                        texture.data = entry.data;\n                    }\n                });\n            });\n            this.events.emit('load', wadItem);\n            this.checkStatus();\n        });\n    }\n    loadSound(name, index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sound = new LoadItemSound(name);\n            this.sounds.push(sound);\n            this.events.emit('loadstart', sound);\n            const progressCallback = (_1, progress) => {\n                sound.progress = progress;\n                this.events.emit('progress', sound);\n            };\n            const soundsPath = this.config.getSoundsPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${soundsPath}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                sound.error();\n                this.events.emit('error', err, sound);\n                this.checkStatus();\n            });\n            if (sound.isError()) {\n                return;\n            }\n            const data = yield Sound_1.Sound.create(buffer).catch((err) => {\n                sound.error();\n                this.events.emit('error', err, sound);\n                this.checkStatus();\n            });\n            if (!data || sound.isError()) {\n                return;\n            }\n            data.index = index;\n            data.name = name;\n            sound.done(data);\n            this.events.emit('load', sound);\n            this.checkStatus();\n        });\n    }\n}\nexports.Loader = Loader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bURBQW1ELDBCQUEwQixHQUFHLEtBQUs7QUFDckY7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFVBQVUsR0FBRyxLQUFLO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxTQUFTLEdBQUcsS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxXQUFXLEdBQUcsS0FBSztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9Mb2FkZXIudHM/MDNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2FkZXIgPSB2b2lkIDA7XG5jb25zdCBuYW5vZXZlbnRzXzEgPSByZXF1aXJlKFwibmFub2V2ZW50c1wiKTtcbmNvbnN0IFNvdW5kXzEgPSByZXF1aXJlKFwiLi9Tb3VuZFwiKTtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5jb25zdCBUZ2FfMSA9IHJlcXVpcmUoXCIuL1BhcnNlcnMvVGdhXCIpO1xuY29uc3QgV2FkXzEgPSByZXF1aXJlKFwiLi9QYXJzZXJzL1dhZFwiKTtcbmNvbnN0IFJlcGxheV8xID0gcmVxdWlyZShcIi4vUmVwbGF5L1JlcGxheVwiKTtcbmNvbnN0IFNwcml0ZV8xID0gcmVxdWlyZShcIi4vUGFyc2Vycy9TcHJpdGVcIik7XG5jb25zdCBYaHJfMSA9IHJlcXVpcmUoXCIuL1hoclwiKTtcbmNvbnN0IEJzcFBhcnNlcl8xID0gcmVxdWlyZShcIi4vUGFyc2Vycy9Cc3BQYXJzZXJcIik7XG52YXIgTG9hZEl0ZW1TdGF0dXM7XG4oZnVuY3Rpb24gKExvYWRJdGVtU3RhdHVzKSB7XG4gICAgTG9hZEl0ZW1TdGF0dXNbTG9hZEl0ZW1TdGF0dXNbXCJMb2FkaW5nXCJdID0gMV0gPSBcIkxvYWRpbmdcIjtcbiAgICBMb2FkSXRlbVN0YXR1c1tMb2FkSXRlbVN0YXR1c1tcIlNraXBwZWRcIl0gPSAyXSA9IFwiU2tpcHBlZFwiO1xuICAgIExvYWRJdGVtU3RhdHVzW0xvYWRJdGVtU3RhdHVzW1wiRXJyb3JcIl0gPSAzXSA9IFwiRXJyb3JcIjtcbiAgICBMb2FkSXRlbVN0YXR1c1tMb2FkSXRlbVN0YXR1c1tcIkRvbmVcIl0gPSA0XSA9IFwiRG9uZVwiO1xufSkoTG9hZEl0ZW1TdGF0dXMgfHwgKExvYWRJdGVtU3RhdHVzID0ge30pKTtcbmNsYXNzIExvYWRJdGVtQmFzZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBMb2FkSXRlbVN0YXR1cy5Mb2FkaW5nO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICBpc0xvYWRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gTG9hZEl0ZW1TdGF0dXMuTG9hZGluZztcbiAgICB9XG4gICAgc2tpcCgpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBMb2FkSXRlbVN0YXR1cy5Ta2lwcGVkO1xuICAgIH1cbiAgICBpc1NraXBwZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gTG9hZEl0ZW1TdGF0dXMuU2tpcHBlZDtcbiAgICB9XG4gICAgZXJyb3IoKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gTG9hZEl0ZW1TdGF0dXMuRXJyb3I7XG4gICAgfVxuICAgIGlzRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gTG9hZEl0ZW1TdGF0dXMuRXJyb3I7XG4gICAgfVxuICAgIGRvbmUoZGF0YSkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IExvYWRJdGVtU3RhdHVzLkRvbmU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIGlzRG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzID09PSBMb2FkSXRlbVN0YXR1cy5Eb25lO1xuICAgIH1cbn1cbmNsYXNzIExvYWRJdGVtUmVwbGF5IGV4dGVuZHMgTG9hZEl0ZW1CYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3JlcGxheSc7XG4gICAgfVxufVxuY2xhc3MgTG9hZEl0ZW1Cc3AgZXh0ZW5kcyBMb2FkSXRlbUJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYnNwJztcbiAgICB9XG59XG5jbGFzcyBMb2FkSXRlbVNreSBleHRlbmRzIExvYWRJdGVtQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdza3knO1xuICAgIH1cbn1cbmNsYXNzIExvYWRJdGVtV2FkIGV4dGVuZHMgTG9hZEl0ZW1CYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3dhZCc7XG4gICAgfVxufVxuY2xhc3MgTG9hZEl0ZW1Tb3VuZCBleHRlbmRzIExvYWRJdGVtQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdzb3VuZCc7XG4gICAgfVxufVxuY2xhc3MgTG9hZEl0ZW1TcHJpdGUgZXh0ZW5kcyBMb2FkSXRlbUJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnc3ByaXRlJztcbiAgICB9XG59XG5jbGFzcyBMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLnNwcml0ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucmVwbGF5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5za2llcyA9IFtdO1xuICAgICAgICB0aGlzLndhZHMgPSBbXTtcbiAgICAgICAgdGhpcy5zb3VuZHMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSAoMCwgbmFub2V2ZW50c18xLmNyZWF0ZU5hbm9FdmVudHMpKCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnJlcGxheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tYXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2tpZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy53YWRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc291bmRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc3ByaXRlcyA9IHt9O1xuICAgIH1cbiAgICBjaGVja1N0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMucmVwbGF5ICYmICF0aGlzLnJlcGxheS5pc0RvbmUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1hcCAmJiAhdGhpcy5tYXAuaXNEb25lKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2tpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNraWVzW2ldLmlzTG9hZGluZygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53YWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53YWRzW2ldLmlzTG9hZGluZygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zb3VuZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kc1tpXS5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcHJpdGVzID0gT2JqZWN0LmVudHJpZXModGhpcy5zcHJpdGVzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpdGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoc3ByaXRlc1tpXVsxXS5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2FkYWxsJywgdGhpcyk7XG4gICAgfVxuICAgIGxvYWQobmFtZSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSAoMCwgVXRpbF8xLmV4dG5hbWUpKG5hbWUpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uID09PSAnLmRlbScgfHwgZXh0ZW5zaW9uID09PSAnLnJlYycpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFJlcGxheShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHRlbnNpb24gPT09ICcuYnNwJykge1xuICAgICAgICAgICAgdGhpcy5sb2FkTWFwKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZXJyb3InLCAnSW52YWxpZCBmaWxlIGV4dGVuc2lvbicsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxvYWRSZXBsYXkobmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdGhpcy5yZXBsYXkgPSBuZXcgTG9hZEl0ZW1SZXBsYXkobmFtZSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2Fkc3RhcnQnLCB0aGlzLnJlcGxheSk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc0NhbGxiYWNrID0gKF8xLCBwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlcGxheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheS5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwcm9ncmVzcycsIHRoaXMucmVwbGF5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXBsYXlQYXRoID0gdGhpcy5jb25maWcuZ2V0UmVwbGF5c1BhdGgoKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHlpZWxkICgwLCBYaHJfMS54aHIpKGAke3JlcGxheVBhdGh9LyR7bmFtZX1gLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBpc0JpbmFyeTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlcGxheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheS5lcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlcnJvcicsIGVyciwgdGhpcy5yZXBsYXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXBsYXkuaXNFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVwbGF5ID0geWllbGQgUmVwbGF5XzEuUmVwbGF5LnBhcnNlQ3VzdG9tRmlsZShidWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZXBsYXkuZG9uZShyZXBsYXkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnbG9hZCcsIHRoaXMucmVwbGF5KTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRNYXAobmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdGhpcy5tYXAgPSBuZXcgTG9hZEl0ZW1Cc3AobmFtZSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2Fkc3RhcnQnLCB0aGlzLm1hcCk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc0NhbGxiYWNrID0gKF8xLCBwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwcm9ncmVzcycsIHRoaXMubWFwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtYXBzUGF0aCA9IHRoaXMuY29uZmlnLmdldE1hcHNQYXRoKCk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB5aWVsZCAoMCwgWGhyXzEueGhyKShgJHttYXBzUGF0aH0vJHtuYW1lfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGlzQmluYXJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2tcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLmVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Vycm9yJywgZXJyLCB0aGlzLm1hcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5pc0Vycm9yKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXAgPSB5aWVsZCBCc3BQYXJzZXJfMS5Cc3BQYXJzZXIucGFyc2UobmFtZSwgYnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMubWFwLmRvbmUobWFwKTtcbiAgICAgICAgICAgIG1hcC5lbnRpdGllc1xuICAgICAgICAgICAgICAgIC5tYXAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUubW9kZWwgPT09ICdzdHJpbmcnICYmIGUubW9kZWwuaW5kZXhPZignLnNwcicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUubW9kZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGEsIHBvcywgYXJyKSA9PiBhICYmIGFyci5pbmRleE9mKGEpID09PSBwb3MpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goYSA9PiBhICYmIHRoaXMubG9hZFNwcml0ZShhKSk7XG4gICAgICAgICAgICBjb25zdCBza3luYW1lID0gbWFwLmVudGl0aWVzWzBdLnNreW5hbWU7XG4gICAgICAgICAgICBpZiAoc2t5bmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZGVzID0gWydiaycsICdkbicsICdmdCcsICdsZicsICdydCcsICd1cCddO1xuICAgICAgICAgICAgICAgIHNpZGVzLm1hcChhID0+IGAke3NreW5hbWV9JHthfWApLmZvckVhY2goYSA9PiB0aGlzLmxvYWRTa3koYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hcC50ZXh0dXJlcy5maW5kKGEgPT4gYS5pc0V4dGVybmFsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhZHMgPSBtYXAuZW50aXRpZXNbMF0ud2FkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhZFByb21pc2VzID0gd2Fkcy5tYXAoKHcpID0+IHRoaXMubG9hZFdhZCh3KSk7XG4gICAgICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwod2FkUHJvbWlzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnbG9hZCcsIHRoaXMubWFwKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRTcHJpdGUobmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBMb2FkSXRlbVNwcml0ZShuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlc1tuYW1lXSA9IGl0ZW07XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2Fkc3RhcnQnLCBpdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSAoXzEsIHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Byb2dyZXNzJywgaXRlbSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0geWllbGQgKDAsIFhocl8xLnhocikoYCR7dGhpcy5jb25maWcuZ2V0QmFzZVBhdGgoKX0vJHtuYW1lfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGlzQmluYXJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2tcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpdGVtLmVycm9yKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZXJyb3InLCBlcnIsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGl0ZW0uaXNFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gU3ByaXRlXzEuU3ByaXRlLnBhcnNlKGJ1ZmZlcik7XG4gICAgICAgICAgICBpdGVtLmRvbmUoc3ByaXRlKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2xvYWQnLCBpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRTa3kobmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBMb2FkSXRlbVNreShuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuc2tpZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2xvYWRzdGFydCcsIGl0ZW0pO1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NDYWxsYmFjayA9IChfMSwgcHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBpdGVtLnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncHJvZ3Jlc3MnLCBpdGVtKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBza2llc1BhdGggPSB0aGlzLmNvbmZpZy5nZXRTa2llc1BhdGgoKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHlpZWxkICgwLCBYaHJfMS54aHIpKGAke3NraWVzUGF0aH0vJHtuYW1lfS50Z2FgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBpc0JpbmFyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS5lcnJvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Vycm9yJywgZXJyLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpdGVtLmlzRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNreUltYWdlID0gVGdhXzEuVGdhLnBhcnNlKGJ1ZmZlciwgbmFtZSk7XG4gICAgICAgICAgICBpdGVtLmRvbmUoc2t5SW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnbG9hZCcsIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9hZFdhZChuYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB3YWRJdGVtID0gbmV3IExvYWRJdGVtV2FkKG5hbWUpO1xuICAgICAgICAgICAgdGhpcy53YWRzLnB1c2god2FkSXRlbSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2Fkc3RhcnQnLCB3YWRJdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSAoXzEsIHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgd2FkSXRlbS5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Byb2dyZXNzJywgd2FkSXRlbSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgd2Fkc1BhdGggPSB0aGlzLmNvbmZpZy5nZXRXYWRzUGF0aCgpO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0geWllbGQgKDAsIFhocl8xLnhocikoYCR7d2Fkc1BhdGh9LyR7bmFtZX1gLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBpc0JpbmFyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgd2FkSXRlbS5lcnJvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Vycm9yJywgZXJyLCB3YWRJdGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh3YWRJdGVtLmlzRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHdhZCA9IHlpZWxkIFdhZF8xLldhZC5wYXJzZShidWZmZXIpO1xuICAgICAgICAgICAgd2FkSXRlbS5kb25lKHdhZCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMubWFwIHx8ICF0aGlzLm1hcC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWFwID0gdGhpcy5tYXAuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGNtcCA9IChhLCBiKSA9PiBhLnRvTG93ZXJDYXNlKCkgPT09IGIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHdhZC5lbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS50eXBlICE9PSAndGV4dHVyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXAudGV4dHVyZXMuZm9yRWFjaCh0ZXh0dXJlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtcChlbnRyeS5uYW1lLCB0ZXh0dXJlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLndpZHRoID0gZW50cnkud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmhlaWdodCA9IGVudHJ5LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZGF0YSA9IGVudHJ5LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnbG9hZCcsIHdhZEl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9hZFNvdW5kKG5hbWUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VuZCA9IG5ldyBMb2FkSXRlbVNvdW5kKG5hbWUpO1xuICAgICAgICAgICAgdGhpcy5zb3VuZHMucHVzaChzb3VuZCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2Fkc3RhcnQnLCBzb3VuZCk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc0NhbGxiYWNrID0gKF8xLCBwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgICAgIHNvdW5kLnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncHJvZ3Jlc3MnLCBzb3VuZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc291bmRzUGF0aCA9IHRoaXMuY29uZmlnLmdldFNvdW5kc1BhdGgoKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHlpZWxkICgwLCBYaHJfMS54aHIpKGAke3NvdW5kc1BhdGh9LyR7bmFtZX1gLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBpc0JpbmFyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgc291bmQuZXJyb3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlcnJvcicsIGVyciwgc291bmQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHNvdW5kLmlzRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBTb3VuZF8xLlNvdW5kLmNyZWF0ZShidWZmZXIpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBzb3VuZC5lcnJvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Vycm9yJywgZXJyLCBzb3VuZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWRhdGEgfHwgc291bmQuaXNFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgZGF0YS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHNvdW5kLmRvbmUoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdsb2FkJywgc291bmQpO1xuICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkxvYWRlciA9IExvYWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Loader.ts\n");

/***/ }),

/***/ "./src/Parsers/BspEntityParser.ts":
/*!****************************************!*\
  !*** ./src/Parsers/BspEntityParser.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BspEntityParser = exports.RenderMode = exports.RenderEffect = exports.ZHLTLightFlags = exports.EnvBeamSpawnFlags = exports.CyclerWeaponTriggerCondition = exports.ButtonTargetSpawnFlags = exports.AmbientGenericSpawnFlags = exports.AmbientGenericPreset = exports.AiScriptedSequenceSpawnflags = exports.AiScriptedSequenceFinishSchedule = exports.AiScriptedSequenceMoveTo = exports.WorldSpawnDefaultTeam = exports.WorldSpawnNewUnit = exports.WorldSpawnGameTitle = exports.WorldSpawnStartDark = void 0;\nvar WorldSpawnStartDark;\n(function (WorldSpawnStartDark) {\n    WorldSpawnStartDark[WorldSpawnStartDark[\"No\"] = 0] = \"No\";\n    WorldSpawnStartDark[WorldSpawnStartDark[\"Yes\"] = 1] = \"Yes\";\n})(WorldSpawnStartDark || (exports.WorldSpawnStartDark = WorldSpawnStartDark = {}));\nvar WorldSpawnGameTitle;\n(function (WorldSpawnGameTitle) {\n    WorldSpawnGameTitle[WorldSpawnGameTitle[\"No\"] = 0] = \"No\";\n    WorldSpawnGameTitle[WorldSpawnGameTitle[\"Yes\"] = 1] = \"Yes\";\n})(WorldSpawnGameTitle || (exports.WorldSpawnGameTitle = WorldSpawnGameTitle = {}));\nvar WorldSpawnNewUnit;\n(function (WorldSpawnNewUnit) {\n    WorldSpawnNewUnit[WorldSpawnNewUnit[\"No\"] = 0] = \"No\";\n    WorldSpawnNewUnit[WorldSpawnNewUnit[\"Yes\"] = 1] = \"Yes\";\n})(WorldSpawnNewUnit || (exports.WorldSpawnNewUnit = WorldSpawnNewUnit = {}));\nvar WorldSpawnDefaultTeam;\n(function (WorldSpawnDefaultTeam) {\n    WorldSpawnDefaultTeam[WorldSpawnDefaultTeam[\"FewestPlayers\"] = 0] = \"FewestPlayers\";\n    WorldSpawnDefaultTeam[WorldSpawnDefaultTeam[\"FirstTeam\"] = 1] = \"FirstTeam\";\n})(WorldSpawnDefaultTeam || (exports.WorldSpawnDefaultTeam = WorldSpawnDefaultTeam = {}));\nvar AiScriptedSequenceMoveTo;\n(function (AiScriptedSequenceMoveTo) {\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"No\"] = 0] = \"No\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"Walk\"] = 1] = \"Walk\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"Run\"] = 2] = \"Run\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"Instantaneous\"] = 4] = \"Instantaneous\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"No_TurnToFace\"] = 5] = \"No_TurnToFace\";\n})(AiScriptedSequenceMoveTo || (exports.AiScriptedSequenceMoveTo = AiScriptedSequenceMoveTo = {}));\nvar AiScriptedSequenceFinishSchedule;\n(function (AiScriptedSequenceFinishSchedule) {\n    AiScriptedSequenceFinishSchedule[AiScriptedSequenceFinishSchedule[\"DefaultAI\"] = 0] = \"DefaultAI\";\n    AiScriptedSequenceFinishSchedule[AiScriptedSequenceFinishSchedule[\"Ambush\"] = 1] = \"Ambush\";\n})(AiScriptedSequenceFinishSchedule || (exports.AiScriptedSequenceFinishSchedule = AiScriptedSequenceFinishSchedule = {}));\nvar AiScriptedSequenceSpawnflags;\n(function (AiScriptedSequenceSpawnflags) {\n    AiScriptedSequenceSpawnflags[AiScriptedSequenceSpawnflags[\"Repeatable\"] = 4] = \"Repeatable\";\n    AiScriptedSequenceSpawnflags[AiScriptedSequenceSpawnflags[\"LeaveCorpse\"] = 8] = \"LeaveCorpse\";\n})(AiScriptedSequenceSpawnflags || (exports.AiScriptedSequenceSpawnflags = AiScriptedSequenceSpawnflags = {}));\nvar AmbientGenericPreset;\n(function (AmbientGenericPreset) {\n    AmbientGenericPreset[AmbientGenericPreset[\"None\"] = 0] = \"None\";\n    AmbientGenericPreset[AmbientGenericPreset[\"HugeMachine\"] = 1] = \"HugeMachine\";\n    AmbientGenericPreset[AmbientGenericPreset[\"BigMachine\"] = 2] = \"BigMachine\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Machine\"] = 3] = \"Machine\";\n    AmbientGenericPreset[AmbientGenericPreset[\"SlowFadeIn\"] = 4] = \"SlowFadeIn\";\n    AmbientGenericPreset[AmbientGenericPreset[\"FadeIn\"] = 5] = \"FadeIn\";\n    AmbientGenericPreset[AmbientGenericPreset[\"QuickFadeIn\"] = 6] = \"QuickFadeIn\";\n    AmbientGenericPreset[AmbientGenericPreset[\"SlowPulse\"] = 7] = \"SlowPulse\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Pulse\"] = 8] = \"Pulse\";\n    AmbientGenericPreset[AmbientGenericPreset[\"QuickPulse\"] = 9] = \"QuickPulse\";\n    AmbientGenericPreset[AmbientGenericPreset[\"SlowOscillator\"] = 10] = \"SlowOscillator\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Oscillator\"] = 11] = \"Oscillator\";\n    AmbientGenericPreset[AmbientGenericPreset[\"QuickOscillator\"] = 12] = \"QuickOscillator\";\n    AmbientGenericPreset[AmbientGenericPreset[\"GrungePitch\"] = 13] = \"GrungePitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"VeryLowPitch\"] = 14] = \"VeryLowPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"LowPitch\"] = 15] = \"LowPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"HighPitch\"] = 16] = \"HighPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"VeryHighPitch\"] = 17] = \"VeryHighPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"ScreamingPitch\"] = 18] = \"ScreamingPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"OscillateSpinUpDown\"] = 19] = \"OscillateSpinUpDown\";\n    AmbientGenericPreset[AmbientGenericPreset[\"PulseSpinUpDown\"] = 20] = \"PulseSpinUpDown\";\n    AmbientGenericPreset[AmbientGenericPreset[\"RandomPitch\"] = 21] = \"RandomPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"RandomPitchFast\"] = 22] = \"RandomPitchFast\";\n    AmbientGenericPreset[AmbientGenericPreset[\"IncrementalSpinup\"] = 23] = \"IncrementalSpinup\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Alien\"] = 24] = \"Alien\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Bizzare\"] = 25] = \"Bizzare\";\n    AmbientGenericPreset[AmbientGenericPreset[\"PlanetX\"] = 26] = \"PlanetX\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Haunted\"] = 27] = \"Haunted\";\n})(AmbientGenericPreset || (exports.AmbientGenericPreset = AmbientGenericPreset = {}));\nvar AmbientGenericSpawnFlags;\n(function (AmbientGenericSpawnFlags) {\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"PlayEverywhere\"] = 1] = \"PlayEverywhere\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"SmallRadius\"] = 2] = \"SmallRadius\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"MediumRadius\"] = 4] = \"MediumRadius\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"LargeRadius\"] = 8] = \"LargeRadius\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"StartSilent\"] = 16] = \"StartSilent\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"NotToggled\"] = 32] = \"NotToggled\";\n})(AmbientGenericSpawnFlags || (exports.AmbientGenericSpawnFlags = AmbientGenericSpawnFlags = {}));\nvar ButtonTargetSpawnFlags;\n(function (ButtonTargetSpawnFlags) {\n    ButtonTargetSpawnFlags[ButtonTargetSpawnFlags[\"UseActivates\"] = 1] = \"UseActivates\";\n    ButtonTargetSpawnFlags[ButtonTargetSpawnFlags[\"StartOn\"] = 2] = \"StartOn\";\n})(ButtonTargetSpawnFlags || (exports.ButtonTargetSpawnFlags = ButtonTargetSpawnFlags = {}));\nvar CyclerWeaponTriggerCondition;\n(function (CyclerWeaponTriggerCondition) {\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"NoTrigger\"] = 0] = \"NoTrigger\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"SeePlayerMadAtPlayer\"] = 1] = \"SeePlayerMadAtPlayer\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"TakeDamage\"] = 2] = \"TakeDamage\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HalfHealthRemaining\"] = 3] = \"HalfHealthRemaining\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"Death\"] = 4] = \"Death\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HearWorld\"] = 7] = \"HearWorld\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HearPlayer\"] = 8] = \"HearPlayer\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HearCombat\"] = 9] = \"HearCombat\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"SeePlayerUnconditional\"] = 10] = \"SeePlayerUnconditional\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"SeePlayerNotInCombat\"] = 11] = \"SeePlayerNotInCombat\";\n})(CyclerWeaponTriggerCondition || (exports.CyclerWeaponTriggerCondition = CyclerWeaponTriggerCondition = {}));\nvar EnvBeamSpawnFlags;\n(function (EnvBeamSpawnFlags) {\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"StartOn\"] = 1] = \"StartOn\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"Toggle\"] = 2] = \"Toggle\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"RandomStrike\"] = 4] = \"RandomStrike\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"Ring\"] = 8] = \"Ring\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"StartSparks\"] = 16] = \"StartSparks\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"EndSparks\"] = 32] = \"EndSparks\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"DecalEnd\"] = 64] = \"DecalEnd\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"FadeStart\"] = 128] = \"FadeStart\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"FadeEnd\"] = 256] = \"FadeEnd\";\n})(EnvBeamSpawnFlags || (exports.EnvBeamSpawnFlags = EnvBeamSpawnFlags = {}));\nvar ZHLTLightFlags;\n(function (ZHLTLightFlags) {\n    ZHLTLightFlags[ZHLTLightFlags[\"Normal\"] = 0] = \"Normal\";\n    ZHLTLightFlags[ZHLTLightFlags[\"EmbeddedFix\"] = 1] = \"EmbeddedFix\";\n    ZHLTLightFlags[ZHLTLightFlags[\"OpaqueBlockLight\"] = 2] = \"OpaqueBlockLight\";\n    ZHLTLightFlags[ZHLTLightFlags[\"OpaqueEmbeddedFix\"] = 3] = \"OpaqueEmbeddedFix\";\n    ZHLTLightFlags[ZHLTLightFlags[\"OpaqueConcaveFix\"] = 6] = \"OpaqueConcaveFix\";\n})(ZHLTLightFlags || (exports.ZHLTLightFlags = ZHLTLightFlags = {}));\nvar RenderEffect;\n(function (RenderEffect) {\n    RenderEffect[RenderEffect[\"Normal\"] = 0] = \"Normal\";\n    RenderEffect[RenderEffect[\"SlowPulse\"] = 1] = \"SlowPulse\";\n    RenderEffect[RenderEffect[\"FastPulse\"] = 2] = \"FastPulse\";\n    RenderEffect[RenderEffect[\"SlowWidePulse\"] = 3] = \"SlowWidePulse\";\n    RenderEffect[RenderEffect[\"FastWidePulse\"] = 4] = \"FastWidePulse\";\n    RenderEffect[RenderEffect[\"SlowFadeAway\"] = 5] = \"SlowFadeAway\";\n    RenderEffect[RenderEffect[\"FastFadeAway\"] = 6] = \"FastFadeAway\";\n    RenderEffect[RenderEffect[\"SlowBecomeSolid\"] = 7] = \"SlowBecomeSolid\";\n    RenderEffect[RenderEffect[\"FastBecomeSolid\"] = 8] = \"FastBecomeSolid\";\n    RenderEffect[RenderEffect[\"SlowStrobe\"] = 9] = \"SlowStrobe\";\n    RenderEffect[RenderEffect[\"FastStrobe\"] = 10] = \"FastStrobe\";\n    RenderEffect[RenderEffect[\"FasterStrobe\"] = 11] = \"FasterStrobe\";\n    RenderEffect[RenderEffect[\"SlowFlicker\"] = 12] = \"SlowFlicker\";\n    RenderEffect[RenderEffect[\"FastFlicker\"] = 13] = \"FastFlicker\";\n    RenderEffect[RenderEffect[\"ConstantGlow\"] = 14] = \"ConstantGlow\";\n    RenderEffect[RenderEffect[\"DistortModels\"] = 15] = \"DistortModels\";\n    RenderEffect[RenderEffect[\"HologramDistort\"] = 16] = \"HologramDistort\";\n})(RenderEffect || (exports.RenderEffect = RenderEffect = {}));\nvar RenderMode;\n(function (RenderMode) {\n    RenderMode[RenderMode[\"Normal\"] = 0] = \"Normal\";\n    RenderMode[RenderMode[\"Color\"] = 1] = \"Color\";\n    RenderMode[RenderMode[\"Texture\"] = 2] = \"Texture\";\n    RenderMode[RenderMode[\"Glow\"] = 3] = \"Glow\";\n    RenderMode[RenderMode[\"Solid\"] = 4] = \"Solid\";\n    RenderMode[RenderMode[\"Additive\"] = 5] = \"Additive\";\n})(RenderMode || (exports.RenderMode = RenderMode = {}));\nconst parseNumberArray = (a) => a.split(' ').map(b => parseFloat(b));\nconst parsers = {\n    worldspawn: (e) => ({\n        classname: 'worldspawn',\n        wad: e.wad\n            .split(';')\n            .filter((a) => a.length)\n            .map((w) => w.replace(/\\\\/g, '/')),\n        mapversion: parseInt(e.mapversion),\n        skyname: e.skyname,\n        maxRange: parseFloat(e.MaxRange) || 8192,\n        message: e.message || '',\n        sounds: parseInt(e.sounds) || 0,\n        light: parseInt(e.light) || 0,\n        waveHeight: parseFloat(e.WaveHeight) || 0,\n        startDark: parseInt(e.startdark) || 0,\n        newUnit: parseInt(e.newunit) || 0,\n        defaultTeam: parseInt(e.defaultteam) || 0,\n        gameTitle: parseInt(e.gametitle) || 0\n    }),\n    aiscripted_sequence: (e) => ({\n        classname: 'aiscripted_sequence',\n        spawnflags: parseInt(e.spawnflags),\n        m_iszEntity: e.m_iszEntity,\n        m_iszPlay: e.m_iszPlay || '',\n        m_flRadius: parseInt(e.m_flRadius) || 512,\n        m_flRepeat: parseInt(e.m_flRepeat) || 0,\n        m_fMoveTo: parseInt(e.m_fMoveTo) || 0,\n        m_iFinishSchedule: parseInt(e.m_iFinishSchedule) || 0,\n    }),\n    ambient_generic: (e) => ({\n        classname: 'ambient_generic',\n        origin: parseNumberArray(e.origin),\n        targetName: e.targetname,\n        message: e.message,\n        health: parseInt(e.health) || 10,\n        preset: parseInt(e.preset) || 0,\n        startVolume: parseInt(e.volstart) || 0,\n        fadeIn: parseInt(e.fadein),\n        fadeOut: parseInt(e.fadeout),\n        pitch: parseInt(e.pitch),\n        pitchStart: parseInt(e.pitchstart),\n        spinUp: parseInt(e.spinup),\n        spinDown: parseInt(e.spindown),\n        lfoType: parseInt(e.lfotype),\n        lfoRate: parseInt(e.lforate),\n        lfoModPitch: parseInt(e.lfomodpitch),\n        lfoModVolume: parseInt(e.lfomodvolume),\n        cSpinUp: parseInt(e.cspinup),\n        spawnFlags: parseInt(e.spawnflags)\n    }),\n    ammo_357: (e) => ({\n        classname: 'ammo_357',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_9mmAR: (e) => ({\n        classname: 'ammo_9mmAR',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_9mmbox: (e) => ({\n        classname: 'ammo_9mmbox',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_9mmclip: (e) => ({\n        classname: 'ammo_9mmclip',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_ARgrenades: (e) => ({\n        classname: 'ammo_ARgrenades',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_buckshot: (e) => ({\n        classname: 'ammo_buckshot',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_crossbow: (e) => ({\n        classname: 'ammo_crossbow',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_gaussclip: (e) => ({\n        classname: 'ammo_gaussclip',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_rpgclip: (e) => ({\n        classname: 'ammo_rpgclip',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    button_target: (e) => ({\n        classname: 'button_target',\n        target: e.target,\n        master: e.master,\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0'),\n        zhltLightFlags: parseInt(e.zhlt_lightflags) || 0,\n        lightOrigin: e.light_origin,\n        spawnFlags: parseInt(e.spawnflags) || 1\n    }),\n    cycler: (e) => ({\n        classname: 'cycler',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        targetName: e.targetname,\n        model: e.model,\n        sequence: e.sequence || '',\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    cycler_sprite: (e) => ({\n        classname: 'cycler_sprite',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        targetName: e.targetname,\n        model: e.model,\n        framerate: parseInt(e.framerate || '10'),\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    cyclear_weapon: (e) => ({\n        classname: 'cycler_weapon',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname,\n        triggerTarget: e.TriggerTarget || '',\n        triggerCondition: parseInt(e.TriggerCondition) || 0,\n        model: e.model,\n        sequence: e.sequence,\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    cyclear_wreckage: (e) => ({\n        classname: 'cycler_wreckage',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        targetName: e.targetname,\n        model: e.model,\n        framerate: parseInt(e.framerate) || 10,\n        scale: parseFloat(e.scale) || 1.0,\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    env_beam: (e) => ({\n        classname: 'env_beam',\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0'),\n        radius: parseFloat(e.Radius) || 256,\n        life: parseInt(e.life) || 1,\n        boltWidth: parseInt(e.BoltWidth) || 20,\n        noiseAmplitude: parseInt(e.NoiseAmplitude) || 0,\n        texture: e.texture || 'sprites/laserbeam.spr',\n        textureScroll: parseInt(e.TextureScroll) || 35,\n        frameRate: parseInt(e.framerate) || 0,\n        frameStart: parseInt(e.framestart) || 0,\n        strikeTime: parseInt(e.StrikeTime) || 1,\n        damage: parseInt(e.damage) || 1,\n        spawnFlags: parseInt(e.spawnflags)\n    })\n};\nclass BspEntityParser {\n    static parse(entities) {\n        const arr = [];\n        for (let i = 0; i < entities.length; ++i) {\n            const e = entities[i];\n            if (!e.classname) {\n                arr.push({\n                    classname: '!',\n                    data: e\n                });\n            }\n            if (parsers[e.classname]) {\n                arr.push(parsers[e.classname](e));\n            }\n            else {\n                arr.push({\n                    classname: '?',\n                    originalClassname: e.classname,\n                    data: e\n                });\n            }\n        }\n        return arr;\n    }\n}\nexports.BspEntityParser = BspEntityParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9Cc3BFbnRpdHlQYXJzZXIudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsa0JBQWtCLEdBQUcsb0JBQW9CLEdBQUcsc0JBQXNCLEdBQUcseUJBQXlCLEdBQUcsb0NBQW9DLEdBQUcsOEJBQThCLEdBQUcsZ0NBQWdDLEdBQUcsNEJBQTRCLEdBQUcsb0NBQW9DLEdBQUcsd0NBQXdDLEdBQUcsZ0NBQWdDLEdBQUcsNkJBQTZCLEdBQUcseUJBQXlCLEdBQUcsMkJBQTJCLEdBQUcsMkJBQTJCO0FBQy9lO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQkFBMEIsMkJBQTJCLDJCQUEyQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCLDJCQUEyQiwyQkFBMkI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3Qix5QkFBeUIseUJBQXlCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEIsNkJBQTZCLDZCQUE2QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsK0JBQStCLGdDQUFnQyxnQ0FBZ0M7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHVDQUF1Qyx3Q0FBd0Msd0NBQXdDO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQ0FBbUMsb0NBQW9DLG9DQUFvQztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDJCQUEyQiw0QkFBNEIsNEJBQTRCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQixnQ0FBZ0MsZ0NBQWdDO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw2QkFBNkIsOEJBQThCLDhCQUE4QjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1DQUFtQyxvQ0FBb0Msb0NBQW9DO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3Qix5QkFBeUIseUJBQXlCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUIsc0JBQXNCLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1CLG9CQUFvQixvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsaUJBQWlCLGtCQUFrQixrQkFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGFyc2Vycy9Cc3BFbnRpdHlQYXJzZXIudHM/MmFmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnNwRW50aXR5UGFyc2VyID0gZXhwb3J0cy5SZW5kZXJNb2RlID0gZXhwb3J0cy5SZW5kZXJFZmZlY3QgPSBleHBvcnRzLlpITFRMaWdodEZsYWdzID0gZXhwb3J0cy5FbnZCZWFtU3Bhd25GbGFncyA9IGV4cG9ydHMuQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbiA9IGV4cG9ydHMuQnV0dG9uVGFyZ2V0U3Bhd25GbGFncyA9IGV4cG9ydHMuQW1iaWVudEdlbmVyaWNTcGF3bkZsYWdzID0gZXhwb3J0cy5BbWJpZW50R2VuZXJpY1ByZXNldCA9IGV4cG9ydHMuQWlTY3JpcHRlZFNlcXVlbmNlU3Bhd25mbGFncyA9IGV4cG9ydHMuQWlTY3JpcHRlZFNlcXVlbmNlRmluaXNoU2NoZWR1bGUgPSBleHBvcnRzLkFpU2NyaXB0ZWRTZXF1ZW5jZU1vdmVUbyA9IGV4cG9ydHMuV29ybGRTcGF3bkRlZmF1bHRUZWFtID0gZXhwb3J0cy5Xb3JsZFNwYXduTmV3VW5pdCA9IGV4cG9ydHMuV29ybGRTcGF3bkdhbWVUaXRsZSA9IGV4cG9ydHMuV29ybGRTcGF3blN0YXJ0RGFyayA9IHZvaWQgMDtcbnZhciBXb3JsZFNwYXduU3RhcnREYXJrO1xuKGZ1bmN0aW9uIChXb3JsZFNwYXduU3RhcnREYXJrKSB7XG4gICAgV29ybGRTcGF3blN0YXJ0RGFya1tXb3JsZFNwYXduU3RhcnREYXJrW1wiTm9cIl0gPSAwXSA9IFwiTm9cIjtcbiAgICBXb3JsZFNwYXduU3RhcnREYXJrW1dvcmxkU3Bhd25TdGFydERhcmtbXCJZZXNcIl0gPSAxXSA9IFwiWWVzXCI7XG59KShXb3JsZFNwYXduU3RhcnREYXJrIHx8IChleHBvcnRzLldvcmxkU3Bhd25TdGFydERhcmsgPSBXb3JsZFNwYXduU3RhcnREYXJrID0ge30pKTtcbnZhciBXb3JsZFNwYXduR2FtZVRpdGxlO1xuKGZ1bmN0aW9uIChXb3JsZFNwYXduR2FtZVRpdGxlKSB7XG4gICAgV29ybGRTcGF3bkdhbWVUaXRsZVtXb3JsZFNwYXduR2FtZVRpdGxlW1wiTm9cIl0gPSAwXSA9IFwiTm9cIjtcbiAgICBXb3JsZFNwYXduR2FtZVRpdGxlW1dvcmxkU3Bhd25HYW1lVGl0bGVbXCJZZXNcIl0gPSAxXSA9IFwiWWVzXCI7XG59KShXb3JsZFNwYXduR2FtZVRpdGxlIHx8IChleHBvcnRzLldvcmxkU3Bhd25HYW1lVGl0bGUgPSBXb3JsZFNwYXduR2FtZVRpdGxlID0ge30pKTtcbnZhciBXb3JsZFNwYXduTmV3VW5pdDtcbihmdW5jdGlvbiAoV29ybGRTcGF3bk5ld1VuaXQpIHtcbiAgICBXb3JsZFNwYXduTmV3VW5pdFtXb3JsZFNwYXduTmV3VW5pdFtcIk5vXCJdID0gMF0gPSBcIk5vXCI7XG4gICAgV29ybGRTcGF3bk5ld1VuaXRbV29ybGRTcGF3bk5ld1VuaXRbXCJZZXNcIl0gPSAxXSA9IFwiWWVzXCI7XG59KShXb3JsZFNwYXduTmV3VW5pdCB8fCAoZXhwb3J0cy5Xb3JsZFNwYXduTmV3VW5pdCA9IFdvcmxkU3Bhd25OZXdVbml0ID0ge30pKTtcbnZhciBXb3JsZFNwYXduRGVmYXVsdFRlYW07XG4oZnVuY3Rpb24gKFdvcmxkU3Bhd25EZWZhdWx0VGVhbSkge1xuICAgIFdvcmxkU3Bhd25EZWZhdWx0VGVhbVtXb3JsZFNwYXduRGVmYXVsdFRlYW1bXCJGZXdlc3RQbGF5ZXJzXCJdID0gMF0gPSBcIkZld2VzdFBsYXllcnNcIjtcbiAgICBXb3JsZFNwYXduRGVmYXVsdFRlYW1bV29ybGRTcGF3bkRlZmF1bHRUZWFtW1wiRmlyc3RUZWFtXCJdID0gMV0gPSBcIkZpcnN0VGVhbVwiO1xufSkoV29ybGRTcGF3bkRlZmF1bHRUZWFtIHx8IChleHBvcnRzLldvcmxkU3Bhd25EZWZhdWx0VGVhbSA9IFdvcmxkU3Bhd25EZWZhdWx0VGVhbSA9IHt9KSk7XG52YXIgQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvO1xuKGZ1bmN0aW9uIChBaVNjcmlwdGVkU2VxdWVuY2VNb3ZlVG8pIHtcbiAgICBBaVNjcmlwdGVkU2VxdWVuY2VNb3ZlVG9bQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvW1wiTm9cIl0gPSAwXSA9IFwiTm9cIjtcbiAgICBBaVNjcmlwdGVkU2VxdWVuY2VNb3ZlVG9bQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvW1wiV2Fsa1wiXSA9IDFdID0gXCJXYWxrXCI7XG4gICAgQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvW0FpU2NyaXB0ZWRTZXF1ZW5jZU1vdmVUb1tcIlJ1blwiXSA9IDJdID0gXCJSdW5cIjtcbiAgICBBaVNjcmlwdGVkU2VxdWVuY2VNb3ZlVG9bQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvW1wiSW5zdGFudGFuZW91c1wiXSA9IDRdID0gXCJJbnN0YW50YW5lb3VzXCI7XG4gICAgQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvW0FpU2NyaXB0ZWRTZXF1ZW5jZU1vdmVUb1tcIk5vX1R1cm5Ub0ZhY2VcIl0gPSA1XSA9IFwiTm9fVHVyblRvRmFjZVwiO1xufSkoQWlTY3JpcHRlZFNlcXVlbmNlTW92ZVRvIHx8IChleHBvcnRzLkFpU2NyaXB0ZWRTZXF1ZW5jZU1vdmVUbyA9IEFpU2NyaXB0ZWRTZXF1ZW5jZU1vdmVUbyA9IHt9KSk7XG52YXIgQWlTY3JpcHRlZFNlcXVlbmNlRmluaXNoU2NoZWR1bGU7XG4oZnVuY3Rpb24gKEFpU2NyaXB0ZWRTZXF1ZW5jZUZpbmlzaFNjaGVkdWxlKSB7XG4gICAgQWlTY3JpcHRlZFNlcXVlbmNlRmluaXNoU2NoZWR1bGVbQWlTY3JpcHRlZFNlcXVlbmNlRmluaXNoU2NoZWR1bGVbXCJEZWZhdWx0QUlcIl0gPSAwXSA9IFwiRGVmYXVsdEFJXCI7XG4gICAgQWlTY3JpcHRlZFNlcXVlbmNlRmluaXNoU2NoZWR1bGVbQWlTY3JpcHRlZFNlcXVlbmNlRmluaXNoU2NoZWR1bGVbXCJBbWJ1c2hcIl0gPSAxXSA9IFwiQW1idXNoXCI7XG59KShBaVNjcmlwdGVkU2VxdWVuY2VGaW5pc2hTY2hlZHVsZSB8fCAoZXhwb3J0cy5BaVNjcmlwdGVkU2VxdWVuY2VGaW5pc2hTY2hlZHVsZSA9IEFpU2NyaXB0ZWRTZXF1ZW5jZUZpbmlzaFNjaGVkdWxlID0ge30pKTtcbnZhciBBaVNjcmlwdGVkU2VxdWVuY2VTcGF3bmZsYWdzO1xuKGZ1bmN0aW9uIChBaVNjcmlwdGVkU2VxdWVuY2VTcGF3bmZsYWdzKSB7XG4gICAgQWlTY3JpcHRlZFNlcXVlbmNlU3Bhd25mbGFnc1tBaVNjcmlwdGVkU2VxdWVuY2VTcGF3bmZsYWdzW1wiUmVwZWF0YWJsZVwiXSA9IDRdID0gXCJSZXBlYXRhYmxlXCI7XG4gICAgQWlTY3JpcHRlZFNlcXVlbmNlU3Bhd25mbGFnc1tBaVNjcmlwdGVkU2VxdWVuY2VTcGF3bmZsYWdzW1wiTGVhdmVDb3Jwc2VcIl0gPSA4XSA9IFwiTGVhdmVDb3Jwc2VcIjtcbn0pKEFpU2NyaXB0ZWRTZXF1ZW5jZVNwYXduZmxhZ3MgfHwgKGV4cG9ydHMuQWlTY3JpcHRlZFNlcXVlbmNlU3Bhd25mbGFncyA9IEFpU2NyaXB0ZWRTZXF1ZW5jZVNwYXduZmxhZ3MgPSB7fSkpO1xudmFyIEFtYmllbnRHZW5lcmljUHJlc2V0O1xuKGZ1bmN0aW9uIChBbWJpZW50R2VuZXJpY1ByZXNldCkge1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgQW1iaWVudEdlbmVyaWNQcmVzZXRbQW1iaWVudEdlbmVyaWNQcmVzZXRbXCJIdWdlTWFjaGluZVwiXSA9IDFdID0gXCJIdWdlTWFjaGluZVwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiQmlnTWFjaGluZVwiXSA9IDJdID0gXCJCaWdNYWNoaW5lXCI7XG4gICAgQW1iaWVudEdlbmVyaWNQcmVzZXRbQW1iaWVudEdlbmVyaWNQcmVzZXRbXCJNYWNoaW5lXCJdID0gM10gPSBcIk1hY2hpbmVcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlNsb3dGYWRlSW5cIl0gPSA0XSA9IFwiU2xvd0ZhZGVJblwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiRmFkZUluXCJdID0gNV0gPSBcIkZhZGVJblwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiUXVpY2tGYWRlSW5cIl0gPSA2XSA9IFwiUXVpY2tGYWRlSW5cIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlNsb3dQdWxzZVwiXSA9IDddID0gXCJTbG93UHVsc2VcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlB1bHNlXCJdID0gOF0gPSBcIlB1bHNlXCI7XG4gICAgQW1iaWVudEdlbmVyaWNQcmVzZXRbQW1iaWVudEdlbmVyaWNQcmVzZXRbXCJRdWlja1B1bHNlXCJdID0gOV0gPSBcIlF1aWNrUHVsc2VcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlNsb3dPc2NpbGxhdG9yXCJdID0gMTBdID0gXCJTbG93T3NjaWxsYXRvclwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiT3NjaWxsYXRvclwiXSA9IDExXSA9IFwiT3NjaWxsYXRvclwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiUXVpY2tPc2NpbGxhdG9yXCJdID0gMTJdID0gXCJRdWlja09zY2lsbGF0b3JcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIkdydW5nZVBpdGNoXCJdID0gMTNdID0gXCJHcnVuZ2VQaXRjaFwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiVmVyeUxvd1BpdGNoXCJdID0gMTRdID0gXCJWZXJ5TG93UGl0Y2hcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIkxvd1BpdGNoXCJdID0gMTVdID0gXCJMb3dQaXRjaFwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiSGlnaFBpdGNoXCJdID0gMTZdID0gXCJIaWdoUGl0Y2hcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlZlcnlIaWdoUGl0Y2hcIl0gPSAxN10gPSBcIlZlcnlIaWdoUGl0Y2hcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlNjcmVhbWluZ1BpdGNoXCJdID0gMThdID0gXCJTY3JlYW1pbmdQaXRjaFwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiT3NjaWxsYXRlU3BpblVwRG93blwiXSA9IDE5XSA9IFwiT3NjaWxsYXRlU3BpblVwRG93blwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiUHVsc2VTcGluVXBEb3duXCJdID0gMjBdID0gXCJQdWxzZVNwaW5VcERvd25cIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIlJhbmRvbVBpdGNoXCJdID0gMjFdID0gXCJSYW5kb21QaXRjaFwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiUmFuZG9tUGl0Y2hGYXN0XCJdID0gMjJdID0gXCJSYW5kb21QaXRjaEZhc3RcIjtcbiAgICBBbWJpZW50R2VuZXJpY1ByZXNldFtBbWJpZW50R2VuZXJpY1ByZXNldFtcIkluY3JlbWVudGFsU3BpbnVwXCJdID0gMjNdID0gXCJJbmNyZW1lbnRhbFNwaW51cFwiO1xuICAgIEFtYmllbnRHZW5lcmljUHJlc2V0W0FtYmllbnRHZW5lcmljUHJlc2V0W1wiQWxpZW5cIl0gPSAyNF0gPSBcIkFsaWVuXCI7XG4gICAgQW1iaWVudEdlbmVyaWNQcmVzZXRbQW1iaWVudEdlbmVyaWNQcmVzZXRbXCJCaXp6YXJlXCJdID0gMjVdID0gXCJCaXp6YXJlXCI7XG4gICAgQW1iaWVudEdlbmVyaWNQcmVzZXRbQW1iaWVudEdlbmVyaWNQcmVzZXRbXCJQbGFuZXRYXCJdID0gMjZdID0gXCJQbGFuZXRYXCI7XG4gICAgQW1iaWVudEdlbmVyaWNQcmVzZXRbQW1iaWVudEdlbmVyaWNQcmVzZXRbXCJIYXVudGVkXCJdID0gMjddID0gXCJIYXVudGVkXCI7XG59KShBbWJpZW50R2VuZXJpY1ByZXNldCB8fCAoZXhwb3J0cy5BbWJpZW50R2VuZXJpY1ByZXNldCA9IEFtYmllbnRHZW5lcmljUHJlc2V0ID0ge30pKTtcbnZhciBBbWJpZW50R2VuZXJpY1NwYXduRmxhZ3M7XG4oZnVuY3Rpb24gKEFtYmllbnRHZW5lcmljU3Bhd25GbGFncykge1xuICAgIEFtYmllbnRHZW5lcmljU3Bhd25GbGFnc1tBbWJpZW50R2VuZXJpY1NwYXduRmxhZ3NbXCJQbGF5RXZlcnl3aGVyZVwiXSA9IDFdID0gXCJQbGF5RXZlcnl3aGVyZVwiO1xuICAgIEFtYmllbnRHZW5lcmljU3Bhd25GbGFnc1tBbWJpZW50R2VuZXJpY1NwYXduRmxhZ3NbXCJTbWFsbFJhZGl1c1wiXSA9IDJdID0gXCJTbWFsbFJhZGl1c1wiO1xuICAgIEFtYmllbnRHZW5lcmljU3Bhd25GbGFnc1tBbWJpZW50R2VuZXJpY1NwYXduRmxhZ3NbXCJNZWRpdW1SYWRpdXNcIl0gPSA0XSA9IFwiTWVkaXVtUmFkaXVzXCI7XG4gICAgQW1iaWVudEdlbmVyaWNTcGF3bkZsYWdzW0FtYmllbnRHZW5lcmljU3Bhd25GbGFnc1tcIkxhcmdlUmFkaXVzXCJdID0gOF0gPSBcIkxhcmdlUmFkaXVzXCI7XG4gICAgQW1iaWVudEdlbmVyaWNTcGF3bkZsYWdzW0FtYmllbnRHZW5lcmljU3Bhd25GbGFnc1tcIlN0YXJ0U2lsZW50XCJdID0gMTZdID0gXCJTdGFydFNpbGVudFwiO1xuICAgIEFtYmllbnRHZW5lcmljU3Bhd25GbGFnc1tBbWJpZW50R2VuZXJpY1NwYXduRmxhZ3NbXCJOb3RUb2dnbGVkXCJdID0gMzJdID0gXCJOb3RUb2dnbGVkXCI7XG59KShBbWJpZW50R2VuZXJpY1NwYXduRmxhZ3MgfHwgKGV4cG9ydHMuQW1iaWVudEdlbmVyaWNTcGF3bkZsYWdzID0gQW1iaWVudEdlbmVyaWNTcGF3bkZsYWdzID0ge30pKTtcbnZhciBCdXR0b25UYXJnZXRTcGF3bkZsYWdzO1xuKGZ1bmN0aW9uIChCdXR0b25UYXJnZXRTcGF3bkZsYWdzKSB7XG4gICAgQnV0dG9uVGFyZ2V0U3Bhd25GbGFnc1tCdXR0b25UYXJnZXRTcGF3bkZsYWdzW1wiVXNlQWN0aXZhdGVzXCJdID0gMV0gPSBcIlVzZUFjdGl2YXRlc1wiO1xuICAgIEJ1dHRvblRhcmdldFNwYXduRmxhZ3NbQnV0dG9uVGFyZ2V0U3Bhd25GbGFnc1tcIlN0YXJ0T25cIl0gPSAyXSA9IFwiU3RhcnRPblwiO1xufSkoQnV0dG9uVGFyZ2V0U3Bhd25GbGFncyB8fCAoZXhwb3J0cy5CdXR0b25UYXJnZXRTcGF3bkZsYWdzID0gQnV0dG9uVGFyZ2V0U3Bhd25GbGFncyA9IHt9KSk7XG52YXIgQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbjtcbihmdW5jdGlvbiAoQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbikge1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIk5vVHJpZ2dlclwiXSA9IDBdID0gXCJOb1RyaWdnZXJcIjtcbiAgICBDeWNsZXJXZWFwb25UcmlnZ2VyQ29uZGl0aW9uW0N5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bXCJTZWVQbGF5ZXJNYWRBdFBsYXllclwiXSA9IDFdID0gXCJTZWVQbGF5ZXJNYWRBdFBsYXllclwiO1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIlRha2VEYW1hZ2VcIl0gPSAyXSA9IFwiVGFrZURhbWFnZVwiO1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIkhhbGZIZWFsdGhSZW1haW5pbmdcIl0gPSAzXSA9IFwiSGFsZkhlYWx0aFJlbWFpbmluZ1wiO1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIkRlYXRoXCJdID0gNF0gPSBcIkRlYXRoXCI7XG4gICAgQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltDeWNsZXJXZWFwb25UcmlnZ2VyQ29uZGl0aW9uW1wiSGVhcldvcmxkXCJdID0gN10gPSBcIkhlYXJXb3JsZFwiO1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIkhlYXJQbGF5ZXJcIl0gPSA4XSA9IFwiSGVhclBsYXllclwiO1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIkhlYXJDb21iYXRcIl0gPSA5XSA9IFwiSGVhckNvbWJhdFwiO1xuICAgIEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbltcIlNlZVBsYXllclVuY29uZGl0aW9uYWxcIl0gPSAxMF0gPSBcIlNlZVBsYXllclVuY29uZGl0aW9uYWxcIjtcbiAgICBDeWNsZXJXZWFwb25UcmlnZ2VyQ29uZGl0aW9uW0N5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb25bXCJTZWVQbGF5ZXJOb3RJbkNvbWJhdFwiXSA9IDExXSA9IFwiU2VlUGxheWVyTm90SW5Db21iYXRcIjtcbn0pKEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb24gfHwgKGV4cG9ydHMuQ3ljbGVyV2VhcG9uVHJpZ2dlckNvbmRpdGlvbiA9IEN5Y2xlcldlYXBvblRyaWdnZXJDb25kaXRpb24gPSB7fSkpO1xudmFyIEVudkJlYW1TcGF3bkZsYWdzO1xuKGZ1bmN0aW9uIChFbnZCZWFtU3Bhd25GbGFncykge1xuICAgIEVudkJlYW1TcGF3bkZsYWdzW0VudkJlYW1TcGF3bkZsYWdzW1wiU3RhcnRPblwiXSA9IDFdID0gXCJTdGFydE9uXCI7XG4gICAgRW52QmVhbVNwYXduRmxhZ3NbRW52QmVhbVNwYXduRmxhZ3NbXCJUb2dnbGVcIl0gPSAyXSA9IFwiVG9nZ2xlXCI7XG4gICAgRW52QmVhbVNwYXduRmxhZ3NbRW52QmVhbVNwYXduRmxhZ3NbXCJSYW5kb21TdHJpa2VcIl0gPSA0XSA9IFwiUmFuZG9tU3RyaWtlXCI7XG4gICAgRW52QmVhbVNwYXduRmxhZ3NbRW52QmVhbVNwYXduRmxhZ3NbXCJSaW5nXCJdID0gOF0gPSBcIlJpbmdcIjtcbiAgICBFbnZCZWFtU3Bhd25GbGFnc1tFbnZCZWFtU3Bhd25GbGFnc1tcIlN0YXJ0U3BhcmtzXCJdID0gMTZdID0gXCJTdGFydFNwYXJrc1wiO1xuICAgIEVudkJlYW1TcGF3bkZsYWdzW0VudkJlYW1TcGF3bkZsYWdzW1wiRW5kU3BhcmtzXCJdID0gMzJdID0gXCJFbmRTcGFya3NcIjtcbiAgICBFbnZCZWFtU3Bhd25GbGFnc1tFbnZCZWFtU3Bhd25GbGFnc1tcIkRlY2FsRW5kXCJdID0gNjRdID0gXCJEZWNhbEVuZFwiO1xuICAgIEVudkJlYW1TcGF3bkZsYWdzW0VudkJlYW1TcGF3bkZsYWdzW1wiRmFkZVN0YXJ0XCJdID0gMTI4XSA9IFwiRmFkZVN0YXJ0XCI7XG4gICAgRW52QmVhbVNwYXduRmxhZ3NbRW52QmVhbVNwYXduRmxhZ3NbXCJGYWRlRW5kXCJdID0gMjU2XSA9IFwiRmFkZUVuZFwiO1xufSkoRW52QmVhbVNwYXduRmxhZ3MgfHwgKGV4cG9ydHMuRW52QmVhbVNwYXduRmxhZ3MgPSBFbnZCZWFtU3Bhd25GbGFncyA9IHt9KSk7XG52YXIgWkhMVExpZ2h0RmxhZ3M7XG4oZnVuY3Rpb24gKFpITFRMaWdodEZsYWdzKSB7XG4gICAgWkhMVExpZ2h0RmxhZ3NbWkhMVExpZ2h0RmxhZ3NbXCJOb3JtYWxcIl0gPSAwXSA9IFwiTm9ybWFsXCI7XG4gICAgWkhMVExpZ2h0RmxhZ3NbWkhMVExpZ2h0RmxhZ3NbXCJFbWJlZGRlZEZpeFwiXSA9IDFdID0gXCJFbWJlZGRlZEZpeFwiO1xuICAgIFpITFRMaWdodEZsYWdzW1pITFRMaWdodEZsYWdzW1wiT3BhcXVlQmxvY2tMaWdodFwiXSA9IDJdID0gXCJPcGFxdWVCbG9ja0xpZ2h0XCI7XG4gICAgWkhMVExpZ2h0RmxhZ3NbWkhMVExpZ2h0RmxhZ3NbXCJPcGFxdWVFbWJlZGRlZEZpeFwiXSA9IDNdID0gXCJPcGFxdWVFbWJlZGRlZEZpeFwiO1xuICAgIFpITFRMaWdodEZsYWdzW1pITFRMaWdodEZsYWdzW1wiT3BhcXVlQ29uY2F2ZUZpeFwiXSA9IDZdID0gXCJPcGFxdWVDb25jYXZlRml4XCI7XG59KShaSExUTGlnaHRGbGFncyB8fCAoZXhwb3J0cy5aSExUTGlnaHRGbGFncyA9IFpITFRMaWdodEZsYWdzID0ge30pKTtcbnZhciBSZW5kZXJFZmZlY3Q7XG4oZnVuY3Rpb24gKFJlbmRlckVmZmVjdCkge1xuICAgIFJlbmRlckVmZmVjdFtSZW5kZXJFZmZlY3RbXCJOb3JtYWxcIl0gPSAwXSA9IFwiTm9ybWFsXCI7XG4gICAgUmVuZGVyRWZmZWN0W1JlbmRlckVmZmVjdFtcIlNsb3dQdWxzZVwiXSA9IDFdID0gXCJTbG93UHVsc2VcIjtcbiAgICBSZW5kZXJFZmZlY3RbUmVuZGVyRWZmZWN0W1wiRmFzdFB1bHNlXCJdID0gMl0gPSBcIkZhc3RQdWxzZVwiO1xuICAgIFJlbmRlckVmZmVjdFtSZW5kZXJFZmZlY3RbXCJTbG93V2lkZVB1bHNlXCJdID0gM10gPSBcIlNsb3dXaWRlUHVsc2VcIjtcbiAgICBSZW5kZXJFZmZlY3RbUmVuZGVyRWZmZWN0W1wiRmFzdFdpZGVQdWxzZVwiXSA9IDRdID0gXCJGYXN0V2lkZVB1bHNlXCI7XG4gICAgUmVuZGVyRWZmZWN0W1JlbmRlckVmZmVjdFtcIlNsb3dGYWRlQXdheVwiXSA9IDVdID0gXCJTbG93RmFkZUF3YXlcIjtcbiAgICBSZW5kZXJFZmZlY3RbUmVuZGVyRWZmZWN0W1wiRmFzdEZhZGVBd2F5XCJdID0gNl0gPSBcIkZhc3RGYWRlQXdheVwiO1xuICAgIFJlbmRlckVmZmVjdFtSZW5kZXJFZmZlY3RbXCJTbG93QmVjb21lU29saWRcIl0gPSA3XSA9IFwiU2xvd0JlY29tZVNvbGlkXCI7XG4gICAgUmVuZGVyRWZmZWN0W1JlbmRlckVmZmVjdFtcIkZhc3RCZWNvbWVTb2xpZFwiXSA9IDhdID0gXCJGYXN0QmVjb21lU29saWRcIjtcbiAgICBSZW5kZXJFZmZlY3RbUmVuZGVyRWZmZWN0W1wiU2xvd1N0cm9iZVwiXSA9IDldID0gXCJTbG93U3Ryb2JlXCI7XG4gICAgUmVuZGVyRWZmZWN0W1JlbmRlckVmZmVjdFtcIkZhc3RTdHJvYmVcIl0gPSAxMF0gPSBcIkZhc3RTdHJvYmVcIjtcbiAgICBSZW5kZXJFZmZlY3RbUmVuZGVyRWZmZWN0W1wiRmFzdGVyU3Ryb2JlXCJdID0gMTFdID0gXCJGYXN0ZXJTdHJvYmVcIjtcbiAgICBSZW5kZXJFZmZlY3RbUmVuZGVyRWZmZWN0W1wiU2xvd0ZsaWNrZXJcIl0gPSAxMl0gPSBcIlNsb3dGbGlja2VyXCI7XG4gICAgUmVuZGVyRWZmZWN0W1JlbmRlckVmZmVjdFtcIkZhc3RGbGlja2VyXCJdID0gMTNdID0gXCJGYXN0RmxpY2tlclwiO1xuICAgIFJlbmRlckVmZmVjdFtSZW5kZXJFZmZlY3RbXCJDb25zdGFudEdsb3dcIl0gPSAxNF0gPSBcIkNvbnN0YW50R2xvd1wiO1xuICAgIFJlbmRlckVmZmVjdFtSZW5kZXJFZmZlY3RbXCJEaXN0b3J0TW9kZWxzXCJdID0gMTVdID0gXCJEaXN0b3J0TW9kZWxzXCI7XG4gICAgUmVuZGVyRWZmZWN0W1JlbmRlckVmZmVjdFtcIkhvbG9ncmFtRGlzdG9ydFwiXSA9IDE2XSA9IFwiSG9sb2dyYW1EaXN0b3J0XCI7XG59KShSZW5kZXJFZmZlY3QgfHwgKGV4cG9ydHMuUmVuZGVyRWZmZWN0ID0gUmVuZGVyRWZmZWN0ID0ge30pKTtcbnZhciBSZW5kZXJNb2RlO1xuKGZ1bmN0aW9uIChSZW5kZXJNb2RlKSB7XG4gICAgUmVuZGVyTW9kZVtSZW5kZXJNb2RlW1wiTm9ybWFsXCJdID0gMF0gPSBcIk5vcm1hbFwiO1xuICAgIFJlbmRlck1vZGVbUmVuZGVyTW9kZVtcIkNvbG9yXCJdID0gMV0gPSBcIkNvbG9yXCI7XG4gICAgUmVuZGVyTW9kZVtSZW5kZXJNb2RlW1wiVGV4dHVyZVwiXSA9IDJdID0gXCJUZXh0dXJlXCI7XG4gICAgUmVuZGVyTW9kZVtSZW5kZXJNb2RlW1wiR2xvd1wiXSA9IDNdID0gXCJHbG93XCI7XG4gICAgUmVuZGVyTW9kZVtSZW5kZXJNb2RlW1wiU29saWRcIl0gPSA0XSA9IFwiU29saWRcIjtcbiAgICBSZW5kZXJNb2RlW1JlbmRlck1vZGVbXCJBZGRpdGl2ZVwiXSA9IDVdID0gXCJBZGRpdGl2ZVwiO1xufSkoUmVuZGVyTW9kZSB8fCAoZXhwb3J0cy5SZW5kZXJNb2RlID0gUmVuZGVyTW9kZSA9IHt9KSk7XG5jb25zdCBwYXJzZU51bWJlckFycmF5ID0gKGEpID0+IGEuc3BsaXQoJyAnKS5tYXAoYiA9PiBwYXJzZUZsb2F0KGIpKTtcbmNvbnN0IHBhcnNlcnMgPSB7XG4gICAgd29ybGRzcGF3bjogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ3dvcmxkc3Bhd24nLFxuICAgICAgICB3YWQ6IGUud2FkXG4gICAgICAgICAgICAuc3BsaXQoJzsnKVxuICAgICAgICAgICAgLmZpbHRlcigoYSkgPT4gYS5sZW5ndGgpXG4gICAgICAgICAgICAubWFwKCh3KSA9PiB3LnJlcGxhY2UoL1xcXFwvZywgJy8nKSksXG4gICAgICAgIG1hcHZlcnNpb246IHBhcnNlSW50KGUubWFwdmVyc2lvbiksXG4gICAgICAgIHNreW5hbWU6IGUuc2t5bmFtZSxcbiAgICAgICAgbWF4UmFuZ2U6IHBhcnNlRmxvYXQoZS5NYXhSYW5nZSkgfHwgODE5MixcbiAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlIHx8ICcnLFxuICAgICAgICBzb3VuZHM6IHBhcnNlSW50KGUuc291bmRzKSB8fCAwLFxuICAgICAgICBsaWdodDogcGFyc2VJbnQoZS5saWdodCkgfHwgMCxcbiAgICAgICAgd2F2ZUhlaWdodDogcGFyc2VGbG9hdChlLldhdmVIZWlnaHQpIHx8IDAsXG4gICAgICAgIHN0YXJ0RGFyazogcGFyc2VJbnQoZS5zdGFydGRhcmspIHx8IDAsXG4gICAgICAgIG5ld1VuaXQ6IHBhcnNlSW50KGUubmV3dW5pdCkgfHwgMCxcbiAgICAgICAgZGVmYXVsdFRlYW06IHBhcnNlSW50KGUuZGVmYXVsdHRlYW0pIHx8IDAsXG4gICAgICAgIGdhbWVUaXRsZTogcGFyc2VJbnQoZS5nYW1ldGl0bGUpIHx8IDBcbiAgICB9KSxcbiAgICBhaXNjcmlwdGVkX3NlcXVlbmNlOiAoZSkgPT4gKHtcbiAgICAgICAgY2xhc3NuYW1lOiAnYWlzY3JpcHRlZF9zZXF1ZW5jZScsXG4gICAgICAgIHNwYXduZmxhZ3M6IHBhcnNlSW50KGUuc3Bhd25mbGFncyksXG4gICAgICAgIG1faXN6RW50aXR5OiBlLm1faXN6RW50aXR5LFxuICAgICAgICBtX2lzelBsYXk6IGUubV9pc3pQbGF5IHx8ICcnLFxuICAgICAgICBtX2ZsUmFkaXVzOiBwYXJzZUludChlLm1fZmxSYWRpdXMpIHx8IDUxMixcbiAgICAgICAgbV9mbFJlcGVhdDogcGFyc2VJbnQoZS5tX2ZsUmVwZWF0KSB8fCAwLFxuICAgICAgICBtX2ZNb3ZlVG86IHBhcnNlSW50KGUubV9mTW92ZVRvKSB8fCAwLFxuICAgICAgICBtX2lGaW5pc2hTY2hlZHVsZTogcGFyc2VJbnQoZS5tX2lGaW5pc2hTY2hlZHVsZSkgfHwgMCxcbiAgICB9KSxcbiAgICBhbWJpZW50X2dlbmVyaWM6IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdhbWJpZW50X2dlbmVyaWMnLFxuICAgICAgICBvcmlnaW46IHBhcnNlTnVtYmVyQXJyYXkoZS5vcmlnaW4pLFxuICAgICAgICB0YXJnZXROYW1lOiBlLnRhcmdldG5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZSxcbiAgICAgICAgaGVhbHRoOiBwYXJzZUludChlLmhlYWx0aCkgfHwgMTAsXG4gICAgICAgIHByZXNldDogcGFyc2VJbnQoZS5wcmVzZXQpIHx8IDAsXG4gICAgICAgIHN0YXJ0Vm9sdW1lOiBwYXJzZUludChlLnZvbHN0YXJ0KSB8fCAwLFxuICAgICAgICBmYWRlSW46IHBhcnNlSW50KGUuZmFkZWluKSxcbiAgICAgICAgZmFkZU91dDogcGFyc2VJbnQoZS5mYWRlb3V0KSxcbiAgICAgICAgcGl0Y2g6IHBhcnNlSW50KGUucGl0Y2gpLFxuICAgICAgICBwaXRjaFN0YXJ0OiBwYXJzZUludChlLnBpdGNoc3RhcnQpLFxuICAgICAgICBzcGluVXA6IHBhcnNlSW50KGUuc3BpbnVwKSxcbiAgICAgICAgc3BpbkRvd246IHBhcnNlSW50KGUuc3BpbmRvd24pLFxuICAgICAgICBsZm9UeXBlOiBwYXJzZUludChlLmxmb3R5cGUpLFxuICAgICAgICBsZm9SYXRlOiBwYXJzZUludChlLmxmb3JhdGUpLFxuICAgICAgICBsZm9Nb2RQaXRjaDogcGFyc2VJbnQoZS5sZm9tb2RwaXRjaCksXG4gICAgICAgIGxmb01vZFZvbHVtZTogcGFyc2VJbnQoZS5sZm9tb2R2b2x1bWUpLFxuICAgICAgICBjU3BpblVwOiBwYXJzZUludChlLmNzcGludXApLFxuICAgICAgICBzcGF3bkZsYWdzOiBwYXJzZUludChlLnNwYXduZmxhZ3MpXG4gICAgfSksXG4gICAgYW1tb18zNTc6IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdhbW1vXzM1NycsXG4gICAgICAgIG9yaWdpbjogcGFyc2VOdW1iZXJBcnJheShlLm9yaWdpbiksXG4gICAgICAgIGFuZ2xlczogcGFyc2VOdW1iZXJBcnJheShlLmFuZ2xlcyksXG4gICAgICAgIHRhcmdldDogZS50YXJnZXQsXG4gICAgICAgIHRhcmdldE5hbWU6IGUudGFyZ2V0bmFtZSB8fCAnJyxcbiAgICAgICAgZGVsYXk6IHBhcnNlSW50KGUuZGVsYXkpIHx8IDAsXG4gICAgICAgIGtpbGxUYXJnZXQ6IGUua2lsbHRhcmdldCB8fCAnJyxcbiAgICAgICAgc3Bhd25GbGFnczogZS5zcGF3bmZsYWdzIHx8IDBcbiAgICB9KSxcbiAgICBhbW1vXzltbUFSOiAoZSkgPT4gKHtcbiAgICAgICAgY2xhc3NuYW1lOiAnYW1tb185bW1BUicsXG4gICAgICAgIG9yaWdpbjogcGFyc2VOdW1iZXJBcnJheShlLm9yaWdpbiksXG4gICAgICAgIGFuZ2xlczogcGFyc2VOdW1iZXJBcnJheShlLmFuZ2xlcyksXG4gICAgICAgIHRhcmdldDogZS50YXJnZXQsXG4gICAgICAgIHRhcmdldE5hbWU6IGUudGFyZ2V0bmFtZSB8fCAnJyxcbiAgICAgICAgZGVsYXk6IHBhcnNlSW50KGUuZGVsYXkpIHx8IDAsXG4gICAgICAgIGtpbGxUYXJnZXQ6IGUua2lsbHRhcmdldCB8fCAnJyxcbiAgICAgICAgc3Bhd25GbGFnczogZS5zcGF3bmZsYWdzIHx8IDBcbiAgICB9KSxcbiAgICBhbW1vXzltbWJveDogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2FtbW9fOW1tYm94JyxcbiAgICAgICAgb3JpZ2luOiBwYXJzZU51bWJlckFycmF5KGUub3JpZ2luKSxcbiAgICAgICAgYW5nbGVzOiBwYXJzZU51bWJlckFycmF5KGUuYW5nbGVzKSxcbiAgICAgICAgdGFyZ2V0OiBlLnRhcmdldCxcbiAgICAgICAgdGFyZ2V0TmFtZTogZS50YXJnZXRuYW1lIHx8ICcnLFxuICAgICAgICBkZWxheTogcGFyc2VJbnQoZS5kZWxheSkgfHwgMCxcbiAgICAgICAga2lsbFRhcmdldDogZS5raWxsdGFyZ2V0IHx8ICcnLFxuICAgICAgICBzcGF3bkZsYWdzOiBlLnNwYXduZmxhZ3MgfHwgMFxuICAgIH0pLFxuICAgIGFtbW9fOW1tY2xpcDogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2FtbW9fOW1tY2xpcCcsXG4gICAgICAgIG9yaWdpbjogcGFyc2VOdW1iZXJBcnJheShlLm9yaWdpbiksXG4gICAgICAgIGFuZ2xlczogcGFyc2VOdW1iZXJBcnJheShlLmFuZ2xlcyksXG4gICAgICAgIHRhcmdldDogZS50YXJnZXQsXG4gICAgICAgIHRhcmdldE5hbWU6IGUudGFyZ2V0bmFtZSB8fCAnJyxcbiAgICAgICAgZGVsYXk6IHBhcnNlSW50KGUuZGVsYXkpIHx8IDAsXG4gICAgICAgIGtpbGxUYXJnZXQ6IGUua2lsbHRhcmdldCB8fCAnJyxcbiAgICAgICAgc3Bhd25GbGFnczogZS5zcGF3bmZsYWdzIHx8IDBcbiAgICB9KSxcbiAgICBhbW1vX0FSZ3JlbmFkZXM6IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdhbW1vX0FSZ3JlbmFkZXMnLFxuICAgICAgICBvcmlnaW46IHBhcnNlTnVtYmVyQXJyYXkoZS5vcmlnaW4pLFxuICAgICAgICBhbmdsZXM6IHBhcnNlTnVtYmVyQXJyYXkoZS5hbmdsZXMpLFxuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICB0YXJnZXROYW1lOiBlLnRhcmdldG5hbWUgfHwgJycsXG4gICAgICAgIGRlbGF5OiBwYXJzZUludChlLmRlbGF5KSB8fCAwLFxuICAgICAgICBraWxsVGFyZ2V0OiBlLmtpbGx0YXJnZXQgfHwgJycsXG4gICAgICAgIHNwYXduRmxhZ3M6IGUuc3Bhd25mbGFncyB8fCAwXG4gICAgfSksXG4gICAgYW1tb19idWNrc2hvdDogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2FtbW9fYnVja3Nob3QnLFxuICAgICAgICBvcmlnaW46IHBhcnNlTnVtYmVyQXJyYXkoZS5vcmlnaW4pLFxuICAgICAgICBhbmdsZXM6IHBhcnNlTnVtYmVyQXJyYXkoZS5hbmdsZXMpLFxuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICB0YXJnZXROYW1lOiBlLnRhcmdldG5hbWUgfHwgJycsXG4gICAgICAgIGRlbGF5OiBwYXJzZUludChlLmRlbGF5KSB8fCAwLFxuICAgICAgICBraWxsVGFyZ2V0OiBlLmtpbGx0YXJnZXQgfHwgJycsXG4gICAgICAgIHNwYXduRmxhZ3M6IGUuc3Bhd25mbGFncyB8fCAwXG4gICAgfSksXG4gICAgYW1tb19jcm9zc2JvdzogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2FtbW9fY3Jvc3Nib3cnLFxuICAgICAgICBvcmlnaW46IHBhcnNlTnVtYmVyQXJyYXkoZS5vcmlnaW4pLFxuICAgICAgICBhbmdsZXM6IHBhcnNlTnVtYmVyQXJyYXkoZS5hbmdsZXMpLFxuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICB0YXJnZXROYW1lOiBlLnRhcmdldG5hbWUgfHwgJycsXG4gICAgICAgIGRlbGF5OiBwYXJzZUludChlLmRlbGF5KSB8fCAwLFxuICAgICAgICBraWxsVGFyZ2V0OiBlLmtpbGx0YXJnZXQgfHwgJycsXG4gICAgICAgIHNwYXduRmxhZ3M6IGUuc3Bhd25mbGFncyB8fCAwXG4gICAgfSksXG4gICAgYW1tb19nYXVzc2NsaXA6IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdhbW1vX2dhdXNzY2xpcCcsXG4gICAgICAgIG9yaWdpbjogcGFyc2VOdW1iZXJBcnJheShlLm9yaWdpbiksXG4gICAgICAgIGFuZ2xlczogcGFyc2VOdW1iZXJBcnJheShlLmFuZ2xlcyksXG4gICAgICAgIHRhcmdldDogZS50YXJnZXQsXG4gICAgICAgIHRhcmdldE5hbWU6IGUudGFyZ2V0bmFtZSB8fCAnJyxcbiAgICAgICAgZGVsYXk6IHBhcnNlSW50KGUuZGVsYXkpIHx8IDAsXG4gICAgICAgIGtpbGxUYXJnZXQ6IGUua2lsbHRhcmdldCB8fCAnJyxcbiAgICAgICAgc3Bhd25GbGFnczogZS5zcGF3bmZsYWdzIHx8IDBcbiAgICB9KSxcbiAgICBhbW1vX3JwZ2NsaXA6IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdhbW1vX3JwZ2NsaXAnLFxuICAgICAgICBvcmlnaW46IHBhcnNlTnVtYmVyQXJyYXkoZS5vcmlnaW4pLFxuICAgICAgICBhbmdsZXM6IHBhcnNlTnVtYmVyQXJyYXkoZS5hbmdsZXMpLFxuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICB0YXJnZXROYW1lOiBlLnRhcmdldG5hbWUgfHwgJycsXG4gICAgICAgIGRlbGF5OiBwYXJzZUludChlLmRlbGF5KSB8fCAwLFxuICAgICAgICBraWxsVGFyZ2V0OiBlLmtpbGx0YXJnZXQgfHwgJycsXG4gICAgICAgIHNwYXduRmxhZ3M6IGUuc3Bhd25mbGFncyB8fCAwXG4gICAgfSksXG4gICAgYnV0dG9uX3RhcmdldDogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2J1dHRvbl90YXJnZXQnLFxuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICBtYXN0ZXI6IGUubWFzdGVyLFxuICAgICAgICByZW5kZXJFZmZlY3Q6IHBhcnNlSW50KGUucmVuZGVyZngpIHx8IDAsXG4gICAgICAgIHJlbmRlck1vZGU6IHBhcnNlSW50KGUucmVuZGVybW9kZSkgfHwgMCxcbiAgICAgICAgcmVuZGVyQW1tb3VudDogcGFyc2VJbnQoZS5yZW5kZXJhbXQpIHx8IDI1NSxcbiAgICAgICAgcmVuZGVyQ29sb3I6IHBhcnNlTnVtYmVyQXJyYXkoZS5yZW5kZXJjb2xvciB8fCAnMCAwIDAnKSxcbiAgICAgICAgemhsdExpZ2h0RmxhZ3M6IHBhcnNlSW50KGUuemhsdF9saWdodGZsYWdzKSB8fCAwLFxuICAgICAgICBsaWdodE9yaWdpbjogZS5saWdodF9vcmlnaW4sXG4gICAgICAgIHNwYXduRmxhZ3M6IHBhcnNlSW50KGUuc3Bhd25mbGFncykgfHwgMVxuICAgIH0pLFxuICAgIGN5Y2xlcjogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2N5Y2xlcicsXG4gICAgICAgIG9yaWdpbjogcGFyc2VOdW1iZXJBcnJheShlLm9yaWdpbiksXG4gICAgICAgIGFuZ2xlczogcGFyc2VOdW1iZXJBcnJheShlLmFuZ2xlcyksXG4gICAgICAgIHRhcmdldE5hbWU6IGUudGFyZ2V0bmFtZSxcbiAgICAgICAgbW9kZWw6IGUubW9kZWwsXG4gICAgICAgIHNlcXVlbmNlOiBlLnNlcXVlbmNlIHx8ICcnLFxuICAgICAgICByZW5kZXJFZmZlY3Q6IHBhcnNlSW50KGUucmVuZGVyZngpIHx8IDAsXG4gICAgICAgIHJlbmRlck1vZGU6IHBhcnNlSW50KGUucmVuZGVybW9kZSkgfHwgMCxcbiAgICAgICAgcmVuZGVyQW1tb3VudDogcGFyc2VJbnQoZS5yZW5kZXJhbXQpIHx8IDI1NSxcbiAgICAgICAgcmVuZGVyQ29sb3I6IHBhcnNlTnVtYmVyQXJyYXkoZS5yZW5kZXJjb2xvciB8fCAnMCAwIDAnKVxuICAgIH0pLFxuICAgIGN5Y2xlcl9zcHJpdGU6IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdjeWNsZXJfc3ByaXRlJyxcbiAgICAgICAgb3JpZ2luOiBwYXJzZU51bWJlckFycmF5KGUub3JpZ2luKSxcbiAgICAgICAgYW5nbGVzOiBwYXJzZU51bWJlckFycmF5KGUuYW5nbGVzKSxcbiAgICAgICAgdGFyZ2V0TmFtZTogZS50YXJnZXRuYW1lLFxuICAgICAgICBtb2RlbDogZS5tb2RlbCxcbiAgICAgICAgZnJhbWVyYXRlOiBwYXJzZUludChlLmZyYW1lcmF0ZSB8fCAnMTAnKSxcbiAgICAgICAgcmVuZGVyRWZmZWN0OiBwYXJzZUludChlLnJlbmRlcmZ4KSB8fCAwLFxuICAgICAgICByZW5kZXJNb2RlOiBwYXJzZUludChlLnJlbmRlcm1vZGUpIHx8IDAsXG4gICAgICAgIHJlbmRlckFtbW91bnQ6IHBhcnNlSW50KGUucmVuZGVyYW10KSB8fCAyNTUsXG4gICAgICAgIHJlbmRlckNvbG9yOiBwYXJzZU51bWJlckFycmF5KGUucmVuZGVyY29sb3IgfHwgJzAgMCAwJylcbiAgICB9KSxcbiAgICBjeWNsZWFyX3dlYXBvbjogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2N5Y2xlcl93ZWFwb24nLFxuICAgICAgICBvcmlnaW46IHBhcnNlTnVtYmVyQXJyYXkoZS5vcmlnaW4pLFxuICAgICAgICBhbmdsZXM6IHBhcnNlTnVtYmVyQXJyYXkoZS5hbmdsZXMpLFxuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxuICAgICAgICB0YXJnZXROYW1lOiBlLnRhcmdldG5hbWUsXG4gICAgICAgIHRyaWdnZXJUYXJnZXQ6IGUuVHJpZ2dlclRhcmdldCB8fCAnJyxcbiAgICAgICAgdHJpZ2dlckNvbmRpdGlvbjogcGFyc2VJbnQoZS5UcmlnZ2VyQ29uZGl0aW9uKSB8fCAwLFxuICAgICAgICBtb2RlbDogZS5tb2RlbCxcbiAgICAgICAgc2VxdWVuY2U6IGUuc2VxdWVuY2UsXG4gICAgICAgIHJlbmRlckVmZmVjdDogcGFyc2VJbnQoZS5yZW5kZXJmeCkgfHwgMCxcbiAgICAgICAgcmVuZGVyTW9kZTogcGFyc2VJbnQoZS5yZW5kZXJtb2RlKSB8fCAwLFxuICAgICAgICByZW5kZXJBbW1vdW50OiBwYXJzZUludChlLnJlbmRlcmFtdCkgfHwgMjU1LFxuICAgICAgICByZW5kZXJDb2xvcjogcGFyc2VOdW1iZXJBcnJheShlLnJlbmRlcmNvbG9yIHx8ICcwIDAgMCcpXG4gICAgfSksXG4gICAgY3ljbGVhcl93cmVja2FnZTogKGUpID0+ICh7XG4gICAgICAgIGNsYXNzbmFtZTogJ2N5Y2xlcl93cmVja2FnZScsXG4gICAgICAgIG9yaWdpbjogcGFyc2VOdW1iZXJBcnJheShlLm9yaWdpbiksXG4gICAgICAgIGFuZ2xlczogcGFyc2VOdW1iZXJBcnJheShlLmFuZ2xlcyksXG4gICAgICAgIHRhcmdldE5hbWU6IGUudGFyZ2V0bmFtZSxcbiAgICAgICAgbW9kZWw6IGUubW9kZWwsXG4gICAgICAgIGZyYW1lcmF0ZTogcGFyc2VJbnQoZS5mcmFtZXJhdGUpIHx8IDEwLFxuICAgICAgICBzY2FsZTogcGFyc2VGbG9hdChlLnNjYWxlKSB8fCAxLjAsXG4gICAgICAgIHJlbmRlckVmZmVjdDogcGFyc2VJbnQoZS5yZW5kZXJmeCkgfHwgMCxcbiAgICAgICAgcmVuZGVyTW9kZTogcGFyc2VJbnQoZS5yZW5kZXJtb2RlKSB8fCAwLFxuICAgICAgICByZW5kZXJBbW1vdW50OiBwYXJzZUludChlLnJlbmRlcmFtdCkgfHwgMjU1LFxuICAgICAgICByZW5kZXJDb2xvcjogcGFyc2VOdW1iZXJBcnJheShlLnJlbmRlcmNvbG9yIHx8ICcwIDAgMCcpXG4gICAgfSksXG4gICAgZW52X2JlYW06IChlKSA9PiAoe1xuICAgICAgICBjbGFzc25hbWU6ICdlbnZfYmVhbScsXG4gICAgICAgIHJlbmRlckVmZmVjdDogcGFyc2VJbnQoZS5yZW5kZXJmeCkgfHwgMCxcbiAgICAgICAgcmVuZGVyTW9kZTogcGFyc2VJbnQoZS5yZW5kZXJtb2RlKSB8fCAwLFxuICAgICAgICByZW5kZXJBbW1vdW50OiBwYXJzZUludChlLnJlbmRlcmFtdCkgfHwgMjU1LFxuICAgICAgICByZW5kZXJDb2xvcjogcGFyc2VOdW1iZXJBcnJheShlLnJlbmRlcmNvbG9yIHx8ICcwIDAgMCcpLFxuICAgICAgICByYWRpdXM6IHBhcnNlRmxvYXQoZS5SYWRpdXMpIHx8IDI1NixcbiAgICAgICAgbGlmZTogcGFyc2VJbnQoZS5saWZlKSB8fCAxLFxuICAgICAgICBib2x0V2lkdGg6IHBhcnNlSW50KGUuQm9sdFdpZHRoKSB8fCAyMCxcbiAgICAgICAgbm9pc2VBbXBsaXR1ZGU6IHBhcnNlSW50KGUuTm9pc2VBbXBsaXR1ZGUpIHx8IDAsXG4gICAgICAgIHRleHR1cmU6IGUudGV4dHVyZSB8fCAnc3ByaXRlcy9sYXNlcmJlYW0uc3ByJyxcbiAgICAgICAgdGV4dHVyZVNjcm9sbDogcGFyc2VJbnQoZS5UZXh0dXJlU2Nyb2xsKSB8fCAzNSxcbiAgICAgICAgZnJhbWVSYXRlOiBwYXJzZUludChlLmZyYW1lcmF0ZSkgfHwgMCxcbiAgICAgICAgZnJhbWVTdGFydDogcGFyc2VJbnQoZS5mcmFtZXN0YXJ0KSB8fCAwLFxuICAgICAgICBzdHJpa2VUaW1lOiBwYXJzZUludChlLlN0cmlrZVRpbWUpIHx8IDEsXG4gICAgICAgIGRhbWFnZTogcGFyc2VJbnQoZS5kYW1hZ2UpIHx8IDEsXG4gICAgICAgIHNwYXduRmxhZ3M6IHBhcnNlSW50KGUuc3Bhd25mbGFncylcbiAgICB9KVxufTtcbmNsYXNzIEJzcEVudGl0eVBhcnNlciB7XG4gICAgc3RhdGljIHBhcnNlKGVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudGl0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gZW50aXRpZXNbaV07XG4gICAgICAgICAgICBpZiAoIWUuY2xhc3NuYW1lKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc25hbWU6ICchJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlcnNbZS5jbGFzc25hbWVdKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gocGFyc2Vyc1tlLmNsYXNzbmFtZV0oZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc25hbWU6ICc/JyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDbGFzc25hbWU6IGUuY2xhc3NuYW1lLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG59XG5leHBvcnRzLkJzcEVudGl0eVBhcnNlciA9IEJzcEVudGl0eVBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Parsers/BspEntityParser.ts\n");

/***/ }),

/***/ "./src/Parsers/BspLightmapParser.ts":
/*!******************************************!*\
  !*** ./src/Parsers/BspLightmapParser.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BspLightmapParser = void 0;\nclass BspLightmapParser {\n    static init(lightmap) {\n        return new BspLightmapParser(lightmap);\n    }\n    constructor(lightmap) {\n        this.block = new Uint16Array(BspLightmapParser.TEXTURE_SIZE);\n        this.lightmap = lightmap;\n        this.texture = new Uint8Array(BspLightmapParser.TEXTURE_SIZE * BspLightmapParser.TEXTURE_SIZE * 4);\n        this.texture[this.texture.length - 4] = 255;\n        this.texture[this.texture.length - 3] = 255;\n        this.texture[this.texture.length - 2] = 255;\n        this.texture[this.texture.length - 1] = 255;\n    }\n    getTexture() {\n        return this.texture;\n    }\n    processFace(faceData, texinfo, offset) {\n        const size = this.getDimensions(faceData);\n        const rect = this.readLightmap(offset, size.width, size.height);\n        if (rect) {\n            for (let i = 0; i < faceData.length / 7; ++i) {\n                let lu = faceData[i * 7] * texinfo.s[0] +\n                    faceData[i * 7 + 1] * texinfo.s[1] +\n                    faceData[i * 7 + 2] * texinfo.s[2] +\n                    texinfo.sShift -\n                    size.minU;\n                lu += rect.x * 16 + 8;\n                lu /= BspLightmapParser.TEXTURE_SIZE * 16;\n                let lv = faceData[i * 7] * texinfo.t[0] +\n                    faceData[i * 7 + 1] * texinfo.t[1] +\n                    faceData[i * 7 + 2] * texinfo.t[2] +\n                    texinfo.tShift -\n                    size.minV;\n                lv += rect.y * 16 + 8;\n                lv /= BspLightmapParser.TEXTURE_SIZE * 16;\n                faceData[i * 7 + 5] = lu;\n                faceData[i * 7 + 6] = lv;\n            }\n        }\n    }\n    getDimensions(faceData) {\n        let minU = Math.floor(faceData[3]);\n        let minV = Math.floor(faceData[4]);\n        let maxU = Math.floor(faceData[3]);\n        let maxV = Math.floor(faceData[4]);\n        for (let i = 1; i < faceData.length / 7; ++i) {\n            if (Math.floor(faceData[i * 7 + 3]) < minU) {\n                minU = Math.floor(faceData[i * 7 + 3]);\n            }\n            if (Math.floor(faceData[i * 7 + 4]) < minV) {\n                minV = Math.floor(faceData[i * 7 + 4]);\n            }\n            if (Math.floor(faceData[i * 7 + 3]) > maxU) {\n                maxU = Math.floor(faceData[i * 7 + 3]);\n            }\n            if (Math.floor(faceData[i * 7 + 4]) > maxV) {\n                maxV = Math.floor(faceData[i * 7 + 4]);\n            }\n        }\n        return {\n            width: Math.ceil(maxU / 16) - Math.floor(minU / 16) + 1,\n            height: Math.ceil(maxV / 16) - Math.floor(minV / 16) + 1,\n            minU: Math.floor(minU),\n            minV: Math.floor(minV)\n        };\n    }\n    readLightmap(offset, width, height) {\n        if (height <= 0 || width <= 0) {\n            return null;\n        }\n        const block = this.findFreeSpace(width, height);\n        if (block) {\n            const o = [block.x, block.y];\n            const s = [width, height];\n            const d = [BspLightmapParser.TEXTURE_SIZE, BspLightmapParser.TEXTURE_SIZE];\n            const count = width * height;\n            for (let i = 0; i < count; ++i) {\n                const p = o[1] * d[0] + o[0] + d[0] * Math.floor(i / s[0]) + (i % s[0]);\n                this.texture[p * 4] = Math.min(255, this.lightmap[offset + i * 3] * 2);\n                this.texture[p * 4 + 1] = Math.min(255, this.lightmap[offset + i * 3 + 1] * 2);\n                this.texture[p * 4 + 2] = Math.min(255, this.lightmap[offset + i * 3 + 2] * 2);\n                this.texture[p * 4 + 3] = 255;\n            }\n        }\n        return block;\n    }\n    findFreeSpace(w, h) {\n        let x = 0;\n        let y = 0;\n        let bestHeight = BspLightmapParser.TEXTURE_SIZE;\n        for (let i = 0; i < this.block.length - w; ++i) {\n            let tentativeHeight = 0;\n            let j;\n            for (j = 0; j < w; ++j) {\n                if (this.block[i + j] >= bestHeight) {\n                    break;\n                }\n                if (this.block[i + j] > tentativeHeight) {\n                    tentativeHeight = this.block[i + j];\n                }\n            }\n            if (j === w) {\n                x = i;\n                y = bestHeight = tentativeHeight;\n            }\n        }\n        if (bestHeight + h > BspLightmapParser.TEXTURE_SIZE) {\n            return null;\n        }\n        for (let i = 0; i < w; ++i) {\n            this.block[x + i] = bestHeight + h;\n        }\n        return { x, y };\n    }\n}\nexports.BspLightmapParser = BspLightmapParser;\nBspLightmapParser.TEXTURE_SIZE = 1024;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9Cc3BMaWdodG1hcFBhcnNlci50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5QkFBeUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsV0FBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BhcnNlcnMvQnNwTGlnaHRtYXBQYXJzZXIudHM/MjQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnNwTGlnaHRtYXBQYXJzZXIgPSB2b2lkIDA7XG5jbGFzcyBCc3BMaWdodG1hcFBhcnNlciB7XG4gICAgc3RhdGljIGluaXQobGlnaHRtYXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCc3BMaWdodG1hcFBhcnNlcihsaWdodG1hcCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGxpZ2h0bWFwKSB7XG4gICAgICAgIHRoaXMuYmxvY2sgPSBuZXcgVWludDE2QXJyYXkoQnNwTGlnaHRtYXBQYXJzZXIuVEVYVFVSRV9TSVpFKTtcbiAgICAgICAgdGhpcy5saWdodG1hcCA9IGxpZ2h0bWFwO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVWludDhBcnJheShCc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkUgKiBCc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkUgKiA0KTtcbiAgICAgICAgdGhpcy50ZXh0dXJlW3RoaXMudGV4dHVyZS5sZW5ndGggLSA0XSA9IDI1NTtcbiAgICAgICAgdGhpcy50ZXh0dXJlW3RoaXMudGV4dHVyZS5sZW5ndGggLSAzXSA9IDI1NTtcbiAgICAgICAgdGhpcy50ZXh0dXJlW3RoaXMudGV4dHVyZS5sZW5ndGggLSAyXSA9IDI1NTtcbiAgICAgICAgdGhpcy50ZXh0dXJlW3RoaXMudGV4dHVyZS5sZW5ndGggLSAxXSA9IDI1NTtcbiAgICB9XG4gICAgZ2V0VGV4dHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZTtcbiAgICB9XG4gICAgcHJvY2Vzc0ZhY2UoZmFjZURhdGEsIHRleGluZm8sIG9mZnNldCkge1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXREaW1lbnNpb25zKGZhY2VEYXRhKTtcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMucmVhZExpZ2h0bWFwKG9mZnNldCwgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWNlRGF0YS5sZW5ndGggLyA3OyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgbHUgPSBmYWNlRGF0YVtpICogN10gKiB0ZXhpbmZvLnNbMF0gK1xuICAgICAgICAgICAgICAgICAgICBmYWNlRGF0YVtpICogNyArIDFdICogdGV4aW5mby5zWzFdICtcbiAgICAgICAgICAgICAgICAgICAgZmFjZURhdGFbaSAqIDcgKyAyXSAqIHRleGluZm8uc1syXSArXG4gICAgICAgICAgICAgICAgICAgIHRleGluZm8uc1NoaWZ0IC1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZS5taW5VO1xuICAgICAgICAgICAgICAgIGx1ICs9IHJlY3QueCAqIDE2ICsgODtcbiAgICAgICAgICAgICAgICBsdSAvPSBCc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkUgKiAxNjtcbiAgICAgICAgICAgICAgICBsZXQgbHYgPSBmYWNlRGF0YVtpICogN10gKiB0ZXhpbmZvLnRbMF0gK1xuICAgICAgICAgICAgICAgICAgICBmYWNlRGF0YVtpICogNyArIDFdICogdGV4aW5mby50WzFdICtcbiAgICAgICAgICAgICAgICAgICAgZmFjZURhdGFbaSAqIDcgKyAyXSAqIHRleGluZm8udFsyXSArXG4gICAgICAgICAgICAgICAgICAgIHRleGluZm8udFNoaWZ0IC1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZS5taW5WO1xuICAgICAgICAgICAgICAgIGx2ICs9IHJlY3QueSAqIDE2ICsgODtcbiAgICAgICAgICAgICAgICBsdiAvPSBCc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkUgKiAxNjtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YVtpICogNyArIDVdID0gbHU7XG4gICAgICAgICAgICAgICAgZmFjZURhdGFbaSAqIDcgKyA2XSA9IGx2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldERpbWVuc2lvbnMoZmFjZURhdGEpIHtcbiAgICAgICAgbGV0IG1pblUgPSBNYXRoLmZsb29yKGZhY2VEYXRhWzNdKTtcbiAgICAgICAgbGV0IG1pblYgPSBNYXRoLmZsb29yKGZhY2VEYXRhWzRdKTtcbiAgICAgICAgbGV0IG1heFUgPSBNYXRoLmZsb29yKGZhY2VEYXRhWzNdKTtcbiAgICAgICAgbGV0IG1heFYgPSBNYXRoLmZsb29yKGZhY2VEYXRhWzRdKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmYWNlRGF0YS5sZW5ndGggLyA3OyArK2kpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKGZhY2VEYXRhW2kgKiA3ICsgM10pIDwgbWluVSkge1xuICAgICAgICAgICAgICAgIG1pblUgPSBNYXRoLmZsb29yKGZhY2VEYXRhW2kgKiA3ICsgM10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IoZmFjZURhdGFbaSAqIDcgKyA0XSkgPCBtaW5WKSB7XG4gICAgICAgICAgICAgICAgbWluViA9IE1hdGguZmxvb3IoZmFjZURhdGFbaSAqIDcgKyA0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihmYWNlRGF0YVtpICogNyArIDNdKSA+IG1heFUpIHtcbiAgICAgICAgICAgICAgICBtYXhVID0gTWF0aC5mbG9vcihmYWNlRGF0YVtpICogNyArIDNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKGZhY2VEYXRhW2kgKiA3ICsgNF0pID4gbWF4Vikge1xuICAgICAgICAgICAgICAgIG1heFYgPSBNYXRoLmZsb29yKGZhY2VEYXRhW2kgKiA3ICsgNF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogTWF0aC5jZWlsKG1heFUgLyAxNikgLSBNYXRoLmZsb29yKG1pblUgLyAxNikgKyAxLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLmNlaWwobWF4ViAvIDE2KSAtIE1hdGguZmxvb3IobWluViAvIDE2KSArIDEsXG4gICAgICAgICAgICBtaW5VOiBNYXRoLmZsb29yKG1pblUpLFxuICAgICAgICAgICAgbWluVjogTWF0aC5mbG9vcihtaW5WKVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZWFkTGlnaHRtYXAob2Zmc2V0LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmIChoZWlnaHQgPD0gMCB8fCB3aWR0aCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHRoaXMuZmluZEZyZWVTcGFjZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICBjb25zdCBvID0gW2Jsb2NrLngsIGJsb2NrLnldO1xuICAgICAgICAgICAgY29uc3QgcyA9IFt3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBbQnNwTGlnaHRtYXBQYXJzZXIuVEVYVFVSRV9TSVpFLCBCc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkVdO1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSB3aWR0aCAqIGhlaWdodDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBvWzFdICogZFswXSArIG9bMF0gKyBkWzBdICogTWF0aC5mbG9vcihpIC8gc1swXSkgKyAoaSAlIHNbMF0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVtwICogNF0gPSBNYXRoLm1pbigyNTUsIHRoaXMubGlnaHRtYXBbb2Zmc2V0ICsgaSAqIDNdICogMik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlW3AgKiA0ICsgMV0gPSBNYXRoLm1pbigyNTUsIHRoaXMubGlnaHRtYXBbb2Zmc2V0ICsgaSAqIDMgKyAxXSAqIDIpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVtwICogNCArIDJdID0gTWF0aC5taW4oMjU1LCB0aGlzLmxpZ2h0bWFwW29mZnNldCArIGkgKiAzICsgMl0gKiAyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVbcCAqIDQgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgfVxuICAgIGZpbmRGcmVlU3BhY2UodywgaCkge1xuICAgICAgICBsZXQgeCA9IDA7XG4gICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgbGV0IGJlc3RIZWlnaHQgPSBCc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ibG9jay5sZW5ndGggLSB3OyArK2kpIHtcbiAgICAgICAgICAgIGxldCB0ZW50YXRpdmVIZWlnaHQgPSAwO1xuICAgICAgICAgICAgbGV0IGo7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdzsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmxvY2tbaSArIGpdID49IGJlc3RIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJsb2NrW2kgKyBqXSA+IHRlbnRhdGl2ZUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW50YXRpdmVIZWlnaHQgPSB0aGlzLmJsb2NrW2kgKyBqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaiA9PT0gdykge1xuICAgICAgICAgICAgICAgIHggPSBpO1xuICAgICAgICAgICAgICAgIHkgPSBiZXN0SGVpZ2h0ID0gdGVudGF0aXZlSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChiZXN0SGVpZ2h0ICsgaCA+IEJzcExpZ2h0bWFwUGFyc2VyLlRFWFRVUkVfU0laRSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuYmxvY2tbeCArIGldID0gYmVzdEhlaWdodCArIGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH1cbn1cbmV4cG9ydHMuQnNwTGlnaHRtYXBQYXJzZXIgPSBCc3BMaWdodG1hcFBhcnNlcjtcbkJzcExpZ2h0bWFwUGFyc2VyLlRFWFRVUkVfU0laRSA9IDEwMjQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Parsers/BspLightmapParser.ts\n");

/***/ }),

/***/ "./src/Parsers/BspParser.ts":
/*!**********************************!*\
  !*** ./src/Parsers/BspParser.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BspParser = exports.BspLumpIndex = void 0;\nexports.parseModels = parseModels;\nconst Util_1 = __webpack_require__(/*! ../Util */ \"./src/Util.ts\");\nconst Vdf_1 = __webpack_require__(/*! ../Parsers/Vdf */ \"./src/Parsers/Vdf.ts\");\nconst Bsp_1 = __webpack_require__(/*! ../Bsp */ \"./src/Bsp.ts\");\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nconst BspLightmapParser_1 = __webpack_require__(/*! ../Parsers/BspLightmapParser */ \"./src/Parsers/BspLightmapParser.ts\");\nconst Util_2 = __webpack_require__(/*! ./Util */ \"./src/Parsers/Util.ts\");\nfunction parseModels(models, faces, edges, surfEdges, vertices, texinfo, textures, lightmap) {\n    const parsedModels = [];\n    for (let i = 0; i < models.length; ++i) {\n        const model = models[i];\n        const _faces = [];\n        const v0 = new Float32Array(3);\n        const v1 = new Float32Array(3);\n        const v2 = new Float32Array(3);\n        const uv0 = new Float32Array(2);\n        const uv1 = new Float32Array(2);\n        const uv2 = new Float32Array(2);\n        const luv0 = new Float32Array(2);\n        const luv1 = new Float32Array(2);\n        const luv2 = new Float32Array(2);\n        let origin = i === 0\n            ? [0, 0, 0]\n            : [0, 0, 0].map((_, i) => (model.maxs[i] - model.mins[i]) / 2 + model.mins[i]);\n        for (let i = model.firstFace; i < model.firstFace + model.faceCount; ++i) {\n            const faceData = {\n                buffer: new Float32Array((faces[i].edgeCount - 2) * 21),\n                textureIndex: -1\n            };\n            const faceTexInfo = texinfo[faces[i].textureInfo];\n            const faceTexture = textures[faceTexInfo.textureIndex];\n            const faceSurfEdges = surfEdges.slice(faces[i].firstEdge, faces[i].firstEdge + faces[i].edgeCount);\n            const v0idx = edges[Math.abs(faceSurfEdges[0])][faceSurfEdges[0] > 0 ? 0 : 1];\n            v0[0] = vertices[v0idx][0];\n            v0[1] = vertices[v0idx][1];\n            v0[2] = vertices[v0idx][2];\n            uv0[0] =\n                v0[0] * faceTexInfo.s[0] +\n                    v0[1] * faceTexInfo.s[1] +\n                    v0[2] * faceTexInfo.s[2] +\n                    faceTexInfo.sShift;\n            uv0[1] =\n                v0[0] * faceTexInfo.t[0] +\n                    v0[1] * faceTexInfo.t[1] +\n                    v0[2] * faceTexInfo.t[2] +\n                    faceTexInfo.tShift;\n            luv0[0] = 0;\n            luv0[1] = 0;\n            const v1idx = edges[Math.abs(faceSurfEdges[1])][faceSurfEdges[1] > 0 ? 0 : 1];\n            v1[0] = vertices[v1idx][0];\n            v1[1] = vertices[v1idx][1];\n            v1[2] = vertices[v1idx][2];\n            uv1[0] =\n                v1[0] * faceTexInfo.s[0] +\n                    v1[1] * faceTexInfo.s[1] +\n                    v1[2] * faceTexInfo.s[2] +\n                    faceTexInfo.sShift;\n            uv1[1] =\n                v1[0] * faceTexInfo.t[0] +\n                    v1[1] * faceTexInfo.t[1] +\n                    v1[2] * faceTexInfo.t[2] +\n                    faceTexInfo.tShift;\n            luv1[0] = 0;\n            luv1[1] = 0.999;\n            let compIndex = 0;\n            for (let j = 2; j < faces[i].edgeCount; ++j) {\n                const v2idx = edges[Math.abs(faceSurfEdges[j])][faceSurfEdges[j] > 0 ? 0 : 1];\n                v2[0] = vertices[v2idx][0];\n                v2[1] = vertices[v2idx][1];\n                v2[2] = vertices[v2idx][2];\n                uv2[0] =\n                    v2[0] * faceTexInfo.s[0] +\n                        v2[1] * faceTexInfo.s[1] +\n                        v2[2] * faceTexInfo.s[2] +\n                        faceTexInfo.sShift;\n                uv2[1] =\n                    v2[0] * faceTexInfo.t[0] +\n                        v2[1] * faceTexInfo.t[1] +\n                        v2[2] * faceTexInfo.t[2] +\n                        faceTexInfo.tShift;\n                luv2[0] = 0.999;\n                luv2[1] = 0.999;\n                faceData.buffer[compIndex++] = v0[0];\n                faceData.buffer[compIndex++] = v0[1];\n                faceData.buffer[compIndex++] = v0[2];\n                faceData.buffer[compIndex++] = uv0[0];\n                faceData.buffer[compIndex++] = uv0[1];\n                faceData.buffer[compIndex++] = luv0[0];\n                faceData.buffer[compIndex++] = luv0[1];\n                faceData.buffer[compIndex++] = v1[0];\n                faceData.buffer[compIndex++] = v1[1];\n                faceData.buffer[compIndex++] = v1[2];\n                faceData.buffer[compIndex++] = uv1[0];\n                faceData.buffer[compIndex++] = uv1[1];\n                faceData.buffer[compIndex++] = luv1[0];\n                faceData.buffer[compIndex++] = luv1[1];\n                faceData.buffer[compIndex++] = v2[0];\n                faceData.buffer[compIndex++] = v2[1];\n                faceData.buffer[compIndex++] = v2[2];\n                faceData.buffer[compIndex++] = uv2[0];\n                faceData.buffer[compIndex++] = uv2[1];\n                faceData.buffer[compIndex++] = luv2[0];\n                faceData.buffer[compIndex++] = luv2[1];\n                v1[0] = v2[0];\n                v1[1] = v2[1];\n                v1[2] = v2[2];\n                uv1[0] = uv2[0];\n                uv1[1] = uv2[1];\n                luv1[0] = luv2[0];\n                luv1[1] = luv2[1];\n            }\n            if (faceTexInfo.flags === 0 || faceTexInfo.flags === -65536) {\n                lightmap.processFace(faceData.buffer, faceTexInfo, faces[i].lightmapOffset);\n            }\n            faceData.textureIndex = faceTexInfo.textureIndex;\n            for (let j = 0; j < faceData.buffer.length / 7; ++j) {\n                faceData.buffer[j * 7] -= origin[0];\n                faceData.buffer[j * 7 + 1] -= origin[1];\n                faceData.buffer[j * 7 + 2] -= origin[2];\n                faceData.buffer[j * 7 + 3] /= faceTexture.width;\n                faceData.buffer[j * 7 + 4] /= faceTexture.height;\n            }\n            _faces.push(faceData);\n        }\n        parsedModels.push({\n            origin,\n            faces: _faces\n        });\n    }\n    return parsedModels;\n}\nvar BspLumpIndex;\n(function (BspLumpIndex) {\n    BspLumpIndex[BspLumpIndex[\"Entities\"] = 0] = \"Entities\";\n    BspLumpIndex[BspLumpIndex[\"Planes\"] = 1] = \"Planes\";\n    BspLumpIndex[BspLumpIndex[\"Textures\"] = 2] = \"Textures\";\n    BspLumpIndex[BspLumpIndex[\"Vertices\"] = 3] = \"Vertices\";\n    BspLumpIndex[BspLumpIndex[\"Visibility\"] = 4] = \"Visibility\";\n    BspLumpIndex[BspLumpIndex[\"Nodes\"] = 5] = \"Nodes\";\n    BspLumpIndex[BspLumpIndex[\"TexInfo\"] = 6] = \"TexInfo\";\n    BspLumpIndex[BspLumpIndex[\"Faces\"] = 7] = \"Faces\";\n    BspLumpIndex[BspLumpIndex[\"Lighting\"] = 8] = \"Lighting\";\n    BspLumpIndex[BspLumpIndex[\"ClipNodes\"] = 9] = \"ClipNodes\";\n    BspLumpIndex[BspLumpIndex[\"Leaves\"] = 10] = \"Leaves\";\n    BspLumpIndex[BspLumpIndex[\"MarkSurfaces\"] = 11] = \"MarkSurfaces\";\n    BspLumpIndex[BspLumpIndex[\"Edges\"] = 12] = \"Edges\";\n    BspLumpIndex[BspLumpIndex[\"SurfEdges\"] = 13] = \"SurfEdges\";\n    BspLumpIndex[BspLumpIndex[\"Models\"] = 14] = \"Models\";\n})(BspLumpIndex || (exports.BspLumpIndex = BspLumpIndex = {}));\nclass BspParser {\n    static parse(name, buffer) {\n        const r = new Reader_1.Reader(buffer);\n        const version = r.ui();\n        if (version !== 30) {\n            throw new Error('Invalid map version');\n        }\n        const lumps = [];\n        for (let i = 0; i < 15; ++i) {\n            lumps.push({\n                offset: r.ui(),\n                length: r.ui()\n            });\n        }\n        const entities = this.loadEntities(r, lumps[BspLumpIndex.Entities].offset, lumps[BspLumpIndex.Entities].length);\n        const textures = this.loadTextures(r, lumps[BspLumpIndex.Textures].offset);\n        const models = this.loadModels(r, lumps[BspLumpIndex.Models].offset, lumps[BspLumpIndex.Models].length);\n        const faces = this.loadFaces(r, lumps[BspLumpIndex.Faces].offset, lumps[BspLumpIndex.Faces].length);\n        const edges = this.loadEdges(r, lumps[BspLumpIndex.Edges].offset, lumps[BspLumpIndex.Edges].length);\n        const surfEdges = this.loadSurfEdges(r, lumps[BspLumpIndex.SurfEdges].offset, lumps[BspLumpIndex.SurfEdges].length);\n        const vertices = this.loadVertices(r, lumps[BspLumpIndex.Vertices].offset, lumps[BspLumpIndex.Vertices].length);\n        const texinfo = this.loadTexInfo(r, lumps[BspLumpIndex.TexInfo].offset, lumps[BspLumpIndex.TexInfo].length);\n        const lightmap = this.loadLightmap(r, lumps[BspLumpIndex.Lighting].offset, lumps[BspLumpIndex.Lighting].length);\n        const parsedLightmap = BspLightmapParser_1.BspLightmapParser.init(lightmap);\n        const parsedModels = parseModels(models, faces, edges, surfEdges, vertices, texinfo, textures, parsedLightmap);\n        return new Bsp_1.Bsp(name, entities, textures, parsedModels, {\n            width: BspLightmapParser_1.BspLightmapParser.TEXTURE_SIZE,\n            height: BspLightmapParser_1.BspLightmapParser.TEXTURE_SIZE,\n            data: parsedLightmap.getTexture()\n        });\n    }\n    static loadFaces(r, offset, length) {\n        r.seek(offset);\n        const faces = [];\n        for (let i = 0; i < length / 20; ++i) {\n            faces.push({\n                plane: r.us(),\n                planeSide: r.us(),\n                firstEdge: r.ui(),\n                edgeCount: r.us(),\n                textureInfo: r.us(),\n                styles: [r.ub(), r.ub(), r.ub(), r.ub()],\n                lightmapOffset: r.ui()\n            });\n        }\n        return faces;\n    }\n    static loadModels(r, offset, length) {\n        r.seek(offset);\n        const models = [];\n        for (let i = 0; i < length / 64; ++i) {\n            models.push({\n                mins: [r.f(), r.f(), r.f()],\n                maxs: [r.f(), r.f(), r.f()],\n                origin: [r.f(), r.f(), r.f()],\n                headNodes: [r.i(), r.i(), r.i(), r.i()],\n                visLeaves: r.i(),\n                firstFace: r.i(),\n                faceCount: r.i()\n            });\n        }\n        return models;\n    }\n    static loadEdges(r, offset, length) {\n        r.seek(offset);\n        const edges = [];\n        for (let i = 0; i < length / 4; ++i) {\n            edges.push([r.us(), r.us()]);\n        }\n        return edges;\n    }\n    static loadSurfEdges(r, offset, length) {\n        r.seek(offset);\n        const surfEdges = [];\n        for (let i = 0; i < length / 4; ++i) {\n            surfEdges.push(r.i());\n        }\n        return surfEdges;\n    }\n    static loadVertices(r, offset, length) {\n        r.seek(offset);\n        const vertices = [];\n        for (let i = 0; i < length / 12; ++i) {\n            vertices.push([r.f(), r.f(), r.f()]);\n        }\n        return vertices;\n    }\n    static loadTexInfo(r, offset, length) {\n        r.seek(offset);\n        const texinfo = [];\n        for (let i = 0; i < length / 40; ++i) {\n            texinfo.push({\n                s: [r.f(), r.f(), r.f()],\n                sShift: r.f(),\n                t: [r.f(), r.f(), r.f()],\n                tShift: r.f(),\n                textureIndex: r.i(),\n                flags: r.i()\n            });\n        }\n        return texinfo;\n    }\n    static loadLightmap(r, offset, length) {\n        r.seek(offset);\n        return r.arrx(length, Reader_1.ReaderDataType.UByte);\n    }\n    static loadTextureData(r) {\n        const name = r.nstr(16);\n        const width = r.ui();\n        const height = r.ui();\n        const isExternal = !r.ui();\n        if (isExternal) {\n            const data = new Uint8Array(4);\n            data[0] = data[1] = data[2] = data[3] = 255;\n            return { name, width, height, data, isExternal };\n        }\n        else {\n            r.skip(3 * 4);\n            const pixelCount = width * height;\n            const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n            r.skip(21 * (pixelCount / 64));\n            r.skip(2);\n            const palette = r.arrx(768, Reader_1.ReaderDataType.UByte);\n            const data = name[0] === '{'\n                ? (0, Util_2.paletteWithLastTransToRGBA)(pixels, palette)\n                : (0, Util_2.paletteToRGBA)(pixels, palette);\n            return { name, width, height, data, isExternal };\n        }\n    }\n    static loadTextures(r, offset) {\n        r.seek(offset);\n        const count = r.ui();\n        const offsets = [];\n        for (let i = 0; i < count; ++i) {\n            offsets.push(r.ui());\n        }\n        const textures = [];\n        for (let i = 0; i < count; ++i) {\n            if (offsets[i] === 0xffffffff) {\n                textures.push({\n                    name: 'ERROR404',\n                    width: 1,\n                    height: 1,\n                    data: new Uint8Array([0, 255, 0, 255]),\n                    isExternal: false\n                });\n            }\n            else {\n                r.seek(offset + offsets[i]);\n                textures.push(this.loadTextureData(r));\n            }\n        }\n        return textures;\n    }\n    static loadEntities(r, offset, length) {\n        r.seek(offset);\n        const entities = (0, Vdf_1.vdf)(r.nstr(length));\n        const VECTOR_ATTRS = [\n            'origin',\n            'angles',\n            '_diffuse_light',\n            '_light',\n            'rendercolor',\n            'avelocity'\n        ];\n        const NUMBER_ATTRS = ['renderamt', 'rendermode', 'scale'];\n        const worldSpawn = entities[0];\n        if (worldSpawn.classname === 'worldspawn') {\n            worldSpawn.model = '*0';\n            worldSpawn.wad = worldSpawn.wad || '';\n            worldSpawn.wad = worldSpawn.wad\n                .split(';')\n                .filter((w) => w.length)\n                .map((w) => w.replace(/\\\\/g, '/'))\n                .map((w) => (0, Util_1.basename)(w));\n        }\n        entities.forEach(e => {\n            if (e.model) {\n                if (typeof e.renderamt === 'undefined') {\n                    e.renderamt = 0;\n                }\n                if (typeof e.rendermode === 'undefined') {\n                    e.rendermode = 0;\n                }\n                if (typeof e.renderfx === 'undefined') {\n                    e.renderfx = 0;\n                }\n                if (typeof e.rendercolor === 'undefined') {\n                    e.rendercolor = '0 0 0';\n                }\n            }\n            VECTOR_ATTRS.forEach(attr => {\n                if (e[attr]) {\n                    e[attr] = e[attr].split(' ').map((v) => Number.parseFloat(v));\n                }\n            });\n            NUMBER_ATTRS.forEach(attr => {\n                if (e[attr]) {\n                    e[attr] = Number.parseFloat(e[attr]);\n                }\n            });\n        });\n        return entities;\n    }\n}\nexports.BspParser = BspParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BhcnNlcnMvQnNwUGFyc2VyLnRzPzIzYTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJzcFBhcnNlciA9IGV4cG9ydHMuQnNwTHVtcEluZGV4ID0gdm9pZCAwO1xuZXhwb3J0cy5wYXJzZU1vZGVscyA9IHBhcnNlTW9kZWxzO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4uL1V0aWxcIik7XG5jb25zdCBWZGZfMSA9IHJlcXVpcmUoXCIuLi9QYXJzZXJzL1ZkZlwiKTtcbmNvbnN0IEJzcF8xID0gcmVxdWlyZShcIi4uL0JzcFwiKTtcbmNvbnN0IFJlYWRlcl8xID0gcmVxdWlyZShcIi4uL1JlYWRlclwiKTtcbmNvbnN0IEJzcExpZ2h0bWFwUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vUGFyc2Vycy9Cc3BMaWdodG1hcFBhcnNlclwiKTtcbmNvbnN0IFV0aWxfMiA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5mdW5jdGlvbiBwYXJzZU1vZGVscyhtb2RlbHMsIGZhY2VzLCBlZGdlcywgc3VyZkVkZ2VzLCB2ZXJ0aWNlcywgdGV4aW5mbywgdGV4dHVyZXMsIGxpZ2h0bWFwKSB7XG4gICAgY29uc3QgcGFyc2VkTW9kZWxzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RlbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBtb2RlbHNbaV07XG4gICAgICAgIGNvbnN0IF9mYWNlcyA9IFtdO1xuICAgICAgICBjb25zdCB2MCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIGNvbnN0IHYxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgY29uc3QgdjIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICBjb25zdCB1djAgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICBjb25zdCB1djEgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICBjb25zdCB1djIgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICBjb25zdCBsdXYwID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgY29uc3QgbHV2MSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIGNvbnN0IGx1djIgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICBsZXQgb3JpZ2luID0gaSA9PT0gMFxuICAgICAgICAgICAgPyBbMCwgMCwgMF1cbiAgICAgICAgICAgIDogWzAsIDAsIDBdLm1hcCgoXywgaSkgPT4gKG1vZGVsLm1heHNbaV0gLSBtb2RlbC5taW5zW2ldKSAvIDIgKyBtb2RlbC5taW5zW2ldKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IG1vZGVsLmZpcnN0RmFjZTsgaSA8IG1vZGVsLmZpcnN0RmFjZSArIG1vZGVsLmZhY2VDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBmYWNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkoKGZhY2VzW2ldLmVkZ2VDb3VudCAtIDIpICogMjEpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVJbmRleDogLTFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBmYWNlVGV4SW5mbyA9IHRleGluZm9bZmFjZXNbaV0udGV4dHVyZUluZm9dO1xuICAgICAgICAgICAgY29uc3QgZmFjZVRleHR1cmUgPSB0ZXh0dXJlc1tmYWNlVGV4SW5mby50ZXh0dXJlSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZmFjZVN1cmZFZGdlcyA9IHN1cmZFZGdlcy5zbGljZShmYWNlc1tpXS5maXJzdEVkZ2UsIGZhY2VzW2ldLmZpcnN0RWRnZSArIGZhY2VzW2ldLmVkZ2VDb3VudCk7XG4gICAgICAgICAgICBjb25zdCB2MGlkeCA9IGVkZ2VzW01hdGguYWJzKGZhY2VTdXJmRWRnZXNbMF0pXVtmYWNlU3VyZkVkZ2VzWzBdID4gMCA/IDAgOiAxXTtcbiAgICAgICAgICAgIHYwWzBdID0gdmVydGljZXNbdjBpZHhdWzBdO1xuICAgICAgICAgICAgdjBbMV0gPSB2ZXJ0aWNlc1t2MGlkeF1bMV07XG4gICAgICAgICAgICB2MFsyXSA9IHZlcnRpY2VzW3YwaWR4XVsyXTtcbiAgICAgICAgICAgIHV2MFswXSA9XG4gICAgICAgICAgICAgICAgdjBbMF0gKiBmYWNlVGV4SW5mby5zWzBdICtcbiAgICAgICAgICAgICAgICAgICAgdjBbMV0gKiBmYWNlVGV4SW5mby5zWzFdICtcbiAgICAgICAgICAgICAgICAgICAgdjBbMl0gKiBmYWNlVGV4SW5mby5zWzJdICtcbiAgICAgICAgICAgICAgICAgICAgZmFjZVRleEluZm8uc1NoaWZ0O1xuICAgICAgICAgICAgdXYwWzFdID1cbiAgICAgICAgICAgICAgICB2MFswXSAqIGZhY2VUZXhJbmZvLnRbMF0gK1xuICAgICAgICAgICAgICAgICAgICB2MFsxXSAqIGZhY2VUZXhJbmZvLnRbMV0gK1xuICAgICAgICAgICAgICAgICAgICB2MFsyXSAqIGZhY2VUZXhJbmZvLnRbMl0gK1xuICAgICAgICAgICAgICAgICAgICBmYWNlVGV4SW5mby50U2hpZnQ7XG4gICAgICAgICAgICBsdXYwWzBdID0gMDtcbiAgICAgICAgICAgIGx1djBbMV0gPSAwO1xuICAgICAgICAgICAgY29uc3QgdjFpZHggPSBlZGdlc1tNYXRoLmFicyhmYWNlU3VyZkVkZ2VzWzFdKV1bZmFjZVN1cmZFZGdlc1sxXSA+IDAgPyAwIDogMV07XG4gICAgICAgICAgICB2MVswXSA9IHZlcnRpY2VzW3YxaWR4XVswXTtcbiAgICAgICAgICAgIHYxWzFdID0gdmVydGljZXNbdjFpZHhdWzFdO1xuICAgICAgICAgICAgdjFbMl0gPSB2ZXJ0aWNlc1t2MWlkeF1bMl07XG4gICAgICAgICAgICB1djFbMF0gPVxuICAgICAgICAgICAgICAgIHYxWzBdICogZmFjZVRleEluZm8uc1swXSArXG4gICAgICAgICAgICAgICAgICAgIHYxWzFdICogZmFjZVRleEluZm8uc1sxXSArXG4gICAgICAgICAgICAgICAgICAgIHYxWzJdICogZmFjZVRleEluZm8uc1syXSArXG4gICAgICAgICAgICAgICAgICAgIGZhY2VUZXhJbmZvLnNTaGlmdDtcbiAgICAgICAgICAgIHV2MVsxXSA9XG4gICAgICAgICAgICAgICAgdjFbMF0gKiBmYWNlVGV4SW5mby50WzBdICtcbiAgICAgICAgICAgICAgICAgICAgdjFbMV0gKiBmYWNlVGV4SW5mby50WzFdICtcbiAgICAgICAgICAgICAgICAgICAgdjFbMl0gKiBmYWNlVGV4SW5mby50WzJdICtcbiAgICAgICAgICAgICAgICAgICAgZmFjZVRleEluZm8udFNoaWZ0O1xuICAgICAgICAgICAgbHV2MVswXSA9IDA7XG4gICAgICAgICAgICBsdXYxWzFdID0gMC45OTk7XG4gICAgICAgICAgICBsZXQgY29tcEluZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAyOyBqIDwgZmFjZXNbaV0uZWRnZUNvdW50OyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2MmlkeCA9IGVkZ2VzW01hdGguYWJzKGZhY2VTdXJmRWRnZXNbal0pXVtmYWNlU3VyZkVkZ2VzW2pdID4gMCA/IDAgOiAxXTtcbiAgICAgICAgICAgICAgICB2MlswXSA9IHZlcnRpY2VzW3YyaWR4XVswXTtcbiAgICAgICAgICAgICAgICB2MlsxXSA9IHZlcnRpY2VzW3YyaWR4XVsxXTtcbiAgICAgICAgICAgICAgICB2MlsyXSA9IHZlcnRpY2VzW3YyaWR4XVsyXTtcbiAgICAgICAgICAgICAgICB1djJbMF0gPVxuICAgICAgICAgICAgICAgICAgICB2MlswXSAqIGZhY2VUZXhJbmZvLnNbMF0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgdjJbMV0gKiBmYWNlVGV4SW5mby5zWzFdICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYyWzJdICogZmFjZVRleEluZm8uc1syXSArXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNlVGV4SW5mby5zU2hpZnQ7XG4gICAgICAgICAgICAgICAgdXYyWzFdID1cbiAgICAgICAgICAgICAgICAgICAgdjJbMF0gKiBmYWNlVGV4SW5mby50WzBdICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYyWzFdICogZmFjZVRleEluZm8udFsxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICB2MlsyXSAqIGZhY2VUZXhJbmZvLnRbMl0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjZVRleEluZm8udFNoaWZ0O1xuICAgICAgICAgICAgICAgIGx1djJbMF0gPSAwLjk5OTtcbiAgICAgICAgICAgICAgICBsdXYyWzFdID0gMC45OTk7XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IHYwWzBdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSB2MFsxXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gdjBbMl07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IHV2MFswXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gdXYwWzFdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSBsdXYwWzBdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSBsdXYwWzFdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSB2MVswXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gdjFbMV07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IHYxWzJdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSB1djFbMF07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IHV2MVsxXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gbHV2MVswXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gbHV2MVsxXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gdjJbMF07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IHYyWzFdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSB2MlsyXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbY29tcEluZGV4KytdID0gdXYyWzBdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltjb21wSW5kZXgrK10gPSB1djJbMV07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IGx1djJbMF07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2NvbXBJbmRleCsrXSA9IGx1djJbMV07XG4gICAgICAgICAgICAgICAgdjFbMF0gPSB2MlswXTtcbiAgICAgICAgICAgICAgICB2MVsxXSA9IHYyWzFdO1xuICAgICAgICAgICAgICAgIHYxWzJdID0gdjJbMl07XG4gICAgICAgICAgICAgICAgdXYxWzBdID0gdXYyWzBdO1xuICAgICAgICAgICAgICAgIHV2MVsxXSA9IHV2MlsxXTtcbiAgICAgICAgICAgICAgICBsdXYxWzBdID0gbHV2MlswXTtcbiAgICAgICAgICAgICAgICBsdXYxWzFdID0gbHV2MlsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmYWNlVGV4SW5mby5mbGFncyA9PT0gMCB8fCBmYWNlVGV4SW5mby5mbGFncyA9PT0gLTY1NTM2KSB7XG4gICAgICAgICAgICAgICAgbGlnaHRtYXAucHJvY2Vzc0ZhY2UoZmFjZURhdGEuYnVmZmVyLCBmYWNlVGV4SW5mbywgZmFjZXNbaV0ubGlnaHRtYXBPZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmFjZURhdGEudGV4dHVyZUluZGV4ID0gZmFjZVRleEluZm8udGV4dHVyZUluZGV4O1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmYWNlRGF0YS5idWZmZXIubGVuZ3RoIC8gNzsgKytqKSB7XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2ogKiA3XSAtPSBvcmlnaW5bMF07XG4gICAgICAgICAgICAgICAgZmFjZURhdGEuYnVmZmVyW2ogKiA3ICsgMV0gLT0gb3JpZ2luWzFdO1xuICAgICAgICAgICAgICAgIGZhY2VEYXRhLmJ1ZmZlcltqICogNyArIDJdIC09IG9yaWdpblsyXTtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbaiAqIDcgKyAzXSAvPSBmYWNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICBmYWNlRGF0YS5idWZmZXJbaiAqIDcgKyA0XSAvPSBmYWNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZmFjZXMucHVzaChmYWNlRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkTW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgZmFjZXM6IF9mYWNlc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZE1vZGVscztcbn1cbnZhciBCc3BMdW1wSW5kZXg7XG4oZnVuY3Rpb24gKEJzcEx1bXBJbmRleCkge1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJFbnRpdGllc1wiXSA9IDBdID0gXCJFbnRpdGllc1wiO1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJQbGFuZXNcIl0gPSAxXSA9IFwiUGxhbmVzXCI7XG4gICAgQnNwTHVtcEluZGV4W0JzcEx1bXBJbmRleFtcIlRleHR1cmVzXCJdID0gMl0gPSBcIlRleHR1cmVzXCI7XG4gICAgQnNwTHVtcEluZGV4W0JzcEx1bXBJbmRleFtcIlZlcnRpY2VzXCJdID0gM10gPSBcIlZlcnRpY2VzXCI7XG4gICAgQnNwTHVtcEluZGV4W0JzcEx1bXBJbmRleFtcIlZpc2liaWxpdHlcIl0gPSA0XSA9IFwiVmlzaWJpbGl0eVwiO1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJOb2Rlc1wiXSA9IDVdID0gXCJOb2Rlc1wiO1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJUZXhJbmZvXCJdID0gNl0gPSBcIlRleEluZm9cIjtcbiAgICBCc3BMdW1wSW5kZXhbQnNwTHVtcEluZGV4W1wiRmFjZXNcIl0gPSA3XSA9IFwiRmFjZXNcIjtcbiAgICBCc3BMdW1wSW5kZXhbQnNwTHVtcEluZGV4W1wiTGlnaHRpbmdcIl0gPSA4XSA9IFwiTGlnaHRpbmdcIjtcbiAgICBCc3BMdW1wSW5kZXhbQnNwTHVtcEluZGV4W1wiQ2xpcE5vZGVzXCJdID0gOV0gPSBcIkNsaXBOb2Rlc1wiO1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJMZWF2ZXNcIl0gPSAxMF0gPSBcIkxlYXZlc1wiO1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJNYXJrU3VyZmFjZXNcIl0gPSAxMV0gPSBcIk1hcmtTdXJmYWNlc1wiO1xuICAgIEJzcEx1bXBJbmRleFtCc3BMdW1wSW5kZXhbXCJFZGdlc1wiXSA9IDEyXSA9IFwiRWRnZXNcIjtcbiAgICBCc3BMdW1wSW5kZXhbQnNwTHVtcEluZGV4W1wiU3VyZkVkZ2VzXCJdID0gMTNdID0gXCJTdXJmRWRnZXNcIjtcbiAgICBCc3BMdW1wSW5kZXhbQnNwTHVtcEluZGV4W1wiTW9kZWxzXCJdID0gMTRdID0gXCJNb2RlbHNcIjtcbn0pKEJzcEx1bXBJbmRleCB8fCAoZXhwb3J0cy5Cc3BMdW1wSW5kZXggPSBCc3BMdW1wSW5kZXggPSB7fSkpO1xuY2xhc3MgQnNwUGFyc2VyIHtcbiAgICBzdGF0aWMgcGFyc2UobmFtZSwgYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgUmVhZGVyXzEuUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSByLnVpKCk7XG4gICAgICAgIGlmICh2ZXJzaW9uICE9PSAzMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hcCB2ZXJzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbHVtcHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTsgKytpKSB7XG4gICAgICAgICAgICBsdW1wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHIudWkoKSxcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHIudWkoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmxvYWRFbnRpdGllcyhyLCBsdW1wc1tCc3BMdW1wSW5kZXguRW50aXRpZXNdLm9mZnNldCwgbHVtcHNbQnNwTHVtcEluZGV4LkVudGl0aWVzXS5sZW5ndGgpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMubG9hZFRleHR1cmVzKHIsIGx1bXBzW0JzcEx1bXBJbmRleC5UZXh0dXJlc10ub2Zmc2V0KTtcbiAgICAgICAgY29uc3QgbW9kZWxzID0gdGhpcy5sb2FkTW9kZWxzKHIsIGx1bXBzW0JzcEx1bXBJbmRleC5Nb2RlbHNdLm9mZnNldCwgbHVtcHNbQnNwTHVtcEluZGV4Lk1vZGVsc10ubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgZmFjZXMgPSB0aGlzLmxvYWRGYWNlcyhyLCBsdW1wc1tCc3BMdW1wSW5kZXguRmFjZXNdLm9mZnNldCwgbHVtcHNbQnNwTHVtcEluZGV4LkZhY2VzXS5sZW5ndGgpO1xuICAgICAgICBjb25zdCBlZGdlcyA9IHRoaXMubG9hZEVkZ2VzKHIsIGx1bXBzW0JzcEx1bXBJbmRleC5FZGdlc10ub2Zmc2V0LCBsdW1wc1tCc3BMdW1wSW5kZXguRWRnZXNdLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHN1cmZFZGdlcyA9IHRoaXMubG9hZFN1cmZFZGdlcyhyLCBsdW1wc1tCc3BMdW1wSW5kZXguU3VyZkVkZ2VzXS5vZmZzZXQsIGx1bXBzW0JzcEx1bXBJbmRleC5TdXJmRWRnZXNdLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy5sb2FkVmVydGljZXMociwgbHVtcHNbQnNwTHVtcEluZGV4LlZlcnRpY2VzXS5vZmZzZXQsIGx1bXBzW0JzcEx1bXBJbmRleC5WZXJ0aWNlc10ubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdGV4aW5mbyA9IHRoaXMubG9hZFRleEluZm8ociwgbHVtcHNbQnNwTHVtcEluZGV4LlRleEluZm9dLm9mZnNldCwgbHVtcHNbQnNwTHVtcEluZGV4LlRleEluZm9dLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGxpZ2h0bWFwID0gdGhpcy5sb2FkTGlnaHRtYXAociwgbHVtcHNbQnNwTHVtcEluZGV4LkxpZ2h0aW5nXS5vZmZzZXQsIGx1bXBzW0JzcEx1bXBJbmRleC5MaWdodGluZ10ubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgcGFyc2VkTGlnaHRtYXAgPSBCc3BMaWdodG1hcFBhcnNlcl8xLkJzcExpZ2h0bWFwUGFyc2VyLmluaXQobGlnaHRtYXApO1xuICAgICAgICBjb25zdCBwYXJzZWRNb2RlbHMgPSBwYXJzZU1vZGVscyhtb2RlbHMsIGZhY2VzLCBlZGdlcywgc3VyZkVkZ2VzLCB2ZXJ0aWNlcywgdGV4aW5mbywgdGV4dHVyZXMsIHBhcnNlZExpZ2h0bWFwKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCc3BfMS5Cc3AobmFtZSwgZW50aXRpZXMsIHRleHR1cmVzLCBwYXJzZWRNb2RlbHMsIHtcbiAgICAgICAgICAgIHdpZHRoOiBCc3BMaWdodG1hcFBhcnNlcl8xLkJzcExpZ2h0bWFwUGFyc2VyLlRFWFRVUkVfU0laRSxcbiAgICAgICAgICAgIGhlaWdodDogQnNwTGlnaHRtYXBQYXJzZXJfMS5Cc3BMaWdodG1hcFBhcnNlci5URVhUVVJFX1NJWkUsXG4gICAgICAgICAgICBkYXRhOiBwYXJzZWRMaWdodG1hcC5nZXRUZXh0dXJlKClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBsb2FkRmFjZXMociwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgci5zZWVrKG9mZnNldCk7XG4gICAgICAgIGNvbnN0IGZhY2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoIC8gMjA7ICsraSkge1xuICAgICAgICAgICAgZmFjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcGxhbmU6IHIudXMoKSxcbiAgICAgICAgICAgICAgICBwbGFuZVNpZGU6IHIudXMoKSxcbiAgICAgICAgICAgICAgICBmaXJzdEVkZ2U6IHIudWkoKSxcbiAgICAgICAgICAgICAgICBlZGdlQ291bnQ6IHIudXMoKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSW5mbzogci51cygpLFxuICAgICAgICAgICAgICAgIHN0eWxlczogW3IudWIoKSwgci51YigpLCByLnViKCksIHIudWIoKV0sXG4gICAgICAgICAgICAgICAgbGlnaHRtYXBPZmZzZXQ6IHIudWkoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY2VzO1xuICAgIH1cbiAgICBzdGF0aWMgbG9hZE1vZGVscyhyLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICByLnNlZWsob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgbW9kZWxzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoIC8gNjQ7ICsraSkge1xuICAgICAgICAgICAgbW9kZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1pbnM6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICBtYXhzOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgaGVhZE5vZGVzOiBbci5pKCksIHIuaSgpLCByLmkoKSwgci5pKCldLFxuICAgICAgICAgICAgICAgIHZpc0xlYXZlczogci5pKCksXG4gICAgICAgICAgICAgICAgZmlyc3RGYWNlOiByLmkoKSxcbiAgICAgICAgICAgICAgICBmYWNlQ291bnQ6IHIuaSgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9kZWxzO1xuICAgIH1cbiAgICBzdGF0aWMgbG9hZEVkZ2VzKHIsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIHIuc2VlayhvZmZzZXQpO1xuICAgICAgICBjb25zdCBlZGdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aCAvIDQ7ICsraSkge1xuICAgICAgICAgICAgZWRnZXMucHVzaChbci51cygpLCByLnVzKCldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWRnZXM7XG4gICAgfVxuICAgIHN0YXRpYyBsb2FkU3VyZkVkZ2VzKHIsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIHIuc2VlayhvZmZzZXQpO1xuICAgICAgICBjb25zdCBzdXJmRWRnZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGggLyA0OyArK2kpIHtcbiAgICAgICAgICAgIHN1cmZFZGdlcy5wdXNoKHIuaSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VyZkVkZ2VzO1xuICAgIH1cbiAgICBzdGF0aWMgbG9hZFZlcnRpY2VzKHIsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIHIuc2VlayhvZmZzZXQpO1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aCAvIDEyOyArK2kpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goW3IuZigpLCByLmYoKSwgci5mKCldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfVxuICAgIHN0YXRpYyBsb2FkVGV4SW5mbyhyLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICByLnNlZWsob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgdGV4aW5mbyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aCAvIDQwOyArK2kpIHtcbiAgICAgICAgICAgIHRleGluZm8ucHVzaCh7XG4gICAgICAgICAgICAgICAgczogW3IuZigpLCByLmYoKSwgci5mKCldLFxuICAgICAgICAgICAgICAgIHNTaGlmdDogci5mKCksXG4gICAgICAgICAgICAgICAgdDogW3IuZigpLCByLmYoKSwgci5mKCldLFxuICAgICAgICAgICAgICAgIHRTaGlmdDogci5mKCksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4OiByLmkoKSxcbiAgICAgICAgICAgICAgICBmbGFnczogci5pKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXhpbmZvO1xuICAgIH1cbiAgICBzdGF0aWMgbG9hZExpZ2h0bWFwKHIsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIHIuc2VlayhvZmZzZXQpO1xuICAgICAgICByZXR1cm4gci5hcnJ4KGxlbmd0aCwgUmVhZGVyXzEuUmVhZGVyRGF0YVR5cGUuVUJ5dGUpO1xuICAgIH1cbiAgICBzdGF0aWMgbG9hZFRleHR1cmVEYXRhKHIpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHIubnN0cigxNik7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gci51aSgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSByLnVpKCk7XG4gICAgICAgIGNvbnN0IGlzRXh0ZXJuYWwgPSAhci51aSgpO1xuICAgICAgICBpZiAoaXNFeHRlcm5hbCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICAgICAgZGF0YVswXSA9IGRhdGFbMV0gPSBkYXRhWzJdID0gZGF0YVszXSA9IDI1NTtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWUsIHdpZHRoLCBoZWlnaHQsIGRhdGEsIGlzRXh0ZXJuYWwgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHIuc2tpcCgzICogNCk7XG4gICAgICAgICAgICBjb25zdCBwaXhlbENvdW50ID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBwaXhlbHMgPSByLmFycngocGl4ZWxDb3VudCwgUmVhZGVyXzEuUmVhZGVyRGF0YVR5cGUuVUJ5dGUpO1xuICAgICAgICAgICAgci5za2lwKDIxICogKHBpeGVsQ291bnQgLyA2NCkpO1xuICAgICAgICAgICAgci5za2lwKDIpO1xuICAgICAgICAgICAgY29uc3QgcGFsZXR0ZSA9IHIuYXJyeCg3NjgsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuYW1lWzBdID09PSAneydcbiAgICAgICAgICAgICAgICA/ICgwLCBVdGlsXzIucGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSlcbiAgICAgICAgICAgICAgICA6ICgwLCBVdGlsXzIucGFsZXR0ZVRvUkdCQSkocGl4ZWxzLCBwYWxldHRlKTtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWUsIHdpZHRoLCBoZWlnaHQsIGRhdGEsIGlzRXh0ZXJuYWwgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgbG9hZFRleHR1cmVzKHIsIG9mZnNldCkge1xuICAgICAgICByLnNlZWsob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgY291bnQgPSByLnVpKCk7XG4gICAgICAgIGNvbnN0IG9mZnNldHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICAgICAgICBvZmZzZXRzLnB1c2goci51aSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXRzW2ldID09PSAweGZmZmZmZmZmKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFUlJPUjQwNCcsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KFswLCAyNTUsIDAsIDI1NV0pLFxuICAgICAgICAgICAgICAgICAgICBpc0V4dGVybmFsOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgci5zZWVrKG9mZnNldCArIG9mZnNldHNbaV0pO1xuICAgICAgICAgICAgICAgIHRleHR1cmVzLnB1c2godGhpcy5sb2FkVGV4dHVyZURhdGEocikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0dXJlcztcbiAgICB9XG4gICAgc3RhdGljIGxvYWRFbnRpdGllcyhyLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICByLnNlZWsob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZW50aXRpZXMgPSAoMCwgVmRmXzEudmRmKShyLm5zdHIobGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IFZFQ1RPUl9BVFRSUyA9IFtcbiAgICAgICAgICAgICdvcmlnaW4nLFxuICAgICAgICAgICAgJ2FuZ2xlcycsXG4gICAgICAgICAgICAnX2RpZmZ1c2VfbGlnaHQnLFxuICAgICAgICAgICAgJ19saWdodCcsXG4gICAgICAgICAgICAncmVuZGVyY29sb3InLFxuICAgICAgICAgICAgJ2F2ZWxvY2l0eSdcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgTlVNQkVSX0FUVFJTID0gWydyZW5kZXJhbXQnLCAncmVuZGVybW9kZScsICdzY2FsZSddO1xuICAgICAgICBjb25zdCB3b3JsZFNwYXduID0gZW50aXRpZXNbMF07XG4gICAgICAgIGlmICh3b3JsZFNwYXduLmNsYXNzbmFtZSA9PT0gJ3dvcmxkc3Bhd24nKSB7XG4gICAgICAgICAgICB3b3JsZFNwYXduLm1vZGVsID0gJyowJztcbiAgICAgICAgICAgIHdvcmxkU3Bhd24ud2FkID0gd29ybGRTcGF3bi53YWQgfHwgJyc7XG4gICAgICAgICAgICB3b3JsZFNwYXduLndhZCA9IHdvcmxkU3Bhd24ud2FkXG4gICAgICAgICAgICAgICAgLnNwbGl0KCc7JylcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh3KSA9PiB3Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAubWFwKCh3KSA9PiB3LnJlcGxhY2UoL1xcXFwvZywgJy8nKSlcbiAgICAgICAgICAgICAgICAubWFwKCh3KSA9PiAoMCwgVXRpbF8xLmJhc2VuYW1lKSh3KSk7XG4gICAgICAgIH1cbiAgICAgICAgZW50aXRpZXMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmIChlLm1vZGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlLnJlbmRlcmFtdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZW5kZXJhbXQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUucmVuZGVybW9kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZW5kZXJtb2RlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlLnJlbmRlcmZ4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBlLnJlbmRlcmZ4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlLnJlbmRlcmNvbG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBlLnJlbmRlcmNvbG9yID0gJzAgMCAwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBWRUNUT1JfQVRUUlMuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZVthdHRyXSkge1xuICAgICAgICAgICAgICAgICAgICBlW2F0dHJdID0gZVthdHRyXS5zcGxpdCgnICcpLm1hcCgodikgPT4gTnVtYmVyLnBhcnNlRmxvYXQodikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgTlVNQkVSX0FUVFJTLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVbYXR0cl0pIHtcbiAgICAgICAgICAgICAgICAgICAgZVthdHRyXSA9IE51bWJlci5wYXJzZUZsb2F0KGVbYXR0cl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgIH1cbn1cbmV4cG9ydHMuQnNwUGFyc2VyID0gQnNwUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Parsers/BspParser.ts\n");

/***/ }),

/***/ "./src/Parsers/Sprite.ts":
/*!*******************************!*\
  !*** ./src/Parsers/Sprite.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sprite = exports.SpriteSyncType = exports.SpriteAlphaType = exports.SpriteType = void 0;\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Parsers/Util.ts\");\nvar SpriteType;\n(function (SpriteType) {\n    SpriteType[SpriteType[\"VP_PARALLEL_UPRIGHT\"] = 0] = \"VP_PARALLEL_UPRIGHT\";\n    SpriteType[SpriteType[\"FACING_UPRIGHT\"] = 1] = \"FACING_UPRIGHT\";\n    SpriteType[SpriteType[\"VP_PARALLEL\"] = 2] = \"VP_PARALLEL\";\n    SpriteType[SpriteType[\"ORIENTED\"] = 3] = \"ORIENTED\";\n    SpriteType[SpriteType[\"VP_PARALLEL_ORIENTED\"] = 4] = \"VP_PARALLEL_ORIENTED\";\n})(SpriteType || (exports.SpriteType = SpriteType = {}));\nvar SpriteAlphaType;\n(function (SpriteAlphaType) {\n    SpriteAlphaType[SpriteAlphaType[\"SPR_NORMAL\"] = 0] = \"SPR_NORMAL\";\n    SpriteAlphaType[SpriteAlphaType[\"SPR_ADDITIVE\"] = 1] = \"SPR_ADDITIVE\";\n    SpriteAlphaType[SpriteAlphaType[\"SPR_INDEXALPHA\"] = 2] = \"SPR_INDEXALPHA\";\n    SpriteAlphaType[SpriteAlphaType[\"SPR_ALPHTEST\"] = 3] = \"SPR_ALPHTEST\";\n})(SpriteAlphaType || (exports.SpriteAlphaType = SpriteAlphaType = {}));\nvar SpriteSyncType;\n(function (SpriteSyncType) {\n    SpriteSyncType[SpriteSyncType[\"SYNCHRONIZED\"] = 0] = \"SYNCHRONIZED\";\n    SpriteSyncType[SpriteSyncType[\"RANDOM\"] = 1] = \"RANDOM\";\n})(SpriteSyncType || (exports.SpriteSyncType = SpriteSyncType = {}));\nclass Sprite {\n    constructor(header, frames) {\n        this.header = header;\n        this.frames = frames;\n    }\n    static parse(buffer) {\n        const r = new Reader_1.Reader(buffer);\n        const magic = r.nstr(4);\n        if (magic !== 'IDSP') {\n            throw new Error('Invalid sprite file format');\n        }\n        const header = {\n            version: r.i(),\n            type: r.i(),\n            alphaType: r.i(),\n            radius: r.f(),\n            width: r.i(),\n            height: r.i(),\n            frameCount: r.i(),\n            beamLength: r.f(),\n            syncType: r.i()\n        };\n        const paletteSize = r.s();\n        const palette = r.arrx(paletteSize * 3, Reader_1.ReaderDataType.UByte);\n        const frames = [];\n        for (let i = 0; i < header.frameCount; ++i) {\n            const frame = {\n                group: r.i(),\n                position: [r.i(), r.i()],\n                width: r.i(),\n                height: r.i(),\n                data: new Uint8Array(header.width * header.height * 4)\n            };\n            const pixels = r.arrx(header.width * header.height, Reader_1.ReaderDataType.UByte);\n            if (header.alphaType === SpriteAlphaType.SPR_ALPHTEST) {\n                frame.data = (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette);\n            }\n            else {\n                frame.data = (0, Util_1.paletteToRGBA)(pixels, palette);\n            }\n            frames.push(frame);\n        }\n        return new Sprite(header, frames);\n    }\n}\nexports.Sprite = Sprite;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9TcHJpdGUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYyxHQUFHLHNCQUFzQixHQUFHLHVCQUF1QixHQUFHLGtCQUFrQjtBQUN0RixpQkFBaUIsbUJBQU8sQ0FBQyxrQ0FBVztBQUNwQyxlQUFlLG1CQUFPLENBQUMscUNBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGlCQUFpQixrQkFBa0Isa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCLHVCQUF1Qix1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFCQUFxQixzQkFBc0Isc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QYXJzZXJzL1Nwcml0ZS50cz9jYWNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TcHJpdGUgPSBleHBvcnRzLlNwcml0ZVN5bmNUeXBlID0gZXhwb3J0cy5TcHJpdGVBbHBoYVR5cGUgPSBleHBvcnRzLlNwcml0ZVR5cGUgPSB2b2lkIDA7XG5jb25zdCBSZWFkZXJfMSA9IHJlcXVpcmUoXCIuLi9SZWFkZXJcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xudmFyIFNwcml0ZVR5cGU7XG4oZnVuY3Rpb24gKFNwcml0ZVR5cGUpIHtcbiAgICBTcHJpdGVUeXBlW1Nwcml0ZVR5cGVbXCJWUF9QQVJBTExFTF9VUFJJR0hUXCJdID0gMF0gPSBcIlZQX1BBUkFMTEVMX1VQUklHSFRcIjtcbiAgICBTcHJpdGVUeXBlW1Nwcml0ZVR5cGVbXCJGQUNJTkdfVVBSSUdIVFwiXSA9IDFdID0gXCJGQUNJTkdfVVBSSUdIVFwiO1xuICAgIFNwcml0ZVR5cGVbU3ByaXRlVHlwZVtcIlZQX1BBUkFMTEVMXCJdID0gMl0gPSBcIlZQX1BBUkFMTEVMXCI7XG4gICAgU3ByaXRlVHlwZVtTcHJpdGVUeXBlW1wiT1JJRU5URURcIl0gPSAzXSA9IFwiT1JJRU5URURcIjtcbiAgICBTcHJpdGVUeXBlW1Nwcml0ZVR5cGVbXCJWUF9QQVJBTExFTF9PUklFTlRFRFwiXSA9IDRdID0gXCJWUF9QQVJBTExFTF9PUklFTlRFRFwiO1xufSkoU3ByaXRlVHlwZSB8fCAoZXhwb3J0cy5TcHJpdGVUeXBlID0gU3ByaXRlVHlwZSA9IHt9KSk7XG52YXIgU3ByaXRlQWxwaGFUeXBlO1xuKGZ1bmN0aW9uIChTcHJpdGVBbHBoYVR5cGUpIHtcbiAgICBTcHJpdGVBbHBoYVR5cGVbU3ByaXRlQWxwaGFUeXBlW1wiU1BSX05PUk1BTFwiXSA9IDBdID0gXCJTUFJfTk9STUFMXCI7XG4gICAgU3ByaXRlQWxwaGFUeXBlW1Nwcml0ZUFscGhhVHlwZVtcIlNQUl9BRERJVElWRVwiXSA9IDFdID0gXCJTUFJfQURESVRJVkVcIjtcbiAgICBTcHJpdGVBbHBoYVR5cGVbU3ByaXRlQWxwaGFUeXBlW1wiU1BSX0lOREVYQUxQSEFcIl0gPSAyXSA9IFwiU1BSX0lOREVYQUxQSEFcIjtcbiAgICBTcHJpdGVBbHBoYVR5cGVbU3ByaXRlQWxwaGFUeXBlW1wiU1BSX0FMUEhURVNUXCJdID0gM10gPSBcIlNQUl9BTFBIVEVTVFwiO1xufSkoU3ByaXRlQWxwaGFUeXBlIHx8IChleHBvcnRzLlNwcml0ZUFscGhhVHlwZSA9IFNwcml0ZUFscGhhVHlwZSA9IHt9KSk7XG52YXIgU3ByaXRlU3luY1R5cGU7XG4oZnVuY3Rpb24gKFNwcml0ZVN5bmNUeXBlKSB7XG4gICAgU3ByaXRlU3luY1R5cGVbU3ByaXRlU3luY1R5cGVbXCJTWU5DSFJPTklaRURcIl0gPSAwXSA9IFwiU1lOQ0hST05JWkVEXCI7XG4gICAgU3ByaXRlU3luY1R5cGVbU3ByaXRlU3luY1R5cGVbXCJSQU5ET01cIl0gPSAxXSA9IFwiUkFORE9NXCI7XG59KShTcHJpdGVTeW5jVHlwZSB8fCAoZXhwb3J0cy5TcHJpdGVTeW5jVHlwZSA9IFNwcml0ZVN5bmNUeXBlID0ge30pKTtcbmNsYXNzIFNwcml0ZSB7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyLCBmcmFtZXMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBoZWFkZXI7XG4gICAgICAgIHRoaXMuZnJhbWVzID0gZnJhbWVzO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2UoYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgUmVhZGVyXzEuUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IG1hZ2ljID0gci5uc3RyKDQpO1xuICAgICAgICBpZiAobWFnaWMgIT09ICdJRFNQJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNwcml0ZSBmaWxlIGZvcm1hdCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IHIuaSgpLFxuICAgICAgICAgICAgdHlwZTogci5pKCksXG4gICAgICAgICAgICBhbHBoYVR5cGU6IHIuaSgpLFxuICAgICAgICAgICAgcmFkaXVzOiByLmYoKSxcbiAgICAgICAgICAgIHdpZHRoOiByLmkoKSxcbiAgICAgICAgICAgIGhlaWdodDogci5pKCksXG4gICAgICAgICAgICBmcmFtZUNvdW50OiByLmkoKSxcbiAgICAgICAgICAgIGJlYW1MZW5ndGg6IHIuZigpLFxuICAgICAgICAgICAgc3luY1R5cGU6IHIuaSgpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhbGV0dGVTaXplID0gci5zKCk7XG4gICAgICAgIGNvbnN0IHBhbGV0dGUgPSByLmFycngocGFsZXR0ZVNpemUgKiAzLCBSZWFkZXJfMS5SZWFkZXJEYXRhVHlwZS5VQnl0ZSk7XG4gICAgICAgIGNvbnN0IGZyYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlci5mcmFtZUNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0ge1xuICAgICAgICAgICAgICAgIGdyb3VwOiByLmkoKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogW3IuaSgpLCByLmkoKV0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHIuaSgpLFxuICAgICAgICAgICAgICAgIGhlaWdodDogci5pKCksXG4gICAgICAgICAgICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoaGVhZGVyLndpZHRoICogaGVhZGVyLmhlaWdodCAqIDQpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gci5hcnJ4KGhlYWRlci53aWR0aCAqIGhlYWRlci5oZWlnaHQsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXIuYWxwaGFUeXBlID09PSBTcHJpdGVBbHBoYVR5cGUuU1BSX0FMUEhURVNUKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuZGF0YSA9ICgwLCBVdGlsXzEucGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcmFtZS5kYXRhID0gKDAsIFV0aWxfMS5wYWxldHRlVG9SR0JBKShwaXhlbHMsIHBhbGV0dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKGhlYWRlciwgZnJhbWVzKTtcbiAgICB9XG59XG5leHBvcnRzLlNwcml0ZSA9IFNwcml0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Parsers/Sprite.ts\n");

/***/ }),

/***/ "./src/Parsers/Tga.ts":
/*!****************************!*\
  !*** ./src/Parsers/Tga.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tga = void 0;\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nclass Tga {\n    constructor(name, width, height, data) {\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.data = data;\n    }\n    static parse(buffer, name) {\n        let r = new Reader_1.Reader(buffer);\n        let header = {\n            idLength: r.ub(),\n            colorMapType: r.ub(),\n            imageType: r.ub(),\n            colorMap: {\n                firstEntryIndex: r.us(),\n                length: r.us(),\n                size: r.ub()\n            },\n            image: {\n                xOrigin: r.us(),\n                yOrigin: r.us(),\n                width: r.us(),\n                height: r.us(),\n                depth: r.ub(),\n                descriptor: r.ub()\n            }\n        };\n        if (header.idLength) {\n            r.arrx(header.idLength, Reader_1.ReaderDataType.UByte);\n        }\n        if (header.colorMapType) {\n            throw new Error('Not implemented');\n        }\n        let w = header.image.width;\n        let h = header.image.height;\n        let pixelCount = w * h;\n        let imageData;\n        if (header.imageType === 0x02) {\n            let byteCount = (pixelCount * header.image.depth) / 8;\n            imageData = r.arrx(byteCount, Reader_1.ReaderDataType.UByte);\n            if (header.image.depth === 24) {\n                let temp = new Uint8Array(pixelCount * 4);\n                for (let i = 0; i < h; ++i) {\n                    for (let j = 0; j < w; ++j) {\n                        let dst = (h - 1 - i) * w + j;\n                        temp[dst * 4] = imageData[(i * w + j) * 3 + 2];\n                        temp[dst * 4 + 1] = imageData[(i * w + j) * 3 + 1];\n                        temp[dst * 4 + 2] = imageData[(i * w + j) * 3];\n                        temp[dst * 4 + 3] = 255;\n                    }\n                }\n                imageData = temp;\n            }\n            else if (header.image.depth === 32) {\n                let temp = new Uint8Array(pixelCount * 4);\n                for (let i = 0; i < h; ++i) {\n                    for (let j = 0; j < w; ++j) {\n                        let dst = (h - 1 - i) * w + j;\n                        temp[dst * 4] = imageData[(i * w + j) * 4 + 2];\n                        temp[dst * 4 + 1] = imageData[(i * w + j) * 4 + 1];\n                        temp[dst * 4 + 2] = imageData[(i * w + j) * 4];\n                        temp[dst * 4 + 3] = 255;\n                    }\n                }\n                imageData = temp;\n            }\n        }\n        else if (header.imageType === 0x0a) {\n            imageData = new Uint8Array(pixelCount * 4);\n            if (header.image.depth === 24) {\n                for (let i = 0; i < h; ++i) {\n                    for (let j = 0; j < w;) {\n                        let repCount = r.ub();\n                        if (repCount & 0x80) {\n                            repCount = (repCount & 0x7f) + 1;\n                            let bl = r.ub();\n                            let gr = r.ub();\n                            let rd = r.ub();\n                            while (j < w && repCount) {\n                                let dst = (h - 1 - i) * w + j;\n                                imageData[dst * 4] = rd;\n                                imageData[dst * 4 + 1] = gr;\n                                imageData[dst * 4 + 2] = bl;\n                                imageData[dst * 4 + 3] = 255;\n                                ++j;\n                                --repCount;\n                            }\n                        }\n                        else {\n                            repCount = (repCount & 0x7f) + 1;\n                            while (j < w && repCount) {\n                                let dst = (h - 1 - i) * w + j;\n                                imageData[dst * 4 + 2] = r.ub();\n                                imageData[dst * 4 + 1] = r.ub();\n                                imageData[dst * 4] = r.ub();\n                                imageData[dst * 4 + 3] = 255;\n                                ++j;\n                                --repCount;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return new Tga(name, header.image.width, header.image.height, imageData);\n    }\n}\nexports.Tga = Tga;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9UZ2EudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLGlCQUFpQixtQkFBTyxDQUFDLGtDQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkMsb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxPQUFPO0FBQ3ZDLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkMsb0NBQW9DLE1BQU07QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QYXJzZXJzL1RnYS50cz81NDJkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UZ2EgPSB2b2lkIDA7XG5jb25zdCBSZWFkZXJfMSA9IHJlcXVpcmUoXCIuLi9SZWFkZXJcIik7XG5jbGFzcyBUZ2Ege1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHdpZHRoLCBoZWlnaHQsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlKGJ1ZmZlciwgbmFtZSkge1xuICAgICAgICBsZXQgciA9IG5ldyBSZWFkZXJfMS5SZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgbGV0IGhlYWRlciA9IHtcbiAgICAgICAgICAgIGlkTGVuZ3RoOiByLnViKCksXG4gICAgICAgICAgICBjb2xvck1hcFR5cGU6IHIudWIoKSxcbiAgICAgICAgICAgIGltYWdlVHlwZTogci51YigpLFxuICAgICAgICAgICAgY29sb3JNYXA6IHtcbiAgICAgICAgICAgICAgICBmaXJzdEVudHJ5SW5kZXg6IHIudXMoKSxcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHIudXMoKSxcbiAgICAgICAgICAgICAgICBzaXplOiByLnViKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgIHhPcmlnaW46IHIudXMoKSxcbiAgICAgICAgICAgICAgICB5T3JpZ2luOiByLnVzKCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHIudXMoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHIudXMoKSxcbiAgICAgICAgICAgICAgICBkZXB0aDogci51YigpLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IHIudWIoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaGVhZGVyLmlkTGVuZ3RoKSB7XG4gICAgICAgICAgICByLmFycngoaGVhZGVyLmlkTGVuZ3RoLCBSZWFkZXJfMS5SZWFkZXJEYXRhVHlwZS5VQnl0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci5jb2xvck1hcFR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHcgPSBoZWFkZXIuaW1hZ2Uud2lkdGg7XG4gICAgICAgIGxldCBoID0gaGVhZGVyLmltYWdlLmhlaWdodDtcbiAgICAgICAgbGV0IHBpeGVsQ291bnQgPSB3ICogaDtcbiAgICAgICAgbGV0IGltYWdlRGF0YTtcbiAgICAgICAgaWYgKGhlYWRlci5pbWFnZVR5cGUgPT09IDB4MDIpIHtcbiAgICAgICAgICAgIGxldCBieXRlQ291bnQgPSAocGl4ZWxDb3VudCAqIGhlYWRlci5pbWFnZS5kZXB0aCkgLyA4O1xuICAgICAgICAgICAgaW1hZ2VEYXRhID0gci5hcnJ4KGJ5dGVDb3VudCwgUmVhZGVyXzEuUmVhZGVyRGF0YVR5cGUuVUJ5dGUpO1xuICAgICAgICAgICAgaWYgKGhlYWRlci5pbWFnZS5kZXB0aCA9PT0gMjQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IG5ldyBVaW50OEFycmF5KHBpeGVsQ291bnQgKiA0KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHc7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRzdCA9IChoIC0gMSAtIGkpICogdyArIGo7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RzdCAqIDRdID0gaW1hZ2VEYXRhWyhpICogdyArIGopICogMyArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkc3QgKiA0ICsgMV0gPSBpbWFnZURhdGFbKGkgKiB3ICsgaikgKiAzICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RzdCAqIDQgKyAyXSA9IGltYWdlRGF0YVsoaSAqIHcgKyBqKSAqIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkc3QgKiA0ICsgM10gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhID0gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci5pbWFnZS5kZXB0aCA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IG5ldyBVaW50OEFycmF5KHBpeGVsQ291bnQgKiA0KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHc7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRzdCA9IChoIC0gMSAtIGkpICogdyArIGo7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RzdCAqIDRdID0gaW1hZ2VEYXRhWyhpICogdyArIGopICogNCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkc3QgKiA0ICsgMV0gPSBpbWFnZURhdGFbKGkgKiB3ICsgaikgKiA0ICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RzdCAqIDQgKyAyXSA9IGltYWdlRGF0YVsoaSAqIHcgKyBqKSAqIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkc3QgKiA0ICsgM10gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhID0gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoZWFkZXIuaW1hZ2VUeXBlID09PSAweDBhKSB7XG4gICAgICAgICAgICBpbWFnZURhdGEgPSBuZXcgVWludDhBcnJheShwaXhlbENvdW50ICogNCk7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmltYWdlLmRlcHRoID09PSAyNCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdzspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBDb3VudCA9IHIudWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBDb3VudCAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBDb3VudCA9IChyZXBDb3VudCAmIDB4N2YpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmwgPSByLnViKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyID0gci51YigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZCA9IHIudWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IHcgJiYgcmVwQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRzdCA9IChoIC0gMSAtIGkpICogdyArIGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YVtkc3QgKiA0XSA9IHJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGFbZHN0ICogNCArIDFdID0gZ3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YVtkc3QgKiA0ICsgMl0gPSBibDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2RzdCAqIDQgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXJlcENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcENvdW50ID0gKHJlcENvdW50ICYgMHg3ZikgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgdyAmJiByZXBDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHN0ID0gKGggLSAxIC0gaSkgKiB3ICsgajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2RzdCAqIDQgKyAyXSA9IHIudWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2RzdCAqIDQgKyAxXSA9IHIudWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2RzdCAqIDRdID0gci51YigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGFbZHN0ICogNCArIDNdID0gMjU1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2o7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tcmVwQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVGdhKG5hbWUsIGhlYWRlci5pbWFnZS53aWR0aCwgaGVhZGVyLmltYWdlLmhlaWdodCwgaW1hZ2VEYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlRnYSA9IFRnYTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Parsers/Tga.ts\n");

/***/ }),

/***/ "./src/Parsers/Util.ts":
/*!*****************************!*\
  !*** ./src/Parsers/Util.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.paletteToRGBA = paletteToRGBA;\nexports.paletteWithLastTransToRGBA = paletteWithLastTransToRGBA;\nfunction paletteToRGBA(pixels, palette) {\n    const rgba = new Uint8Array(pixels.length * 4);\n    const len = pixels.length;\n    for (let i = 0; i < len; ++i) {\n        rgba[i * 4] = palette[pixels[i] * 3];\n        rgba[i * 4 + 1] = palette[pixels[i] * 3 + 1];\n        rgba[i * 4 + 2] = palette[pixels[i] * 3 + 2];\n        rgba[i * 4 + 3] = 255;\n    }\n    return rgba;\n}\nfunction paletteWithLastTransToRGBA(pixels, palette) {\n    const rgba = new Uint8Array(pixels.length * 4);\n    const len = pixels.length;\n    for (let i = 0; i < len; ++i) {\n        if (pixels[i] === 255) {\n            rgba[i * 4 + 3] = 0;\n        }\n        else {\n            rgba[i * 4] = palette[pixels[i] * 3];\n            rgba[i * 4 + 1] = palette[pixels[i] * 3 + 1];\n            rgba[i * 4 + 2] = palette[pixels[i] * 3 + 2];\n            rgba[i * 4 + 3] = 255;\n        }\n    }\n    return rgba;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9VdGlsLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QYXJzZXJzL1V0aWwudHM/MmFlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFsZXR0ZVRvUkdCQSA9IHBhbGV0dGVUb1JHQkE7XG5leHBvcnRzLnBhbGV0dGVXaXRoTGFzdFRyYW5zVG9SR0JBID0gcGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkE7XG5mdW5jdGlvbiBwYWxldHRlVG9SR0JBKHBpeGVscywgcGFsZXR0ZSkge1xuICAgIGNvbnN0IHJnYmEgPSBuZXcgVWludDhBcnJheShwaXhlbHMubGVuZ3RoICogNCk7XG4gICAgY29uc3QgbGVuID0gcGl4ZWxzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHJnYmFbaSAqIDRdID0gcGFsZXR0ZVtwaXhlbHNbaV0gKiAzXTtcbiAgICAgICAgcmdiYVtpICogNCArIDFdID0gcGFsZXR0ZVtwaXhlbHNbaV0gKiAzICsgMV07XG4gICAgICAgIHJnYmFbaSAqIDQgKyAyXSA9IHBhbGV0dGVbcGl4ZWxzW2ldICogMyArIDJdO1xuICAgICAgICByZ2JhW2kgKiA0ICsgM10gPSAyNTU7XG4gICAgfVxuICAgIHJldHVybiByZ2JhO1xufVxuZnVuY3Rpb24gcGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkEocGl4ZWxzLCBwYWxldHRlKSB7XG4gICAgY29uc3QgcmdiYSA9IG5ldyBVaW50OEFycmF5KHBpeGVscy5sZW5ndGggKiA0KTtcbiAgICBjb25zdCBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpXSA9PT0gMjU1KSB7XG4gICAgICAgICAgICByZ2JhW2kgKiA0ICsgM10gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmdiYVtpICogNF0gPSBwYWxldHRlW3BpeGVsc1tpXSAqIDNdO1xuICAgICAgICAgICAgcmdiYVtpICogNCArIDFdID0gcGFsZXR0ZVtwaXhlbHNbaV0gKiAzICsgMV07XG4gICAgICAgICAgICByZ2JhW2kgKiA0ICsgMl0gPSBwYWxldHRlW3BpeGVsc1tpXSAqIDMgKyAyXTtcbiAgICAgICAgICAgIHJnYmFbaSAqIDQgKyAzXSA9IDI1NTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmdiYTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Parsers/Util.ts\n");

/***/ }),

/***/ "./src/Parsers/Vdf.ts":
/*!****************************!*\
  !*** ./src/Parsers/Vdf.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.vdf = vdf;\nfunction vdf(input) {\n    let state = 0;\n    let key = '';\n    let val = '';\n    const objects = [];\n    for (let i = 0; i < input.length; ++i) {\n        const c = input[i];\n        switch (state) {\n            case 0: {\n                if (/\\s/.test(c)) {\n                    continue;\n                }\n                else if (c === '{') {\n                    objects.push({});\n                    state = 1;\n                }\n                else {\n                    return [];\n                }\n                break;\n            }\n            case 1: {\n                if (/\\s/.test(c)) {\n                    continue;\n                }\n                else if (c === '}') {\n                    state = 0;\n                }\n                else if (c === '\"') {\n                    key = '';\n                    state = 2;\n                }\n                else {\n                    return [];\n                }\n                break;\n            }\n            case 2: {\n                if (c === '\"') {\n                    state = 3;\n                }\n                else {\n                    key += c;\n                }\n                break;\n            }\n            case 3: {\n                if (/\\s/.test(c)) {\n                    continue;\n                }\n                else if (c === '\"') {\n                    val = '';\n                    state = 4;\n                }\n                break;\n            }\n            case 4: {\n                if (c === '\"') {\n                    objects[objects.length - 1][key] = val;\n                    state = 1;\n                }\n                else {\n                    val += c;\n                }\n                break;\n            }\n        }\n    }\n    return objects;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9WZGYudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGFyc2Vycy9WZGYudHM/OWY5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmRmID0gdmRmO1xuZnVuY3Rpb24gdmRmKGlucHV0KSB7XG4gICAgbGV0IHN0YXRlID0gMDtcbiAgICBsZXQga2V5ID0gJyc7XG4gICAgbGV0IHZhbCA9ICcnO1xuICAgIGNvbnN0IG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGMgPSBpbnB1dFtpXTtcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAwOiB7XG4gICAgICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICd7Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2goe30pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICd9Jykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgKz0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICAgICAgICBpZiAoL1xccy8udGVzdChjKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgNDoge1xuICAgICAgICAgICAgICAgIGlmIChjID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHNbb2JqZWN0cy5sZW5ndGggLSAxXVtrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWwgKz0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Parsers/Vdf.ts\n");

/***/ }),

/***/ "./src/Parsers/Wad.ts":
/*!****************************!*\
  !*** ./src/Parsers/Wad.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Wad = void 0;\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Parsers/Util.ts\");\nfunction parseDecal(r) {\n    const name = r.nstr(16);\n    const width = r.ui();\n    const height = r.ui();\n    r.skip(4 * 4);\n    const pixelCount = width * height;\n    const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n    r.skip(21 * (pixelCount / 64));\n    r.skip(2);\n    const palette = r.arrx(768, Reader_1.ReaderDataType.UByte);\n    const data = name[0] === '{'\n        ? (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette)\n        : (0, Util_1.paletteToRGBA)(pixels, palette);\n    return {\n        type: 'decal',\n        name,\n        width,\n        height,\n        data\n    };\n}\nconst parseCache = (_r, metadata) => ({\n    type: 'cache',\n    name: metadata.name\n});\nfunction parseTexture(r) {\n    const name = r.nstr(16);\n    const width = r.ui();\n    const height = r.ui();\n    r.skip(4 * 4);\n    const pixelCount = width * height;\n    const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n    r.skip(21 * (pixelCount / 64));\n    r.skip(2);\n    const palette = r.arrx(768, Reader_1.ReaderDataType.UByte);\n    const data = name[0] === '{'\n        ? (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette)\n        : (0, Util_1.paletteToRGBA)(pixels, palette);\n    return {\n        type: 'texture',\n        name,\n        width,\n        height,\n        data\n    };\n}\nfunction parseFont(r, metadata) {\n    const width = r.ui() && 256;\n    const height = r.ui();\n    const rowCount = r.ui();\n    const rowHeight = r.ui();\n    const glyphs = [];\n    for (let i = 0; i < 256; ++i) {\n        const glyphOffset = r.us();\n        const glyphWidth = r.us();\n        glyphs.push({\n            x: glyphOffset % width,\n            y: (Math.floor(glyphOffset / width) / rowHeight) * rowHeight,\n            width: glyphWidth,\n            height: rowHeight\n        });\n    }\n    const pixelCount = width * height;\n    const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n    r.skip(2);\n    const palette = r.arrx(256 * 3, Reader_1.ReaderDataType.UByte);\n    return {\n        type: 'font',\n        name: metadata.name,\n        width,\n        height,\n        rowCount,\n        rowHeight,\n        glyphs,\n        data: (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette)\n    };\n}\nconst parseUnknown = (r, metadata) => ({\n    type: 'unknown',\n    name: metadata.name,\n    data: r.arrx(metadata.length, Reader_1.ReaderDataType.UByte)\n});\nfunction parseEntry(r, metadata) {\n    r.seek(metadata.offset);\n    switch (metadata.type) {\n        case 0x40: {\n            return parseDecal(r);\n        }\n        case 0x42: {\n            return parseCache(r, metadata);\n        }\n        case 0x43: {\n            return parseTexture(r);\n        }\n        case 0x46: {\n            return parseFont(r, metadata);\n        }\n        default: {\n            return parseUnknown(r, metadata);\n        }\n    }\n}\nclass Wad {\n    constructor(entries) {\n        this.entries = entries;\n    }\n    static parse(buffer) {\n        const r = new Reader_1.Reader(buffer);\n        const magic = r.nstr(4);\n        if (magic !== 'WAD3') {\n            throw new Error('Invalid WAD file format');\n        }\n        const entryCount = r.ui();\n        const directoryOffset = r.ui();\n        r.seek(directoryOffset);\n        const entriesMetadata = [];\n        for (let i = 0; i < entryCount; ++i) {\n            const entry = {\n                offset: r.ui(),\n                diskLength: r.ui(),\n                length: r.ui(),\n                type: r.b(),\n                isCompressed: r.b(),\n                name: ''\n            };\n            r.skip(2);\n            entry.name = r.nstr(16);\n            entriesMetadata.push(entry);\n        }\n        const entries = entriesMetadata.map(e => parseEntry(r, e));\n        return new Wad(entries);\n    }\n}\nexports.Wad = Wad;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2Vycy9XYWQudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLGlCQUFpQixtQkFBTyxDQUFDLGtDQUFXO0FBQ3BDLGVBQWUsbUJBQU8sQ0FBQyxxQ0FBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BhcnNlcnMvV2FkLnRzP2I4NzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldhZCA9IHZvaWQgMDtcbmNvbnN0IFJlYWRlcl8xID0gcmVxdWlyZShcIi4uL1JlYWRlclwiKTtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5mdW5jdGlvbiBwYXJzZURlY2FsKHIpIHtcbiAgICBjb25zdCBuYW1lID0gci5uc3RyKDE2KTtcbiAgICBjb25zdCB3aWR0aCA9IHIudWkoKTtcbiAgICBjb25zdCBoZWlnaHQgPSByLnVpKCk7XG4gICAgci5za2lwKDQgKiA0KTtcbiAgICBjb25zdCBwaXhlbENvdW50ID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgY29uc3QgcGl4ZWxzID0gci5hcnJ4KHBpeGVsQ291bnQsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKTtcbiAgICByLnNraXAoMjEgKiAocGl4ZWxDb3VudCAvIDY0KSk7XG4gICAgci5za2lwKDIpO1xuICAgIGNvbnN0IHBhbGV0dGUgPSByLmFycngoNzY4LCBSZWFkZXJfMS5SZWFkZXJEYXRhVHlwZS5VQnl0ZSk7XG4gICAgY29uc3QgZGF0YSA9IG5hbWVbMF0gPT09ICd7J1xuICAgICAgICA/ICgwLCBVdGlsXzEucGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSlcbiAgICAgICAgOiAoMCwgVXRpbF8xLnBhbGV0dGVUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2RlY2FsJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgZGF0YVxuICAgIH07XG59XG5jb25zdCBwYXJzZUNhY2hlID0gKF9yLCBtZXRhZGF0YSkgPT4gKHtcbiAgICB0eXBlOiAnY2FjaGUnLFxuICAgIG5hbWU6IG1ldGFkYXRhLm5hbWVcbn0pO1xuZnVuY3Rpb24gcGFyc2VUZXh0dXJlKHIpIHtcbiAgICBjb25zdCBuYW1lID0gci5uc3RyKDE2KTtcbiAgICBjb25zdCB3aWR0aCA9IHIudWkoKTtcbiAgICBjb25zdCBoZWlnaHQgPSByLnVpKCk7XG4gICAgci5za2lwKDQgKiA0KTtcbiAgICBjb25zdCBwaXhlbENvdW50ID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgY29uc3QgcGl4ZWxzID0gci5hcnJ4KHBpeGVsQ291bnQsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKTtcbiAgICByLnNraXAoMjEgKiAocGl4ZWxDb3VudCAvIDY0KSk7XG4gICAgci5za2lwKDIpO1xuICAgIGNvbnN0IHBhbGV0dGUgPSByLmFycngoNzY4LCBSZWFkZXJfMS5SZWFkZXJEYXRhVHlwZS5VQnl0ZSk7XG4gICAgY29uc3QgZGF0YSA9IG5hbWVbMF0gPT09ICd7J1xuICAgICAgICA/ICgwLCBVdGlsXzEucGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSlcbiAgICAgICAgOiAoMCwgVXRpbF8xLnBhbGV0dGVUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3RleHR1cmUnLFxuICAgICAgICBuYW1lLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBkYXRhXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlRm9udChyLCBtZXRhZGF0YSkge1xuICAgIGNvbnN0IHdpZHRoID0gci51aSgpICYmIDI1NjtcbiAgICBjb25zdCBoZWlnaHQgPSByLnVpKCk7XG4gICAgY29uc3Qgcm93Q291bnQgPSByLnVpKCk7XG4gICAgY29uc3Qgcm93SGVpZ2h0ID0gci51aSgpO1xuICAgIGNvbnN0IGdseXBocyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgY29uc3QgZ2x5cGhPZmZzZXQgPSByLnVzKCk7XG4gICAgICAgIGNvbnN0IGdseXBoV2lkdGggPSByLnVzKCk7XG4gICAgICAgIGdseXBocy5wdXNoKHtcbiAgICAgICAgICAgIHg6IGdseXBoT2Zmc2V0ICUgd2lkdGgsXG4gICAgICAgICAgICB5OiAoTWF0aC5mbG9vcihnbHlwaE9mZnNldCAvIHdpZHRoKSAvIHJvd0hlaWdodCkgKiByb3dIZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogZ2x5cGhXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcm93SGVpZ2h0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBwaXhlbENvdW50ID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgY29uc3QgcGl4ZWxzID0gci5hcnJ4KHBpeGVsQ291bnQsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKTtcbiAgICByLnNraXAoMik7XG4gICAgY29uc3QgcGFsZXR0ZSA9IHIuYXJyeCgyNTYgKiAzLCBSZWFkZXJfMS5SZWFkZXJEYXRhVHlwZS5VQnl0ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ZvbnQnLFxuICAgICAgICBuYW1lOiBtZXRhZGF0YS5uYW1lLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICByb3dDb3VudCxcbiAgICAgICAgcm93SGVpZ2h0LFxuICAgICAgICBnbHlwaHMsXG4gICAgICAgIGRhdGE6ICgwLCBVdGlsXzEucGFsZXR0ZVdpdGhMYXN0VHJhbnNUb1JHQkEpKHBpeGVscywgcGFsZXR0ZSlcbiAgICB9O1xufVxuY29uc3QgcGFyc2VVbmtub3duID0gKHIsIG1ldGFkYXRhKSA9PiAoe1xuICAgIHR5cGU6ICd1bmtub3duJyxcbiAgICBuYW1lOiBtZXRhZGF0YS5uYW1lLFxuICAgIGRhdGE6IHIuYXJyeChtZXRhZGF0YS5sZW5ndGgsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKVxufSk7XG5mdW5jdGlvbiBwYXJzZUVudHJ5KHIsIG1ldGFkYXRhKSB7XG4gICAgci5zZWVrKG1ldGFkYXRhLm9mZnNldCk7XG4gICAgc3dpdGNoIChtZXRhZGF0YS50eXBlKSB7XG4gICAgICAgIGNhc2UgMHg0MDoge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVjYWwocik7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAweDQyOiB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VDYWNoZShyLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAweDQzOiB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VUZXh0dXJlKHIpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMHg0Njoge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRm9udChyLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVW5rbm93bihyLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBXYWQge1xuICAgIGNvbnN0cnVjdG9yKGVudHJpZXMpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlKGJ1ZmZlcikge1xuICAgICAgICBjb25zdCByID0gbmV3IFJlYWRlcl8xLlJlYWRlcihidWZmZXIpO1xuICAgICAgICBjb25zdCBtYWdpYyA9IHIubnN0cig0KTtcbiAgICAgICAgaWYgKG1hZ2ljICE9PSAnV0FEMycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBXQUQgZmlsZSBmb3JtYXQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRyeUNvdW50ID0gci51aSgpO1xuICAgICAgICBjb25zdCBkaXJlY3RvcnlPZmZzZXQgPSByLnVpKCk7XG4gICAgICAgIHIuc2VlayhkaXJlY3RvcnlPZmZzZXQpO1xuICAgICAgICBjb25zdCBlbnRyaWVzTWV0YWRhdGEgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRyeUNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgICAgIG9mZnNldDogci51aSgpLFxuICAgICAgICAgICAgICAgIGRpc2tMZW5ndGg6IHIudWkoKSxcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHIudWkoKSxcbiAgICAgICAgICAgICAgICB0eXBlOiByLmIoKSxcbiAgICAgICAgICAgICAgICBpc0NvbXByZXNzZWQ6IHIuYigpLFxuICAgICAgICAgICAgICAgIG5hbWU6ICcnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgci5za2lwKDIpO1xuICAgICAgICAgICAgZW50cnkubmFtZSA9IHIubnN0cigxNik7XG4gICAgICAgICAgICBlbnRyaWVzTWV0YWRhdGEucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW50cmllcyA9IGVudHJpZXNNZXRhZGF0YS5tYXAoZSA9PiBwYXJzZUVudHJ5KHIsIGUpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBXYWQoZW50cmllcyk7XG4gICAgfVxufVxuZXhwb3J0cy5XYWQgPSBXYWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Parsers/Wad.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/FullscreenButton/index.tsx":
/*!****************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/FullscreenButton/index.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FullscreenButton = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst Fullscreen_1 = __webpack_require__(/*! ../../../Fullscreen */ \"./src/Fullscreen.ts\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/Buttons/FullscreenButton/style.ts\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nclass FullscreenButton extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isInFullscreen: false\n        };\n        this.onClick = () => {\n            if (Fullscreen_1.Fullscreen.isInFullscreen()) {\n                Fullscreen_1.Fullscreen.exit();\n            }\n            else {\n                Fullscreen_1.Fullscreen.enter(this.props.root);\n            }\n        };\n        this.onFullscreen = () => {\n            this.setState({\n                isInFullscreen: Fullscreen_1.Fullscreen.isInFullscreen()\n            });\n        };\n    }\n    componentDidMount() {\n        Fullscreen_1.Fullscreen.onChange(this.onFullscreen);\n    }\n    componentWillUnmount() {\n        Fullscreen_1.Fullscreen.onChangeRemove(this.onFullscreen);\n    }\n    render() {\n        return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.FullscreenButtonStyle.button), onClick: this.onClick }, this.state.isInFullscreen ? ((0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 22 L22 22 L22 0 L14 0 L14 14 L0 14 M42 0 L42 22 L64 22 L64 14 L50 14 L50 0 M14 50 L0 50 L0 42 L22 42 L22 64 L14 64 M42 64 L42 42 L64 42 L64 50 L50 50 L50 64 Z\" }))) : ((0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 22 L8 22 L8 8 L22 8 L22 0 L0 0 M42 0 L42 8 L56 8 L56 22 L64 22 L64 0 M0 64 L0 42 L8 42 L8 56 L22 56 L22 64 M64 64 L42 64 L42 56 L56 56 L56 42 L64 42 Z\" })))));\n    }\n}\nexports.FullscreenButton = FullscreenButton;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvRnVsbHNjcmVlbkJ1dHRvbi9pbmRleC50c3giLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFRO0FBQ2pDLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLGdEQUFxQjtBQUNsRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQyx5QkFBeUIsbUJBQU8sQ0FBQyxxRUFBc0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMscUlBQXFJLHdEQUF3RCxpRkFBaUY7QUFDdlQsc0NBQXNDLHdLQUF3SyxnQ0FBZ0MsaUZBQWlGO0FBQy9ULHNDQUFzQyxnS0FBZ0s7QUFDdE07QUFDQTtBQUNBLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9CdXR0b25zL0Z1bGxzY3JlZW5CdXR0b24vaW5kZXgudHN4PzcxNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZ1bGxzY3JlZW5CdXR0b24gPSB2b2lkIDA7XG5jb25zdCBwcmVhY3RfMSA9IHJlcXVpcmUoXCJwcmVhY3RcIik7XG5jb25zdCB0eXBlc3R5bGVfMSA9IHJlcXVpcmUoXCJ0eXBlc3R5bGVcIik7XG5jb25zdCBGdWxsc2NyZWVuXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vRnVsbHNjcmVlblwiKTtcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcbmNvbnN0IENvbnRyb2xzX3N0eWxlXzEgPSByZXF1aXJlKFwiLi4vLi4vQ29udHJvbHMuc3R5bGVcIik7XG5jbGFzcyBGdWxsc2NyZWVuQnV0dG9uIGV4dGVuZHMgcHJlYWN0XzEuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzSW5GdWxsc2NyZWVuOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4uaXNJbkZ1bGxzY3JlZW4oKSkge1xuICAgICAgICAgICAgICAgIEZ1bGxzY3JlZW5fMS5GdWxsc2NyZWVuLmV4aXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIEZ1bGxzY3JlZW5fMS5GdWxsc2NyZWVuLmVudGVyKHRoaXMucHJvcHMucm9vdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25GdWxsc2NyZWVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNJbkZ1bGxzY3JlZW46IEZ1bGxzY3JlZW5fMS5GdWxsc2NyZWVuLmlzSW5GdWxsc2NyZWVuKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4ub25DaGFuZ2UodGhpcy5vbkZ1bGxzY3JlZW4pO1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4ub25DaGFuZ2VSZW1vdmUodGhpcy5vbkZ1bGxzY3JlZW4pO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6ICgwLCB0eXBlc3R5bGVfMS5jbGFzc2VzKShDb250cm9sc19zdHlsZV8xLkNvbnRyb2xzU3R5bGUuYnV0dG9uLCBzdHlsZV8xLkZ1bGxzY3JlZW5CdXR0b25TdHlsZS5idXR0b24pLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2sgfSwgdGhpcy5zdGF0ZS5pc0luRnVsbHNjcmVlbiA/ICgoMCwgcHJlYWN0XzEuaCkoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB2aWV3Qm94OiBcIjAgMCA2NCA2NFwiLCBmaWxsOiBcImN1cnJlbnRjb2xvclwiIH0sXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJwYXRoXCIsIHsgZDogXCJNMCAyMiBMMjIgMjIgTDIyIDAgTDE0IDAgTDE0IDE0IEwwIDE0IE00MiAwIEw0MiAyMiBMNjQgMjIgTDY0IDE0IEw1MCAxNCBMNTAgMCBNMTQgNTAgTDAgNTAgTDAgNDIgTDIyIDQyIEwyMiA2NCBMMTQgNjQgTTQyIDY0IEw0MiA0MiBMNjQgNDIgTDY0IDUwIEw1MCA1MCBMNTAgNjQgWlwiIH0pKSkgOiAoKDAsIHByZWFjdF8xLmgpKFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdmlld0JveDogXCIwIDAgNjQgNjRcIiwgZmlsbDogXCJjdXJyZW50Y29sb3JcIiB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwicGF0aFwiLCB7IGQ6IFwiTTAgMjIgTDggMjIgTDggOCBMMjIgOCBMMjIgMCBMMCAwIE00MiAwIEw0MiA4IEw1NiA4IEw1NiAyMiBMNjQgMjIgTDY0IDAgTTAgNjQgTDAgNDIgTDggNDIgTDggNTYgTDIyIDU2IEwyMiA2NCBNNjQgNjQgTDQyIDY0IEw0MiA1NiBMNTYgNTYgTDU2IDQyIEw2NCA0MiBaXCIgfSkpKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuRnVsbHNjcmVlbkJ1dHRvbiA9IEZ1bGxzY3JlZW5CdXR0b247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/FullscreenButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/FullscreenButton/style.ts":
/*!***************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/FullscreenButton/style.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FullscreenButtonStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.FullscreenButtonStyle = (0, typestyle_1.stylesheet)({\n    button: {\n        width: '30px',\n        minWidth: '30px',\n        height: '30px',\n        padding: '5px'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvRnVsbHNjcmVlbkJ1dHRvbi9zdHlsZS50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0Isb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvQnV0dG9ucy9GdWxsc2NyZWVuQnV0dG9uL3N0eWxlLnRzPzU5ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZ1bGxzY3JlZW5CdXR0b25TdHlsZSA9IHZvaWQgMDtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmV4cG9ydHMuRnVsbHNjcmVlbkJ1dHRvblN0eWxlID0gKDAsIHR5cGVzdHlsZV8xLnN0eWxlc2hlZXQpKHtcbiAgICBidXR0b246IHtcbiAgICAgICAgd2lkdGg6ICczMHB4JyxcbiAgICAgICAgbWluV2lkdGg6ICczMHB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMzBweCcsXG4gICAgICAgIHBhZGRpbmc6ICc1cHgnXG4gICAgfVxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/FullscreenButton/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/PauseButton/index.tsx":
/*!***********************************************************!*\
  !*** ./src/PlayerInterface/Buttons/PauseButton/index.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PauseButton = PauseButton;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nfunction PauseButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.button, onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L20 64 L20 0 M44 0 L64 0 L64 64 L44 64 Z\" }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvUGF1c2VCdXR0b24vaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyx5QkFBeUIsbUJBQU8sQ0FBQyxxRUFBc0I7QUFDdkQ7QUFDQSxxQ0FBcUMsc0VBQXNFO0FBQzNHLGlDQUFpQyxpRkFBaUY7QUFDbEgsc0NBQXNDLDBEQUEwRDtBQUNoRyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9CdXR0b25zL1BhdXNlQnV0dG9uL2luZGV4LnRzeD9kMDM1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXVzZUJ1dHRvbiA9IFBhdXNlQnV0dG9uO1xuY29uc3QgcHJlYWN0XzEgPSByZXF1aXJlKFwicHJlYWN0XCIpO1xuY29uc3QgQ29udHJvbHNfc3R5bGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9Db250cm9scy5zdHlsZVwiKTtcbmZ1bmN0aW9uIFBhdXNlQnV0dG9uKHByb3BzKSB7XG4gICAgcmV0dXJuICgoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogQ29udHJvbHNfc3R5bGVfMS5Db250cm9sc1N0eWxlLmJ1dHRvbiwgb25DbGljazogcHJvcHMub25DbGljayB9LFxuICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB2aWV3Qm94OiBcIjAgMCA2NCA2NFwiLCBmaWxsOiBcImN1cnJlbnRjb2xvclwiIH0sXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJwYXRoXCIsIHsgZDogXCJNMCAwIEwwIDY0IEwyMCA2NCBMMjAgMCBNNDQgMCBMNjQgMCBMNjQgNjQgTDQ0IDY0IFpcIiB9KSkpKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/PauseButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/PlayButton/index.tsx":
/*!**********************************************************!*\
  !*** ./src/PlayerInterface/Buttons/PlayButton/index.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PlayButton = PlayButton;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nfunction PlayButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.button, onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L64 32 Z\" }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvUGxheUJ1dHRvbi9pbmRleC50c3giLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFRO0FBQ2pDLHlCQUF5QixtQkFBTyxDQUFDLHFFQUFzQjtBQUN2RDtBQUNBLHFDQUFxQyxzRUFBc0U7QUFDM0csaUNBQWlDLGlGQUFpRjtBQUNsSCxzQ0FBc0MsMEJBQTBCO0FBQ2hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvUGxheUJ1dHRvbi9pbmRleC50c3g/NTg4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGxheUJ1dHRvbiA9IFBsYXlCdXR0b247XG5jb25zdCBwcmVhY3RfMSA9IHJlcXVpcmUoXCJwcmVhY3RcIik7XG5jb25zdCBDb250cm9sc19zdHlsZV8xID0gcmVxdWlyZShcIi4uLy4uL0NvbnRyb2xzLnN0eWxlXCIpO1xuZnVuY3Rpb24gUGxheUJ1dHRvbihwcm9wcykge1xuICAgIHJldHVybiAoKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IENvbnRyb2xzX3N0eWxlXzEuQ29udHJvbHNTdHlsZS5idXR0b24sIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcbiAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdmlld0JveDogXCIwIDAgNjQgNjRcIiwgZmlsbDogXCJjdXJyZW50Y29sb3JcIiB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwicGF0aFwiLCB7IGQ6IFwiTTAgMCBMMCA2NCBMNjQgMzIgWlwiIH0pKSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/PlayButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/SettingsButton/index.tsx":
/*!**************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/SettingsButton/index.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SettingsButton = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst Game_1 = __webpack_require__(/*! ../../../Game */ \"./src/Game.ts\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/Buttons/SettingsButton/style.ts\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nclass SettingsButton extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.onFreeModeClick = () => {\n            if (this.props.game.mode === Game_1.PlayerMode.FREE) {\n                return;\n            }\n            this.props.game.changeMode(Game_1.PlayerMode.FREE);\n            this.props.game.player.pause();\n        };\n        this.onReplayModeClick = () => {\n            if (this.props.game.mode === Game_1.PlayerMode.REPLAY) {\n                return;\n            }\n            this.props.game.changeMode(Game_1.PlayerMode.REPLAY);\n        };\n        this.toggleMenu = () => {\n            this.setState({ isOpen: !this.state.isOpen });\n        };\n    }\n    render() {\n        const hasReplay = !!this.props.game.player.replay;\n        return ((0, preact_1.h)(\"div\", { class: style_1.SettingsButtonStyle.settings },\n            (0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.SettingsButtonStyle.button), onClick: this.toggleMenu },\n                (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\" },\n                    (0, preact_1.h)(\"path\", { \"fill-rule\": \"evenodd\", \"clip-rule\": \"evenodd\", fill: \"#ffffff\", d: \"M23.9 10.7c0-0.3-0.4-0.6-0.8-0.6 -1.1 0-2.1-0.6-2.5-1.6 -0.4-1-0.1-2.2 0.7-3 0.3-0.2 0.3-0.6 0.1-0.9 -0.6-0.7-1.2-1.4-1.9-1.9 -0.3-0.2-0.7-0.2-0.9 0.1 -0.7 0.8-2 1.1-3 0.7 -1-0.4-1.7-1.5-1.6-2.6 0-0.4-0.2-0.7-0.6-0.7 -0.9-0.1-1.8-0.1-2.7 0C10.4 0.1 10.1 0.4 10.1 0.8 10.1 1.9 9.5 2.9 8.5 3.3 7.5 3.7 6.2 3.4 5.5 2.6c-0.2-0.3-0.6-0.3-0.9-0.1 -0.7 0.6-1.4 1.2-1.9 1.9C2.4 4.8 2.5 5.2 2.7 5.4c0.8 0.8 1.1 2 0.7 3 -0.4 1-1.4 1.6-2.6 1.6 -0.4 0-0.7 0.2-0.7 0.6 -0.1 0.9-0.1 1.8 0 2.7 0 0.3 0.4 0.6 0.8 0.6 1 0 2 0.6 2.5 1.6 0.4 1 0.2 2.2-0.7 3 -0.3 0.2-0.3 0.6-0.1 0.9 0.6 0.7 1.2 1.4 1.9 1.9 0.3 0.2 0.7 0.2 0.9-0.1 0.7-0.8 2-1.1 3-0.7 1 0.4 1.7 1.5 1.6 2.6 0 0.4 0.2 0.7 0.6 0.7C11.1 24 11.5 24 12 24c0.4 0 0.9 0 1.3-0.1 0.3 0 0.6-0.3 0.6-0.7 0-1.1 0.6-2.1 1.6-2.6 1-0.4 2.3-0.1 3 0.7 0.2 0.3 0.6 0.3 0.9 0.1 0.7-0.6 1.4-1.2 1.9-1.9 0.2-0.3 0.2-0.7-0.1-0.9 -0.8-0.8-1.1-2-0.7-3 0.4-1 1.4-1.6 2.5-1.6l0.1 0c0.3 0 0.7-0.2 0.7-0.6C24 12.5 24 11.6 23.9 10.7zM12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6c3.3 0 6 2.7 6 6S15.3 18 12 18zM12 16\" }))),\n            (0, preact_1.h)(\"div\", { class: this.state.isOpen ? style_1.SettingsButtonStyle.menuOpen : style_1.SettingsButtonStyle.menu },\n                (0, preact_1.h)(\"span\", { class: style_1.SettingsButtonStyle.menuItemTitle }, \"Mode\"),\n                hasReplay ? ((0, preact_1.h)(\"span\", { class: this.props.game.mode === Game_1.PlayerMode.REPLAY\n                        ? style_1.SettingsButtonStyle.menuItemSelected\n                        : style_1.SettingsButtonStyle.menuItem, onClick: this.onReplayModeClick }, \"Replay\")) : ((0, preact_1.h)(\"span\", null)),\n                (0, preact_1.h)(\"span\", { class: this.props.game.mode === Game_1.PlayerMode.FREE\n                        ? style_1.SettingsButtonStyle.menuItemSelected\n                        : style_1.SettingsButtonStyle.menuItem, onClick: this.onFreeModeClick }, \"Free\"))));\n    }\n}\nexports.SettingsButton = SettingsButton;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU2V0dGluZ3NCdXR0b24vaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQywrREFBVztBQUN2QyxlQUFlLG1CQUFPLENBQUMsb0NBQWU7QUFDdEMsZ0JBQWdCLG1CQUFPLENBQUMsc0VBQVM7QUFDakMseUJBQXlCLG1CQUFPLENBQUMscUVBQXNCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDZDQUE2QztBQUN0RixxQ0FBcUMsc0lBQXNJO0FBQzNLLHlDQUF5QywyREFBMkQ7QUFDcEcsOENBQThDLHFrQ0FBcWtDO0FBQ25uQyxxQ0FBcUMsb0dBQW9HO0FBQ3pJLDBDQUEwQyxrREFBa0Q7QUFDNUYsdURBQXVEO0FBQ3ZEO0FBQ0EsaUdBQWlHO0FBQ2pHLDBDQUEwQztBQUMxQztBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0Esc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU2V0dGluZ3NCdXR0b24vaW5kZXgudHN4PzY5YzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNldHRpbmdzQnV0dG9uID0gdm9pZCAwO1xuY29uc3QgcHJlYWN0XzEgPSByZXF1aXJlKFwicHJlYWN0XCIpO1xuY29uc3QgdHlwZXN0eWxlXzEgPSByZXF1aXJlKFwidHlwZXN0eWxlXCIpO1xuY29uc3QgR2FtZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL0dhbWVcIik7XG5jb25zdCBzdHlsZV8xID0gcmVxdWlyZShcIi4vc3R5bGVcIik7XG5jb25zdCBDb250cm9sc19zdHlsZV8xID0gcmVxdWlyZShcIi4uLy4uL0NvbnRyb2xzLnN0eWxlXCIpO1xuY2xhc3MgU2V0dGluZ3NCdXR0b24gZXh0ZW5kcyBwcmVhY3RfMS5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm9uRnJlZU1vZGVDbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmdhbWUubW9kZSA9PT0gR2FtZV8xLlBsYXllck1vZGUuRlJFRSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ2FtZS5jaGFuZ2VNb2RlKEdhbWVfMS5QbGF5ZXJNb2RlLkZSRUUpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnBsYXllci5wYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUmVwbGF5TW9kZUNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZ2FtZS5tb2RlID09PSBHYW1lXzEuUGxheWVyTW9kZS5SRVBMQVkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByb3BzLmdhbWUuY2hhbmdlTW9kZShHYW1lXzEuUGxheWVyTW9kZS5SRVBMQVkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRvZ2dsZU1lbnUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiAhdGhpcy5zdGF0ZS5pc09wZW4gfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgaGFzUmVwbGF5ID0gISF0aGlzLnByb3BzLmdhbWUucGxheWVyLnJlcGxheTtcbiAgICAgICAgcmV0dXJuICgoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogc3R5bGVfMS5TZXR0aW5nc0J1dHRvblN0eWxlLnNldHRpbmdzIH0sXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogKDAsIHR5cGVzdHlsZV8xLmNsYXNzZXMpKENvbnRyb2xzX3N0eWxlXzEuQ29udHJvbHNTdHlsZS5idXR0b24sIHN0eWxlXzEuU2V0dGluZ3NCdXR0b25TdHlsZS5idXR0b24pLCBvbkNsaWNrOiB0aGlzLnRvZ2dsZU1lbnUgfSxcbiAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcInBhdGhcIiwgeyBcImZpbGwtcnVsZVwiOiBcImV2ZW5vZGRcIiwgXCJjbGlwLXJ1bGVcIjogXCJldmVub2RkXCIsIGZpbGw6IFwiI2ZmZmZmZlwiLCBkOiBcIk0yMy45IDEwLjdjMC0wLjMtMC40LTAuNi0wLjgtMC42IC0xLjEgMC0yLjEtMC42LTIuNS0xLjYgLTAuNC0xLTAuMS0yLjIgMC43LTMgMC4zLTAuMiAwLjMtMC42IDAuMS0wLjkgLTAuNi0wLjctMS4yLTEuNC0xLjktMS45IC0wLjMtMC4yLTAuNy0wLjItMC45IDAuMSAtMC43IDAuOC0yIDEuMS0zIDAuNyAtMS0wLjQtMS43LTEuNS0xLjYtMi42IDAtMC40LTAuMi0wLjctMC42LTAuNyAtMC45LTAuMS0xLjgtMC4xLTIuNyAwQzEwLjQgMC4xIDEwLjEgMC40IDEwLjEgMC44IDEwLjEgMS45IDkuNSAyLjkgOC41IDMuMyA3LjUgMy43IDYuMiAzLjQgNS41IDIuNmMtMC4yLTAuMy0wLjYtMC4zLTAuOS0wLjEgLTAuNyAwLjYtMS40IDEuMi0xLjkgMS45QzIuNCA0LjggMi41IDUuMiAyLjcgNS40YzAuOCAwLjggMS4xIDIgMC43IDMgLTAuNCAxLTEuNCAxLjYtMi42IDEuNiAtMC40IDAtMC43IDAuMi0wLjcgMC42IC0wLjEgMC45LTAuMSAxLjggMCAyLjcgMCAwLjMgMC40IDAuNiAwLjggMC42IDEgMCAyIDAuNiAyLjUgMS42IDAuNCAxIDAuMiAyLjItMC43IDMgLTAuMyAwLjItMC4zIDAuNi0wLjEgMC45IDAuNiAwLjcgMS4yIDEuNCAxLjkgMS45IDAuMyAwLjIgMC43IDAuMiAwLjktMC4xIDAuNy0wLjggMi0xLjEgMy0wLjcgMSAwLjQgMS43IDEuNSAxLjYgMi42IDAgMC40IDAuMiAwLjcgMC42IDAuN0MxMS4xIDI0IDExLjUgMjQgMTIgMjRjMC40IDAgMC45IDAgMS4zLTAuMSAwLjMgMCAwLjYtMC4zIDAuNi0wLjcgMC0xLjEgMC42LTIuMSAxLjYtMi42IDEtMC40IDIuMy0wLjEgMyAwLjcgMC4yIDAuMyAwLjYgMC4zIDAuOSAwLjEgMC43LTAuNiAxLjQtMS4yIDEuOS0xLjkgMC4yLTAuMyAwLjItMC43LTAuMS0wLjkgLTAuOC0wLjgtMS4xLTItMC43LTMgMC40LTEgMS40LTEuNiAyLjUtMS42bDAuMSAwYzAuMyAwIDAuNy0wLjIgMC43LTAuNkMyNCAxMi41IDI0IDExLjYgMjMuOSAxMC43ek0xMiAxOGMtMy4zIDAtNi0yLjctNi02czIuNy02IDYtNmMzLjMgMCA2IDIuNyA2IDZTMTUuMyAxOCAxMiAxOHpNMTIgMTZcIiB9KSkpLFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IHRoaXMuc3RhdGUuaXNPcGVuID8gc3R5bGVfMS5TZXR0aW5nc0J1dHRvblN0eWxlLm1lbnVPcGVuIDogc3R5bGVfMS5TZXR0aW5nc0J1dHRvblN0eWxlLm1lbnUgfSxcbiAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJzcGFuXCIsIHsgY2xhc3M6IHN0eWxlXzEuU2V0dGluZ3NCdXR0b25TdHlsZS5tZW51SXRlbVRpdGxlIH0sIFwiTW9kZVwiKSxcbiAgICAgICAgICAgICAgICBoYXNSZXBsYXkgPyAoKDAsIHByZWFjdF8xLmgpKFwic3BhblwiLCB7IGNsYXNzOiB0aGlzLnByb3BzLmdhbWUubW9kZSA9PT0gR2FtZV8xLlBsYXllck1vZGUuUkVQTEFZXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0eWxlXzEuU2V0dGluZ3NCdXR0b25TdHlsZS5tZW51SXRlbVNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHN0eWxlXzEuU2V0dGluZ3NCdXR0b25TdHlsZS5tZW51SXRlbSwgb25DbGljazogdGhpcy5vblJlcGxheU1vZGVDbGljayB9LCBcIlJlcGxheVwiKSkgOiAoKDAsIHByZWFjdF8xLmgpKFwic3BhblwiLCBudWxsKSksXG4gICAgICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwic3BhblwiLCB7IGNsYXNzOiB0aGlzLnByb3BzLmdhbWUubW9kZSA9PT0gR2FtZV8xLlBsYXllck1vZGUuRlJFRVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHlsZV8xLlNldHRpbmdzQnV0dG9uU3R5bGUubWVudUl0ZW1TZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdHlsZV8xLlNldHRpbmdzQnV0dG9uU3R5bGUubWVudUl0ZW0sIG9uQ2xpY2s6IHRoaXMub25GcmVlTW9kZUNsaWNrIH0sIFwiRnJlZVwiKSkpKTtcbiAgICB9XG59XG5leHBvcnRzLlNldHRpbmdzQnV0dG9uID0gU2V0dGluZ3NCdXR0b247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/SettingsButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/SettingsButton/style.ts":
/*!*************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/SettingsButton/style.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SettingsButtonStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst menuStyle = () => ({\n    display: 'none',\n    position: 'absolute',\n    left: '-38px',\n    bottom: '48px',\n    padding: '2px 6px',\n    fontSize: '14px',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    flexFlow: 'column',\n    minWidth: '100px'\n});\nconst menuItemStyle = () => ({\n    cursor: 'pointer',\n    margin: '4px 0',\n    padding: '4px',\n    $nest: {\n        '&:last-child': {\n            marginTop: 0\n        },\n        '&:hover': {\n            backgroundColor: 'rgba(255, 255, 255, 0.1)'\n        }\n    }\n});\nexports.SettingsButtonStyle = (0, typestyle_1.stylesheet)({\n    settings: {\n        position: 'relative'\n    },\n    menu: Object.assign({}, menuStyle()),\n    menuOpen: Object.assign(Object.assign({}, menuStyle()), { display: 'flex' }),\n    menuItemTitle: {\n        padding: '6px 4px',\n        borderBottom: '1px solid white',\n        fontWeight: 'bold'\n    },\n    menuItem: Object.assign({}, menuItemStyle()),\n    menuItemSelected: Object.assign(Object.assign({}, menuItemStyle()), { backgroundColor: 'rgba(255, 255, 255, 0.2) !important' }),\n    button: {\n        width: '32px',\n        height: '32px',\n        padding: '5px'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU2V0dGluZ3NCdXR0b24vc3R5bGUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCO0FBQzNCLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMLDBCQUEwQjtBQUMxQiw0Q0FBNEMsa0JBQWtCLGlCQUFpQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw4QkFBOEI7QUFDOUIsb0RBQW9ELHNCQUFzQix3REFBd0Q7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvQnV0dG9ucy9TZXR0aW5nc0J1dHRvbi9zdHlsZS50cz81Y2QxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TZXR0aW5nc0J1dHRvblN0eWxlID0gdm9pZCAwO1xuY29uc3QgdHlwZXN0eWxlXzEgPSByZXF1aXJlKFwidHlwZXN0eWxlXCIpO1xuY29uc3QgbWVudVN0eWxlID0gKCkgPT4gKHtcbiAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbGVmdDogJy0zOHB4JyxcbiAgICBib3R0b206ICc0OHB4JyxcbiAgICBwYWRkaW5nOiAnMnB4IDZweCcsXG4gICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgIGZsZXhGbG93OiAnY29sdW1uJyxcbiAgICBtaW5XaWR0aDogJzEwMHB4J1xufSk7XG5jb25zdCBtZW51SXRlbVN0eWxlID0gKCkgPT4gKHtcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBtYXJnaW46ICc0cHggMCcsXG4gICAgcGFkZGluZzogJzRweCcsXG4gICAgJG5lc3Q6IHtcbiAgICAgICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgICAgICAgIG1hcmdpblRvcDogMFxuICAgICAgICB9LFxuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSdcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuZXhwb3J0cy5TZXR0aW5nc0J1dHRvblN0eWxlID0gKDAsIHR5cGVzdHlsZV8xLnN0eWxlc2hlZXQpKHtcbiAgICBzZXR0aW5nczoge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgbWVudTogT2JqZWN0LmFzc2lnbih7fSwgbWVudVN0eWxlKCkpLFxuICAgIG1lbnVPcGVuOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1lbnVTdHlsZSgpKSwgeyBkaXNwbGF5OiAnZmxleCcgfSksXG4gICAgbWVudUl0ZW1UaXRsZToge1xuICAgICAgICBwYWRkaW5nOiAnNnB4IDRweCcsXG4gICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCB3aGl0ZScsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xuICAgIH0sXG4gICAgbWVudUl0ZW06IE9iamVjdC5hc3NpZ24oe30sIG1lbnVJdGVtU3R5bGUoKSksXG4gICAgbWVudUl0ZW1TZWxlY3RlZDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtZW51SXRlbVN0eWxlKCkpLCB7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSAhaW1wb3J0YW50JyB9KSxcbiAgICBidXR0b246IHtcbiAgICAgICAgd2lkdGg6ICczMnB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMzJweCcsXG4gICAgICAgIHBhZGRpbmc6ICc1cHgnXG4gICAgfVxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/SettingsButton/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/SpeedDownButton/index.tsx":
/*!***************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/SpeedDownButton/index.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SpeedDownButton = SpeedDownButton;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/Buttons/SpeedDownButton/style.ts\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nfunction SpeedDownButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.SpeedDownButtonStyle.button), onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L32 32 L32 64 L64 32 L32 0 L32 32 Z\" }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU3BlZWREb3duQnV0dG9uL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsaUJBQWlCLG1CQUFPLENBQUMsMkRBQVE7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsdUVBQVM7QUFDakMseUJBQXlCLG1CQUFPLENBQUMscUVBQXNCO0FBQ3ZEO0FBQ0EscUNBQXFDLHFJQUFxSTtBQUMxSyxpQ0FBaUMsaUZBQWlGO0FBQ2xILHNDQUFzQyxxREFBcUQ7QUFDM0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvQnV0dG9ucy9TcGVlZERvd25CdXR0b24vaW5kZXgudHN4P2RjMmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNwZWVkRG93bkJ1dHRvbiA9IFNwZWVkRG93bkJ1dHRvbjtcbmNvbnN0IHByZWFjdF8xID0gcmVxdWlyZShcInByZWFjdFwiKTtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcbmNvbnN0IENvbnRyb2xzX3N0eWxlXzEgPSByZXF1aXJlKFwiLi4vLi4vQ29udHJvbHMuc3R5bGVcIik7XG5mdW5jdGlvbiBTcGVlZERvd25CdXR0b24ocHJvcHMpIHtcbiAgICByZXR1cm4gKCgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiAoMCwgdHlwZXN0eWxlXzEuY2xhc3NlcykoQ29udHJvbHNfc3R5bGVfMS5Db250cm9sc1N0eWxlLmJ1dHRvbiwgc3R5bGVfMS5TcGVlZERvd25CdXR0b25TdHlsZS5idXR0b24pLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sXG4gICAgICAgICgwLCBwcmVhY3RfMS5oKShcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHZpZXdCb3g6IFwiMCAwIDY0IDY0XCIsIGZpbGw6IFwiY3VycmVudGNvbG9yXCIgfSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcInBhdGhcIiwgeyBkOiBcIk0wIDAgTDAgNjQgTDMyIDMyIEwzMiA2NCBMNjQgMzIgTDMyIDAgTDMyIDMyIFpcIiB9KSkpKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/SpeedDownButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/SpeedDownButton/style.ts":
/*!**************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/SpeedDownButton/style.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SpeedDownButtonStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.SpeedDownButtonStyle = (0, typestyle_1.stylesheet)({\n    button: {\n        transform: 'rotate(180deg)'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU3BlZWREb3duQnV0dG9uL3N0eWxlLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QjtBQUM1QixvQkFBb0IsbUJBQU8sQ0FBQywrREFBVztBQUN2Qyw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9CdXR0b25zL1NwZWVkRG93bkJ1dHRvbi9zdHlsZS50cz83M2NiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TcGVlZERvd25CdXR0b25TdHlsZSA9IHZvaWQgMDtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmV4cG9ydHMuU3BlZWREb3duQnV0dG9uU3R5bGUgPSAoMCwgdHlwZXN0eWxlXzEuc3R5bGVzaGVldCkoe1xuICAgIGJ1dHRvbjoge1xuICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoMTgwZGVnKSdcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/SpeedDownButton/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/SpeedUpButton/index.tsx":
/*!*************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/SpeedUpButton/index.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SpeedUpButton = SpeedUpButton;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nfunction SpeedUpButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.button, onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L32 32 L32 64 L64 32 L32 0 L32 32 Z\" }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU3BlZWRVcEJ1dHRvbi9pbmRleC50c3giLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFRO0FBQ2pDLHlCQUF5QixtQkFBTyxDQUFDLHFFQUFzQjtBQUN2RDtBQUNBLHFDQUFxQyxzRUFBc0U7QUFDM0csaUNBQWlDLGlGQUFpRjtBQUNsSCxzQ0FBc0MscURBQXFEO0FBQzNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvU3BlZWRVcEJ1dHRvbi9pbmRleC50c3g/MzAxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3BlZWRVcEJ1dHRvbiA9IFNwZWVkVXBCdXR0b247XG5jb25zdCBwcmVhY3RfMSA9IHJlcXVpcmUoXCJwcmVhY3RcIik7XG5jb25zdCBDb250cm9sc19zdHlsZV8xID0gcmVxdWlyZShcIi4uLy4uL0NvbnRyb2xzLnN0eWxlXCIpO1xuZnVuY3Rpb24gU3BlZWRVcEJ1dHRvbihwcm9wcykge1xuICAgIHJldHVybiAoKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IENvbnRyb2xzX3N0eWxlXzEuQ29udHJvbHNTdHlsZS5idXR0b24sIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcbiAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdmlld0JveDogXCIwIDAgNjQgNjRcIiwgZmlsbDogXCJjdXJyZW50Y29sb3JcIiB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwicGF0aFwiLCB7IGQ6IFwiTTAgMCBMMCA2NCBMMzIgMzIgTDMyIDY0IEw2NCAzMiBMMzIgMCBMMzIgMzIgWlwiIH0pKSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/SpeedUpButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/VolumeButton/index.tsx":
/*!************************************************************!*\
  !*** ./src/PlayerInterface/Buttons/VolumeButton/index.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VolumeButton = VolumeButton;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/Buttons/VolumeButton/style.ts\");\nconst Controls_style_1 = __webpack_require__(/*! ../../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nfunction VolumeButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.VolumeButton.button), onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 48 48\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z\" }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvVm9sdW1lQnV0dG9uL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsaUJBQWlCLG1CQUFPLENBQUMsMkRBQVE7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsb0VBQVM7QUFDakMseUJBQXlCLG1CQUFPLENBQUMscUVBQXNCO0FBQ3ZEO0FBQ0EscUNBQXFDLDZIQUE2SDtBQUNsSyxpQ0FBaUMsaUZBQWlGO0FBQ2xILHNDQUFzQywrTUFBK007QUFDclAiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvQnV0dG9ucy9Wb2x1bWVCdXR0b24vaW5kZXgudHN4PzEyMmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlZvbHVtZUJ1dHRvbiA9IFZvbHVtZUJ1dHRvbjtcbmNvbnN0IHByZWFjdF8xID0gcmVxdWlyZShcInByZWFjdFwiKTtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcbmNvbnN0IENvbnRyb2xzX3N0eWxlXzEgPSByZXF1aXJlKFwiLi4vLi4vQ29udHJvbHMuc3R5bGVcIik7XG5mdW5jdGlvbiBWb2x1bWVCdXR0b24ocHJvcHMpIHtcbiAgICByZXR1cm4gKCgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiAoMCwgdHlwZXN0eWxlXzEuY2xhc3NlcykoQ29udHJvbHNfc3R5bGVfMS5Db250cm9sc1N0eWxlLmJ1dHRvbiwgc3R5bGVfMS5Wb2x1bWVCdXR0b24uYnV0dG9uKSwgb25DbGljazogcHJvcHMub25DbGljayB9LFxuICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiLCBmaWxsOiBcImN1cnJlbnRjb2xvclwiIH0sXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJwYXRoXCIsIHsgZDogXCJNNiAxOHYxMmg4bDEwIDEwVjhMMTQgMThINnptMjcgNmMwLTMuNTMtMi4wNC02LjU4LTUtOC4wNXYxNi4xMWMyLjk2LTEuNDggNS00LjUzIDUtOC4wNnpNMjggNi40NnY0LjEzYzUuNzggMS43MiAxMCA3LjA3IDEwIDEzLjQxcy00LjIyIDExLjY5LTEwIDEzLjQxdjQuMTNjOC4wMS0xLjgyIDE0LTguOTcgMTQtMTcuNTRTMzYuMDEgOC4yOCAyOCA2LjQ2elwiIH0pKSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/VolumeButton/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Buttons/VolumeButton/style.ts":
/*!***********************************************************!*\
  !*** ./src/PlayerInterface/Buttons/VolumeButton/style.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VolumeButton = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.VolumeButton = (0, typestyle_1.stylesheet)({\n    button: {\n        width: '28px',\n        height: '28px',\n        padding: '2px',\n        marginRight: '5px'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0J1dHRvbnMvVm9sdW1lQnV0dG9uL3N0eWxlLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixvQkFBb0IsbUJBQU8sQ0FBQywrREFBVztBQUN2QyxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9CdXR0b25zL1ZvbHVtZUJ1dHRvbi9zdHlsZS50cz85OTFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Wb2x1bWVCdXR0b24gPSB2b2lkIDA7XG5jb25zdCB0eXBlc3R5bGVfMSA9IHJlcXVpcmUoXCJ0eXBlc3R5bGVcIik7XG5leHBvcnRzLlZvbHVtZUJ1dHRvbiA9ICgwLCB0eXBlc3R5bGVfMS5zdHlsZXNoZWV0KSh7XG4gICAgYnV0dG9uOiB7XG4gICAgICAgIHdpZHRoOiAnMjhweCcsXG4gICAgICAgIGhlaWdodDogJzI4cHgnLFxuICAgICAgICBwYWRkaW5nOiAnMnB4JyxcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICc1cHgnXG4gICAgfVxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Buttons/VolumeButton/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Controls.style.ts":
/*!***********************************************!*\
  !*** ./src/PlayerInterface/Controls.style.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ControlsStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst controlsStyle = () => ({\n    zIndex: 30,\n    position: 'absolute',\n    width: '100%',\n    bottom: 0,\n    padding: '0 16px',\n    boxSizing: 'border-box',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    userSelect: 'none',\n    opacity: 0,\n    transition: 'opacity 0.2s'\n});\nexports.ControlsStyle = (0, typestyle_1.stylesheet)({\n    controls: Object.assign({}, controlsStyle()),\n    controlsVisible: Object.assign(Object.assign({}, controlsStyle()), { opacity: 1 }),\n    buttons: {\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '6px',\n        alignItems: 'center'\n    },\n    button: {\n        width: '32px',\n        height: '32px',\n        padding: '7px',\n        boxSizing: 'border-box',\n        cursor: 'pointer'\n    },\n    left: {\n        display: 'flex',\n        alignItems: 'center',\n        $nest: {\n            '& .button': {\n                marginRight: '8px'\n            }\n        }\n    },\n    right: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '70px',\n        height: '100%',\n        justifyContent: 'space-between'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0NvbnRyb2xzLnN0eWxlLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixvQkFBb0IsbUJBQU8sQ0FBQywrREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQiw4QkFBOEI7QUFDOUIsbURBQW1ELHNCQUFzQixZQUFZO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvQ29udHJvbHMuc3R5bGUudHM/YzM4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29udHJvbHNTdHlsZSA9IHZvaWQgMDtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmNvbnN0IGNvbnRyb2xzU3R5bGUgPSAoKSA9PiAoe1xuICAgIHpJbmRleDogMzAsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBib3R0b206IDAsXG4gICAgcGFkZGluZzogJzAgMTZweCcsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjQpJyxcbiAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgb3BhY2l0eTogMCxcbiAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzJ1xufSk7XG5leHBvcnRzLkNvbnRyb2xzU3R5bGUgPSAoMCwgdHlwZXN0eWxlXzEuc3R5bGVzaGVldCkoe1xuICAgIGNvbnRyb2xzOiBPYmplY3QuYXNzaWduKHt9LCBjb250cm9sc1N0eWxlKCkpLFxuICAgIGNvbnRyb2xzVmlzaWJsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb250cm9sc1N0eWxlKCkpLCB7IG9wYWNpdHk6IDEgfSksXG4gICAgYnV0dG9uczoge1xuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICBtYXJnaW5Cb3R0b206ICc2cHgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgYnV0dG9uOiB7XG4gICAgICAgIHdpZHRoOiAnMzJweCcsXG4gICAgICAgIGhlaWdodDogJzMycHgnLFxuICAgICAgICBwYWRkaW5nOiAnN3B4JyxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgfSxcbiAgICBsZWZ0OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICRuZXN0OiB7XG4gICAgICAgICAgICAnJiAuYnV0dG9uJzoge1xuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnOHB4J1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICByaWdodDoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICB3aWR0aDogJzcwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Controls.style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/FreeMode/index.tsx":
/*!************************************************!*\
  !*** ./src/PlayerInterface/FreeMode/index.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FreeMode = FreeMode;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/FreeMode/style.ts\");\nconst Controls_style_1 = __webpack_require__(/*! ../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nconst SettingsButton_1 = __webpack_require__(/*! ../Buttons/SettingsButton */ \"./src/PlayerInterface/Buttons/SettingsButton/index.tsx\");\nconst FullscreenButton_1 = __webpack_require__(/*! ../Buttons/FullscreenButton */ \"./src/PlayerInterface/Buttons/FullscreenButton/index.tsx\");\nfunction FreeMode(props) {\n    return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(props.class, style_1.FreeModeStyle.controls) },\n        (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.buttons },\n            (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.left }),\n            (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.right },\n                (0, preact_1.h)(SettingsButton_1.SettingsButton, { game: props.game }),\n                (0, preact_1.h)(FullscreenButton_1.FullscreenButton, { active: false, root: props.root })))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0ZyZWVNb2RlL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsaUJBQWlCLG1CQUFPLENBQUMsMkRBQVE7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsd0RBQVM7QUFDakMseUJBQXlCLG1CQUFPLENBQUMsa0VBQW1CO0FBQ3BELHlCQUF5QixtQkFBTyxDQUFDLHlGQUEyQjtBQUM1RCwyQkFBMkIsbUJBQU8sQ0FBQyw2RkFBNkI7QUFDaEU7QUFDQSxxQ0FBcUMsOEVBQThFO0FBQ25ILGlDQUFpQywrQ0FBK0M7QUFDaEYscUNBQXFDLDRDQUE0QztBQUNqRixxQ0FBcUMsNkNBQTZDO0FBQ2xGLG1FQUFtRSxrQkFBa0I7QUFDckYsdUVBQXVFLGlDQUFpQztBQUN4RyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9GcmVlTW9kZS9pbmRleC50c3g/NWQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRnJlZU1vZGUgPSBGcmVlTW9kZTtcbmNvbnN0IHByZWFjdF8xID0gcmVxdWlyZShcInByZWFjdFwiKTtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcbmNvbnN0IENvbnRyb2xzX3N0eWxlXzEgPSByZXF1aXJlKFwiLi4vQ29udHJvbHMuc3R5bGVcIik7XG5jb25zdCBTZXR0aW5nc0J1dHRvbl8xID0gcmVxdWlyZShcIi4uL0J1dHRvbnMvU2V0dGluZ3NCdXR0b25cIik7XG5jb25zdCBGdWxsc2NyZWVuQnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vQnV0dG9ucy9GdWxsc2NyZWVuQnV0dG9uXCIpO1xuZnVuY3Rpb24gRnJlZU1vZGUocHJvcHMpIHtcbiAgICByZXR1cm4gKCgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiAoMCwgdHlwZXN0eWxlXzEuY2xhc3NlcykocHJvcHMuY2xhc3MsIHN0eWxlXzEuRnJlZU1vZGVTdHlsZS5jb250cm9scykgfSxcbiAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IENvbnRyb2xzX3N0eWxlXzEuQ29udHJvbHNTdHlsZS5idXR0b25zIH0sXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogQ29udHJvbHNfc3R5bGVfMS5Db250cm9sc1N0eWxlLmxlZnQgfSksXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogQ29udHJvbHNfc3R5bGVfMS5Db250cm9sc1N0eWxlLnJpZ2h0IH0sXG4gICAgICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFNldHRpbmdzQnV0dG9uXzEuU2V0dGluZ3NCdXR0b24sIHsgZ2FtZTogcHJvcHMuZ2FtZSB9KSxcbiAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoRnVsbHNjcmVlbkJ1dHRvbl8xLkZ1bGxzY3JlZW5CdXR0b24sIHsgYWN0aXZlOiBmYWxzZSwgcm9vdDogcHJvcHMucm9vdCB9KSkpKSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/FreeMode/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/FreeMode/style.ts":
/*!***********************************************!*\
  !*** ./src/PlayerInterface/FreeMode/style.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FreeModeStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.FreeModeStyle = (0, typestyle_1.stylesheet)({\n    controls: {\n        height: '44px'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0ZyZWVNb2RlL3N0eWxlLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixvQkFBb0IsbUJBQU8sQ0FBQywrREFBVztBQUN2QyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9GcmVlTW9kZS9zdHlsZS50cz81MWU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GcmVlTW9kZVN0eWxlID0gdm9pZCAwO1xuY29uc3QgdHlwZXN0eWxlXzEgPSByZXF1aXJlKFwidHlwZXN0eWxlXCIpO1xuZXhwb3J0cy5GcmVlTW9kZVN0eWxlID0gKDAsIHR5cGVzdHlsZV8xLnN0eWxlc2hlZXQpKHtcbiAgICBjb250cm9sczoge1xuICAgICAgICBoZWlnaHQ6ICc0NHB4J1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/FreeMode/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Loading/index.tsx":
/*!***********************************************!*\
  !*** ./src/PlayerInterface/Loading/index.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Loading = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/Loading/style.ts\");\nconst itemTypeGroupName = {\n    replay: 'Replay',\n    bsp: 'Map',\n    sound: 'Sounds',\n    sky: 'Skybox',\n    sprite: 'Sprites',\n    wad: 'Wads'\n};\nclass Loading extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            items: {}\n        };\n        this.onItemLoad = (item) => {\n            const items = this.state.items[item.type] ? this.state.items[item.type] : [];\n            for (let i = 0; i < items.length; ++i) {\n                if (items[i] === item) {\n                    return;\n                }\n            }\n            items.push({\n                name: item.name,\n                progress: 0\n            });\n            this.setState({\n                items: Object.assign(Object.assign({}, this.state.items), { [item.type]: items })\n            });\n        };\n        this.onItemProgress = (item) => {\n            if (!this.state.items[item.type]) {\n                return;\n            }\n            const items = this.state.items[item.type];\n            for (let i = 0; i < items.length; ++i) {\n                if (items[i].name === item.name) {\n                    items[i].progress = item.progress;\n                    break;\n                }\n            }\n            this.forceUpdate();\n        };\n    }\n    componentDidMount() {\n        const loaderEvents = this.props.game.loader.events;\n        this.offLoadStart = loaderEvents.on('loadstart', this.onItemLoad);\n        this.offProgress = loaderEvents.on('progress', this.onItemProgress);\n    }\n    componentWillUnmount() {\n        this.offLoadStart && this.offLoadStart();\n        this.offProgress && this.offProgress();\n    }\n    formatItem(name, progress) {\n        name = itemTypeGroupName[name];\n        const status = Math.round(progress * 100) + '%';\n        let length = 29 - name.length - status.length;\n        if (length < 2) {\n            length = 9 - status.length;\n        }\n        const dots = Array(length).join('.');\n        return `${name}${dots}${status}`;\n    }\n    render() {\n        return ((0, preact_1.h)(\"div\", { class: this.props.visible ? style_1.LoadingStyle.loading : style_1.LoadingStyle.loadingHidden },\n            (0, preact_1.h)(\"div\", { class: style_1.LoadingStyle.spinner },\n                (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", x: \"0px\", y: \"0px\", width: \"80px\", height: \"80px\", viewBox: \"0 0 80 80\", xmlSpace: \"preserve\" },\n                    (0, preact_1.h)(\"path\", { fill: \"#ffffff\", width: \"10px\", d: \"M40,72C22.4,72,8,57.6,8,40C8,22.4,22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6,28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z\" }))),\n            (0, preact_1.h)(\"ul\", { class: style_1.LoadingStyle.log }, Object.entries(this.state.items).map(([name, items]) => ((0, preact_1.h)(\"li\", { key: name, class: style_1.LoadingStyle.logItem }, this.formatItem(name, items.reduce((prev, cur) => prev + cur.progress, 0) /\n                items.length)))))));\n    }\n}\nexports.Loading = Loading;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0xvYWRpbmcvaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyxnQkFBZ0IsbUJBQU8sQ0FBQyx1REFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxxREFBcUQsdUJBQXVCLG9CQUFvQjtBQUNoRyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU87QUFDdkM7QUFDQTtBQUNBLHlDQUF5QywrRkFBK0Y7QUFDeEkscUNBQXFDLHFDQUFxQztBQUMxRSx5Q0FBeUMsb0lBQW9JO0FBQzdLLDhDQUE4QyxvTkFBb047QUFDbFEsb0NBQW9DLGlDQUFpQyxtRkFBbUYsZ0RBQWdEO0FBQ3hNO0FBQ0E7QUFDQTtBQUNBLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvTG9hZGluZy9pbmRleC50c3g/NWQ3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9hZGluZyA9IHZvaWQgMDtcbmNvbnN0IHByZWFjdF8xID0gcmVxdWlyZShcInByZWFjdFwiKTtcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcbmNvbnN0IGl0ZW1UeXBlR3JvdXBOYW1lID0ge1xuICAgIHJlcGxheTogJ1JlcGxheScsXG4gICAgYnNwOiAnTWFwJyxcbiAgICBzb3VuZDogJ1NvdW5kcycsXG4gICAgc2t5OiAnU2t5Ym94JyxcbiAgICBzcHJpdGU6ICdTcHJpdGVzJyxcbiAgICB3YWQ6ICdXYWRzJ1xufTtcbmNsYXNzIExvYWRpbmcgZXh0ZW5kcyBwcmVhY3RfMS5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaXRlbXM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25JdGVtTG9hZCA9IChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuc3RhdGUuaXRlbXNbaXRlbS50eXBlXSA/IHRoaXMuc3RhdGUuaXRlbXNbaXRlbS50eXBlXSA6IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGl0ZW1zOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuaXRlbXMpLCB7IFtpdGVtLnR5cGVdOiBpdGVtcyB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25JdGVtUHJvZ3Jlc3MgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLml0ZW1zW2l0ZW0udHlwZV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuc3RhdGUuaXRlbXNbaXRlbS50eXBlXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0ubmFtZSA9PT0gaXRlbS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLnByb2dyZXNzID0gaXRlbS5wcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgbG9hZGVyRXZlbnRzID0gdGhpcy5wcm9wcy5nYW1lLmxvYWRlci5ldmVudHM7XG4gICAgICAgIHRoaXMub2ZmTG9hZFN0YXJ0ID0gbG9hZGVyRXZlbnRzLm9uKCdsb2Fkc3RhcnQnLCB0aGlzLm9uSXRlbUxvYWQpO1xuICAgICAgICB0aGlzLm9mZlByb2dyZXNzID0gbG9hZGVyRXZlbnRzLm9uKCdwcm9ncmVzcycsIHRoaXMub25JdGVtUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5vZmZMb2FkU3RhcnQgJiYgdGhpcy5vZmZMb2FkU3RhcnQoKTtcbiAgICAgICAgdGhpcy5vZmZQcm9ncmVzcyAmJiB0aGlzLm9mZlByb2dyZXNzKCk7XG4gICAgfVxuICAgIGZvcm1hdEl0ZW0obmFtZSwgcHJvZ3Jlc3MpIHtcbiAgICAgICAgbmFtZSA9IGl0ZW1UeXBlR3JvdXBOYW1lW25hbWVdO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBNYXRoLnJvdW5kKHByb2dyZXNzICogMTAwKSArICclJztcbiAgICAgICAgbGV0IGxlbmd0aCA9IDI5IC0gbmFtZS5sZW5ndGggLSBzdGF0dXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgbGVuZ3RoID0gOSAtIHN0YXR1cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG90cyA9IEFycmF5KGxlbmd0aCkuam9pbignLicpO1xuICAgICAgICByZXR1cm4gYCR7bmFtZX0ke2RvdHN9JHtzdGF0dXN9YDtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKCgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiB0aGlzLnByb3BzLnZpc2libGUgPyBzdHlsZV8xLkxvYWRpbmdTdHlsZS5sb2FkaW5nIDogc3R5bGVfMS5Mb2FkaW5nU3R5bGUubG9hZGluZ0hpZGRlbiB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IHN0eWxlXzEuTG9hZGluZ1N0eWxlLnNwaW5uZXIgfSxcbiAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB4OiBcIjBweFwiLCB5OiBcIjBweFwiLCB3aWR0aDogXCI4MHB4XCIsIGhlaWdodDogXCI4MHB4XCIsIHZpZXdCb3g6IFwiMCAwIDgwIDgwXCIsIHhtbFNwYWNlOiBcInByZXNlcnZlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwicGF0aFwiLCB7IGZpbGw6IFwiI2ZmZmZmZlwiLCB3aWR0aDogXCIxMHB4XCIsIGQ6IFwiTTQwLDcyQzIyLjQsNzIsOCw1Ny42LDgsNDBDOCwyMi40LDIyLjQsOCw0MCw4YzE3LjYsMCwzMiwxNC40LDMyLDMyYzAsMS4xLTAuOSwyLTIsMnMtMi0wLjktMi0yYzAtMTUuNC0xMi42LTI4LTI4LTI4UzEyLDI0LjYsMTIsNDBzMTIuNiwyOCwyOCwyOGMxLjEsMCwyLDAuOSwyLDJTNDEuMSw3Miw0MCw3MnpcIiB9KSkpLFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwidWxcIiwgeyBjbGFzczogc3R5bGVfMS5Mb2FkaW5nU3R5bGUubG9nIH0sIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGUuaXRlbXMpLm1hcCgoW25hbWUsIGl0ZW1zXSkgPT4gKCgwLCBwcmVhY3RfMS5oKShcImxpXCIsIHsga2V5OiBuYW1lLCBjbGFzczogc3R5bGVfMS5Mb2FkaW5nU3R5bGUubG9nSXRlbSB9LCB0aGlzLmZvcm1hdEl0ZW0obmFtZSwgaXRlbXMucmVkdWNlKChwcmV2LCBjdXIpID0+IHByZXYgKyBjdXIucHJvZ3Jlc3MsIDApIC9cbiAgICAgICAgICAgICAgICBpdGVtcy5sZW5ndGgpKSkpKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuTG9hZGluZyA9IExvYWRpbmc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Loading/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Loading/style.ts":
/*!**********************************************!*\
  !*** ./src/PlayerInterface/Loading/style.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LoadingStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst loadingStyle = () => ({\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    opacity: 1,\n    transition: 'opacity 2s ease, z-index 1s linear',\n    zIndex: 30\n});\nexports.LoadingStyle = (0, typestyle_1.stylesheet)({\n    loading: Object.assign({}, loadingStyle()),\n    loadingHidden: Object.assign(Object.assign({}, loadingStyle()), { opacity: 0, userSelect: 'none', zIndex: 0 }),\n    spinner: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        marginLeft: '-40px',\n        marginTop: '-40px',\n        animation: 'rotate 1s linear 0s infinite',\n        height: '80px',\n        width: '80px',\n        animationName: (0, typestyle_1.keyframes)({\n            from: { transform: 'rotate(0deg)' },\n            to: { transform: 'rotate(360deg)' }\n        })\n    },\n    log: {\n        position: 'absolute',\n        background: 'rgba(0,0,0,0.4)',\n        padding: '10px',\n        fontFamily: 'monospace',\n        margin: '0',\n        top: '16px',\n        right: 0,\n        paddingLeft: '16px',\n        listStyle: 'none'\n    },\n    logItem: {\n        display: 'block'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL0xvYWRpbmcvc3R5bGUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG9CQUFvQjtBQUNwQiw2QkFBNkI7QUFDN0IsaURBQWlELHFCQUFxQiwyQ0FBMkM7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkJBQTJCO0FBQy9DLGtCQUFrQjtBQUNsQixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvTG9hZGluZy9zdHlsZS50cz9mZjFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2FkaW5nU3R5bGUgPSB2b2lkIDA7XG5jb25zdCB0eXBlc3R5bGVfMSA9IHJlcXVpcmUoXCJ0eXBlc3R5bGVcIik7XG5jb25zdCBsb2FkaW5nU3R5bGUgPSAoKSA9PiAoe1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgb3BhY2l0eTogMSxcbiAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAycyBlYXNlLCB6LWluZGV4IDFzIGxpbmVhcicsXG4gICAgekluZGV4OiAzMFxufSk7XG5leHBvcnRzLkxvYWRpbmdTdHlsZSA9ICgwLCB0eXBlc3R5bGVfMS5zdHlsZXNoZWV0KSh7XG4gICAgbG9hZGluZzogT2JqZWN0LmFzc2lnbih7fSwgbG9hZGluZ1N0eWxlKCkpLFxuICAgIGxvYWRpbmdIaWRkZW46IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9hZGluZ1N0eWxlKCkpLCB7IG9wYWNpdHk6IDAsIHVzZXJTZWxlY3Q6ICdub25lJywgekluZGV4OiAwIH0pLFxuICAgIHNwaW5uZXI6IHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBtYXJnaW5MZWZ0OiAnLTQwcHgnLFxuICAgICAgICBtYXJnaW5Ub3A6ICctNDBweCcsXG4gICAgICAgIGFuaW1hdGlvbjogJ3JvdGF0ZSAxcyBsaW5lYXIgMHMgaW5maW5pdGUnLFxuICAgICAgICBoZWlnaHQ6ICc4MHB4JyxcbiAgICAgICAgd2lkdGg6ICc4MHB4JyxcbiAgICAgICAgYW5pbWF0aW9uTmFtZTogKDAsIHR5cGVzdHlsZV8xLmtleWZyYW1lcykoe1xuICAgICAgICAgICAgZnJvbTogeyB0cmFuc2Zvcm06ICdyb3RhdGUoMGRlZyknIH0sXG4gICAgICAgICAgICB0bzogeyB0cmFuc2Zvcm06ICdyb3RhdGUoMzYwZGVnKScgfVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgbG9nOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjQpJyxcbiAgICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyxcbiAgICAgICAgbWFyZ2luOiAnMCcsXG4gICAgICAgIHRvcDogJzE2cHgnLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICcxNnB4JyxcbiAgICAgICAgbGlzdFN0eWxlOiAnbm9uZSdcbiAgICB9LFxuICAgIGxvZ0l0ZW06IHtcbiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Loading/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/ReplayMode/index.tsx":
/*!**************************************************!*\
  !*** ./src/PlayerInterface/ReplayMode/index.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayMode = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Time_1 = __webpack_require__(/*! ../Time */ \"./src/PlayerInterface/Time/index.tsx\");\nconst TimeLine_1 = __webpack_require__(/*! ../TimeLine */ \"./src/PlayerInterface/TimeLine/index.tsx\");\nconst VolumeControl_1 = __webpack_require__(/*! ../VolumeControl */ \"./src/PlayerInterface/VolumeControl/index.tsx\");\nconst PlayButton_1 = __webpack_require__(/*! ../Buttons/PlayButton */ \"./src/PlayerInterface/Buttons/PlayButton/index.tsx\");\nconst PauseButton_1 = __webpack_require__(/*! ../Buttons/PauseButton */ \"./src/PlayerInterface/Buttons/PauseButton/index.tsx\");\nconst VolumeButton_1 = __webpack_require__(/*! ../Buttons/VolumeButton */ \"./src/PlayerInterface/Buttons/VolumeButton/index.tsx\");\nconst SpeedUpButton_1 = __webpack_require__(/*! ../Buttons/SpeedUpButton */ \"./src/PlayerInterface/Buttons/SpeedUpButton/index.tsx\");\nconst SpeedDownButton_1 = __webpack_require__(/*! ../Buttons/SpeedDownButton */ \"./src/PlayerInterface/Buttons/SpeedDownButton/index.tsx\");\nconst SettingsButton_1 = __webpack_require__(/*! ../Buttons/SettingsButton */ \"./src/PlayerInterface/Buttons/SettingsButton/index.tsx\");\nconst FullscreenButton_1 = __webpack_require__(/*! ../Buttons/FullscreenButton */ \"./src/PlayerInterface/Buttons/FullscreenButton/index.tsx\");\nconst Controls_style_1 = __webpack_require__(/*! ../Controls.style */ \"./src/PlayerInterface/Controls.style.ts\");\nclass ReplayMode extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.onPlayClick = () => {\n            this.props.game.player.play();\n        };\n        this.onPauseClick = () => {\n            this.props.game.player.pause();\n        };\n        this.onSpeedDown = () => {\n            this.props.game.player.speedDown();\n        };\n        this.onSpeedUp = () => {\n            this.props.game.player.speedUp();\n        };\n        this.onVolumeClick = () => {\n            this.props.game.soundSystem.toggleMute();\n        };\n        this.onPlayStateChange = () => {\n            this.forceUpdate();\n        };\n    }\n    componentDidMount() {\n        this.offPlay = this.props.game.player.events.on('play', this.onPlayStateChange);\n        this.offPause = this.props.game.player.events.on('pause', this.onPlayStateChange);\n        this.offStop = this.props.game.player.events.on('stop', this.onPlayStateChange);\n    }\n    componentWillUnmount() {\n        this.offPlay && this.offPlay();\n        this.offPause && this.offPause();\n        this.offStop && this.offStop();\n    }\n    render() {\n        const game = this.props.game;\n        const player = game.player;\n        const playing = player.isPlaying;\n        const paused = player.isPaused;\n        return ((0, preact_1.h)(\"div\", { class: this.props.class },\n            (0, preact_1.h)(TimeLine_1.TimeLine, { game: game }),\n            (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.buttons },\n                (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.left },\n                    (0, preact_1.h)(SpeedDownButton_1.SpeedDownButton, { onClick: this.onSpeedDown }),\n                    paused || !playing ? ((0, preact_1.h)(PlayButton_1.PlayButton, { onClick: this.onPlayClick })) : ((0, preact_1.h)(PauseButton_1.PauseButton, { onClick: this.onPauseClick })),\n                    (0, preact_1.h)(SpeedUpButton_1.SpeedUpButton, { onClick: this.onSpeedUp }),\n                    (0, preact_1.h)(VolumeButton_1.VolumeButton, { onClick: this.onVolumeClick }),\n                    (0, preact_1.h)(VolumeControl_1.VolumeControl, { game: game }),\n                    (0, preact_1.h)(Time_1.Time, { player: player })),\n                (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.right },\n                    (0, preact_1.h)(SettingsButton_1.SettingsButton, { game: game }),\n                    (0, preact_1.h)(FullscreenButton_1.FullscreenButton, { active: true, root: this.props.root })))));\n    }\n}\nexports.ReplayMode = ReplayMode;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1JlcGxheU1vZGUvaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyxlQUFlLG1CQUFPLENBQUMscURBQVM7QUFDaEMsbUJBQW1CLG1CQUFPLENBQUMsNkRBQWE7QUFDeEMsd0JBQXdCLG1CQUFPLENBQUMsdUVBQWtCO0FBQ2xELHFCQUFxQixtQkFBTyxDQUFDLGlGQUF1QjtBQUNwRCxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBd0I7QUFDdEQsdUJBQXVCLG1CQUFPLENBQUMscUZBQXlCO0FBQ3hELHdCQUF3QixtQkFBTyxDQUFDLHVGQUEwQjtBQUMxRCwwQkFBMEIsbUJBQU8sQ0FBQywyRkFBNEI7QUFDOUQseUJBQXlCLG1CQUFPLENBQUMseUZBQTJCO0FBQzVELDJCQUEyQixtQkFBTyxDQUFDLDZGQUE2QjtBQUNoRSx5QkFBeUIsbUJBQU8sQ0FBQyxrRUFBbUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMseUJBQXlCO0FBQ2xFLG1EQUFtRCxZQUFZO0FBQy9ELHFDQUFxQywrQ0FBK0M7QUFDcEYseUNBQXlDLDRDQUE0QztBQUNyRix5RUFBeUUsMkJBQTJCO0FBQ3BHLHFGQUFxRiwyQkFBMkIsbURBQW1ELDRCQUE0QjtBQUMvTCxxRUFBcUUseUJBQXlCO0FBQzlGLG1FQUFtRSw2QkFBNkI7QUFDaEcscUVBQXFFLFlBQVk7QUFDakYsbURBQW1ELGdCQUFnQjtBQUNuRSx5Q0FBeUMsNkNBQTZDO0FBQ3RGLHVFQUF1RSxZQUFZO0FBQ25GLDJFQUEyRSxxQ0FBcUM7QUFDaEg7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9SZXBsYXlNb2RlL2luZGV4LnRzeD84NWVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlNb2RlID0gdm9pZCAwO1xuY29uc3QgcHJlYWN0XzEgPSByZXF1aXJlKFwicHJlYWN0XCIpO1xuY29uc3QgVGltZV8xID0gcmVxdWlyZShcIi4uL1RpbWVcIik7XG5jb25zdCBUaW1lTGluZV8xID0gcmVxdWlyZShcIi4uL1RpbWVMaW5lXCIpO1xuY29uc3QgVm9sdW1lQ29udHJvbF8xID0gcmVxdWlyZShcIi4uL1ZvbHVtZUNvbnRyb2xcIik7XG5jb25zdCBQbGF5QnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vQnV0dG9ucy9QbGF5QnV0dG9uXCIpO1xuY29uc3QgUGF1c2VCdXR0b25fMSA9IHJlcXVpcmUoXCIuLi9CdXR0b25zL1BhdXNlQnV0dG9uXCIpO1xuY29uc3QgVm9sdW1lQnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vQnV0dG9ucy9Wb2x1bWVCdXR0b25cIik7XG5jb25zdCBTcGVlZFVwQnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vQnV0dG9ucy9TcGVlZFVwQnV0dG9uXCIpO1xuY29uc3QgU3BlZWREb3duQnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vQnV0dG9ucy9TcGVlZERvd25CdXR0b25cIik7XG5jb25zdCBTZXR0aW5nc0J1dHRvbl8xID0gcmVxdWlyZShcIi4uL0J1dHRvbnMvU2V0dGluZ3NCdXR0b25cIik7XG5jb25zdCBGdWxsc2NyZWVuQnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vQnV0dG9ucy9GdWxsc2NyZWVuQnV0dG9uXCIpO1xuY29uc3QgQ29udHJvbHNfc3R5bGVfMSA9IHJlcXVpcmUoXCIuLi9Db250cm9scy5zdHlsZVwiKTtcbmNsYXNzIFJlcGxheU1vZGUgZXh0ZW5kcyBwcmVhY3RfMS5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm9uUGxheUNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnBsYXllci5wbGF5KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25QYXVzZUNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnBsYXllci5wYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uU3BlZWREb3duID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnBsYXllci5zcGVlZERvd24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblNwZWVkVXAgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmdhbWUucGxheWVyLnNwZWVkVXAoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblZvbHVtZUNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnNvdW5kU3lzdGVtLnRvZ2dsZU11dGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBsYXlTdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMub2ZmUGxheSA9IHRoaXMucHJvcHMuZ2FtZS5wbGF5ZXIuZXZlbnRzLm9uKCdwbGF5JywgdGhpcy5vblBsYXlTdGF0ZUNoYW5nZSk7XG4gICAgICAgIHRoaXMub2ZmUGF1c2UgPSB0aGlzLnByb3BzLmdhbWUucGxheWVyLmV2ZW50cy5vbigncGF1c2UnLCB0aGlzLm9uUGxheVN0YXRlQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5vZmZTdG9wID0gdGhpcy5wcm9wcy5nYW1lLnBsYXllci5ldmVudHMub24oJ3N0b3AnLCB0aGlzLm9uUGxheVN0YXRlQ2hhbmdlKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMub2ZmUGxheSAmJiB0aGlzLm9mZlBsYXkoKTtcbiAgICAgICAgdGhpcy5vZmZQYXVzZSAmJiB0aGlzLm9mZlBhdXNlKCk7XG4gICAgICAgIHRoaXMub2ZmU3RvcCAmJiB0aGlzLm9mZlN0b3AoKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBnYW1lID0gdGhpcy5wcm9wcy5nYW1lO1xuICAgICAgICBjb25zdCBwbGF5ZXIgPSBnYW1lLnBsYXllcjtcbiAgICAgICAgY29uc3QgcGxheWluZyA9IHBsYXllci5pc1BsYXlpbmc7XG4gICAgICAgIGNvbnN0IHBhdXNlZCA9IHBsYXllci5pc1BhdXNlZDtcbiAgICAgICAgcmV0dXJuICgoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogdGhpcy5wcm9wcy5jbGFzcyB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFRpbWVMaW5lXzEuVGltZUxpbmUsIHsgZ2FtZTogZ2FtZSB9KSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBDb250cm9sc19zdHlsZV8xLkNvbnRyb2xzU3R5bGUuYnV0dG9ucyB9LFxuICAgICAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBDb250cm9sc19zdHlsZV8xLkNvbnRyb2xzU3R5bGUubGVmdCB9LFxuICAgICAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoU3BlZWREb3duQnV0dG9uXzEuU3BlZWREb3duQnV0dG9uLCB7IG9uQ2xpY2s6IHRoaXMub25TcGVlZERvd24gfSksXG4gICAgICAgICAgICAgICAgICAgIHBhdXNlZCB8fCAhcGxheWluZyA/ICgoMCwgcHJlYWN0XzEuaCkoUGxheUJ1dHRvbl8xLlBsYXlCdXR0b24sIHsgb25DbGljazogdGhpcy5vblBsYXlDbGljayB9KSkgOiAoKDAsIHByZWFjdF8xLmgpKFBhdXNlQnV0dG9uXzEuUGF1c2VCdXR0b24sIHsgb25DbGljazogdGhpcy5vblBhdXNlQ2xpY2sgfSkpLFxuICAgICAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoU3BlZWRVcEJ1dHRvbl8xLlNwZWVkVXBCdXR0b24sIHsgb25DbGljazogdGhpcy5vblNwZWVkVXAgfSksXG4gICAgICAgICAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShWb2x1bWVCdXR0b25fMS5Wb2x1bWVCdXR0b24sIHsgb25DbGljazogdGhpcy5vblZvbHVtZUNsaWNrIH0pLFxuICAgICAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoVm9sdW1lQ29udHJvbF8xLlZvbHVtZUNvbnRyb2wsIHsgZ2FtZTogZ2FtZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFRpbWVfMS5UaW1lLCB7IHBsYXllcjogcGxheWVyIH0pKSxcbiAgICAgICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogQ29udHJvbHNfc3R5bGVfMS5Db250cm9sc1N0eWxlLnJpZ2h0IH0sXG4gICAgICAgICAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShTZXR0aW5nc0J1dHRvbl8xLlNldHRpbmdzQnV0dG9uLCB7IGdhbWU6IGdhbWUgfSksXG4gICAgICAgICAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShGdWxsc2NyZWVuQnV0dG9uXzEuRnVsbHNjcmVlbkJ1dHRvbiwgeyBhY3RpdmU6IHRydWUsIHJvb3Q6IHRoaXMucHJvcHMucm9vdCB9KSkpKSk7XG4gICAgfVxufVxuZXhwb3J0cy5SZXBsYXlNb2RlID0gUmVwbGF5TW9kZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/ReplayMode/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Root.style.ts":
/*!*******************************************!*\
  !*** ./src/PlayerInterface/Root.style.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RootStyle = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nconst rootStyle = () => ({\n    position: 'relative',\n    color: 'white',\n    width: '100%',\n    height: '100%',\n    cursor: 'none',\n    userSelect: 'none'\n});\nconst titleStyle = () => ({\n    position: 'absolute',\n    top: '20px',\n    left: '0',\n    zIndex: 20,\n    padding: '10px 10px 10px 20px',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    fontSize: '13pt',\n    fontFamily: `'Roboto', Arial, Helvetica, sans-serif`,\n    opacity: 0,\n    transition: 'opacity 0.2s'\n});\nconst controlsStyle = () => ({\n    zIndex: 30,\n    position: 'absolute',\n    width: '100%',\n    bottom: 0,\n    padding: '0 16px',\n    boxSizing: 'border-box',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    userSelect: 'none',\n    opacity: 0,\n    transition: 'opacity 0.2s'\n});\nexports.RootStyle = (0, typestyle_1.stylesheet)({\n    root: Object.assign({}, rootStyle()),\n    rootVisible: Object.assign(Object.assign({}, rootStyle()), { cursor: 'default' }),\n    title: Object.assign({}, titleStyle()),\n    titleVisible: Object.assign(Object.assign({}, titleStyle()), { opacity: 1 }),\n    controls: Object.assign({}, controlsStyle()),\n    controlsVisible: Object.assign(Object.assign({}, controlsStyle()), { opacity: 1 }),\n    screen: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 10\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1Jvb3Quc3R5bGUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxpQkFBaUI7QUFDakIsMEJBQTBCO0FBQzFCLCtDQUErQyxrQkFBa0IsbUJBQW1CO0FBQ3BGLDJCQUEyQjtBQUMzQixnREFBZ0QsbUJBQW1CLFlBQVk7QUFDL0UsOEJBQThCO0FBQzlCLG1EQUFtRCxzQkFBc0IsWUFBWTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9Sb290LnN0eWxlLnRzPzY1MjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvb3RTdHlsZSA9IHZvaWQgMDtcbmNvbnN0IHR5cGVzdHlsZV8xID0gcmVxdWlyZShcInR5cGVzdHlsZVwiKTtcbmNvbnN0IHJvb3RTdHlsZSA9ICgpID0+ICh7XG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBjdXJzb3I6ICdub25lJyxcbiAgICB1c2VyU2VsZWN0OiAnbm9uZSdcbn0pO1xuY29uc3QgdGl0bGVTdHlsZSA9ICgpID0+ICh7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAnMjBweCcsXG4gICAgbGVmdDogJzAnLFxuICAgIHpJbmRleDogMjAsXG4gICAgcGFkZGluZzogJzEwcHggMTBweCAxMHB4IDIwcHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC40KScsXG4gICAgZm9udFNpemU6ICcxM3B0JyxcbiAgICBmb250RmFtaWx5OiBgJ1JvYm90bycsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWZgLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycydcbn0pO1xuY29uc3QgY29udHJvbHNTdHlsZSA9ICgpID0+ICh7XG4gICAgekluZGV4OiAzMCxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJvdHRvbTogMCxcbiAgICBwYWRkaW5nOiAnMCAxNnB4JyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICBvcGFjaXR5OiAwLFxuICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMnMnXG59KTtcbmV4cG9ydHMuUm9vdFN0eWxlID0gKDAsIHR5cGVzdHlsZV8xLnN0eWxlc2hlZXQpKHtcbiAgICByb290OiBPYmplY3QuYXNzaWduKHt9LCByb290U3R5bGUoKSksXG4gICAgcm9vdFZpc2libGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcm9vdFN0eWxlKCkpLCB7IGN1cnNvcjogJ2RlZmF1bHQnIH0pLFxuICAgIHRpdGxlOiBPYmplY3QuYXNzaWduKHt9LCB0aXRsZVN0eWxlKCkpLFxuICAgIHRpdGxlVmlzaWJsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aXRsZVN0eWxlKCkpLCB7IG9wYWNpdHk6IDEgfSksXG4gICAgY29udHJvbHM6IE9iamVjdC5hc3NpZ24oe30sIGNvbnRyb2xzU3R5bGUoKSksXG4gICAgY29udHJvbHNWaXNpYmxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRyb2xzU3R5bGUoKSksIHsgb3BhY2l0eTogMSB9KSxcbiAgICBzY3JlZW46IHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHpJbmRleDogMTBcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Root.style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/Root.tsx":
/*!**************************************!*\
  !*** ./src/PlayerInterface/Root.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Root = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Loading_1 = __webpack_require__(/*! ./Loading */ \"./src/PlayerInterface/Loading/index.tsx\");\nconst FreeMode_1 = __webpack_require__(/*! ./FreeMode */ \"./src/PlayerInterface/FreeMode/index.tsx\");\nconst ReplayMode_1 = __webpack_require__(/*! ./ReplayMode */ \"./src/PlayerInterface/ReplayMode/index.tsx\");\nconst Fullscreen_1 = __webpack_require__(/*! ../Fullscreen */ \"./src/Fullscreen.ts\");\nconst Game_1 = __webpack_require__(/*! ../Game */ \"./src/Game.ts\");\nconst Root_style_1 = __webpack_require__(/*! ./Root.style */ \"./src/PlayerInterface/Root.style.ts\");\nclass Root extends preact_1.Component {\n    constructor(props) {\n        super(props);\n        this.node = null;\n        this.fadeOut = 0;\n        this.onPointerLockChange = () => {\n            if (document.pointerLockElement === this.props.root) {\n                this.props.game.pointerLocked = true;\n            }\n            else {\n                this.props.game.pointerLocked = false;\n            }\n        };\n        this.onContextMenu = (e) => {\n            e.preventDefault();\n        };\n        this.onWindowClick = () => {\n            this.setState({ isActive: false });\n        };\n        this.onRootClick = (e) => {\n            e.stopPropagation();\n            this.setState({ isActive: true });\n            this.fadeReset();\n        };\n        this.onKeyDown = (e) => {\n            if (!this.state.isActive) {\n                return;\n            }\n            const game = this.props.game;\n            switch (e.which) {\n                case 70: {\n                    if (Fullscreen_1.Fullscreen.isInFullscreen()) {\n                        Fullscreen_1.Fullscreen.exit();\n                    }\n                    else {\n                        Fullscreen_1.Fullscreen.enter(this.props.root);\n                    }\n                    this.fadeReset();\n                    break;\n                }\n                case 77: {\n                    game.soundSystem.toggleMute();\n                    this.fadeReset();\n                    break;\n                }\n                case 38: {\n                    game.soundSystem.setVolume(game.soundSystem.getVolume() + 0.05);\n                    this.fadeReset();\n                    break;\n                }\n                case 40: {\n                    game.soundSystem.setVolume(game.soundSystem.getVolume() - 0.05);\n                    this.fadeReset();\n                    break;\n                }\n                case 74:\n                case 37: {\n                    game.player.seek(game.player.currentTime - 5);\n                    this.fadeReset();\n                    break;\n                }\n                case 76:\n                case 39: {\n                    game.player.seek(game.player.currentTime + 5);\n                    this.fadeReset();\n                    break;\n                }\n                case 75:\n                case 32: {\n                    if (this.props.game.mode !== Game_1.PlayerMode.REPLAY) {\n                        return;\n                    }\n                    if (!game.player.isPlaying || game.player.isPaused) {\n                        game.player.play();\n                    }\n                    else {\n                        game.player.pause();\n                    }\n                    break;\n                }\n            }\n        };\n        this.onModeChange = () => {\n            this.forceUpdate();\n        };\n        this.onLoadStart = () => {\n            this.setState({ isLoading: true });\n        };\n        this.onLoadEnd = () => {\n            this.setState({ isLoading: false });\n        };\n        this.onTitleChange = (title) => {\n            this.setState({ title });\n        };\n        this.onMouseEnter = () => {\n            this.setState({ isMouseOver: true });\n            this.fadeReset();\n        };\n        this.onMouseMove = () => {\n            if (this.state.isMouseOver && !Fullscreen_1.Fullscreen.isInFullscreen()) {\n                this.fadeReset();\n            }\n        };\n        this.onMouseLeave = () => {\n            this.setState({\n                isMouseOver: false,\n                isVisible: false\n            });\n            clearTimeout(this.fadeOut);\n            this.fadeOut = 0;\n        };\n        this.fadeReset = () => {\n            if (!this.state.isVisible) {\n                this.setState({ isVisible: true });\n            }\n            clearTimeout(this.fadeOut);\n            this.fadeOut = setTimeout(() => {\n                this.setState({ isVisible: false });\n                this.fadeOut = 0;\n            }, 5000);\n        };\n        this.onScreenClick = () => {\n            switch (this.props.game.mode) {\n                case Game_1.PlayerMode.REPLAY: {\n                    const player = this.props.game.player;\n                    if (!player.isPlaying || player.isPaused) {\n                        player.play();\n                    }\n                    else {\n                        player.pause();\n                    }\n                    break;\n                }\n                case Game_1.PlayerMode.FREE: {\n                    this.props.root.requestPointerLock();\n                    break;\n                }\n            }\n        };\n        this.onScreenDblClick = () => {\n            if (Fullscreen_1.Fullscreen.isInFullscreen()) {\n                Fullscreen_1.Fullscreen.exit();\n            }\n            else {\n                Fullscreen_1.Fullscreen.enter(this.props.root);\n            }\n        };\n        this.state = {\n            title: props.game.title,\n            isActive: false,\n            isLoading: false,\n            isMouseOver: false,\n            isVisible: false\n        };\n    }\n    componentDidMount() {\n        if (!this.node) {\n            return;\n        }\n        const game = this.props.game;\n        const root = this.props.root;\n        this.node.appendChild(game.getCanvas());\n        this.offLoadStart = game.events.on('loadstart', this.onLoadStart);\n        this.offLoad = game.events.on('load', this.onLoadEnd);\n        this.offModeChange = game.events.on('modechange', this.onModeChange);\n        this.offTitleChange = game.events.on('titlechange', this.onTitleChange);\n        root.addEventListener('click', this.onRootClick);\n        window.addEventListener('click', this.onWindowClick);\n        window.addEventListener('keydown', this.onKeyDown);\n        document.addEventListener('pointerlockchange', this.onPointerLockChange, false);\n        root.addEventListener('mouseover', this.onMouseEnter);\n        root.addEventListener('mousemove', this.onMouseMove);\n        root.addEventListener('mouseout', this.onMouseLeave);\n        root.addEventListener('contextmenu', this.onContextMenu);\n    }\n    componentWillUnmount() {\n        const root = this.props.root;\n        this.offLoadStart && this.offLoadStart();\n        this.offLoad && this.offLoad();\n        this.offModeChange && this.onModeChange();\n        this.offTitleChange && this.offTitleChange();\n        root.removeEventListener('click', this.onRootClick);\n        window.removeEventListener('click', this.onWindowClick);\n        window.removeEventListener('keydown', this.onKeyDown);\n        document.removeEventListener('pointerlockchange', this.onPointerLockChange, false);\n        root.removeEventListener('mouseover', this.onMouseEnter);\n        root.removeEventListener('mousemove', this.onMouseMove);\n        root.removeEventListener('mouseout', this.onMouseLeave);\n        root.removeEventListener('contextmenu', this.onContextMenu);\n    }\n    render() {\n        const game = this.props.game;\n        const isVisible = this.state.isVisible;\n        return ((0, preact_1.h)(\"div\", { class: isVisible ? Root_style_1.RootStyle.rootVisible : Root_style_1.RootStyle.root },\n            (0, preact_1.h)(\"div\", { class: isVisible ? Root_style_1.RootStyle.titleVisible : Root_style_1.RootStyle.title }, this.state.title),\n            (0, preact_1.h)(Loading_1.Loading, { game: game, visible: this.state.isLoading }),\n            (0, preact_1.h)(\"div\", { class: Root_style_1.RootStyle.screen, ref: node => (this.node = node), onClick: this.onScreenClick, onDblClick: this.onScreenDblClick }),\n            game.mode === Game_1.PlayerMode.FREE ? ((0, preact_1.h)(FreeMode_1.FreeMode, { class: isVisible ? Root_style_1.RootStyle.controlsVisible : Root_style_1.RootStyle.controls, game: game, root: this.props.root })) : ((0, preact_1.h)(ReplayMode_1.ReplayMode, { class: isVisible ? Root_style_1.RootStyle.controlsVisible : Root_style_1.RootStyle.controls, game: game, root: this.props.root, visible: this.state.isMouseOver }))));\n    }\n}\nexports.Root = Root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1Jvb3QudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyxrQkFBa0IsbUJBQU8sQ0FBQywwREFBVztBQUNyQyxtQkFBbUIsbUJBQU8sQ0FBQyw0REFBWTtBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyxnRUFBYztBQUMzQyxxQkFBcUIsbUJBQU8sQ0FBQywwQ0FBZTtBQUM1QyxlQUFlLG1CQUFPLENBQUMsOEJBQVM7QUFDaEMscUJBQXFCLG1CQUFPLENBQUMseURBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtCQUFrQjtBQUNsRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxRkFBcUY7QUFDOUgscUNBQXFDLHVGQUF1RjtBQUM1SCxpREFBaUQsMkNBQTJDO0FBQzVGLHFDQUFxQyx1SUFBdUk7QUFDNUssMkZBQTJGLGdJQUFnSSxpREFBaUQsaUtBQWlLO0FBQzdhO0FBQ0E7QUFDQSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGxheWVySW50ZXJmYWNlL1Jvb3QudHN4Pzg0NjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvb3QgPSB2b2lkIDA7XG5jb25zdCBwcmVhY3RfMSA9IHJlcXVpcmUoXCJwcmVhY3RcIik7XG5jb25zdCBMb2FkaW5nXzEgPSByZXF1aXJlKFwiLi9Mb2FkaW5nXCIpO1xuY29uc3QgRnJlZU1vZGVfMSA9IHJlcXVpcmUoXCIuL0ZyZWVNb2RlXCIpO1xuY29uc3QgUmVwbGF5TW9kZV8xID0gcmVxdWlyZShcIi4vUmVwbGF5TW9kZVwiKTtcbmNvbnN0IEZ1bGxzY3JlZW5fMSA9IHJlcXVpcmUoXCIuLi9GdWxsc2NyZWVuXCIpO1xuY29uc3QgR2FtZV8xID0gcmVxdWlyZShcIi4uL0dhbWVcIik7XG5jb25zdCBSb290X3N0eWxlXzEgPSByZXF1aXJlKFwiLi9Sb290LnN0eWxlXCIpO1xuY2xhc3MgUm9vdCBleHRlbmRzIHByZWFjdF8xLkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZhZGVPdXQgPSAwO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckxvY2tDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50ID09PSB0aGlzLnByb3BzLnJvb3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdhbWUucG9pbnRlckxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdhbWUucG9pbnRlckxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQ29udGV4dE1lbnUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uV2luZG93Q2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNBY3RpdmU6IGZhbHNlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUm9vdENsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNBY3RpdmU6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLmZhZGVSZXNldCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uS2V5RG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnYW1lID0gdGhpcy5wcm9wcy5nYW1lO1xuICAgICAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA3MDoge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4uaXNJbkZ1bGxzY3JlZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4uZXhpdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4uZW50ZXIodGhpcy5wcm9wcy5yb290KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGVSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA3Nzoge1xuICAgICAgICAgICAgICAgICAgICBnYW1lLnNvdW5kU3lzdGVtLnRvZ2dsZU11dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlUmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMzg6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5zb3VuZFN5c3RlbS5zZXRWb2x1bWUoZ2FtZS5zb3VuZFN5c3RlbS5nZXRWb2x1bWUoKSArIDAuMDUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGVSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA0MDoge1xuICAgICAgICAgICAgICAgICAgICBnYW1lLnNvdW5kU3lzdGVtLnNldFZvbHVtZShnYW1lLnNvdW5kU3lzdGVtLmdldFZvbHVtZSgpIC0gMC4wNSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZVJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDc0OlxuICAgICAgICAgICAgICAgIGNhc2UgMzc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5wbGF5ZXIuc2VlayhnYW1lLnBsYXllci5jdXJyZW50VGltZSAtIDUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGVSZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA3NjpcbiAgICAgICAgICAgICAgICBjYXNlIDM5OiB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWUucGxheWVyLnNlZWsoZ2FtZS5wbGF5ZXIuY3VycmVudFRpbWUgKyA1KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlUmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgNzU6XG4gICAgICAgICAgICAgICAgY2FzZSAzMjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5nYW1lLm1vZGUgIT09IEdhbWVfMS5QbGF5ZXJNb2RlLlJFUExBWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2FtZS5wbGF5ZXIuaXNQbGF5aW5nIHx8IGdhbWUucGxheWVyLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lLnBsYXllci5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lLnBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vZGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Mb2FkU3RhcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTG9hZEVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVGl0bGVDaGFuZ2UgPSAodGl0bGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0aXRsZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNb3VzZU92ZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLmZhZGVSZXNldCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNNb3VzZU92ZXIgJiYgIUZ1bGxzY3JlZW5fMS5GdWxsc2NyZWVuLmlzSW5GdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhZGVSZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGlzTW91c2VPdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1Zpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZhZGVPdXQpO1xuICAgICAgICAgICAgdGhpcy5mYWRlT3V0ID0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mYWRlUmVzZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzVmlzaWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZhZGVPdXQpO1xuICAgICAgICAgICAgdGhpcy5mYWRlT3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzVmlzaWJsZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWRlT3V0ID0gMDtcbiAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uU2NyZWVuQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuZ2FtZS5tb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBHYW1lXzEuUGxheWVyTW9kZS5SRVBMQVk6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wcm9wcy5nYW1lLnBsYXllcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNQbGF5aW5nIHx8IHBsYXllci5pc1BhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEdhbWVfMS5QbGF5ZXJNb2RlLkZSRUU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yb290LnJlcXVlc3RQb2ludGVyTG9jaygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25TY3JlZW5EYmxDbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChGdWxsc2NyZWVuXzEuRnVsbHNjcmVlbi5pc0luRnVsbHNjcmVlbigpKSB7XG4gICAgICAgICAgICAgICAgRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4uZXhpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgRnVsbHNjcmVlbl8xLkZ1bGxzY3JlZW4uZW50ZXIodGhpcy5wcm9wcy5yb290KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBwcm9wcy5nYW1lLnRpdGxlLFxuICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzTW91c2VPdmVyOiBmYWxzZSxcbiAgICAgICAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5ub2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2FtZSA9IHRoaXMucHJvcHMuZ2FtZTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucHJvcHMucm9vdDtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGdhbWUuZ2V0Q2FudmFzKCkpO1xuICAgICAgICB0aGlzLm9mZkxvYWRTdGFydCA9IGdhbWUuZXZlbnRzLm9uKCdsb2Fkc3RhcnQnLCB0aGlzLm9uTG9hZFN0YXJ0KTtcbiAgICAgICAgdGhpcy5vZmZMb2FkID0gZ2FtZS5ldmVudHMub24oJ2xvYWQnLCB0aGlzLm9uTG9hZEVuZCk7XG4gICAgICAgIHRoaXMub2ZmTW9kZUNoYW5nZSA9IGdhbWUuZXZlbnRzLm9uKCdtb2RlY2hhbmdlJywgdGhpcy5vbk1vZGVDaGFuZ2UpO1xuICAgICAgICB0aGlzLm9mZlRpdGxlQ2hhbmdlID0gZ2FtZS5ldmVudHMub24oJ3RpdGxlY2hhbmdlJywgdGhpcy5vblRpdGxlQ2hhbmdlKTtcbiAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Sb290Q2xpY2spO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uV2luZG93Q2xpY2spO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tjaGFuZ2UnLCB0aGlzLm9uUG9pbnRlckxvY2tDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uTW91c2VFbnRlcik7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLm9uQ29udGV4dE1lbnUpO1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucHJvcHMucm9vdDtcbiAgICAgICAgdGhpcy5vZmZMb2FkU3RhcnQgJiYgdGhpcy5vZmZMb2FkU3RhcnQoKTtcbiAgICAgICAgdGhpcy5vZmZMb2FkICYmIHRoaXMub2ZmTG9hZCgpO1xuICAgICAgICB0aGlzLm9mZk1vZGVDaGFuZ2UgJiYgdGhpcy5vbk1vZGVDaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vZmZUaXRsZUNoYW5nZSAmJiB0aGlzLm9mZlRpdGxlQ2hhbmdlKCk7XG4gICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uUm9vdENsaWNrKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbldpbmRvd0NsaWNrKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgdGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICByb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICByb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vbk1vdXNlTGVhdmUpO1xuICAgICAgICByb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5vbkNvbnRleHRNZW51KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBnYW1lID0gdGhpcy5wcm9wcy5nYW1lO1xuICAgICAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnN0YXRlLmlzVmlzaWJsZTtcbiAgICAgICAgcmV0dXJuICgoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogaXNWaXNpYmxlID8gUm9vdF9zdHlsZV8xLlJvb3RTdHlsZS5yb290VmlzaWJsZSA6IFJvb3Rfc3R5bGVfMS5Sb290U3R5bGUucm9vdCB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IGlzVmlzaWJsZSA/IFJvb3Rfc3R5bGVfMS5Sb290U3R5bGUudGl0bGVWaXNpYmxlIDogUm9vdF9zdHlsZV8xLlJvb3RTdHlsZS50aXRsZSB9LCB0aGlzLnN0YXRlLnRpdGxlKSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShMb2FkaW5nXzEuTG9hZGluZywgeyBnYW1lOiBnYW1lLCB2aXNpYmxlOiB0aGlzLnN0YXRlLmlzTG9hZGluZyB9KSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBSb290X3N0eWxlXzEuUm9vdFN0eWxlLnNjcmVlbiwgcmVmOiBub2RlID0+ICh0aGlzLm5vZGUgPSBub2RlKSwgb25DbGljazogdGhpcy5vblNjcmVlbkNsaWNrLCBvbkRibENsaWNrOiB0aGlzLm9uU2NyZWVuRGJsQ2xpY2sgfSksXG4gICAgICAgICAgICBnYW1lLm1vZGUgPT09IEdhbWVfMS5QbGF5ZXJNb2RlLkZSRUUgPyAoKDAsIHByZWFjdF8xLmgpKEZyZWVNb2RlXzEuRnJlZU1vZGUsIHsgY2xhc3M6IGlzVmlzaWJsZSA/IFJvb3Rfc3R5bGVfMS5Sb290U3R5bGUuY29udHJvbHNWaXNpYmxlIDogUm9vdF9zdHlsZV8xLlJvb3RTdHlsZS5jb250cm9scywgZ2FtZTogZ2FtZSwgcm9vdDogdGhpcy5wcm9wcy5yb290IH0pKSA6ICgoMCwgcHJlYWN0XzEuaCkoUmVwbGF5TW9kZV8xLlJlcGxheU1vZGUsIHsgY2xhc3M6IGlzVmlzaWJsZSA/IFJvb3Rfc3R5bGVfMS5Sb290U3R5bGUuY29udHJvbHNWaXNpYmxlIDogUm9vdF9zdHlsZV8xLlJvb3RTdHlsZS5jb250cm9scywgZ2FtZTogZ2FtZSwgcm9vdDogdGhpcy5wcm9wcy5yb290LCB2aXNpYmxlOiB0aGlzLnN0YXRlLmlzTW91c2VPdmVyIH0pKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuUm9vdCA9IFJvb3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Root.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Time/index.tsx":
/*!********************************************!*\
  !*** ./src/PlayerInterface/Time/index.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Time = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Time_1 = __webpack_require__(/*! ../../Time */ \"./src/Time.ts\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/Time/style.ts\");\nclass Time extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.onPlay = () => {\n            this.setState({\n                isPlaying: true\n            }, this.update);\n        };\n        this.onPauseOrStop = () => {\n            this.setState({\n                isPlaying: false\n            });\n        };\n        this.update = () => {\n            if (!this.state.isPlaying) {\n                return;\n            }\n            this.forceUpdate();\n            setTimeout(this.update, 100);\n        };\n    }\n    componentDidMount() {\n        this.offPlay = this.props.player.events.on('play', this.onPlay);\n        this.offPause = this.props.player.events.on('pause', this.onPauseOrStop);\n        this.offStop = this.props.player.events.on('stop', this.onPauseOrStop);\n    }\n    componentWillUnmount() {\n        this.offPlay && this.offPlay();\n        this.offPause && this.offPause();\n        this.offStop && this.offStop();\n    }\n    render() {\n        const current = (0, Time_1.formatTime)(this.props.player.currentTime);\n        const total = (0, Time_1.formatTime)(this.props.player.replay.data.time / 1000);\n        return ((0, preact_1.h)(\"div\", { class: style_1.Time.time },\n            current,\n            \" / \",\n            total));\n    }\n}\nexports.Time = Time;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1RpbWUvaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyxlQUFlLG1CQUFPLENBQUMsaUNBQVk7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsb0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDBCQUEwQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9UaW1lL2luZGV4LnRzeD83YTY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaW1lID0gdm9pZCAwO1xuY29uc3QgcHJlYWN0XzEgPSByZXF1aXJlKFwicHJlYWN0XCIpO1xuY29uc3QgVGltZV8xID0gcmVxdWlyZShcIi4uLy4uL1RpbWVcIik7XG5jb25zdCBzdHlsZV8xID0gcmVxdWlyZShcIi4vc3R5bGVcIik7XG5jbGFzcyBUaW1lIGV4dGVuZHMgcHJlYWN0XzEuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5vblBsYXkgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IHRydWVcbiAgICAgICAgICAgIH0sIHRoaXMudXBkYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBhdXNlT3JTdG9wID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNQbGF5aW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzUGxheWluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy51cGRhdGUsIDEwMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLm9mZlBsYXkgPSB0aGlzLnByb3BzLnBsYXllci5ldmVudHMub24oJ3BsYXknLCB0aGlzLm9uUGxheSk7XG4gICAgICAgIHRoaXMub2ZmUGF1c2UgPSB0aGlzLnByb3BzLnBsYXllci5ldmVudHMub24oJ3BhdXNlJywgdGhpcy5vblBhdXNlT3JTdG9wKTtcbiAgICAgICAgdGhpcy5vZmZTdG9wID0gdGhpcy5wcm9wcy5wbGF5ZXIuZXZlbnRzLm9uKCdzdG9wJywgdGhpcy5vblBhdXNlT3JTdG9wKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMub2ZmUGxheSAmJiB0aGlzLm9mZlBsYXkoKTtcbiAgICAgICAgdGhpcy5vZmZQYXVzZSAmJiB0aGlzLm9mZlBhdXNlKCk7XG4gICAgICAgIHRoaXMub2ZmU3RvcCAmJiB0aGlzLm9mZlN0b3AoKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gKDAsIFRpbWVfMS5mb3JtYXRUaW1lKSh0aGlzLnByb3BzLnBsYXllci5jdXJyZW50VGltZSk7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gKDAsIFRpbWVfMS5mb3JtYXRUaW1lKSh0aGlzLnByb3BzLnBsYXllci5yZXBsYXkuZGF0YS50aW1lIC8gMTAwMCk7XG4gICAgICAgIHJldHVybiAoKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IHN0eWxlXzEuVGltZS50aW1lIH0sXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgXCIgLyBcIixcbiAgICAgICAgICAgIHRvdGFsKSk7XG4gICAgfVxufVxuZXhwb3J0cy5UaW1lID0gVGltZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Time/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/Time/style.ts":
/*!*******************************************!*\
  !*** ./src/PlayerInterface/Time/style.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Time = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.Time = (0, typestyle_1.stylesheet)({\n    time: {\n        fontFamily: `'Roboto', Arial, Helvetica, sans-serif`,\n        fontSize: '10pt'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1RpbWUvc3R5bGUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZDLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvVGltZS9zdHlsZS50cz85OWJiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaW1lID0gdm9pZCAwO1xuY29uc3QgdHlwZXN0eWxlXzEgPSByZXF1aXJlKFwidHlwZXN0eWxlXCIpO1xuZXhwb3J0cy5UaW1lID0gKDAsIHR5cGVzdHlsZV8xLnN0eWxlc2hlZXQpKHtcbiAgICB0aW1lOiB7XG4gICAgICAgIGZvbnRGYW1pbHk6IGAnUm9ib3RvJywgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZmAsXG4gICAgICAgIGZvbnRTaXplOiAnMTBwdCdcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/Time/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/TimeLine/index.tsx":
/*!************************************************!*\
  !*** ./src/PlayerInterface/TimeLine/index.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TimeLine = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/TimeLine/style.ts\");\nclass TimeLine extends preact_1.Component {\n    constructor(props) {\n        super(props);\n        this.onPostUpdate = () => {\n            const player = this.props.game.player;\n            this.setState({\n                progress: player.currentFrame / player.replay.data.frames.length\n            });\n        };\n        this.onClick = (e) => {\n            const rects = e.currentTarget.getClientRects()[0];\n            const progress = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            this.props.game.player.seekByPercent(progress * 100);\n            this.props.game.player.pause();\n        };\n        this.onMouseEnter = () => {\n            this.setState({\n                ghostKnobActive: true\n            });\n        };\n        this.onMouseMove = (e) => {\n            if (!this.state.ghostKnobActive) {\n                return;\n            }\n            const rects = e.currentTarget.getClientRects()[0];\n            const progressPos = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            const pos = progressPos * 100 + '%';\n            this.setState({\n                ghostKnobPos: pos\n            });\n        };\n        this.onMouseLeave = () => {\n            this.setState({\n                ghostKnobActive: false\n            });\n        };\n        this.state = {\n            progress: 0,\n            ghostKnobActive: false,\n            ghostKnobPos: '0%',\n            onPostUpdate: null\n        };\n    }\n    componentDidMount() {\n        this.offPostUpdate = this.props.game.events.on('postupdate', this.onPostUpdate);\n    }\n    componentWillUnmount() {\n        if (this.offPostUpdate) {\n            this.offPostUpdate();\n        }\n    }\n    render() {\n        const timePos = this.state.progress * 100;\n        const knobOff = timePos + '%';\n        const lineOff = 100 - timePos + '%';\n        return ((0, preact_1.h)(\"div\", { class: style_1.TimeLine.timeline, onClick: this.onClick, onMouseEnter: this.onMouseEnter, onMouseMove: this.onMouseMove, onMouseLeave: this.onMouseLeave },\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.ghostLine }),\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.line, style: { right: lineOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.knob, style: { left: knobOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.ghostKnob, style: { left: this.state.ghostKnobPos } })));\n    }\n}\nexports.TimeLine = TimeLine;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1RpbWVMaW5lL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsaUJBQWlCLG1CQUFPLENBQUMsMkRBQVE7QUFDakMsZ0JBQWdCLG1CQUFPLENBQUMsd0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywwSkFBMEo7QUFDbk0scUNBQXFDLG1DQUFtQztBQUN4RSxxQ0FBcUMsdUNBQXVDLGtCQUFrQjtBQUM5RixxQ0FBcUMsdUNBQXVDLGlCQUFpQjtBQUM3RixxQ0FBcUMsNENBQTRDLGlDQUFpQztBQUNsSDtBQUNBO0FBQ0EsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGxheWVySW50ZXJmYWNlL1RpbWVMaW5lL2luZGV4LnRzeD9jNWQ5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaW1lTGluZSA9IHZvaWQgMDtcbmNvbnN0IHByZWFjdF8xID0gcmVxdWlyZShcInByZWFjdFwiKTtcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcbmNsYXNzIFRpbWVMaW5lIGV4dGVuZHMgcHJlYWN0XzEuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMub25Qb3N0VXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wcm9wcy5nYW1lLnBsYXllcjtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHByb2dyZXNzOiBwbGF5ZXIuY3VycmVudEZyYW1lIC8gcGxheWVyLnJlcGxheS5kYXRhLmZyYW1lcy5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVjdHMgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0Q2xpZW50UmVjdHMoKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gMSAtIChyZWN0cy5yaWdodCAtIGUucGFnZVgpIC8gKHJlY3RzLnJpZ2h0IC0gcmVjdHMubGVmdCk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmdhbWUucGxheWVyLnNlZWtCeVBlcmNlbnQocHJvZ3Jlc3MgKiAxMDApO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnBsYXllci5wYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGdob3N0S25vYkFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmdob3N0S25vYkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlY3RzID0gZS5jdXJyZW50VGFyZ2V0LmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc1BvcyA9IDEgLSAocmVjdHMucmlnaHQgLSBlLnBhZ2VYKSAvIChyZWN0cy5yaWdodCAtIHJlY3RzLmxlZnQpO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcHJvZ3Jlc3NQb3MgKiAxMDAgKyAnJSc7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBnaG9zdEtub2JQb3M6IHBvc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Nb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZ2hvc3RLbm9iQWN0aXZlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgIGdob3N0S25vYkFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBnaG9zdEtub2JQb3M6ICcwJScsXG4gICAgICAgICAgICBvblBvc3RVcGRhdGU6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMub2ZmUG9zdFVwZGF0ZSA9IHRoaXMucHJvcHMuZ2FtZS5ldmVudHMub24oJ3Bvc3R1cGRhdGUnLCB0aGlzLm9uUG9zdFVwZGF0ZSk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5vZmZQb3N0VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9mZlBvc3RVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHRpbWVQb3MgPSB0aGlzLnN0YXRlLnByb2dyZXNzICogMTAwO1xuICAgICAgICBjb25zdCBrbm9iT2ZmID0gdGltZVBvcyArICclJztcbiAgICAgICAgY29uc3QgbGluZU9mZiA9IDEwMCAtIHRpbWVQb3MgKyAnJSc7XG4gICAgICAgIHJldHVybiAoKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IHN0eWxlXzEuVGltZUxpbmUudGltZWxpbmUsIG9uQ2xpY2s6IHRoaXMub25DbGljaywgb25Nb3VzZUVudGVyOiB0aGlzLm9uTW91c2VFbnRlciwgb25Nb3VzZU1vdmU6IHRoaXMub25Nb3VzZU1vdmUsIG9uTW91c2VMZWF2ZTogdGhpcy5vbk1vdXNlTGVhdmUgfSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBzdHlsZV8xLlRpbWVMaW5lLmdob3N0TGluZSB9KSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBzdHlsZV8xLlRpbWVMaW5lLmxpbmUsIHN0eWxlOiB7IHJpZ2h0OiBsaW5lT2ZmIH0gfSksXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogc3R5bGVfMS5UaW1lTGluZS5rbm9iLCBzdHlsZTogeyBsZWZ0OiBrbm9iT2ZmIH0gfSksXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogc3R5bGVfMS5UaW1lTGluZS5naG9zdEtub2IsIHN0eWxlOiB7IGxlZnQ6IHRoaXMuc3RhdGUuZ2hvc3RLbm9iUG9zIH0gfSkpKTtcbiAgICB9XG59XG5leHBvcnRzLlRpbWVMaW5lID0gVGltZUxpbmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PlayerInterface/TimeLine/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/TimeLine/style.ts":
/*!***********************************************!*\
  !*** ./src/PlayerInterface/TimeLine/style.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TimeLine = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.TimeLine = (0, typestyle_1.stylesheet)({\n    timeline: {\n        display: 'flex',\n        alignItems: 'center',\n        position: 'relative',\n        height: '26px',\n        cursor: 'pointer'\n    },\n    line: {\n        height: '4px',\n        backgroundColor: '#fff',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    ghostLine: {\n        height: '4px',\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    knob: {\n        position: 'absolute',\n        width: '12px',\n        height: '12px',\n        backgroundColor: '#fff',\n        borderRadius: '6px',\n        left: '100%',\n        marginLeft: '-6px'\n    },\n    ghostKnob: {\n        position: 'absolute',\n        width: '8px',\n        height: '8px',\n        backgroundColor: '#fff',\n        boxSizing: 'border-box',\n        borderRadius: '8px',\n        left: '0',\n        marginLeft: '-4px',\n        display: 'none',\n        $nest: {\n            '&:hover': {\n                display: 'block'\n            }\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1RpbWVMaW5lL3N0eWxlLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixvQkFBb0IsbUJBQU8sQ0FBQywrREFBVztBQUN2QyxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUGxheWVySW50ZXJmYWNlL1RpbWVMaW5lL3N0eWxlLnRzP2Y0ODgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRpbWVMaW5lID0gdm9pZCAwO1xuY29uc3QgdHlwZXN0eWxlXzEgPSByZXF1aXJlKFwidHlwZXN0eWxlXCIpO1xuZXhwb3J0cy5UaW1lTGluZSA9ICgwLCB0eXBlc3R5bGVfMS5zdHlsZXNoZWV0KSh7XG4gICAgdGltZWxpbmU6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgIGhlaWdodDogJzI2cHgnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBoZWlnaHQ6ICc0cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgcmlnaHQ6ICcwJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMnB4J1xuICAgIH0sXG4gICAgZ2hvc3RMaW5lOiB7XG4gICAgICAgIGhlaWdodDogJzRweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KScsXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICBsZWZ0OiAnMCcsXG4gICAgICAgIHJpZ2h0OiAnMCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzJweCdcbiAgICB9LFxuICAgIGtub2I6IHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHdpZHRoOiAnMTJweCcsXG4gICAgICAgIGhlaWdodDogJzEycHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgbGVmdDogJzEwMCUnLFxuICAgICAgICBtYXJnaW5MZWZ0OiAnLTZweCdcbiAgICB9LFxuICAgIGdob3N0S25vYjoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgd2lkdGg6ICc4cHgnLFxuICAgICAgICBoZWlnaHQ6ICc4cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgbWFyZ2luTGVmdDogJy00cHgnLFxuICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgICRuZXN0OiB7XG4gICAgICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/TimeLine/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/VolumeControl/index.tsx":
/*!*****************************************************!*\
  !*** ./src/PlayerInterface/VolumeControl/index.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VolumeControl = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst style_1 = __webpack_require__(/*! ./style */ \"./src/PlayerInterface/VolumeControl/style.ts\");\nclass VolumeControl extends preact_1.Component {\n    constructor(props) {\n        super(props);\n        this.onVolumeChange = () => {\n            this.setState({\n                volume: this.props.game.soundSystem.getVolume()\n            });\n        };\n        this.onClick = (e) => {\n            const rects = e.currentTarget.getClientRects()[0];\n            const volume = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            this.props.game.soundSystem.setVolume(volume);\n        };\n        this.onMouseEnter = () => {\n            this.setState({\n                ghostKnobActive: true\n            });\n        };\n        this.onMouseMove = (e) => {\n            if (!this.state.ghostKnobActive) {\n                return;\n            }\n            const rects = e.currentTarget.getClientRects()[0];\n            const volumePos = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            const pos = Math.min(95, Math.max(5, volumePos * 100)) + '%';\n            this.setState({\n                ghostKnobPos: pos\n            });\n        };\n        this.onMouseLeave = () => {\n            this.setState({\n                ghostKnobActive: false\n            });\n        };\n        this.state = {\n            volume: props.game.soundSystem.getVolume(),\n            ghostKnobActive: false,\n            ghostKnobPos: '5%'\n        };\n    }\n    componentDidMount() {\n        this.offVolumeChange = this.props.game.soundSystem.events.on('volumeChange', this.onVolumeChange);\n    }\n    componentWillUnmount() {\n        this.offVolumeChange && this.offVolumeChange();\n    }\n    render() {\n        const volumePos = this.state.volume * 100;\n        const knobOff = Math.min(95, Math.max(5, volumePos)) + '%';\n        const lineOff = Math.min(95, Math.max(5, 100 - volumePos)) + '%';\n        return ((0, preact_1.h)(\"div\", { class: style_1.VolumeControl.control, onClick: this.onClick, onMouseEnter: this.onMouseEnter, onMouseMove: this.onMouseMove, onMouseLeave: this.onMouseLeave },\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.ghostLine }),\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.line, style: { right: lineOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.knob, style: { left: knobOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.ghostKnob, style: { left: this.state.ghostKnobPos } })));\n    }\n}\nexports.VolumeControl = VolumeControl;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1ZvbHVtZUNvbnRyb2wvaW5kZXgudHN4IiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixpQkFBaUIsbUJBQU8sQ0FBQywyREFBUTtBQUNqQyxnQkFBZ0IsbUJBQU8sQ0FBQyw2REFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsOEpBQThKO0FBQ3ZNLHFDQUFxQyx3Q0FBd0M7QUFDN0UscUNBQXFDLDRDQUE0QyxrQkFBa0I7QUFDbkcscUNBQXFDLDRDQUE0QyxpQkFBaUI7QUFDbEcscUNBQXFDLGlEQUFpRCxpQ0FBaUM7QUFDdkg7QUFDQTtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9Wb2x1bWVDb250cm9sL2luZGV4LnRzeD9mNDRjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Wb2x1bWVDb250cm9sID0gdm9pZCAwO1xuY29uc3QgcHJlYWN0XzEgPSByZXF1aXJlKFwicHJlYWN0XCIpO1xuY29uc3Qgc3R5bGVfMSA9IHJlcXVpcmUoXCIuL3N0eWxlXCIpO1xuY2xhc3MgVm9sdW1lQ29udHJvbCBleHRlbmRzIHByZWFjdF8xLkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLm9uVm9sdW1lQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdm9sdW1lOiB0aGlzLnByb3BzLmdhbWUuc291bmRTeXN0ZW0uZ2V0Vm9sdW1lKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVjdHMgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0Q2xpZW50UmVjdHMoKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZSA9IDEgLSAocmVjdHMucmlnaHQgLSBlLnBhZ2VYKSAvIChyZWN0cy5yaWdodCAtIHJlY3RzLmxlZnQpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5nYW1lLnNvdW5kU3lzdGVtLnNldFZvbHVtZSh2b2x1bWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGdob3N0S25vYkFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmdob3N0S25vYkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlY3RzID0gZS5jdXJyZW50VGFyZ2V0LmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgICAgICBjb25zdCB2b2x1bWVQb3MgPSAxIC0gKHJlY3RzLnJpZ2h0IC0gZS5wYWdlWCkgLyAocmVjdHMucmlnaHQgLSByZWN0cy5sZWZ0KTtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IE1hdGgubWluKDk1LCBNYXRoLm1heCg1LCB2b2x1bWVQb3MgKiAxMDApKSArICclJztcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGdob3N0S25vYlBvczogcG9zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBnaG9zdEtub2JBY3RpdmU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZvbHVtZTogcHJvcHMuZ2FtZS5zb3VuZFN5c3RlbS5nZXRWb2x1bWUoKSxcbiAgICAgICAgICAgIGdob3N0S25vYkFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBnaG9zdEtub2JQb3M6ICc1JSdcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMub2ZmVm9sdW1lQ2hhbmdlID0gdGhpcy5wcm9wcy5nYW1lLnNvdW5kU3lzdGVtLmV2ZW50cy5vbigndm9sdW1lQ2hhbmdlJywgdGhpcy5vblZvbHVtZUNoYW5nZSk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLm9mZlZvbHVtZUNoYW5nZSAmJiB0aGlzLm9mZlZvbHVtZUNoYW5nZSgpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHZvbHVtZVBvcyA9IHRoaXMuc3RhdGUudm9sdW1lICogMTAwO1xuICAgICAgICBjb25zdCBrbm9iT2ZmID0gTWF0aC5taW4oOTUsIE1hdGgubWF4KDUsIHZvbHVtZVBvcykpICsgJyUnO1xuICAgICAgICBjb25zdCBsaW5lT2ZmID0gTWF0aC5taW4oOTUsIE1hdGgubWF4KDUsIDEwMCAtIHZvbHVtZVBvcykpICsgJyUnO1xuICAgICAgICByZXR1cm4gKCgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBzdHlsZV8xLlZvbHVtZUNvbnRyb2wuY29udHJvbCwgb25DbGljazogdGhpcy5vbkNsaWNrLCBvbk1vdXNlRW50ZXI6IHRoaXMub25Nb3VzZUVudGVyLCBvbk1vdXNlTW92ZTogdGhpcy5vbk1vdXNlTW92ZSwgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgKDAsIHByZWFjdF8xLmgpKFwiZGl2XCIsIHsgY2xhc3M6IHN0eWxlXzEuVm9sdW1lQ29udHJvbC5naG9zdExpbmUgfSksXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogc3R5bGVfMS5Wb2x1bWVDb250cm9sLmxpbmUsIHN0eWxlOiB7IHJpZ2h0OiBsaW5lT2ZmIH0gfSksXG4gICAgICAgICAgICAoMCwgcHJlYWN0XzEuaCkoXCJkaXZcIiwgeyBjbGFzczogc3R5bGVfMS5Wb2x1bWVDb250cm9sLmtub2IsIHN0eWxlOiB7IGxlZnQ6IGtub2JPZmYgfSB9KSxcbiAgICAgICAgICAgICgwLCBwcmVhY3RfMS5oKShcImRpdlwiLCB7IGNsYXNzOiBzdHlsZV8xLlZvbHVtZUNvbnRyb2wuZ2hvc3RLbm9iLCBzdHlsZTogeyBsZWZ0OiB0aGlzLnN0YXRlLmdob3N0S25vYlBvcyB9IH0pKSk7XG4gICAgfVxufVxuZXhwb3J0cy5Wb2x1bWVDb250cm9sID0gVm9sdW1lQ29udHJvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlayerInterface/VolumeControl/index.tsx\n");

/***/ }),

/***/ "./src/PlayerInterface/VolumeControl/style.ts":
/*!****************************************************!*\
  !*** ./src/PlayerInterface/VolumeControl/style.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VolumeControl = void 0;\nconst typestyle_1 = __webpack_require__(/*! typestyle */ \"./node_modules/typestyle/lib.es2015/index.js\");\nexports.VolumeControl = (0, typestyle_1.stylesheet)({\n    control: {\n        display: 'flex',\n        alignItems: 'center',\n        position: 'relative',\n        width: '80px',\n        height: '26px',\n        marginLeft: '6px',\n        marginRight: '14px',\n        cursor: 'pointer'\n    },\n    line: {\n        height: '4px',\n        backgroundColor: '#fff',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    ghostLine: {\n        height: '4px',\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    knob: {\n        position: 'absolute',\n        width: '12px',\n        height: '12px',\n        backgroundColor: '#fff',\n        borderRadius: '6px',\n        left: '100%',\n        marginLeft: '-6px'\n    },\n    ghostKnob: {\n        position: 'absolute',\n        width: '8px',\n        height: '8px',\n        backgroundColor: '#fff',\n        boxSizing: 'border-box',\n        borderRadius: '8px',\n        left: '0',\n        marginLeft: '-4px',\n        display: 'none',\n        $nest: {\n            '&:hover': {\n                display: 'block'\n            }\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL1ZvbHVtZUNvbnRyb2wvc3R5bGUudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZDLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9QbGF5ZXJJbnRlcmZhY2UvVm9sdW1lQ29udHJvbC9zdHlsZS50cz9jNTU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Wb2x1bWVDb250cm9sID0gdm9pZCAwO1xuY29uc3QgdHlwZXN0eWxlXzEgPSByZXF1aXJlKFwidHlwZXN0eWxlXCIpO1xuZXhwb3J0cy5Wb2x1bWVDb250cm9sID0gKDAsIHR5cGVzdHlsZV8xLnN0eWxlc2hlZXQpKHtcbiAgICBjb250cm9sOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB3aWR0aDogJzgwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcyNnB4JyxcbiAgICAgICAgbWFyZ2luTGVmdDogJzZweCcsXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnMTRweCcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGhlaWdodDogJzRweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICByaWdodDogJzAnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICcycHgnXG4gICAgfSxcbiAgICBnaG9zdExpbmU6IHtcbiAgICAgICAgaGVpZ2h0OiAnNHB4JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgcmlnaHQ6ICcwJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMnB4J1xuICAgIH0sXG4gICAga25vYjoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgd2lkdGg6ICcxMnB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMTJweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICBsZWZ0OiAnMTAwJScsXG4gICAgICAgIG1hcmdpbkxlZnQ6ICctNnB4J1xuICAgIH0sXG4gICAgZ2hvc3RLbm9iOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB3aWR0aDogJzhweCcsXG4gICAgICAgIGhlaWdodDogJzhweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICBtYXJnaW5MZWZ0OiAnLTRweCcsXG4gICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgJG5lc3Q6IHtcbiAgICAgICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/VolumeControl/style.ts\n");

/***/ }),

/***/ "./src/PlayerInterface/index.tsx":
/*!***************************************!*\
  !*** ./src/PlayerInterface/index.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PlayerInterface = void 0;\nconst preact_1 = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nconst Root_1 = __webpack_require__(/*! ./Root */ \"./src/PlayerInterface/Root.tsx\");\nclass PlayerInterface {\n    constructor(game, rootNode) {\n        this.game = game;\n        this.rootNode = rootNode;\n    }\n    getRootNode() {\n        return this.rootNode;\n    }\n    draw() {\n        (0, preact_1.render)((0, preact_1.h)(Root_1.Root, { game: this.game, root: this.rootNode }), this.rootNode);\n    }\n}\nexports.PlayerInterface = PlayerInterface;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWVySW50ZXJmYWNlL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsaUJBQWlCLG1CQUFPLENBQUMsMkRBQVE7QUFDakMsZUFBZSxtQkFBTyxDQUFDLDhDQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxzQ0FBc0M7QUFDbEc7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1BsYXllckludGVyZmFjZS9pbmRleC50c3g/MDBhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGxheWVySW50ZXJmYWNlID0gdm9pZCAwO1xuY29uc3QgcHJlYWN0XzEgPSByZXF1aXJlKFwicHJlYWN0XCIpO1xuY29uc3QgUm9vdF8xID0gcmVxdWlyZShcIi4vUm9vdFwiKTtcbmNsYXNzIFBsYXllckludGVyZmFjZSB7XG4gICAgY29uc3RydWN0b3IoZ2FtZSwgcm9vdE5vZGUpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdGhpcy5yb290Tm9kZSA9IHJvb3ROb2RlO1xuICAgIH1cbiAgICBnZXRSb290Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdE5vZGU7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgICgwLCBwcmVhY3RfMS5yZW5kZXIpKCgwLCBwcmVhY3RfMS5oKShSb290XzEuUm9vdCwgeyBnYW1lOiB0aGlzLmdhbWUsIHJvb3Q6IHRoaXMucm9vdE5vZGUgfSksIHRoaXMucm9vdE5vZGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGxheWVySW50ZXJmYWNlID0gUGxheWVySW50ZXJmYWNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PlayerInterface/index.tsx\n");

/***/ }),

/***/ "./src/Reader.ts":
/*!***********************!*\
  !*** ./src/Reader.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Reader = exports.ReaderDataType = void 0;\nvar ReaderDataType;\n(function (ReaderDataType) {\n    ReaderDataType[ReaderDataType[\"UByte\"] = 0] = \"UByte\";\n    ReaderDataType[ReaderDataType[\"Byte\"] = 1] = \"Byte\";\n    ReaderDataType[ReaderDataType[\"UShort\"] = 2] = \"UShort\";\n    ReaderDataType[ReaderDataType[\"Short\"] = 3] = \"Short\";\n    ReaderDataType[ReaderDataType[\"UInt\"] = 4] = \"UInt\";\n    ReaderDataType[ReaderDataType[\"Int\"] = 5] = \"Int\";\n    ReaderDataType[ReaderDataType[\"Float\"] = 6] = \"Float\";\n    ReaderDataType[ReaderDataType[\"Double\"] = 7] = \"Double\";\n    ReaderDataType[ReaderDataType[\"NString\"] = 8] = \"NString\";\n    ReaderDataType[ReaderDataType[\"String\"] = 9] = \"String\";\n})(ReaderDataType || (exports.ReaderDataType = ReaderDataType = {}));\nclass Reader {\n    constructor(data) {\n        this.data = new DataView(data);\n        this.offset = 0;\n    }\n    length() {\n        return this.data.byteLength;\n    }\n    tell() {\n        return this.offset;\n    }\n    seek(offset) {\n        this.offset = Math.max(0, offset);\n    }\n    skip(offset) {\n        this.seek(this.tell() + offset);\n    }\n    b() {\n        const r = this.data.getInt8(this.offset);\n        this.skip(1);\n        return r;\n    }\n    ub() {\n        const r = this.data.getUint8(this.offset);\n        this.skip(1);\n        return r;\n    }\n    s(isLittleEndian = true) {\n        const r = this.data.getInt16(this.offset, isLittleEndian);\n        this.skip(2);\n        return r;\n    }\n    us(isLittleEndian = true) {\n        const r = this.data.getUint16(this.offset, isLittleEndian);\n        this.skip(2);\n        return r;\n    }\n    i(isLittleEndian = true) {\n        const r = this.data.getInt32(this.tell(), isLittleEndian);\n        this.skip(4);\n        return r;\n    }\n    ui(isLittleEndian = true) {\n        const r = this.data.getUint32(this.tell(), isLittleEndian);\n        this.skip(4);\n        return r;\n    }\n    f(isLittleEndian = true) {\n        const r = this.data.getFloat32(this.tell(), isLittleEndian);\n        this.skip(4);\n        return r;\n    }\n    lf(isLittleEndian = true) {\n        const r = this.data.getFloat64(this.tell(), isLittleEndian);\n        this.skip(8);\n        return r;\n    }\n    str() {\n        let t = this.ub();\n        let r = '';\n        while (t !== 0) {\n            r += String.fromCharCode(t);\n            t = this.ub();\n        }\n        return r;\n    }\n    nstr(n) {\n        if (n < 0) {\n            return '';\n        }\n        let r = '';\n        while (n > 0) {\n            n -= 1;\n            const charCode = this.ub();\n            if (charCode === 0) {\n                break;\n            }\n            r += String.fromCharCode(charCode);\n        }\n        if (n !== 0) {\n            this.skip(n);\n        }\n        return r;\n    }\n    arr(n, f) {\n        f.bind(this);\n        const r = [];\n        while (n-- > 0) {\n            r.push(f());\n        }\n        return r;\n    }\n    arrx(n, type, nstrlen = 0) {\n        let r;\n        switch (type) {\n            case ReaderDataType.UByte: {\n                r = new Uint8Array(this.data.buffer, this.tell(), n);\n                this.skip(n);\n                break;\n            }\n            case ReaderDataType.Byte: {\n                r = new Int8Array(this.data.buffer, this.tell(), n);\n                this.skip(n);\n                break;\n            }\n            case ReaderDataType.UShort:\n                r = new Uint16Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 2);\n                break;\n            case ReaderDataType.Short:\n                r = new Int16Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 2);\n                break;\n            case ReaderDataType.UInt:\n                r = new Uint32Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 4);\n                break;\n            case ReaderDataType.Int:\n                r = new Int32Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 4);\n                break;\n            case ReaderDataType.Float:\n                r = new Float32Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 4);\n                break;\n            case ReaderDataType.Double:\n                r = new Float64Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 8);\n                break;\n            case ReaderDataType.NString:\n                r = [];\n                while (n-- > 0) {\n                    r.push(r.nstr(nstrlen));\n                }\n                break;\n            case ReaderDataType.String:\n                r = [];\n                while (n-- > 0) {\n                    r.push(r.str());\n                }\n                break;\n        }\n        return r;\n    }\n}\nexports.Reader = Reader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVhZGVyLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWMsR0FBRyxzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUIsc0JBQXNCLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9SZWFkZXIudHM/ODIwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVhZGVyID0gZXhwb3J0cy5SZWFkZXJEYXRhVHlwZSA9IHZvaWQgMDtcbnZhciBSZWFkZXJEYXRhVHlwZTtcbihmdW5jdGlvbiAoUmVhZGVyRGF0YVR5cGUpIHtcbiAgICBSZWFkZXJEYXRhVHlwZVtSZWFkZXJEYXRhVHlwZVtcIlVCeXRlXCJdID0gMF0gPSBcIlVCeXRlXCI7XG4gICAgUmVhZGVyRGF0YVR5cGVbUmVhZGVyRGF0YVR5cGVbXCJCeXRlXCJdID0gMV0gPSBcIkJ5dGVcIjtcbiAgICBSZWFkZXJEYXRhVHlwZVtSZWFkZXJEYXRhVHlwZVtcIlVTaG9ydFwiXSA9IDJdID0gXCJVU2hvcnRcIjtcbiAgICBSZWFkZXJEYXRhVHlwZVtSZWFkZXJEYXRhVHlwZVtcIlNob3J0XCJdID0gM10gPSBcIlNob3J0XCI7XG4gICAgUmVhZGVyRGF0YVR5cGVbUmVhZGVyRGF0YVR5cGVbXCJVSW50XCJdID0gNF0gPSBcIlVJbnRcIjtcbiAgICBSZWFkZXJEYXRhVHlwZVtSZWFkZXJEYXRhVHlwZVtcIkludFwiXSA9IDVdID0gXCJJbnRcIjtcbiAgICBSZWFkZXJEYXRhVHlwZVtSZWFkZXJEYXRhVHlwZVtcIkZsb2F0XCJdID0gNl0gPSBcIkZsb2F0XCI7XG4gICAgUmVhZGVyRGF0YVR5cGVbUmVhZGVyRGF0YVR5cGVbXCJEb3VibGVcIl0gPSA3XSA9IFwiRG91YmxlXCI7XG4gICAgUmVhZGVyRGF0YVR5cGVbUmVhZGVyRGF0YVR5cGVbXCJOU3RyaW5nXCJdID0gOF0gPSBcIk5TdHJpbmdcIjtcbiAgICBSZWFkZXJEYXRhVHlwZVtSZWFkZXJEYXRhVHlwZVtcIlN0cmluZ1wiXSA9IDldID0gXCJTdHJpbmdcIjtcbn0pKFJlYWRlckRhdGFUeXBlIHx8IChleHBvcnRzLlJlYWRlckRhdGFUeXBlID0gUmVhZGVyRGF0YVR5cGUgPSB7fSkpO1xuY2xhc3MgUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhVmlldyhkYXRhKTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgIH1cbiAgICBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgdGVsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0O1xuICAgIH1cbiAgICBzZWVrKG9mZnNldCkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IE1hdGgubWF4KDAsIG9mZnNldCk7XG4gICAgfVxuICAgIHNraXAob2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuc2Vlayh0aGlzLnRlbGwoKSArIG9mZnNldCk7XG4gICAgfVxuICAgIGIoKSB7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmRhdGEuZ2V0SW50OCh0aGlzLm9mZnNldCk7XG4gICAgICAgIHRoaXMuc2tpcCgxKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIHViKCkge1xuICAgICAgICBjb25zdCByID0gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMub2Zmc2V0KTtcbiAgICAgICAgdGhpcy5za2lwKDEpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgcyhpc0xpdHRsZUVuZGlhbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZGF0YS5nZXRJbnQxNih0aGlzLm9mZnNldCwgaXNMaXR0bGVFbmRpYW4pO1xuICAgICAgICB0aGlzLnNraXAoMik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICB1cyhpc0xpdHRsZUVuZGlhbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZGF0YS5nZXRVaW50MTYodGhpcy5vZmZzZXQsIGlzTGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdGhpcy5za2lwKDIpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgaShpc0xpdHRsZUVuZGlhbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZGF0YS5nZXRJbnQzMih0aGlzLnRlbGwoKSwgaXNMaXR0bGVFbmRpYW4pO1xuICAgICAgICB0aGlzLnNraXAoNCk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICB1aShpc0xpdHRsZUVuZGlhbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZGF0YS5nZXRVaW50MzIodGhpcy50ZWxsKCksIGlzTGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdGhpcy5za2lwKDQpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgZihpc0xpdHRsZUVuZGlhbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZGF0YS5nZXRGbG9hdDMyKHRoaXMudGVsbCgpLCBpc0xpdHRsZUVuZGlhbik7XG4gICAgICAgIHRoaXMuc2tpcCg0KTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGxmKGlzTGl0dGxlRW5kaWFuID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCByID0gdGhpcy5kYXRhLmdldEZsb2F0NjQodGhpcy50ZWxsKCksIGlzTGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdGhpcy5za2lwKDgpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgc3RyKCkge1xuICAgICAgICBsZXQgdCA9IHRoaXMudWIoKTtcbiAgICAgICAgbGV0IHIgPSAnJztcbiAgICAgICAgd2hpbGUgKHQgIT09IDApIHtcbiAgICAgICAgICAgIHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0KTtcbiAgICAgICAgICAgIHQgPSB0aGlzLnViKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIG5zdHIobikge1xuICAgICAgICBpZiAobiA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgciA9ICcnO1xuICAgICAgICB3aGlsZSAobiA+IDApIHtcbiAgICAgICAgICAgIG4gLT0gMTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJDb2RlID0gdGhpcy51YigpO1xuICAgICAgICAgICAgaWYgKGNoYXJDb2RlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNraXAobik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGFycihuLCBmKSB7XG4gICAgICAgIGYuYmluZCh0aGlzKTtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICB3aGlsZSAobi0tID4gMCkge1xuICAgICAgICAgICAgci5wdXNoKGYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGFycngobiwgdHlwZSwgbnN0cmxlbiA9IDApIHtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZWFkZXJEYXRhVHlwZS5VQnl0ZToge1xuICAgICAgICAgICAgICAgIHIgPSBuZXcgVWludDhBcnJheSh0aGlzLmRhdGEuYnVmZmVyLCB0aGlzLnRlbGwoKSwgbik7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwKG4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBSZWFkZXJEYXRhVHlwZS5CeXRlOiB7XG4gICAgICAgICAgICAgICAgciA9IG5ldyBJbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlciwgdGhpcy50ZWxsKCksIG4pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcChuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUmVhZGVyRGF0YVR5cGUuVVNob3J0OlxuICAgICAgICAgICAgICAgIHIgPSBuZXcgVWludDE2QXJyYXkodGhpcy5kYXRhLmJ1ZmZlciwgdGhpcy50ZWxsKCksIG4pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcChuICogMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlYWRlckRhdGFUeXBlLlNob3J0OlxuICAgICAgICAgICAgICAgIHIgPSBuZXcgSW50MTZBcnJheSh0aGlzLmRhdGEuYnVmZmVyLCB0aGlzLnRlbGwoKSwgbik7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwKG4gKiAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVhZGVyRGF0YVR5cGUuVUludDpcbiAgICAgICAgICAgICAgICByID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuZGF0YS5idWZmZXIsIHRoaXMudGVsbCgpLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXAobiAqIDQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWFkZXJEYXRhVHlwZS5JbnQ6XG4gICAgICAgICAgICAgICAgciA9IG5ldyBJbnQzMkFycmF5KHRoaXMuZGF0YS5idWZmZXIsIHRoaXMudGVsbCgpLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXAobiAqIDQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWFkZXJEYXRhVHlwZS5GbG9hdDpcbiAgICAgICAgICAgICAgICByID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmRhdGEuYnVmZmVyLCB0aGlzLnRlbGwoKSwgbik7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwKG4gKiA0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVhZGVyRGF0YVR5cGUuRG91YmxlOlxuICAgICAgICAgICAgICAgIHIgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMuZGF0YS5idWZmZXIsIHRoaXMudGVsbCgpLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXAobiAqIDgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWFkZXJEYXRhVHlwZS5OU3RyaW5nOlxuICAgICAgICAgICAgICAgIHIgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobi0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByLnB1c2goci5uc3RyKG5zdHJsZW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlYWRlckRhdGFUeXBlLlN0cmluZzpcbiAgICAgICAgICAgICAgICByID0gW107XG4gICAgICAgICAgICAgICAgd2hpbGUgKG4tLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKHIuc3RyKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG59XG5leHBvcnRzLlJlYWRlciA9IFJlYWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Reader.ts\n");

/***/ }),

/***/ "./src/Replay/DeltaType.ts":
/*!*********************************!*\
  !*** ./src/Replay/DeltaType.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DeltaType = void 0;\nvar DeltaType;\n(function (DeltaType) {\n    DeltaType[DeltaType[\"DT_BYTE\"] = 1] = \"DT_BYTE\";\n    DeltaType[DeltaType[\"DT_SHORT\"] = 2] = \"DT_SHORT\";\n    DeltaType[DeltaType[\"DT_FLOAT\"] = 4] = \"DT_FLOAT\";\n    DeltaType[DeltaType[\"DT_INTEGER\"] = 8] = \"DT_INTEGER\";\n    DeltaType[DeltaType[\"DT_ANGLE\"] = 16] = \"DT_ANGLE\";\n    DeltaType[DeltaType[\"DT_TIMEWINDOW_8\"] = 32] = \"DT_TIMEWINDOW_8\";\n    DeltaType[DeltaType[\"DT_TIMEWINDOW_BIG\"] = 64] = \"DT_TIMEWINDOW_BIG\";\n    DeltaType[DeltaType[\"DT_STRING\"] = 128] = \"DT_STRING\";\n    DeltaType[DeltaType[\"DT_SIGNED\"] = -2147483648] = \"DT_SIGNED\";\n})(DeltaType || (exports.DeltaType = DeltaType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L0RlbHRhVHlwZS50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0JBQWdCLGlCQUFpQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9SZXBsYXkvRGVsdGFUeXBlLnRzPzdjODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRlbHRhVHlwZSA9IHZvaWQgMDtcbnZhciBEZWx0YVR5cGU7XG4oZnVuY3Rpb24gKERlbHRhVHlwZSkge1xuICAgIERlbHRhVHlwZVtEZWx0YVR5cGVbXCJEVF9CWVRFXCJdID0gMV0gPSBcIkRUX0JZVEVcIjtcbiAgICBEZWx0YVR5cGVbRGVsdGFUeXBlW1wiRFRfU0hPUlRcIl0gPSAyXSA9IFwiRFRfU0hPUlRcIjtcbiAgICBEZWx0YVR5cGVbRGVsdGFUeXBlW1wiRFRfRkxPQVRcIl0gPSA0XSA9IFwiRFRfRkxPQVRcIjtcbiAgICBEZWx0YVR5cGVbRGVsdGFUeXBlW1wiRFRfSU5URUdFUlwiXSA9IDhdID0gXCJEVF9JTlRFR0VSXCI7XG4gICAgRGVsdGFUeXBlW0RlbHRhVHlwZVtcIkRUX0FOR0xFXCJdID0gMTZdID0gXCJEVF9BTkdMRVwiO1xuICAgIERlbHRhVHlwZVtEZWx0YVR5cGVbXCJEVF9USU1FV0lORE9XXzhcIl0gPSAzMl0gPSBcIkRUX1RJTUVXSU5ET1dfOFwiO1xuICAgIERlbHRhVHlwZVtEZWx0YVR5cGVbXCJEVF9USU1FV0lORE9XX0JJR1wiXSA9IDY0XSA9IFwiRFRfVElNRVdJTkRPV19CSUdcIjtcbiAgICBEZWx0YVR5cGVbRGVsdGFUeXBlW1wiRFRfU1RSSU5HXCJdID0gMTI4XSA9IFwiRFRfU1RSSU5HXCI7XG4gICAgRGVsdGFUeXBlW0RlbHRhVHlwZVtcIkRUX1NJR05FRFwiXSA9IC0yMTQ3NDgzNjQ4XSA9IFwiRFRfU0lHTkVEXCI7XG59KShEZWx0YVR5cGUgfHwgKGV4cG9ydHMuRGVsdGFUeXBlID0gRGVsdGFUeXBlID0ge30pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Replay/DeltaType.ts\n");

/***/ }),

/***/ "./src/Replay/FrameDataReader.ts":
/*!***************************************!*\
  !*** ./src/Replay/FrameDataReader.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FrameDataReader = void 0;\nconst readCoord_1 = __webpack_require__(/*! ./readCoord */ \"./src/Replay/readCoord.ts\");\nconst readDelta_1 = __webpack_require__(/*! ./readDelta */ \"./src/Replay/readDelta.ts\");\nconst BitReader_1 = __webpack_require__(/*! ../BitReader */ \"./src/BitReader.ts\");\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nclass FrameDataReader {\n    static bad() {\n        throw new Error('Invalid message type');\n    }\n    static nop() {\n        return null;\n    }\n    static disconnect(r) {\n        return {\n            reason: r.str()\n        };\n    }\n    static event(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let events = [];\n        let eventCount = bs.readBits(5);\n        for (let i = 0; i < eventCount; ++i) {\n            let event = {\n                index: bs.readBits(10)\n            };\n            let packetIndexBit = bs.readBits(1);\n            if (packetIndexBit) {\n                event.packetIndex = bs.readBits(11);\n                let deltaBit = bs.readBits(1);\n                if (deltaBit) {\n                    event.delta = (0, readDelta_1.readDelta)(bs, deltaDecoders['event_t']);\n                }\n            }\n            let fireTimeBit = bs.readBits(1);\n            if (fireTimeBit) {\n                event.fireTime = bs.readBits(16);\n            }\n            events.push(event);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return { events };\n    }\n    static version(r) {\n        return {\n            version: r.ui()\n        };\n    }\n    static setView(r) {\n        return {\n            entityIndex: r.s()\n        };\n    }\n    static sound(r) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let flags = bs.readBits(9);\n        let volume = 1;\n        if ((flags & 1) !== 0) {\n            volume = bs.readBits(8) / 255;\n        }\n        let attenuation = 1;\n        if ((flags & 2) !== 0) {\n            attenuation = bs.readBits(8) / 64;\n        }\n        let channel = bs.readBits(3);\n        let entityIndex = bs.readBits(11);\n        let soundIndex;\n        if ((flags & 4) !== 0) {\n            soundIndex = bs.readBits(16);\n        }\n        else {\n            soundIndex = bs.readBits(8);\n        }\n        let xFlag = bs.readBits(1);\n        let yFlag = bs.readBits(1);\n        let zFlag = bs.readBits(1);\n        let xPosition;\n        let yPosition;\n        let zPosition;\n        if (xFlag) {\n            xPosition = (0, readCoord_1.readCoord)(bs);\n        }\n        if (yFlag) {\n            yPosition = (0, readCoord_1.readCoord)(bs);\n        }\n        if (zFlag) {\n            zPosition = (0, readCoord_1.readCoord)(bs);\n        }\n        let pitch = 1;\n        if ((flags & 8) !== 0) {\n            pitch = bs.readBits(8);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            flags,\n            volume,\n            attenuation,\n            channel,\n            entityIndex,\n            soundIndex,\n            xPosition,\n            yPosition,\n            zPosition,\n            pitch\n        };\n    }\n    static time(r) {\n        return {\n            time: r.f()\n        };\n    }\n    static print(r) {\n        return {\n            message: r.str()\n        };\n    }\n    static stuffText(r) {\n        let message = r.str();\n        let commands = message.split(';').map(command => {\n            let args = command\n                .split(/\\s*(\"[^\"]+\"|[^\\s\"]+)/)\n                .map(arg => arg.replace(/^\"(.*)\"$/, '$1').trim())\n                .filter(arg => arg);\n            let func = args[0];\n            let params = args.slice(1);\n            return { func, params };\n        });\n        return { commands };\n    }\n    static setAngle(r) {\n        return {\n            pitch: r.s(),\n            yaw: r.s(),\n            roll: r.s()\n        };\n    }\n    static serverInfo(r) {\n        let info = {\n            protocol: r.i(),\n            spawnCount: r.i(),\n            mapCrc: r.i(),\n            clientDllHash: r.arrx(16, Reader_1.ReaderDataType.UByte),\n            maxPlayers: r.ub(),\n            playerIndex: r.ub(),\n            isDeathmatch: r.ub(),\n            gameDir: r.str(),\n            hostName: r.str(),\n            mapFileName: r.str(),\n            mapCycle: r.str()\n        };\n        r.skip(1);\n        return info;\n    }\n    static lightStyle(r) {\n        return {\n            index: r.ub(),\n            lightInfo: r.str()\n        };\n    }\n    static updateUserInfo(r) {\n        return {\n            clientIndex: r.ub(),\n            clientUserId: r.ui(),\n            clientUserInfo: r.str(),\n            clientCdKeyHash: r.arrx(16, Reader_1.ReaderDataType.UByte)\n        };\n    }\n    static deltaDescription(r, deltaDecoders) {\n        let data = {\n            name: r.str(),\n            fields: []\n        };\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        let fieldCount = r.us();\n        bs.index = r.tell() * 8;\n        for (let i = 0; i < fieldCount; ++i) {\n            data.fields.push((0, readDelta_1.readDelta)(bs, deltaDecoders['delta_description_t']));\n        }\n        deltaDecoders[data.name] = data.fields;\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return data;\n    }\n    static clientData(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let deltaSequence = bs.readBits(1);\n        if (deltaSequence) {\n            bs.index += 8;\n        }\n        let clientDataDecoder = deltaDecoders['clientdata_t'];\n        let clientData = (0, readDelta_1.readDelta)(bs, clientDataDecoder);\n        let weaponDataDecoder = deltaDecoders['weapon_data_t'];\n        while (bs.readBits(1)) {\n            bs.index += 6;\n            (0, readDelta_1.readDelta)(bs, weaponDataDecoder);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            clientData\n        };\n    }\n    static stopSound(r) {\n        return {\n            entityIndex: r.s()\n        };\n    }\n    static pings(r) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let pings = [];\n        while (bs.readBits(1)) {\n            pings.push({\n                slot: bs.readBits(8),\n                ping: bs.readBits(8),\n                loss: bs.readBits(8)\n            });\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return pings;\n    }\n    static particle(r) {\n        return {\n            position: [r.s() / 8, r.s() / 8, r.s() / 8],\n            direction: [r.b(), r.b(), r.b()],\n            count: r.ub(),\n            color: r.ub()\n        };\n    }\n    static damage() {\n        return null;\n    }\n    static spawnStatic(r) {\n        let data = {\n            modelIndex: r.s(),\n            sequence: r.b(),\n            frame: r.b(),\n            colorMap: r.s(),\n            skin: r.b(),\n            position: [],\n            rotation: []\n        };\n        data.position[0] = r.s() / 8;\n        data.rotation[0] = r.b() * (360 / 256);\n        data.position[1] = r.s() / 8;\n        data.rotation[1] = r.b() * (360 / 256);\n        data.position[2] = r.s() / 8;\n        data.rotation[2] = r.b() * (360 / 256);\n        data.renderMode = r.b();\n        if (data.renderMode) {\n            data.renderAmt = r.b();\n            data.renderColor = [r.ub(), r.ub(), r.ub()];\n            data.renderFx = r.b();\n        }\n        return data;\n    }\n    static eventReliable(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let eventIndex = bs.readBits(10);\n        let eventData = (0, readDelta_1.readDelta)(bs, deltaDecoders['event_t']);\n        let delayBit = bs.readBits(1);\n        let delay;\n        if (delayBit) {\n            delay = bs.readBits(16);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            eventIndex,\n            eventData,\n            delayBit,\n            delay\n        };\n    }\n    static spawnBaseLine(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let entities = [];\n        while (true) {\n            let entityIdx = bs.readBits(11);\n            if (entityIdx === (1 << 11) - 1) {\n                break;\n            }\n            let entityType = bs.readBits(2);\n            let entityTypeString;\n            if (entityType & 1) {\n                if (entityIdx > 0 && entityIdx <= 32) {\n                    entityTypeString = 'entity_state_player_t';\n                }\n                else {\n                    entityTypeString = 'entity_state_t';\n                }\n            }\n            else {\n                entityTypeString = 'custom_entity_state_t';\n            }\n            entities[entityIdx] = (0, readDelta_1.readDelta)(bs, deltaDecoders[entityTypeString]);\n        }\n        let footer = bs.readBits(5);\n        if (footer !== (1 << 5) - 1) {\n            throw new Error('Bad spawnbaseline');\n        }\n        let nExtraData = bs.readBits(6);\n        let extraData = [];\n        for (let i = 0; i < nExtraData; ++i) {\n            extraData.push((0, readDelta_1.readDelta)(bs, deltaDecoders['entity_state_t']));\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            entities,\n            extraData\n        };\n    }\n    static tempEntity(r) {\n        const TE_BEAMPOINTS = 0;\n        const TE_BEAMENTPOINT = 1;\n        const TE_GUNSHOT = 2;\n        const TE_EXPLOSION = 3;\n        const TE_TAREXPLOSION = 4;\n        const TE_SMOKE = 5;\n        const TE_TRACER = 6;\n        const TE_LIGHTNING = 7;\n        const TE_BEAMENTS = 8;\n        const TE_SPARKS = 9;\n        const TE_LAVASPLASH = 10;\n        const TE_TELEPORT = 11;\n        const TE_EXPLOSION2 = 12;\n        const TE_BSPDECAL = 13;\n        const TE_IMPLOSION = 14;\n        const TE_SPRITETRAIL = 15;\n        const TE_SPRITE = 17;\n        const TE_BEAMSPRITE = 18;\n        const TE_BEAMTORUS = 19;\n        const TE_BEAMDISK = 20;\n        const TE_BEAMCYLINDER = 21;\n        const TE_BEAMFOLLOW = 22;\n        const TE_GLOWSPRITE = 23;\n        const TE_BEAMRING = 24;\n        const TE_STREAK_SPLASH = 25;\n        const TE_DLIGHT = 27;\n        const TE_ELIGHT = 28;\n        const TE_TEXTMESSAGE = 29;\n        const TE_LINE = 30;\n        const TE_BOX = 31;\n        const TE_KILLBEAM = 99;\n        const TE_LARGEFUNNEL = 100;\n        const TE_BLOODSTREAM = 101;\n        const TE_SHOWLINE = 102;\n        const TE_BLOOD = 103;\n        const TE_DECAL = 104;\n        const TE_FIZZ = 105;\n        const TE_MODEL = 106;\n        const TE_EXPLODEMODEL = 107;\n        const TE_BREAKMODEL = 108;\n        const TE_GUNSHOTDECAL = 109;\n        const TE_SPRITE_SPRAY = 110;\n        const TE_ARMOR_RICOCHET = 111;\n        const TE_PLAYERDECAL = 112;\n        const TE_BUBBLES = 113;\n        const TE_BUBBLETRAIL = 114;\n        const TE_BLOODSPRITE = 115;\n        const TE_WORLDDECAL = 116;\n        const TE_WORLDDECALHIGH = 117;\n        const TE_DECALHIGH = 118;\n        const TE_PROJECTILE = 119;\n        const TE_SPRAY = 120;\n        const TE_PLAYERSPRITES = 121;\n        const TE_PARTICLEBURST = 122;\n        const TE_FIREFIELD = 123;\n        const TE_PLAYERATTACHMENT = 124;\n        const TE_KILLPLAYERATTACHMENTS = 125;\n        const TE_MULTIGUNSHOT = 126;\n        const TE_USERTRACER = 127;\n        let type = r.ub();\n        let data = {};\n        switch (type) {\n            case TE_BEAMPOINTS: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMENTPOINT: {\n                r.skip(20);\n                break;\n            }\n            case TE_GUNSHOT: {\n                r.skip(6);\n                break;\n            }\n            case TE_EXPLOSION: {\n                r.skip(11);\n                break;\n            }\n            case TE_TAREXPLOSION: {\n                r.skip(6);\n                break;\n            }\n            case TE_SMOKE: {\n                r.skip(10);\n                break;\n            }\n            case TE_TRACER: {\n                r.skip(12);\n                break;\n            }\n            case TE_LIGHTNING: {\n                r.skip(17);\n                break;\n            }\n            case TE_BEAMENTS: {\n                r.skip(16);\n                break;\n            }\n            case TE_SPARKS: {\n                r.skip(6);\n                break;\n            }\n            case TE_LAVASPLASH: {\n                r.skip(6);\n                break;\n            }\n            case TE_TELEPORT: {\n                r.skip(6);\n                break;\n            }\n            case TE_EXPLOSION2: {\n                r.skip(8);\n                break;\n            }\n            case TE_BSPDECAL: {\n                r.skip(8);\n                let entityIndex = r.s();\n                if (entityIndex) {\n                    r.skip(2);\n                }\n                break;\n            }\n            case TE_IMPLOSION: {\n                r.skip(9);\n                break;\n            }\n            case TE_SPRITETRAIL: {\n                r.skip(19);\n                break;\n            }\n            case TE_SPRITE: {\n                r.skip(10);\n                break;\n            }\n            case TE_BEAMSPRITE: {\n                r.skip(16);\n                break;\n            }\n            case TE_BEAMTORUS: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMDISK: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMCYLINDER: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMFOLLOW: {\n                r.skip(10);\n                break;\n            }\n            case TE_GLOWSPRITE: {\n                r.skip(11);\n                break;\n            }\n            case TE_BEAMRING: {\n                r.skip(16);\n                break;\n            }\n            case TE_STREAK_SPLASH: {\n                r.skip(19);\n                break;\n            }\n            case TE_DLIGHT: {\n                r.skip(12);\n                break;\n            }\n            case TE_ELIGHT: {\n                r.skip(16);\n                break;\n            }\n            case TE_TEXTMESSAGE: {\n                data.channel = r.b();\n                data.x = r.s();\n                data.y = r.s();\n                data.effect = r.b();\n                data.textColor = [r.ub(), r.ub(), r.ub(), r.ub()];\n                data.effectColor = [r.ub(), r.ub(), r.ub(), r.ub()];\n                data.fadeInTime = r.s();\n                data.fadeOutTime = r.s();\n                data.holdTime = r.s();\n                if (data.effect) {\n                    data.effectTime = r.s();\n                }\n                data.message = r.str();\n                break;\n            }\n            case TE_LINE: {\n                r.skip(17);\n                break;\n            }\n            case TE_BOX: {\n                r.skip(17);\n                break;\n            }\n            case TE_KILLBEAM: {\n                r.skip(2);\n                break;\n            }\n            case TE_LARGEFUNNEL: {\n                r.skip(10);\n                break;\n            }\n            case TE_BLOODSTREAM: {\n                r.skip(14);\n                break;\n            }\n            case TE_SHOWLINE: {\n                r.skip(12);\n                break;\n            }\n            case TE_BLOOD: {\n                r.skip(14);\n                break;\n            }\n            case TE_DECAL: {\n                r.skip(9);\n                break;\n            }\n            case TE_FIZZ: {\n                r.skip(5);\n                break;\n            }\n            case TE_MODEL: {\n                r.skip(17);\n                break;\n            }\n            case TE_EXPLODEMODEL: {\n                r.skip(13);\n                break;\n            }\n            case TE_BREAKMODEL: {\n                r.skip(24);\n                break;\n            }\n            case TE_GUNSHOTDECAL: {\n                r.skip(9);\n                break;\n            }\n            case TE_SPRITE_SPRAY: {\n                r.skip(17);\n                break;\n            }\n            case TE_ARMOR_RICOCHET: {\n                r.skip(7);\n                break;\n            }\n            case TE_PLAYERDECAL: {\n                r.skip(10);\n                break;\n            }\n            case TE_BUBBLES: {\n                r.skip(19);\n                break;\n            }\n            case TE_BUBBLETRAIL: {\n                r.skip(19);\n                break;\n            }\n            case TE_BLOODSPRITE: {\n                r.skip(12);\n                break;\n            }\n            case TE_WORLDDECAL: {\n                r.skip(7);\n                break;\n            }\n            case TE_WORLDDECALHIGH: {\n                r.skip(7);\n                break;\n            }\n            case TE_DECALHIGH: {\n                r.skip(9);\n                break;\n            }\n            case TE_PROJECTILE: {\n                r.skip(16);\n                break;\n            }\n            case TE_SPRAY: {\n                r.skip(18);\n                break;\n            }\n            case TE_PLAYERSPRITES: {\n                r.skip(5);\n                break;\n            }\n            case TE_PARTICLEBURST: {\n                r.skip(10);\n                break;\n            }\n            case TE_FIREFIELD: {\n                r.skip(9);\n                break;\n            }\n            case TE_PLAYERATTACHMENT: {\n                r.skip(7);\n                break;\n            }\n            case TE_KILLPLAYERATTACHMENTS: {\n                r.skip(1);\n                break;\n            }\n            case TE_MULTIGUNSHOT: {\n                r.skip(18);\n                break;\n            }\n            case TE_USERTRACER: {\n                r.skip(15);\n                break;\n            }\n            default: {\n                throw new Error('Unknown temp entity type');\n            }\n        }\n        return data;\n    }\n    static setPause(r) {\n        return {\n            isPaused: r.b()\n        };\n    }\n    static signOnNum(r) {\n        return {\n            sign: r.b()\n        };\n    }\n    static centerPrint(r) {\n        return {\n            message: r.str()\n        };\n    }\n    static killedMonster() {\n        return null;\n    }\n    static foundSecret() {\n        return null;\n    }\n    static spawnStaticSound(r) {\n        return {\n            position: [r.s() / 8, r.s() / 8, r.s() / 8],\n            soundIndex: r.us(),\n            volume: r.ub() / 255,\n            attenuation: r.ub() / 64,\n            entityIndex: r.us(),\n            pitch: r.ub(),\n            flags: r.ub()\n        };\n    }\n    static intermission() {\n        return null;\n    }\n    static finale(r) {\n        return {\n            text: r.str()\n        };\n    }\n    static cdTrack(r) {\n        return {\n            track: r.b(),\n            loopTrack: r.b()\n        };\n    }\n    static restore(r) {\n        let saveName = r.str();\n        let mapCount = r.ub();\n        let maps = [];\n        for (let i = 0; i < mapCount; ++i) {\n            maps.push(r.str());\n        }\n        return { saveName, maps };\n    }\n    static cutscene(r) {\n        return {\n            text: r.str()\n        };\n    }\n    static weaponAnim(r) {\n        return {\n            sequenceNumber: r.b(),\n            weaponModelBodyGroup: r.b()\n        };\n    }\n    static decalName(r) {\n        return {\n            positionIndex: r.ub(),\n            decalName: r.str()\n        };\n    }\n    static roomType(r) {\n        return {\n            type: r.us()\n        };\n    }\n    static addAngle(r) {\n        return {\n            angleToAdd: r.s() / (360 / 65536)\n        };\n    }\n    static newUserMsg(r) {\n        return {\n            index: r.ub(),\n            size: r.b(),\n            name: r.nstr(16)\n        };\n    }\n    static packetEntities(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let entityStates = [];\n        bs.readBits(16);\n        let entityNumber = 0;\n        while (true) {\n            let footer = bs.readBits(16);\n            if (footer === 0) {\n                break;\n            }\n            bs.index -= 16;\n            let entityNumberIncrement = bs.readBits(1);\n            if (!entityNumberIncrement) {\n                let absoluteEntityNumber = bs.readBits(1);\n                if (absoluteEntityNumber) {\n                    entityNumber = bs.readBits(11);\n                }\n                else {\n                    entityNumber += bs.readBits(6);\n                }\n            }\n            else {\n                entityNumber++;\n            }\n            let custom = bs.readBits(1);\n            let useBaseline = bs.readBits(1);\n            if (useBaseline) {\n                bs.index += 6;\n            }\n            let entityType = 'entity_state_t';\n            if (entityNumber > 0 && entityNumber <= 32) {\n                entityType = 'entity_state_player_t';\n            }\n            else if (custom) {\n                entityType = 'custom_entity_state_t';\n            }\n            entityStates.push((0, readDelta_1.readDelta)(bs, deltaDecoders[entityType]));\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return { entityStates };\n    }\n    static deltaPacketEntities(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        bs.readBits(16);\n        bs.index += 8;\n        let entityStates = [];\n        let entityIdx = 0;\n        while (true) {\n            let footer = bs.readBits(16);\n            if (footer === 0) {\n                break;\n            }\n            bs.index -= 16;\n            let removeEntity = bs.readBits(1);\n            let absoluteEntityNumber = bs.readBits(1);\n            if (absoluteEntityNumber) {\n                entityIdx = bs.readBits(11);\n            }\n            else {\n                entityIdx += bs.readBits(6);\n            }\n            if (removeEntity) {\n                continue;\n            }\n            let custom = bs.readBits(1);\n            let entityType = 'entity_state_t';\n            if (entityIdx > 0 && entityIdx < 32) {\n                entityType = 'entity_state_player_t';\n            }\n            else if (custom) {\n                entityType = 'custom_entity_state_t';\n            }\n            entityStates[entityIdx] = (0, readDelta_1.readDelta)(bs, deltaDecoders[entityType]);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return { entityStates };\n    }\n    static choke() {\n        return null;\n    }\n    static resourceList(r) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let entries = [];\n        let entryCount = bs.readBits(12);\n        for (let i = 0; i < entryCount; ++i) {\n            let entry = {};\n            entry.type = bs.readBits(4);\n            entry.name = bs.readString();\n            entry.index = bs.readBits(12);\n            entry.size = bs.readBits(24);\n            let flags = bs.readBits(3);\n            if (flags & 4) {\n                bs.index += 128;\n            }\n            if (bs.readBits(1)) {\n                bs.index += 256;\n            }\n            entries.push(entry);\n        }\n        if (bs.readBits(1)) {\n            while (bs.readBits(1)) {\n                let nBits = bs.readBits(1) ? 5 : 10;\n                bs.index += nBits;\n            }\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return entries;\n    }\n    static newMoveVars(r) {\n        return {\n            gravity: r.f(),\n            stopSpeed: r.f(),\n            maxSpeed: r.f(),\n            spectatorMaxSpeed: r.f(),\n            acceleration: r.f(),\n            airAcceleration: r.f(),\n            waterAcceleration: r.f(),\n            friction: r.f(),\n            edgeFriction: r.f(),\n            waterFriction: r.f(),\n            entityGravity: r.f(),\n            bounce: r.f(),\n            stepSize: r.f(),\n            maxVelocity: r.f(),\n            zMax: r.f(),\n            waveHeight: r.f(),\n            footsteps: r.b(),\n            rollAngle: r.f(),\n            rollSpeed: r.f(),\n            skyColor: [r.f(), r.f(), r.f()],\n            skyVec: [r.f(), r.f(), r.f()],\n            skyName: r.str()\n        };\n    }\n    static resourceRequest(r) {\n        let data = {\n            spawnCount: r.i()\n        };\n        r.skip(4);\n        return data;\n    }\n    static customization(r) {\n        let playerIndex = r.ub();\n        let type = r.ub();\n        let name = r.str();\n        let index = r.us();\n        let downloadSize = r.ui();\n        let flags = r.ub();\n        let md5hash;\n        if (flags & 4) {\n            md5hash = [r.i(), r.i(), r.i(), r.i()];\n        }\n        return {\n            playerIndex,\n            type,\n            name,\n            index,\n            downloadSize,\n            flags,\n            md5hash\n        };\n    }\n    static crosshairAngle(r) {\n        return {\n            pitch: r.b(),\n            yaw: r.b()\n        };\n    }\n    static soundFade(r) {\n        return {\n            initialPercent: r.ub(),\n            holdTime: r.ub(),\n            fadeOutTime: r.ub(),\n            fadeInTime: r.ub()\n        };\n    }\n    static fileTxferFailed(r) {\n        return {\n            filename: r.str()\n        };\n    }\n    static hltv(r) {\n        return {\n            mode: r.ub()\n        };\n    }\n    static director(r) {\n        let length = r.ub();\n        return {\n            flag: r.ub(),\n            message: r.nstr(length - 1)\n        };\n    }\n    static voiceInit(r) {\n        return {\n            codecName: r.str(),\n            quality: r.b()\n        };\n    }\n    static voiceData(r) {\n        let playerIndex = r.ub();\n        let size = r.us();\n        let data = r.arrx(size, Reader_1.ReaderDataType.UByte);\n        return { playerIndex, data };\n    }\n    static sendExtraInfo(r) {\n        return {\n            fallbackDir: r.str(),\n            canCheat: r.ub()\n        };\n    }\n    static timeScale(r) {\n        return {\n            timeScale: r.f()\n        };\n    }\n    static resourceLocation(r) {\n        return {\n            url: r.str()\n        };\n    }\n    static sendCvarValue(r) {\n        return {\n            name: r.str()\n        };\n    }\n    static sendCvarValue2(r) {\n        return {\n            requestId: r.ui(),\n            name: r.str()\n        };\n    }\n    static read(r, type, deltaDecoders) {\n        if (type === 0) {\n            return null;\n        }\n        const handler = FrameDataReader.handlers[type];\n        if (handler) {\n            return handler(r, deltaDecoders);\n        }\n        else {\n            return null;\n        }\n    }\n}\nexports.FrameDataReader = FrameDataReader;\nFrameDataReader.handlers = [\n    FrameDataReader.bad,\n    FrameDataReader.nop,\n    FrameDataReader.disconnect,\n    FrameDataReader.event,\n    FrameDataReader.version,\n    FrameDataReader.setView,\n    FrameDataReader.sound,\n    FrameDataReader.time,\n    FrameDataReader.print,\n    FrameDataReader.stuffText,\n    FrameDataReader.setAngle,\n    FrameDataReader.serverInfo,\n    FrameDataReader.lightStyle,\n    FrameDataReader.updateUserInfo,\n    FrameDataReader.deltaDescription,\n    FrameDataReader.clientData,\n    FrameDataReader.stopSound,\n    FrameDataReader.pings,\n    FrameDataReader.particle,\n    FrameDataReader.damage,\n    FrameDataReader.spawnStatic,\n    FrameDataReader.eventReliable,\n    FrameDataReader.spawnBaseLine,\n    FrameDataReader.tempEntity,\n    FrameDataReader.setPause,\n    FrameDataReader.signOnNum,\n    FrameDataReader.centerPrint,\n    FrameDataReader.killedMonster,\n    FrameDataReader.foundSecret,\n    FrameDataReader.spawnStaticSound,\n    FrameDataReader.intermission,\n    FrameDataReader.finale,\n    FrameDataReader.cdTrack,\n    FrameDataReader.restore,\n    FrameDataReader.cutscene,\n    FrameDataReader.weaponAnim,\n    FrameDataReader.decalName,\n    FrameDataReader.roomType,\n    FrameDataReader.addAngle,\n    FrameDataReader.newUserMsg,\n    FrameDataReader.packetEntities,\n    FrameDataReader.deltaPacketEntities,\n    FrameDataReader.choke,\n    FrameDataReader.resourceList,\n    FrameDataReader.newMoveVars,\n    FrameDataReader.resourceRequest,\n    FrameDataReader.customization,\n    FrameDataReader.crosshairAngle,\n    FrameDataReader.soundFade,\n    FrameDataReader.fileTxferFailed,\n    FrameDataReader.hltv,\n    FrameDataReader.director,\n    FrameDataReader.voiceInit,\n    FrameDataReader.voiceData,\n    FrameDataReader.sendExtraInfo,\n    FrameDataReader.timeScale,\n    FrameDataReader.resourceLocation,\n    FrameDataReader.sendCvarValue,\n    FrameDataReader.sendCvarValue2\n];\n(function (FrameDataReader) {\n    let SVC;\n    (function (SVC) {\n        SVC[SVC[\"BAD\"] = 0] = \"BAD\";\n        SVC[SVC[\"NOP\"] = 1] = \"NOP\";\n        SVC[SVC[\"DISCONNECT\"] = 2] = \"DISCONNECT\";\n        SVC[SVC[\"EVENT\"] = 3] = \"EVENT\";\n        SVC[SVC[\"VERSION\"] = 4] = \"VERSION\";\n        SVC[SVC[\"SETVIEW\"] = 5] = \"SETVIEW\";\n        SVC[SVC[\"SOUND\"] = 6] = \"SOUND\";\n        SVC[SVC[\"TIME\"] = 7] = \"TIME\";\n        SVC[SVC[\"PRINT\"] = 8] = \"PRINT\";\n        SVC[SVC[\"STUFFTEXT\"] = 9] = \"STUFFTEXT\";\n        SVC[SVC[\"SETANGLE\"] = 10] = \"SETANGLE\";\n        SVC[SVC[\"SERVERINFO\"] = 11] = \"SERVERINFO\";\n        SVC[SVC[\"LIGHTSTYLE\"] = 12] = \"LIGHTSTYLE\";\n        SVC[SVC[\"UPDATEUSERINFO\"] = 13] = \"UPDATEUSERINFO\";\n        SVC[SVC[\"DELTADESCRIPTION\"] = 14] = \"DELTADESCRIPTION\";\n        SVC[SVC[\"CLIENTDATA\"] = 15] = \"CLIENTDATA\";\n        SVC[SVC[\"STOPSOUND\"] = 16] = \"STOPSOUND\";\n        SVC[SVC[\"PINGS\"] = 17] = \"PINGS\";\n        SVC[SVC[\"PARTICLE\"] = 18] = \"PARTICLE\";\n        SVC[SVC[\"DAMAGE\"] = 19] = \"DAMAGE\";\n        SVC[SVC[\"SPAWNSTATIC\"] = 20] = \"SPAWNSTATIC\";\n        SVC[SVC[\"EVENT_RELIABLE\"] = 21] = \"EVENT_RELIABLE\";\n        SVC[SVC[\"SPAWNBASELINE\"] = 22] = \"SPAWNBASELINE\";\n        SVC[SVC[\"TEMPENTITY\"] = 23] = \"TEMPENTITY\";\n        SVC[SVC[\"SETPAUSE\"] = 24] = \"SETPAUSE\";\n        SVC[SVC[\"SIGNONNUM\"] = 25] = \"SIGNONNUM\";\n        SVC[SVC[\"CENTERPRINT\"] = 26] = \"CENTERPRINT\";\n        SVC[SVC[\"KILLEDMONSTER\"] = 27] = \"KILLEDMONSTER\";\n        SVC[SVC[\"FOUNDSECRET\"] = 28] = \"FOUNDSECRET\";\n        SVC[SVC[\"SPAWNSTATICSOUND\"] = 29] = \"SPAWNSTATICSOUND\";\n        SVC[SVC[\"INTERMISSION\"] = 30] = \"INTERMISSION\";\n        SVC[SVC[\"FINALE\"] = 31] = \"FINALE\";\n        SVC[SVC[\"CDTRACK\"] = 32] = \"CDTRACK\";\n        SVC[SVC[\"RESTORE\"] = 33] = \"RESTORE\";\n        SVC[SVC[\"CUTSCENE\"] = 34] = \"CUTSCENE\";\n        SVC[SVC[\"WEAPONANIM\"] = 35] = \"WEAPONANIM\";\n        SVC[SVC[\"DECALNAME\"] = 36] = \"DECALNAME\";\n        SVC[SVC[\"ROOMTYPE\"] = 37] = \"ROOMTYPE\";\n        SVC[SVC[\"ADDANGLE\"] = 38] = \"ADDANGLE\";\n        SVC[SVC[\"NEWUSERMSG\"] = 39] = \"NEWUSERMSG\";\n        SVC[SVC[\"PACKETENTITIES\"] = 40] = \"PACKETENTITIES\";\n        SVC[SVC[\"DELTAPACKETENTITIES\"] = 41] = \"DELTAPACKETENTITIES\";\n        SVC[SVC[\"CHOKE\"] = 42] = \"CHOKE\";\n        SVC[SVC[\"RESOURCELIST\"] = 43] = \"RESOURCELIST\";\n        SVC[SVC[\"NEWMOVEVARS\"] = 44] = \"NEWMOVEVARS\";\n        SVC[SVC[\"RESOURCEREQUEST\"] = 45] = \"RESOURCEREQUEST\";\n        SVC[SVC[\"CUSTOMIZATION\"] = 46] = \"CUSTOMIZATION\";\n        SVC[SVC[\"CROSSHAIRANGLE\"] = 47] = \"CROSSHAIRANGLE\";\n        SVC[SVC[\"SOUNDFADE\"] = 48] = \"SOUNDFADE\";\n        SVC[SVC[\"FILETXFERFAILED\"] = 49] = \"FILETXFERFAILED\";\n        SVC[SVC[\"HLTV\"] = 50] = \"HLTV\";\n        SVC[SVC[\"DIRECTOR\"] = 51] = \"DIRECTOR\";\n        SVC[SVC[\"VOICEINIT\"] = 52] = \"VOICEINIT\";\n        SVC[SVC[\"VOICEDATA\"] = 53] = \"VOICEDATA\";\n        SVC[SVC[\"SENDEXTRAINFO\"] = 54] = \"SENDEXTRAINFO\";\n        SVC[SVC[\"TIMESCALE\"] = 55] = \"TIMESCALE\";\n        SVC[SVC[\"RESOURCELOCATION\"] = 56] = \"RESOURCELOCATION\";\n        SVC[SVC[\"SENDCVARVALUE\"] = 57] = \"SENDCVARVALUE\";\n        SVC[SVC[\"SENDCVARVALUE2\"] = 58] = \"SENDCVARVALUE2\";\n    })(SVC = FrameDataReader.SVC || (FrameDataReader.SVC = {}));\n})(FrameDataReader || (exports.FrameDataReader = FrameDataReader = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L0ZyYW1lRGF0YVJlYWRlci50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsb0JBQW9CLG1CQUFPLENBQUMsOENBQWE7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsOENBQWE7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsd0NBQWM7QUFDMUMsaUJBQWlCLG1CQUFPLENBQUMsa0NBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNULGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHdEQUF3RDtBQUM3RCxDQUFDLHNCQUFzQix1QkFBdUIsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUmVwbGF5L0ZyYW1lRGF0YVJlYWRlci50cz9jZTFlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GcmFtZURhdGFSZWFkZXIgPSB2b2lkIDA7XG5jb25zdCByZWFkQ29vcmRfMSA9IHJlcXVpcmUoXCIuL3JlYWRDb29yZFwiKTtcbmNvbnN0IHJlYWREZWx0YV8xID0gcmVxdWlyZShcIi4vcmVhZERlbHRhXCIpO1xuY29uc3QgQml0UmVhZGVyXzEgPSByZXF1aXJlKFwiLi4vQml0UmVhZGVyXCIpO1xuY29uc3QgUmVhZGVyXzEgPSByZXF1aXJlKFwiLi4vUmVhZGVyXCIpO1xuY2xhc3MgRnJhbWVEYXRhUmVhZGVyIHtcbiAgICBzdGF0aWMgYmFkKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWVzc2FnZSB0eXBlJyk7XG4gICAgfVxuICAgIHN0YXRpYyBub3AoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgZGlzY29ubmVjdChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWFzb246IHIuc3RyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGV2ZW50KHIsIGRlbHRhRGVjb2RlcnMpIHtcbiAgICAgICAgbGV0IGJzID0gbmV3IEJpdFJlYWRlcl8xLkJpdFN0cmVhbShyLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgYnMuaW5kZXggPSByLnRlbGwoKSAqIDg7XG4gICAgICAgIGxldCBldmVudHMgPSBbXTtcbiAgICAgICAgbGV0IGV2ZW50Q291bnQgPSBicy5yZWFkQml0cyg1KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogYnMucmVhZEJpdHMoMTApXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHBhY2tldEluZGV4Qml0ID0gYnMucmVhZEJpdHMoMSk7XG4gICAgICAgICAgICBpZiAocGFja2V0SW5kZXhCaXQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wYWNrZXRJbmRleCA9IGJzLnJlYWRCaXRzKDExKTtcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFCaXQgPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGFCaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGVsdGEgPSAoMCwgcmVhZERlbHRhXzEucmVhZERlbHRhKShicywgZGVsdGFEZWNvZGVyc1snZXZlbnRfdCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZmlyZVRpbWVCaXQgPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgICAgIGlmIChmaXJlVGltZUJpdCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmZpcmVUaW1lID0gYnMucmVhZEJpdHMoMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChicy5pbmRleCAlIDggPiAwKSB7XG4gICAgICAgICAgICByLnNlZWsoTWF0aC5mbG9vcihicy5pbmRleCAvIDgpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByLnNlZWsoYnMuaW5kZXggLyA4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBldmVudHMgfTtcbiAgICB9XG4gICAgc3RhdGljIHZlcnNpb24ocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogci51aSgpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBzZXRWaWV3KHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVudGl0eUluZGV4OiByLnMoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgc291bmQocikge1xuICAgICAgICBsZXQgYnMgPSBuZXcgQml0UmVhZGVyXzEuQml0U3RyZWFtKHIuZGF0YS5idWZmZXIpO1xuICAgICAgICBicy5pbmRleCA9IHIudGVsbCgpICogODtcbiAgICAgICAgbGV0IGZsYWdzID0gYnMucmVhZEJpdHMoOSk7XG4gICAgICAgIGxldCB2b2x1bWUgPSAxO1xuICAgICAgICBpZiAoKGZsYWdzICYgMSkgIT09IDApIHtcbiAgICAgICAgICAgIHZvbHVtZSA9IGJzLnJlYWRCaXRzKDgpIC8gMjU1O1xuICAgICAgICB9XG4gICAgICAgIGxldCBhdHRlbnVhdGlvbiA9IDE7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyKSAhPT0gMCkge1xuICAgICAgICAgICAgYXR0ZW51YXRpb24gPSBicy5yZWFkQml0cyg4KSAvIDY0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaGFubmVsID0gYnMucmVhZEJpdHMoMyk7XG4gICAgICAgIGxldCBlbnRpdHlJbmRleCA9IGJzLnJlYWRCaXRzKDExKTtcbiAgICAgICAgbGV0IHNvdW5kSW5kZXg7XG4gICAgICAgIGlmICgoZmxhZ3MgJiA0KSAhPT0gMCkge1xuICAgICAgICAgICAgc291bmRJbmRleCA9IGJzLnJlYWRCaXRzKDE2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNvdW5kSW5kZXggPSBicy5yZWFkQml0cyg4KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeEZsYWcgPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgbGV0IHlGbGFnID0gYnMucmVhZEJpdHMoMSk7XG4gICAgICAgIGxldCB6RmxhZyA9IGJzLnJlYWRCaXRzKDEpO1xuICAgICAgICBsZXQgeFBvc2l0aW9uO1xuICAgICAgICBsZXQgeVBvc2l0aW9uO1xuICAgICAgICBsZXQgelBvc2l0aW9uO1xuICAgICAgICBpZiAoeEZsYWcpIHtcbiAgICAgICAgICAgIHhQb3NpdGlvbiA9ICgwLCByZWFkQ29vcmRfMS5yZWFkQ29vcmQpKGJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeUZsYWcpIHtcbiAgICAgICAgICAgIHlQb3NpdGlvbiA9ICgwLCByZWFkQ29vcmRfMS5yZWFkQ29vcmQpKGJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoekZsYWcpIHtcbiAgICAgICAgICAgIHpQb3NpdGlvbiA9ICgwLCByZWFkQ29vcmRfMS5yZWFkQ29vcmQpKGJzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGl0Y2ggPSAxO1xuICAgICAgICBpZiAoKGZsYWdzICYgOCkgIT09IDApIHtcbiAgICAgICAgICAgIHBpdGNoID0gYnMucmVhZEJpdHMoOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJzLmluZGV4ICUgOCA+IDApIHtcbiAgICAgICAgICAgIHIuc2VlayhNYXRoLmZsb29yKGJzLmluZGV4IC8gOCkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHIuc2Vlayhicy5pbmRleCAvIDgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgIHZvbHVtZSxcbiAgICAgICAgICAgIGF0dGVudWF0aW9uLFxuICAgICAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgICAgIGVudGl0eUluZGV4LFxuICAgICAgICAgICAgc291bmRJbmRleCxcbiAgICAgICAgICAgIHhQb3NpdGlvbixcbiAgICAgICAgICAgIHlQb3NpdGlvbixcbiAgICAgICAgICAgIHpQb3NpdGlvbixcbiAgICAgICAgICAgIHBpdGNoXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyB0aW1lKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpbWU6IHIuZigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBwcmludChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiByLnN0cigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBzdHVmZlRleHQocikge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHIuc3RyKCk7XG4gICAgICAgIGxldCBjb21tYW5kcyA9IG1lc3NhZ2Uuc3BsaXQoJzsnKS5tYXAoY29tbWFuZCA9PiB7XG4gICAgICAgICAgICBsZXQgYXJncyA9IGNvbW1hbmRcbiAgICAgICAgICAgICAgICAuc3BsaXQoL1xccyooXCJbXlwiXStcInxbXlxcc1wiXSspLylcbiAgICAgICAgICAgICAgICAubWFwKGFyZyA9PiBhcmcucmVwbGFjZSgvXlwiKC4qKVwiJC8sICckMScpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGFyZyA9PiBhcmcpO1xuICAgICAgICAgICAgbGV0IGZ1bmMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IGFyZ3Muc2xpY2UoMSk7XG4gICAgICAgICAgICByZXR1cm4geyBmdW5jLCBwYXJhbXMgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IGNvbW1hbmRzIH07XG4gICAgfVxuICAgIHN0YXRpYyBzZXRBbmdsZShyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaXRjaDogci5zKCksXG4gICAgICAgICAgICB5YXc6IHIucygpLFxuICAgICAgICAgICAgcm9sbDogci5zKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHNlcnZlckluZm8ocikge1xuICAgICAgICBsZXQgaW5mbyA9IHtcbiAgICAgICAgICAgIHByb3RvY29sOiByLmkoKSxcbiAgICAgICAgICAgIHNwYXduQ291bnQ6IHIuaSgpLFxuICAgICAgICAgICAgbWFwQ3JjOiByLmkoKSxcbiAgICAgICAgICAgIGNsaWVudERsbEhhc2g6IHIuYXJyeCgxNiwgUmVhZGVyXzEuUmVhZGVyRGF0YVR5cGUuVUJ5dGUpLFxuICAgICAgICAgICAgbWF4UGxheWVyczogci51YigpLFxuICAgICAgICAgICAgcGxheWVySW5kZXg6IHIudWIoKSxcbiAgICAgICAgICAgIGlzRGVhdGhtYXRjaDogci51YigpLFxuICAgICAgICAgICAgZ2FtZURpcjogci5zdHIoKSxcbiAgICAgICAgICAgIGhvc3ROYW1lOiByLnN0cigpLFxuICAgICAgICAgICAgbWFwRmlsZU5hbWU6IHIuc3RyKCksXG4gICAgICAgICAgICBtYXBDeWNsZTogci5zdHIoKVxuICAgICAgICB9O1xuICAgICAgICByLnNraXAoMSk7XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICBzdGF0aWMgbGlnaHRTdHlsZShyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDogci51YigpLFxuICAgICAgICAgICAgbGlnaHRJbmZvOiByLnN0cigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyB1cGRhdGVVc2VySW5mbyhyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbGllbnRJbmRleDogci51YigpLFxuICAgICAgICAgICAgY2xpZW50VXNlcklkOiByLnVpKCksXG4gICAgICAgICAgICBjbGllbnRVc2VySW5mbzogci5zdHIoKSxcbiAgICAgICAgICAgIGNsaWVudENkS2V5SGFzaDogci5hcnJ4KDE2LCBSZWFkZXJfMS5SZWFkZXJEYXRhVHlwZS5VQnl0ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGRlbHRhRGVzY3JpcHRpb24ociwgZGVsdGFEZWNvZGVycykge1xuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHIuc3RyKCksXG4gICAgICAgICAgICBmaWVsZHM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGxldCBicyA9IG5ldyBCaXRSZWFkZXJfMS5CaXRTdHJlYW0oci5kYXRhLmJ1ZmZlcik7XG4gICAgICAgIGxldCBmaWVsZENvdW50ID0gci51cygpO1xuICAgICAgICBicy5pbmRleCA9IHIudGVsbCgpICogODtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGRhdGEuZmllbGRzLnB1c2goKDAsIHJlYWREZWx0YV8xLnJlYWREZWx0YSkoYnMsIGRlbHRhRGVjb2RlcnNbJ2RlbHRhX2Rlc2NyaXB0aW9uX3QnXSkpO1xuICAgICAgICB9XG4gICAgICAgIGRlbHRhRGVjb2RlcnNbZGF0YS5uYW1lXSA9IGRhdGEuZmllbGRzO1xuICAgICAgICBpZiAoYnMuaW5kZXggJSA4ID4gMCkge1xuICAgICAgICAgICAgci5zZWVrKE1hdGguZmxvb3IoYnMuaW5kZXggLyA4KSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgci5zZWVrKGJzLmluZGV4IC8gOCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHN0YXRpYyBjbGllbnREYXRhKHIsIGRlbHRhRGVjb2RlcnMpIHtcbiAgICAgICAgbGV0IGJzID0gbmV3IEJpdFJlYWRlcl8xLkJpdFN0cmVhbShyLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgYnMuaW5kZXggPSByLnRlbGwoKSAqIDg7XG4gICAgICAgIGxldCBkZWx0YVNlcXVlbmNlID0gYnMucmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChkZWx0YVNlcXVlbmNlKSB7XG4gICAgICAgICAgICBicy5pbmRleCArPSA4O1xuICAgICAgICB9XG4gICAgICAgIGxldCBjbGllbnREYXRhRGVjb2RlciA9IGRlbHRhRGVjb2RlcnNbJ2NsaWVudGRhdGFfdCddO1xuICAgICAgICBsZXQgY2xpZW50RGF0YSA9ICgwLCByZWFkRGVsdGFfMS5yZWFkRGVsdGEpKGJzLCBjbGllbnREYXRhRGVjb2Rlcik7XG4gICAgICAgIGxldCB3ZWFwb25EYXRhRGVjb2RlciA9IGRlbHRhRGVjb2RlcnNbJ3dlYXBvbl9kYXRhX3QnXTtcbiAgICAgICAgd2hpbGUgKGJzLnJlYWRCaXRzKDEpKSB7XG4gICAgICAgICAgICBicy5pbmRleCArPSA2O1xuICAgICAgICAgICAgKDAsIHJlYWREZWx0YV8xLnJlYWREZWx0YSkoYnMsIHdlYXBvbkRhdGFEZWNvZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnMuaW5kZXggJSA4ID4gMCkge1xuICAgICAgICAgICAgci5zZWVrKE1hdGguZmxvb3IoYnMuaW5kZXggLyA4KSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgci5zZWVrKGJzLmluZGV4IC8gOCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsaWVudERhdGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHN0b3BTb3VuZChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbnRpdHlJbmRleDogci5zKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHBpbmdzKHIpIHtcbiAgICAgICAgbGV0IGJzID0gbmV3IEJpdFJlYWRlcl8xLkJpdFN0cmVhbShyLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgYnMuaW5kZXggPSByLnRlbGwoKSAqIDg7XG4gICAgICAgIGxldCBwaW5ncyA9IFtdO1xuICAgICAgICB3aGlsZSAoYnMucmVhZEJpdHMoMSkpIHtcbiAgICAgICAgICAgIHBpbmdzLnB1c2goe1xuICAgICAgICAgICAgICAgIHNsb3Q6IGJzLnJlYWRCaXRzKDgpLFxuICAgICAgICAgICAgICAgIHBpbmc6IGJzLnJlYWRCaXRzKDgpLFxuICAgICAgICAgICAgICAgIGxvc3M6IGJzLnJlYWRCaXRzKDgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnMuaW5kZXggJSA4ID4gMCkge1xuICAgICAgICAgICAgci5zZWVrKE1hdGguZmxvb3IoYnMuaW5kZXggLyA4KSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgci5zZWVrKGJzLmluZGV4IC8gOCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpbmdzO1xuICAgIH1cbiAgICBzdGF0aWMgcGFydGljbGUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IFtyLnMoKSAvIDgsIHIucygpIC8gOCwgci5zKCkgLyA4XSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogW3IuYigpLCByLmIoKSwgci5iKCldLFxuICAgICAgICAgICAgY291bnQ6IHIudWIoKSxcbiAgICAgICAgICAgIGNvbG9yOiByLnViKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGRhbWFnZSgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBzcGF3blN0YXRpYyhyKSB7XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgbW9kZWxJbmRleDogci5zKCksXG4gICAgICAgICAgICBzZXF1ZW5jZTogci5iKCksXG4gICAgICAgICAgICBmcmFtZTogci5iKCksXG4gICAgICAgICAgICBjb2xvck1hcDogci5zKCksXG4gICAgICAgICAgICBza2luOiByLmIoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbXSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBbXVxuICAgICAgICB9O1xuICAgICAgICBkYXRhLnBvc2l0aW9uWzBdID0gci5zKCkgLyA4O1xuICAgICAgICBkYXRhLnJvdGF0aW9uWzBdID0gci5iKCkgKiAoMzYwIC8gMjU2KTtcbiAgICAgICAgZGF0YS5wb3NpdGlvblsxXSA9IHIucygpIC8gODtcbiAgICAgICAgZGF0YS5yb3RhdGlvblsxXSA9IHIuYigpICogKDM2MCAvIDI1Nik7XG4gICAgICAgIGRhdGEucG9zaXRpb25bMl0gPSByLnMoKSAvIDg7XG4gICAgICAgIGRhdGEucm90YXRpb25bMl0gPSByLmIoKSAqICgzNjAgLyAyNTYpO1xuICAgICAgICBkYXRhLnJlbmRlck1vZGUgPSByLmIoKTtcbiAgICAgICAgaWYgKGRhdGEucmVuZGVyTW9kZSkge1xuICAgICAgICAgICAgZGF0YS5yZW5kZXJBbXQgPSByLmIoKTtcbiAgICAgICAgICAgIGRhdGEucmVuZGVyQ29sb3IgPSBbci51YigpLCByLnViKCksIHIudWIoKV07XG4gICAgICAgICAgICBkYXRhLnJlbmRlckZ4ID0gci5iKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHN0YXRpYyBldmVudFJlbGlhYmxlKHIsIGRlbHRhRGVjb2RlcnMpIHtcbiAgICAgICAgbGV0IGJzID0gbmV3IEJpdFJlYWRlcl8xLkJpdFN0cmVhbShyLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgYnMuaW5kZXggPSByLnRlbGwoKSAqIDg7XG4gICAgICAgIGxldCBldmVudEluZGV4ID0gYnMucmVhZEJpdHMoMTApO1xuICAgICAgICBsZXQgZXZlbnREYXRhID0gKDAsIHJlYWREZWx0YV8xLnJlYWREZWx0YSkoYnMsIGRlbHRhRGVjb2RlcnNbJ2V2ZW50X3QnXSk7XG4gICAgICAgIGxldCBkZWxheUJpdCA9IGJzLnJlYWRCaXRzKDEpO1xuICAgICAgICBsZXQgZGVsYXk7XG4gICAgICAgIGlmIChkZWxheUJpdCkge1xuICAgICAgICAgICAgZGVsYXkgPSBicy5yZWFkQml0cygxNik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJzLmluZGV4ICUgOCA+IDApIHtcbiAgICAgICAgICAgIHIuc2VlayhNYXRoLmZsb29yKGJzLmluZGV4IC8gOCkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHIuc2Vlayhicy5pbmRleCAvIDgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudEluZGV4LFxuICAgICAgICAgICAgZXZlbnREYXRhLFxuICAgICAgICAgICAgZGVsYXlCaXQsXG4gICAgICAgICAgICBkZWxheVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgc3Bhd25CYXNlTGluZShyLCBkZWx0YURlY29kZXJzKSB7XG4gICAgICAgIGxldCBicyA9IG5ldyBCaXRSZWFkZXJfMS5CaXRTdHJlYW0oci5kYXRhLmJ1ZmZlcik7XG4gICAgICAgIGJzLmluZGV4ID0gci50ZWxsKCkgKiA4O1xuICAgICAgICBsZXQgZW50aXRpZXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHlJZHggPSBicy5yZWFkQml0cygxMSk7XG4gICAgICAgICAgICBpZiAoZW50aXR5SWR4ID09PSAoMSA8PCAxMSkgLSAxKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZW50aXR5VHlwZSA9IGJzLnJlYWRCaXRzKDIpO1xuICAgICAgICAgICAgbGV0IGVudGl0eVR5cGVTdHJpbmc7XG4gICAgICAgICAgICBpZiAoZW50aXR5VHlwZSAmIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5SWR4ID4gMCAmJiBlbnRpdHlJZHggPD0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5VHlwZVN0cmluZyA9ICdlbnRpdHlfc3RhdGVfcGxheWVyX3QnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5VHlwZVN0cmluZyA9ICdlbnRpdHlfc3RhdGVfdCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW50aXR5VHlwZVN0cmluZyA9ICdjdXN0b21fZW50aXR5X3N0YXRlX3QnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50aXRpZXNbZW50aXR5SWR4XSA9ICgwLCByZWFkRGVsdGFfMS5yZWFkRGVsdGEpKGJzLCBkZWx0YURlY29kZXJzW2VudGl0eVR5cGVTdHJpbmddKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZm9vdGVyID0gYnMucmVhZEJpdHMoNSk7XG4gICAgICAgIGlmIChmb290ZXIgIT09ICgxIDw8IDUpIC0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc3Bhd25iYXNlbGluZScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuRXh0cmFEYXRhID0gYnMucmVhZEJpdHMoNik7XG4gICAgICAgIGxldCBleHRyYURhdGEgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuRXh0cmFEYXRhOyArK2kpIHtcbiAgICAgICAgICAgIGV4dHJhRGF0YS5wdXNoKCgwLCByZWFkRGVsdGFfMS5yZWFkRGVsdGEpKGJzLCBkZWx0YURlY29kZXJzWydlbnRpdHlfc3RhdGVfdCddKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJzLmluZGV4ICUgOCA+IDApIHtcbiAgICAgICAgICAgIHIuc2VlayhNYXRoLmZsb29yKGJzLmluZGV4IC8gOCkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHIuc2Vlayhicy5pbmRleCAvIDgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbnRpdGllcyxcbiAgICAgICAgICAgIGV4dHJhRGF0YVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgdGVtcEVudGl0eShyKSB7XG4gICAgICAgIGNvbnN0IFRFX0JFQU1QT0lOVFMgPSAwO1xuICAgICAgICBjb25zdCBURV9CRUFNRU5UUE9JTlQgPSAxO1xuICAgICAgICBjb25zdCBURV9HVU5TSE9UID0gMjtcbiAgICAgICAgY29uc3QgVEVfRVhQTE9TSU9OID0gMztcbiAgICAgICAgY29uc3QgVEVfVEFSRVhQTE9TSU9OID0gNDtcbiAgICAgICAgY29uc3QgVEVfU01PS0UgPSA1O1xuICAgICAgICBjb25zdCBURV9UUkFDRVIgPSA2O1xuICAgICAgICBjb25zdCBURV9MSUdIVE5JTkcgPSA3O1xuICAgICAgICBjb25zdCBURV9CRUFNRU5UUyA9IDg7XG4gICAgICAgIGNvbnN0IFRFX1NQQVJLUyA9IDk7XG4gICAgICAgIGNvbnN0IFRFX0xBVkFTUExBU0ggPSAxMDtcbiAgICAgICAgY29uc3QgVEVfVEVMRVBPUlQgPSAxMTtcbiAgICAgICAgY29uc3QgVEVfRVhQTE9TSU9OMiA9IDEyO1xuICAgICAgICBjb25zdCBURV9CU1BERUNBTCA9IDEzO1xuICAgICAgICBjb25zdCBURV9JTVBMT1NJT04gPSAxNDtcbiAgICAgICAgY29uc3QgVEVfU1BSSVRFVFJBSUwgPSAxNTtcbiAgICAgICAgY29uc3QgVEVfU1BSSVRFID0gMTc7XG4gICAgICAgIGNvbnN0IFRFX0JFQU1TUFJJVEUgPSAxODtcbiAgICAgICAgY29uc3QgVEVfQkVBTVRPUlVTID0gMTk7XG4gICAgICAgIGNvbnN0IFRFX0JFQU1ESVNLID0gMjA7XG4gICAgICAgIGNvbnN0IFRFX0JFQU1DWUxJTkRFUiA9IDIxO1xuICAgICAgICBjb25zdCBURV9CRUFNRk9MTE9XID0gMjI7XG4gICAgICAgIGNvbnN0IFRFX0dMT1dTUFJJVEUgPSAyMztcbiAgICAgICAgY29uc3QgVEVfQkVBTVJJTkcgPSAyNDtcbiAgICAgICAgY29uc3QgVEVfU1RSRUFLX1NQTEFTSCA9IDI1O1xuICAgICAgICBjb25zdCBURV9ETElHSFQgPSAyNztcbiAgICAgICAgY29uc3QgVEVfRUxJR0hUID0gMjg7XG4gICAgICAgIGNvbnN0IFRFX1RFWFRNRVNTQUdFID0gMjk7XG4gICAgICAgIGNvbnN0IFRFX0xJTkUgPSAzMDtcbiAgICAgICAgY29uc3QgVEVfQk9YID0gMzE7XG4gICAgICAgIGNvbnN0IFRFX0tJTExCRUFNID0gOTk7XG4gICAgICAgIGNvbnN0IFRFX0xBUkdFRlVOTkVMID0gMTAwO1xuICAgICAgICBjb25zdCBURV9CTE9PRFNUUkVBTSA9IDEwMTtcbiAgICAgICAgY29uc3QgVEVfU0hPV0xJTkUgPSAxMDI7XG4gICAgICAgIGNvbnN0IFRFX0JMT09EID0gMTAzO1xuICAgICAgICBjb25zdCBURV9ERUNBTCA9IDEwNDtcbiAgICAgICAgY29uc3QgVEVfRklaWiA9IDEwNTtcbiAgICAgICAgY29uc3QgVEVfTU9ERUwgPSAxMDY7XG4gICAgICAgIGNvbnN0IFRFX0VYUExPREVNT0RFTCA9IDEwNztcbiAgICAgICAgY29uc3QgVEVfQlJFQUtNT0RFTCA9IDEwODtcbiAgICAgICAgY29uc3QgVEVfR1VOU0hPVERFQ0FMID0gMTA5O1xuICAgICAgICBjb25zdCBURV9TUFJJVEVfU1BSQVkgPSAxMTA7XG4gICAgICAgIGNvbnN0IFRFX0FSTU9SX1JJQ09DSEVUID0gMTExO1xuICAgICAgICBjb25zdCBURV9QTEFZRVJERUNBTCA9IDExMjtcbiAgICAgICAgY29uc3QgVEVfQlVCQkxFUyA9IDExMztcbiAgICAgICAgY29uc3QgVEVfQlVCQkxFVFJBSUwgPSAxMTQ7XG4gICAgICAgIGNvbnN0IFRFX0JMT09EU1BSSVRFID0gMTE1O1xuICAgICAgICBjb25zdCBURV9XT1JMRERFQ0FMID0gMTE2O1xuICAgICAgICBjb25zdCBURV9XT1JMRERFQ0FMSElHSCA9IDExNztcbiAgICAgICAgY29uc3QgVEVfREVDQUxISUdIID0gMTE4O1xuICAgICAgICBjb25zdCBURV9QUk9KRUNUSUxFID0gMTE5O1xuICAgICAgICBjb25zdCBURV9TUFJBWSA9IDEyMDtcbiAgICAgICAgY29uc3QgVEVfUExBWUVSU1BSSVRFUyA9IDEyMTtcbiAgICAgICAgY29uc3QgVEVfUEFSVElDTEVCVVJTVCA9IDEyMjtcbiAgICAgICAgY29uc3QgVEVfRklSRUZJRUxEID0gMTIzO1xuICAgICAgICBjb25zdCBURV9QTEFZRVJBVFRBQ0hNRU5UID0gMTI0O1xuICAgICAgICBjb25zdCBURV9LSUxMUExBWUVSQVRUQUNITUVOVFMgPSAxMjU7XG4gICAgICAgIGNvbnN0IFRFX01VTFRJR1VOU0hPVCA9IDEyNjtcbiAgICAgICAgY29uc3QgVEVfVVNFUlRSQUNFUiA9IDEyNztcbiAgICAgICAgbGV0IHR5cGUgPSByLnViKCk7XG4gICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBURV9CRUFNUE9JTlRTOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDI0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfQkVBTUVOVFBPSU5UOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDIwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfR1VOU0hPVDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfRVhQTE9TSU9OOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDExKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfVEFSRVhQTE9TSU9OOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9TTU9LRToge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX1RSQUNFUjoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0xJR0hUTklORzoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JFQU1FTlRTOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDE2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfU1BBUktTOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9MQVZBU1BMQVNIOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9URUxFUE9SVDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfRVhQTE9TSU9OMjoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfQlNQREVDQUw6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoOCk7XG4gICAgICAgICAgICAgICAgbGV0IGVudGl0eUluZGV4ID0gci5zKCk7XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHIuc2tpcCgyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0lNUExPU0lPTjoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfU1BSSVRFVFJBSUw6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMTkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9TUFJJVEU6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMTApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9CRUFNU1BSSVRFOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDE2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfQkVBTVRPUlVTOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDI0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfQkVBTURJU0s6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMjQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9CRUFNQ1lMSU5ERVI6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMjQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9CRUFNRk9MTE9XOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDEwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfR0xPV1NQUklURToge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JFQU1SSU5HOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDE2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfU1RSRUFLX1NQTEFTSDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxOSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0RMSUdIVDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0VMSUdIVDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX1RFWFRNRVNTQUdFOiB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFubmVsID0gci5iKCk7XG4gICAgICAgICAgICAgICAgZGF0YS54ID0gci5zKCk7XG4gICAgICAgICAgICAgICAgZGF0YS55ID0gci5zKCk7XG4gICAgICAgICAgICAgICAgZGF0YS5lZmZlY3QgPSByLmIoKTtcbiAgICAgICAgICAgICAgICBkYXRhLnRleHRDb2xvciA9IFtyLnViKCksIHIudWIoKSwgci51YigpLCByLnViKCldO1xuICAgICAgICAgICAgICAgIGRhdGEuZWZmZWN0Q29sb3IgPSBbci51YigpLCByLnViKCksIHIudWIoKSwgci51YigpXTtcbiAgICAgICAgICAgICAgICBkYXRhLmZhZGVJblRpbWUgPSByLnMoKTtcbiAgICAgICAgICAgICAgICBkYXRhLmZhZGVPdXRUaW1lID0gci5zKCk7XG4gICAgICAgICAgICAgICAgZGF0YS5ob2xkVGltZSA9IHIucygpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVmZmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmVmZmVjdFRpbWUgPSByLnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS5tZXNzYWdlID0gci5zdHIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfTElORToge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JPWDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0tJTExCRUFNOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9MQVJHRUZVTk5FTDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JMT09EU1RSRUFNOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDE0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfU0hPV0xJTkU6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMTIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9CTE9PRDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0RFQ0FMOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9GSVpaOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9NT0RFTDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0VYUExPREVNT0RFTDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JSRUFLTU9ERUw6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMjQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9HVU5TSE9UREVDQUw6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoOSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX1NQUklURV9TUFJBWToge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0FSTU9SX1JJQ09DSEVUOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9QTEFZRVJERUNBTDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JVQkJMRVM6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMTkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9CVUJCTEVUUkFJTDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxOSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0JMT09EU1BSSVRFOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDEyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfV09STERERUNBTDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg3KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfV09STERERUNBTEhJR0g6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoNyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0RFQ0FMSElHSDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfUFJPSkVDVElMRToge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxNik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX1NQUkFZOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDE4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfUExBWUVSU1BSSVRFUzoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg1KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfUEFSVElDTEVCVVJTVDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCgxMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRFX0ZJUkVGSUVMRDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfUExBWUVSQVRUQUNITUVOVDoge1xuICAgICAgICAgICAgICAgIHIuc2tpcCg3KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVEVfS0lMTFBMQVlFUkFUVEFDSE1FTlRTOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9NVUxUSUdVTlNIT1Q6IHtcbiAgICAgICAgICAgICAgICByLnNraXAoMTgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBURV9VU0VSVFJBQ0VSOiB7XG4gICAgICAgICAgICAgICAgci5za2lwKDE1KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdGVtcCBlbnRpdHkgdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0UGF1c2Uocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNQYXVzZWQ6IHIuYigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBzaWduT25OdW0ocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2lnbjogci5iKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGNlbnRlclByaW50KHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHIuc3RyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGtpbGxlZE1vbnN0ZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgZm91bmRTZWNyZXQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgc3Bhd25TdGF0aWNTb3VuZChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogW3IucygpIC8gOCwgci5zKCkgLyA4LCByLnMoKSAvIDhdLFxuICAgICAgICAgICAgc291bmRJbmRleDogci51cygpLFxuICAgICAgICAgICAgdm9sdW1lOiByLnViKCkgLyAyNTUsXG4gICAgICAgICAgICBhdHRlbnVhdGlvbjogci51YigpIC8gNjQsXG4gICAgICAgICAgICBlbnRpdHlJbmRleDogci51cygpLFxuICAgICAgICAgICAgcGl0Y2g6IHIudWIoKSxcbiAgICAgICAgICAgIGZsYWdzOiByLnViKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGludGVybWlzc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBmaW5hbGUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogci5zdHIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgY2RUcmFjayhyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFjazogci5iKCksXG4gICAgICAgICAgICBsb29wVHJhY2s6IHIuYigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyByZXN0b3JlKHIpIHtcbiAgICAgICAgbGV0IHNhdmVOYW1lID0gci5zdHIoKTtcbiAgICAgICAgbGV0IG1hcENvdW50ID0gci51YigpO1xuICAgICAgICBsZXQgbWFwcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIG1hcHMucHVzaChyLnN0cigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzYXZlTmFtZSwgbWFwcyB9O1xuICAgIH1cbiAgICBzdGF0aWMgY3V0c2NlbmUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogci5zdHIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgd2VhcG9uQW5pbShyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXF1ZW5jZU51bWJlcjogci5iKCksXG4gICAgICAgICAgICB3ZWFwb25Nb2RlbEJvZHlHcm91cDogci5iKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGRlY2FsTmFtZShyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbkluZGV4OiByLnViKCksXG4gICAgICAgICAgICBkZWNhbE5hbWU6IHIuc3RyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJvb21UeXBlKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHIudXMoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYWRkQW5nbGUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW5nbGVUb0FkZDogci5zKCkgLyAoMzYwIC8gNjU1MzYpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBuZXdVc2VyTXNnKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluZGV4OiByLnViKCksXG4gICAgICAgICAgICBzaXplOiByLmIoKSxcbiAgICAgICAgICAgIG5hbWU6IHIubnN0cigxNilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHBhY2tldEVudGl0aWVzKHIsIGRlbHRhRGVjb2RlcnMpIHtcbiAgICAgICAgbGV0IGJzID0gbmV3IEJpdFJlYWRlcl8xLkJpdFN0cmVhbShyLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgYnMuaW5kZXggPSByLnRlbGwoKSAqIDg7XG4gICAgICAgIGxldCBlbnRpdHlTdGF0ZXMgPSBbXTtcbiAgICAgICAgYnMucmVhZEJpdHMoMTYpO1xuICAgICAgICBsZXQgZW50aXR5TnVtYmVyID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBmb290ZXIgPSBicy5yZWFkQml0cygxNik7XG4gICAgICAgICAgICBpZiAoZm9vdGVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicy5pbmRleCAtPSAxNjtcbiAgICAgICAgICAgIGxldCBlbnRpdHlOdW1iZXJJbmNyZW1lbnQgPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgICAgIGlmICghZW50aXR5TnVtYmVySW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGFic29sdXRlRW50aXR5TnVtYmVyID0gYnMucmVhZEJpdHMoMSk7XG4gICAgICAgICAgICAgICAgaWYgKGFic29sdXRlRW50aXR5TnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU51bWJlciA9IGJzLnJlYWRCaXRzKDExKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU51bWJlciArPSBicy5yZWFkQml0cyg2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbnRpdHlOdW1iZXIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXN0b20gPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgICAgIGxldCB1c2VCYXNlbGluZSA9IGJzLnJlYWRCaXRzKDEpO1xuICAgICAgICAgICAgaWYgKHVzZUJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgYnMuaW5kZXggKz0gNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlbnRpdHlUeXBlID0gJ2VudGl0eV9zdGF0ZV90JztcbiAgICAgICAgICAgIGlmIChlbnRpdHlOdW1iZXIgPiAwICYmIGVudGl0eU51bWJlciA8PSAzMikge1xuICAgICAgICAgICAgICAgIGVudGl0eVR5cGUgPSAnZW50aXR5X3N0YXRlX3BsYXllcl90JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1c3RvbSkge1xuICAgICAgICAgICAgICAgIGVudGl0eVR5cGUgPSAnY3VzdG9tX2VudGl0eV9zdGF0ZV90JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVudGl0eVN0YXRlcy5wdXNoKCgwLCByZWFkRGVsdGFfMS5yZWFkRGVsdGEpKGJzLCBkZWx0YURlY29kZXJzW2VudGl0eVR5cGVdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJzLmluZGV4ICUgOCA+IDApIHtcbiAgICAgICAgICAgIHIuc2VlayhNYXRoLmZsb29yKGJzLmluZGV4IC8gOCkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHIuc2Vlayhicy5pbmRleCAvIDgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGVudGl0eVN0YXRlcyB9O1xuICAgIH1cbiAgICBzdGF0aWMgZGVsdGFQYWNrZXRFbnRpdGllcyhyLCBkZWx0YURlY29kZXJzKSB7XG4gICAgICAgIGxldCBicyA9IG5ldyBCaXRSZWFkZXJfMS5CaXRTdHJlYW0oci5kYXRhLmJ1ZmZlcik7XG4gICAgICAgIGJzLmluZGV4ID0gci50ZWxsKCkgKiA4O1xuICAgICAgICBicy5yZWFkQml0cygxNik7XG4gICAgICAgIGJzLmluZGV4ICs9IDg7XG4gICAgICAgIGxldCBlbnRpdHlTdGF0ZXMgPSBbXTtcbiAgICAgICAgbGV0IGVudGl0eUlkeCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQgZm9vdGVyID0gYnMucmVhZEJpdHMoMTYpO1xuICAgICAgICAgICAgaWYgKGZvb3RlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnMuaW5kZXggLT0gMTY7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlRW50aXR5ID0gYnMucmVhZEJpdHMoMSk7XG4gICAgICAgICAgICBsZXQgYWJzb2x1dGVFbnRpdHlOdW1iZXIgPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgICAgIGlmIChhYnNvbHV0ZUVudGl0eU51bWJlcikge1xuICAgICAgICAgICAgICAgIGVudGl0eUlkeCA9IGJzLnJlYWRCaXRzKDExKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVudGl0eUlkeCArPSBicy5yZWFkQml0cyg2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW1vdmVFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXN0b20gPSBicy5yZWFkQml0cygxKTtcbiAgICAgICAgICAgIGxldCBlbnRpdHlUeXBlID0gJ2VudGl0eV9zdGF0ZV90JztcbiAgICAgICAgICAgIGlmIChlbnRpdHlJZHggPiAwICYmIGVudGl0eUlkeCA8IDMyKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5VHlwZSA9ICdlbnRpdHlfc3RhdGVfcGxheWVyX3QnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5VHlwZSA9ICdjdXN0b21fZW50aXR5X3N0YXRlX3QnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50aXR5U3RhdGVzW2VudGl0eUlkeF0gPSAoMCwgcmVhZERlbHRhXzEucmVhZERlbHRhKShicywgZGVsdGFEZWNvZGVyc1tlbnRpdHlUeXBlXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJzLmluZGV4ICUgOCA+IDApIHtcbiAgICAgICAgICAgIHIuc2VlayhNYXRoLmZsb29yKGJzLmluZGV4IC8gOCkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHIuc2Vlayhicy5pbmRleCAvIDgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGVudGl0eVN0YXRlcyB9O1xuICAgIH1cbiAgICBzdGF0aWMgY2hva2UoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb3VyY2VMaXN0KHIpIHtcbiAgICAgICAgbGV0IGJzID0gbmV3IEJpdFJlYWRlcl8xLkJpdFN0cmVhbShyLmRhdGEuYnVmZmVyKTtcbiAgICAgICAgYnMuaW5kZXggPSByLnRlbGwoKSAqIDg7XG4gICAgICAgIGxldCBlbnRyaWVzID0gW107XG4gICAgICAgIGxldCBlbnRyeUNvdW50ID0gYnMucmVhZEJpdHMoMTIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJ5Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0ge307XG4gICAgICAgICAgICBlbnRyeS50eXBlID0gYnMucmVhZEJpdHMoNCk7XG4gICAgICAgICAgICBlbnRyeS5uYW1lID0gYnMucmVhZFN0cmluZygpO1xuICAgICAgICAgICAgZW50cnkuaW5kZXggPSBicy5yZWFkQml0cygxMik7XG4gICAgICAgICAgICBlbnRyeS5zaXplID0gYnMucmVhZEJpdHMoMjQpO1xuICAgICAgICAgICAgbGV0IGZsYWdzID0gYnMucmVhZEJpdHMoMyk7XG4gICAgICAgICAgICBpZiAoZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgICAgICAgYnMuaW5kZXggKz0gMTI4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJzLnJlYWRCaXRzKDEpKSB7XG4gICAgICAgICAgICAgICAgYnMuaW5kZXggKz0gMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnMucmVhZEJpdHMoMSkpIHtcbiAgICAgICAgICAgIHdoaWxlIChicy5yZWFkQml0cygxKSkge1xuICAgICAgICAgICAgICAgIGxldCBuQml0cyA9IGJzLnJlYWRCaXRzKDEpID8gNSA6IDEwO1xuICAgICAgICAgICAgICAgIGJzLmluZGV4ICs9IG5CaXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChicy5pbmRleCAlIDggPiAwKSB7XG4gICAgICAgICAgICByLnNlZWsoTWF0aC5mbG9vcihicy5pbmRleCAvIDgpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByLnNlZWsoYnMuaW5kZXggLyA4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50cmllcztcbiAgICB9XG4gICAgc3RhdGljIG5ld01vdmVWYXJzKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdyYXZpdHk6IHIuZigpLFxuICAgICAgICAgICAgc3RvcFNwZWVkOiByLmYoKSxcbiAgICAgICAgICAgIG1heFNwZWVkOiByLmYoKSxcbiAgICAgICAgICAgIHNwZWN0YXRvck1heFNwZWVkOiByLmYoKSxcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogci5mKCksXG4gICAgICAgICAgICBhaXJBY2NlbGVyYXRpb246IHIuZigpLFxuICAgICAgICAgICAgd2F0ZXJBY2NlbGVyYXRpb246IHIuZigpLFxuICAgICAgICAgICAgZnJpY3Rpb246IHIuZigpLFxuICAgICAgICAgICAgZWRnZUZyaWN0aW9uOiByLmYoKSxcbiAgICAgICAgICAgIHdhdGVyRnJpY3Rpb246IHIuZigpLFxuICAgICAgICAgICAgZW50aXR5R3Jhdml0eTogci5mKCksXG4gICAgICAgICAgICBib3VuY2U6IHIuZigpLFxuICAgICAgICAgICAgc3RlcFNpemU6IHIuZigpLFxuICAgICAgICAgICAgbWF4VmVsb2NpdHk6IHIuZigpLFxuICAgICAgICAgICAgek1heDogci5mKCksXG4gICAgICAgICAgICB3YXZlSGVpZ2h0OiByLmYoKSxcbiAgICAgICAgICAgIGZvb3RzdGVwczogci5iKCksXG4gICAgICAgICAgICByb2xsQW5nbGU6IHIuZigpLFxuICAgICAgICAgICAgcm9sbFNwZWVkOiByLmYoKSxcbiAgICAgICAgICAgIHNreUNvbG9yOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICBza3lWZWM6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgIHNreU5hbWU6IHIuc3RyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJlc291cmNlUmVxdWVzdChyKSB7XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgc3Bhd25Db3VudDogci5pKClcbiAgICAgICAgfTtcbiAgICAgICAgci5za2lwKDQpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgc3RhdGljIGN1c3RvbWl6YXRpb24ocikge1xuICAgICAgICBsZXQgcGxheWVySW5kZXggPSByLnViKCk7XG4gICAgICAgIGxldCB0eXBlID0gci51YigpO1xuICAgICAgICBsZXQgbmFtZSA9IHIuc3RyKCk7XG4gICAgICAgIGxldCBpbmRleCA9IHIudXMoKTtcbiAgICAgICAgbGV0IGRvd25sb2FkU2l6ZSA9IHIudWkoKTtcbiAgICAgICAgbGV0IGZsYWdzID0gci51YigpO1xuICAgICAgICBsZXQgbWQ1aGFzaDtcbiAgICAgICAgaWYgKGZsYWdzICYgNCkge1xuICAgICAgICAgICAgbWQ1aGFzaCA9IFtyLmkoKSwgci5pKCksIHIuaSgpLCByLmkoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBsYXllckluZGV4LFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGRvd25sb2FkU2l6ZSxcbiAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICAgICAgbWQ1aGFzaFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgY3Jvc3NoYWlyQW5nbGUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGl0Y2g6IHIuYigpLFxuICAgICAgICAgICAgeWF3OiByLmIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgc291bmRGYWRlKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWxQZXJjZW50OiByLnViKCksXG4gICAgICAgICAgICBob2xkVGltZTogci51YigpLFxuICAgICAgICAgICAgZmFkZU91dFRpbWU6IHIudWIoKSxcbiAgICAgICAgICAgIGZhZGVJblRpbWU6IHIudWIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZmlsZVR4ZmVyRmFpbGVkKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiByLnN0cigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBobHR2KHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGU6IHIudWIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZGlyZWN0b3Iocikge1xuICAgICAgICBsZXQgbGVuZ3RoID0gci51YigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmxhZzogci51YigpLFxuICAgICAgICAgICAgbWVzc2FnZTogci5uc3RyKGxlbmd0aCAtIDEpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyB2b2ljZUluaXQocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29kZWNOYW1lOiByLnN0cigpLFxuICAgICAgICAgICAgcXVhbGl0eTogci5iKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHZvaWNlRGF0YShyKSB7XG4gICAgICAgIGxldCBwbGF5ZXJJbmRleCA9IHIudWIoKTtcbiAgICAgICAgbGV0IHNpemUgPSByLnVzKCk7XG4gICAgICAgIGxldCBkYXRhID0gci5hcnJ4KHNpemUsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKTtcbiAgICAgICAgcmV0dXJuIHsgcGxheWVySW5kZXgsIGRhdGEgfTtcbiAgICB9XG4gICAgc3RhdGljIHNlbmRFeHRyYUluZm8ocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmFsbGJhY2tEaXI6IHIuc3RyKCksXG4gICAgICAgICAgICBjYW5DaGVhdDogci51YigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyB0aW1lU2NhbGUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZVNjYWxlOiByLmYoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb3VyY2VMb2NhdGlvbihyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cmw6IHIuc3RyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHNlbmRDdmFyVmFsdWUocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogci5zdHIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgc2VuZEN2YXJWYWx1ZTIocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVxdWVzdElkOiByLnVpKCksXG4gICAgICAgICAgICBuYW1lOiByLnN0cigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyByZWFkKHIsIHR5cGUsIGRlbHRhRGVjb2RlcnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBGcmFtZURhdGFSZWFkZXIuaGFuZGxlcnNbdHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcihyLCBkZWx0YURlY29kZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5GcmFtZURhdGFSZWFkZXIgPSBGcmFtZURhdGFSZWFkZXI7XG5GcmFtZURhdGFSZWFkZXIuaGFuZGxlcnMgPSBbXG4gICAgRnJhbWVEYXRhUmVhZGVyLmJhZCxcbiAgICBGcmFtZURhdGFSZWFkZXIubm9wLFxuICAgIEZyYW1lRGF0YVJlYWRlci5kaXNjb25uZWN0LFxuICAgIEZyYW1lRGF0YVJlYWRlci5ldmVudCxcbiAgICBGcmFtZURhdGFSZWFkZXIudmVyc2lvbixcbiAgICBGcmFtZURhdGFSZWFkZXIuc2V0VmlldyxcbiAgICBGcmFtZURhdGFSZWFkZXIuc291bmQsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnRpbWUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnByaW50LFxuICAgIEZyYW1lRGF0YVJlYWRlci5zdHVmZlRleHQsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnNldEFuZ2xlLFxuICAgIEZyYW1lRGF0YVJlYWRlci5zZXJ2ZXJJbmZvLFxuICAgIEZyYW1lRGF0YVJlYWRlci5saWdodFN0eWxlLFxuICAgIEZyYW1lRGF0YVJlYWRlci51cGRhdGVVc2VySW5mbyxcbiAgICBGcmFtZURhdGFSZWFkZXIuZGVsdGFEZXNjcmlwdGlvbixcbiAgICBGcmFtZURhdGFSZWFkZXIuY2xpZW50RGF0YSxcbiAgICBGcmFtZURhdGFSZWFkZXIuc3RvcFNvdW5kLFxuICAgIEZyYW1lRGF0YVJlYWRlci5waW5ncyxcbiAgICBGcmFtZURhdGFSZWFkZXIucGFydGljbGUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmRhbWFnZSxcbiAgICBGcmFtZURhdGFSZWFkZXIuc3Bhd25TdGF0aWMsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmV2ZW50UmVsaWFibGUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnNwYXduQmFzZUxpbmUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnRlbXBFbnRpdHksXG4gICAgRnJhbWVEYXRhUmVhZGVyLnNldFBhdXNlLFxuICAgIEZyYW1lRGF0YVJlYWRlci5zaWduT25OdW0sXG4gICAgRnJhbWVEYXRhUmVhZGVyLmNlbnRlclByaW50LFxuICAgIEZyYW1lRGF0YVJlYWRlci5raWxsZWRNb25zdGVyLFxuICAgIEZyYW1lRGF0YVJlYWRlci5mb3VuZFNlY3JldCxcbiAgICBGcmFtZURhdGFSZWFkZXIuc3Bhd25TdGF0aWNTb3VuZCxcbiAgICBGcmFtZURhdGFSZWFkZXIuaW50ZXJtaXNzaW9uLFxuICAgIEZyYW1lRGF0YVJlYWRlci5maW5hbGUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmNkVHJhY2ssXG4gICAgRnJhbWVEYXRhUmVhZGVyLnJlc3RvcmUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmN1dHNjZW5lLFxuICAgIEZyYW1lRGF0YVJlYWRlci53ZWFwb25BbmltLFxuICAgIEZyYW1lRGF0YVJlYWRlci5kZWNhbE5hbWUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnJvb21UeXBlLFxuICAgIEZyYW1lRGF0YVJlYWRlci5hZGRBbmdsZSxcbiAgICBGcmFtZURhdGFSZWFkZXIubmV3VXNlck1zZyxcbiAgICBGcmFtZURhdGFSZWFkZXIucGFja2V0RW50aXRpZXMsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmRlbHRhUGFja2V0RW50aXRpZXMsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmNob2tlLFxuICAgIEZyYW1lRGF0YVJlYWRlci5yZXNvdXJjZUxpc3QsXG4gICAgRnJhbWVEYXRhUmVhZGVyLm5ld01vdmVWYXJzLFxuICAgIEZyYW1lRGF0YVJlYWRlci5yZXNvdXJjZVJlcXVlc3QsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmN1c3RvbWl6YXRpb24sXG4gICAgRnJhbWVEYXRhUmVhZGVyLmNyb3NzaGFpckFuZ2xlLFxuICAgIEZyYW1lRGF0YVJlYWRlci5zb3VuZEZhZGUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLmZpbGVUeGZlckZhaWxlZCxcbiAgICBGcmFtZURhdGFSZWFkZXIuaGx0dixcbiAgICBGcmFtZURhdGFSZWFkZXIuZGlyZWN0b3IsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnZvaWNlSW5pdCxcbiAgICBGcmFtZURhdGFSZWFkZXIudm9pY2VEYXRhLFxuICAgIEZyYW1lRGF0YVJlYWRlci5zZW5kRXh0cmFJbmZvLFxuICAgIEZyYW1lRGF0YVJlYWRlci50aW1lU2NhbGUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnJlc291cmNlTG9jYXRpb24sXG4gICAgRnJhbWVEYXRhUmVhZGVyLnNlbmRDdmFyVmFsdWUsXG4gICAgRnJhbWVEYXRhUmVhZGVyLnNlbmRDdmFyVmFsdWUyXG5dO1xuKGZ1bmN0aW9uIChGcmFtZURhdGFSZWFkZXIpIHtcbiAgICBsZXQgU1ZDO1xuICAgIChmdW5jdGlvbiAoU1ZDKSB7XG4gICAgICAgIFNWQ1tTVkNbXCJCQURcIl0gPSAwXSA9IFwiQkFEXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJOT1BcIl0gPSAxXSA9IFwiTk9QXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJESVNDT05ORUNUXCJdID0gMl0gPSBcIkRJU0NPTk5FQ1RcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIkVWRU5UXCJdID0gM10gPSBcIkVWRU5UXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJWRVJTSU9OXCJdID0gNF0gPSBcIlZFUlNJT05cIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlNFVFZJRVdcIl0gPSA1XSA9IFwiU0VUVklFV1wiO1xuICAgICAgICBTVkNbU1ZDW1wiU09VTkRcIl0gPSA2XSA9IFwiU09VTkRcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlRJTUVcIl0gPSA3XSA9IFwiVElNRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiUFJJTlRcIl0gPSA4XSA9IFwiUFJJTlRcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlNUVUZGVEVYVFwiXSA9IDldID0gXCJTVFVGRlRFWFRcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlNFVEFOR0xFXCJdID0gMTBdID0gXCJTRVRBTkdMRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiU0VSVkVSSU5GT1wiXSA9IDExXSA9IFwiU0VSVkVSSU5GT1wiO1xuICAgICAgICBTVkNbU1ZDW1wiTElHSFRTVFlMRVwiXSA9IDEyXSA9IFwiTElHSFRTVFlMRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiVVBEQVRFVVNFUklORk9cIl0gPSAxM10gPSBcIlVQREFURVVTRVJJTkZPXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJERUxUQURFU0NSSVBUSU9OXCJdID0gMTRdID0gXCJERUxUQURFU0NSSVBUSU9OXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJDTElFTlREQVRBXCJdID0gMTVdID0gXCJDTElFTlREQVRBXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJTVE9QU09VTkRcIl0gPSAxNl0gPSBcIlNUT1BTT1VORFwiO1xuICAgICAgICBTVkNbU1ZDW1wiUElOR1NcIl0gPSAxN10gPSBcIlBJTkdTXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJQQVJUSUNMRVwiXSA9IDE4XSA9IFwiUEFSVElDTEVcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIkRBTUFHRVwiXSA9IDE5XSA9IFwiREFNQUdFXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJTUEFXTlNUQVRJQ1wiXSA9IDIwXSA9IFwiU1BBV05TVEFUSUNcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIkVWRU5UX1JFTElBQkxFXCJdID0gMjFdID0gXCJFVkVOVF9SRUxJQUJMRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiU1BBV05CQVNFTElORVwiXSA9IDIyXSA9IFwiU1BBV05CQVNFTElORVwiO1xuICAgICAgICBTVkNbU1ZDW1wiVEVNUEVOVElUWVwiXSA9IDIzXSA9IFwiVEVNUEVOVElUWVwiO1xuICAgICAgICBTVkNbU1ZDW1wiU0VUUEFVU0VcIl0gPSAyNF0gPSBcIlNFVFBBVVNFXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJTSUdOT05OVU1cIl0gPSAyNV0gPSBcIlNJR05PTk5VTVwiO1xuICAgICAgICBTVkNbU1ZDW1wiQ0VOVEVSUFJJTlRcIl0gPSAyNl0gPSBcIkNFTlRFUlBSSU5UXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJLSUxMRURNT05TVEVSXCJdID0gMjddID0gXCJLSUxMRURNT05TVEVSXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJGT1VORFNFQ1JFVFwiXSA9IDI4XSA9IFwiRk9VTkRTRUNSRVRcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlNQQVdOU1RBVElDU09VTkRcIl0gPSAyOV0gPSBcIlNQQVdOU1RBVElDU09VTkRcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIklOVEVSTUlTU0lPTlwiXSA9IDMwXSA9IFwiSU5URVJNSVNTSU9OXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJGSU5BTEVcIl0gPSAzMV0gPSBcIkZJTkFMRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiQ0RUUkFDS1wiXSA9IDMyXSA9IFwiQ0RUUkFDS1wiO1xuICAgICAgICBTVkNbU1ZDW1wiUkVTVE9SRVwiXSA9IDMzXSA9IFwiUkVTVE9SRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiQ1VUU0NFTkVcIl0gPSAzNF0gPSBcIkNVVFNDRU5FXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJXRUFQT05BTklNXCJdID0gMzVdID0gXCJXRUFQT05BTklNXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJERUNBTE5BTUVcIl0gPSAzNl0gPSBcIkRFQ0FMTkFNRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiUk9PTVRZUEVcIl0gPSAzN10gPSBcIlJPT01UWVBFXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJBRERBTkdMRVwiXSA9IDM4XSA9IFwiQUREQU5HTEVcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIk5FV1VTRVJNU0dcIl0gPSAzOV0gPSBcIk5FV1VTRVJNU0dcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlBBQ0tFVEVOVElUSUVTXCJdID0gNDBdID0gXCJQQUNLRVRFTlRJVElFU1wiO1xuICAgICAgICBTVkNbU1ZDW1wiREVMVEFQQUNLRVRFTlRJVElFU1wiXSA9IDQxXSA9IFwiREVMVEFQQUNLRVRFTlRJVElFU1wiO1xuICAgICAgICBTVkNbU1ZDW1wiQ0hPS0VcIl0gPSA0Ml0gPSBcIkNIT0tFXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJSRVNPVVJDRUxJU1RcIl0gPSA0M10gPSBcIlJFU09VUkNFTElTVFwiO1xuICAgICAgICBTVkNbU1ZDW1wiTkVXTU9WRVZBUlNcIl0gPSA0NF0gPSBcIk5FV01PVkVWQVJTXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJSRVNPVVJDRVJFUVVFU1RcIl0gPSA0NV0gPSBcIlJFU09VUkNFUkVRVUVTVFwiO1xuICAgICAgICBTVkNbU1ZDW1wiQ1VTVE9NSVpBVElPTlwiXSA9IDQ2XSA9IFwiQ1VTVE9NSVpBVElPTlwiO1xuICAgICAgICBTVkNbU1ZDW1wiQ1JPU1NIQUlSQU5HTEVcIl0gPSA0N10gPSBcIkNST1NTSEFJUkFOR0xFXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJTT1VOREZBREVcIl0gPSA0OF0gPSBcIlNPVU5ERkFERVwiO1xuICAgICAgICBTVkNbU1ZDW1wiRklMRVRYRkVSRkFJTEVEXCJdID0gNDldID0gXCJGSUxFVFhGRVJGQUlMRURcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIkhMVFZcIl0gPSA1MF0gPSBcIkhMVFZcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIkRJUkVDVE9SXCJdID0gNTFdID0gXCJESVJFQ1RPUlwiO1xuICAgICAgICBTVkNbU1ZDW1wiVk9JQ0VJTklUXCJdID0gNTJdID0gXCJWT0lDRUlOSVRcIjtcbiAgICAgICAgU1ZDW1NWQ1tcIlZPSUNFREFUQVwiXSA9IDUzXSA9IFwiVk9JQ0VEQVRBXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJTRU5ERVhUUkFJTkZPXCJdID0gNTRdID0gXCJTRU5ERVhUUkFJTkZPXCI7XG4gICAgICAgIFNWQ1tTVkNbXCJUSU1FU0NBTEVcIl0gPSA1NV0gPSBcIlRJTUVTQ0FMRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiUkVTT1VSQ0VMT0NBVElPTlwiXSA9IDU2XSA9IFwiUkVTT1VSQ0VMT0NBVElPTlwiO1xuICAgICAgICBTVkNbU1ZDW1wiU0VORENWQVJWQUxVRVwiXSA9IDU3XSA9IFwiU0VORENWQVJWQUxVRVwiO1xuICAgICAgICBTVkNbU1ZDW1wiU0VORENWQVJWQUxVRTJcIl0gPSA1OF0gPSBcIlNFTkRDVkFSVkFMVUUyXCI7XG4gICAgfSkoU1ZDID0gRnJhbWVEYXRhUmVhZGVyLlNWQyB8fCAoRnJhbWVEYXRhUmVhZGVyLlNWQyA9IHt9KSk7XG59KShGcmFtZURhdGFSZWFkZXIgfHwgKGV4cG9ydHMuRnJhbWVEYXRhUmVhZGVyID0gRnJhbWVEYXRhUmVhZGVyID0ge30pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Replay/FrameDataReader.ts\n");

/***/ }),

/***/ "./src/Replay/Replay.ts":
/*!******************************!*\
  !*** ./src/Replay/Replay.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Replay = void 0;\nconst ReplayMap_1 = __webpack_require__(/*! ./ReplayMap */ \"./src/Replay/ReplayMap.ts\");\nconst ReplayCustomMap_1 = __webpack_require__(/*! ./ReplayCustomMap */ \"./src/Replay/ReplayCustomMap.ts\");\nconst ReplayChunk_1 = __webpack_require__(/*! ./ReplayChunk */ \"./src/Replay/ReplayChunk.ts\");\nconst ReplayState_1 = __webpack_require__(/*! ./ReplayState */ \"./src/Replay/ReplayState.ts\");\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nconst FrameDataReader_1 = __webpack_require__(/*! ./FrameDataReader */ \"./src/Replay/FrameDataReader.ts\");\nconst readDelta_1 = __webpack_require__(/*! ./readDelta */ \"./src/Replay/readDelta.ts\");\nconst checkType = (r) => {\n    let magic = r.nstr(8);\n    return magic === 'HLDEMO';\n};\nconst readHeader = (r) => ({\n    demoProtocol: r.ui(),\n    netProtocol: r.ui(),\n    mapName: r.nstr(260),\n    modName: r.nstr(260),\n    mapCrc: r.i(),\n    dirOffset: r.ui()\n});\nconst readDirectories = (r, offset) => {\n    r.seek(offset);\n    let count = r.ui();\n    let directories = [];\n    for (let i = 0; i < count; ++i) {\n        directories.push({\n            id: r.ui(),\n            name: r.nstr(64),\n            flags: r.ui(),\n            cdTrack: r.i(),\n            time: r.f(),\n            frames: r.ui(),\n            offset: r.ui(),\n            length: r.ui()\n        });\n    }\n    return directories;\n};\nconst readFrameData = (r, deltaDecoders, customMessages) => {\n    let length = r.ui();\n    let limit = r.tell() + length;\n    let data = [];\n    while (r.tell() < limit) {\n        let type = r.ub();\n        if (type === 1) {\n            continue;\n        }\n        else if (type >= 64) {\n            if (customMessages[type] && customMessages[type].size > -1) {\n                r.skip(customMessages[type].size);\n            }\n            else {\n                r.skip(r.ub());\n            }\n            continue;\n        }\n        let message = FrameDataReader_1.FrameDataReader.read(r, type, deltaDecoders);\n        if (message) {\n            if (type === 39) {\n                customMessages[message.index] = message;\n            }\n            data.push({\n                type,\n                data: message\n            });\n        }\n        else {\n            r.seek(limit);\n        }\n    }\n    r.seek(limit);\n    return data;\n};\nconst readFrame = (r, deltaDecoders, customMessages) => {\n    let frame = {\n        type: r.ub(),\n        time: r.f(),\n        tick: r.ui()\n    };\n    switch (frame.type) {\n        case 0:\n        case 1: {\n            r.skip(4);\n            frame.camera = {\n                position: [r.f(), r.f(), r.f()],\n                orientation: [r.f(), r.f(), r.f()]\n            };\n            r.skip(436);\n            frame.data = readFrameData(r, deltaDecoders, customMessages);\n            break;\n        }\n        case 2: {\n            break;\n        }\n        case 3: {\n            frame.command = r.nstr(64);\n            break;\n        }\n        case 4: {\n            r.skip(32);\n            break;\n        }\n        case 5: {\n            break;\n        }\n        case 6: {\n            r.skip(84);\n            break;\n        }\n        case 7: {\n            r.skip(8);\n            break;\n        }\n        case 8: {\n            frame.sound = {\n                channel: r.i(),\n                sample: r.nstr(r.ui()),\n                attenuation: r.f(),\n                volume: r.f(),\n                flags: r.ui(),\n                pitch: r.i()\n            };\n            break;\n        }\n        case 9: {\n            r.skip(r.ui());\n            break;\n        }\n        default: {\n            frame.error = true;\n            break;\n        }\n    }\n    return frame;\n};\nclass Replay {\n    constructor(header, directories) {\n        this.header = header;\n        this.mapName = this.header.mapName;\n        this.directories = directories;\n    }\n    static parseFromArrayBuffer(buffer) {\n        let r = new Reader_1.Reader(buffer);\n        let magic = r.nstr(8);\n        if (magic !== 'HLDEMO') {\n            throw new Error('Invalid replay format');\n        }\n        let header = {};\n        header.demoProtocol = r.ui();\n        header.netProtocol = r.ui();\n        header.mapName = r.nstr(260);\n        header.modName = r.nstr(260);\n        header.mapCrc = r.i();\n        header.dirOffset = r.ui();\n        r.seek(header.dirOffset);\n        let directoryCount = r.ui();\n        let directories = [];\n        for (let i = 0; i < directoryCount; ++i) {\n            directories.push({\n                id: r.ui(),\n                name: r.nstr(64),\n                flags: r.ui(),\n                cdTrack: r.i(),\n                time: r.f(),\n                frames: r.ui(),\n                offset: r.ui(),\n                length: r.ui(),\n                macros: []\n            });\n        }\n        for (let i = 0; i < directories.length; ++i) {\n            r.seek(directories[i].offset);\n            let isFinalMacroReached = false;\n            while (!isFinalMacroReached) {\n                let macro = {\n                    type: r.b(),\n                    time: r.f(),\n                    frame: r.ui()\n                };\n                switch (macro.type) {\n                    case 0:\n                    case 1: {\n                        r.skip(4);\n                        macro.camera = {\n                            position: [r.f(), r.f(), r.f()],\n                            orientation: [r.f(), r.f(), r.f()]\n                        };\n                        r.skip(436);\n                        r.skip(r.ui());\n                        break;\n                    }\n                    case 2: {\n                        break;\n                    }\n                    case 3: {\n                        macro.command = r.nstr(64);\n                        break;\n                    }\n                    case 4: {\n                        r.skip(32);\n                        break;\n                    }\n                    case 5: {\n                        isFinalMacroReached = true;\n                        break;\n                    }\n                    case 6: {\n                        r.skip(84);\n                        break;\n                    }\n                    case 7: {\n                        r.skip(8);\n                        break;\n                    }\n                    case 8: {\n                        r.skip(4);\n                        r.skip(r.ui() + 16);\n                        break;\n                    }\n                    case 9: {\n                        r.skip(r.ui());\n                        break;\n                    }\n                    default: {\n                        const offset = Number(r.tell() - 9).toString(16);\n                        const msg = [\n                            `Unexpected macro (${macro.type})`,\n                            ` at offset = ${offset}.`\n                        ].join('');\n                        throw new Error(msg);\n                    }\n                }\n                directories[i].macros.push(macro);\n            }\n        }\n        return new Replay(header, directories);\n    }\n    static parseFullFromArrayBuffer(buffer) {\n        let r = new Reader_1.Reader(buffer);\n        let magic = r.nstr(8);\n        if (magic !== 'HLDEMO') {\n            throw new Error('Invalid replay format');\n        }\n        let header = {};\n        header.demoProtocol = r.ui();\n        header.netProtocol = r.ui();\n        header.mapName = r.nstr(260);\n        header.modName = r.nstr(260);\n        header.mapCrc = r.i();\n        header.dirOffset = r.ui();\n        r.seek(header.dirOffset);\n        let directoryCount = r.ui();\n        let directories = [];\n        for (let i = 0; i < directoryCount; ++i) {\n            directories.push({\n                id: r.ui(),\n                name: r.nstr(64),\n                flags: r.ui(),\n                cdTrack: r.i(),\n                time: r.f(),\n                frames: r.ui(),\n                offset: r.ui(),\n                length: r.ui(),\n                macros: []\n            });\n        }\n        let deltaDecoders = (0, readDelta_1.getInitialDeltaDecoders)();\n        let customMessages = [];\n        for (let i = 0; i < directories.length; ++i) {\n            r.seek(directories[i].offset);\n            let isFinalMacroReached = false;\n            while (!isFinalMacroReached) {\n                let macro = {\n                    type: r.b(),\n                    time: r.f(),\n                    frame: r.ui()\n                };\n                switch (macro.type) {\n                    case 0:\n                    case 1: {\n                        r.skip(4);\n                        macro.camera = {\n                            position: [r.f(), r.f(), r.f()],\n                            orientation: [r.f(), r.f(), r.f()],\n                            forward: [r.f(), r.f(), r.f()],\n                            right: [r.f(), r.f(), r.f()],\n                            up: [r.f(), r.f(), r.f()]\n                        };\n                        macro.RefParams = {\n                            frametime: r.f(),\n                            time: r.f(),\n                            intermission: r.i(),\n                            paused: r.i(),\n                            spectator: r.i(),\n                            onground: r.i(),\n                            waterlevel: r.i(),\n                            velocity: [r.f(), r.f(), r.f()],\n                            origin: [r.f(), r.f(), r.f()],\n                            viewHeight: [r.f(), r.f(), r.f()],\n                            idealPitch: r.f(),\n                            viewAngles: [r.f(), r.f(), r.f()],\n                            health: r.i(),\n                            crosshairAngle: [r.f(), r.f(), r.f()],\n                            viewSize: r.f(),\n                            punchAngle: [r.f(), r.f(), r.f()],\n                            maxClients: r.i(),\n                            viewEntity: r.i(),\n                            playerCount: r.i(),\n                            maxEntities: r.i(),\n                            demoPlayback: r.i(),\n                            hardware: r.i(),\n                            smoothing: r.i(),\n                            ptr_cmd: r.i(),\n                            ptr_movevars: r.i(),\n                            viewport: [r.i(), r.i(), r.i(), r.i()],\n                            nextView: r.i(),\n                            onlyClientDraw: r.i()\n                        };\n                        macro.UserCmd = {\n                            lerp_msec: r.s(),\n                            msec: r.ub(),\n                            UNUSED1: r.ub(),\n                            viewAngles: [r.f(), r.f(), r.f()],\n                            forwardMove: r.f(),\n                            sideMove: r.f(),\n                            upMove: r.f(),\n                            lightLevel: r.b(),\n                            UNUSED2: r.ub(),\n                            buttons: r.us(),\n                            impulse: r.b(),\n                            weaponSelect: r.b(),\n                            UNUSED: r.s(),\n                            impactIndex: r.i(),\n                            impactPosition: [r.f(), r.f(), r.f()]\n                        };\n                        macro.MoveVars = {\n                            gravity: r.f(),\n                            stopSpeed: r.f(),\n                            maxSpeed: r.f(),\n                            spectatorMaxSpeed: r.f(),\n                            acceleration: r.f(),\n                            airAcceleration: r.f(),\n                            waterAcceleration: r.f(),\n                            friction: r.f(),\n                            edgeFriction: r.f(),\n                            waterFriction: r.f(),\n                            entityGravity: r.f(),\n                            bounce: r.f(),\n                            stepSize: r.f(),\n                            maxVelocity: r.f(),\n                            zMax: r.f(),\n                            waveHeight: r.f(),\n                            footsteps: r.i(),\n                            skyName: r.nstr(32),\n                            rollAngle: r.f(),\n                            rollSpeed: r.f(),\n                            skyColor: [r.f(), r.f(), r.f()],\n                            skyVec: [r.f(), r.f(), r.f()]\n                        };\n                        macro.view = [r.f(), r.f(), r.f()];\n                        macro.viewModel = r.i();\n                        macro.incoming_sequence = r.i();\n                        macro.incoming_acknowledged = r.i();\n                        macro.incoming_reliable_acknowledged = r.i();\n                        macro.incoming_reliable_sequence = r.i();\n                        macro.outgoing_sequence = r.i();\n                        macro.reliable_sequence = r.i();\n                        macro.last_reliable_sequence = r.i();\n                        let frameDataLength = r.ui();\n                        let frameDataEnd = frameDataLength + r.tell();\n                        macro.frameData = [];\n                        while (r.tell() < frameDataEnd) {\n                            let type = r.ub();\n                            if (type === 1) {\n                                continue;\n                            }\n                            else if (type >= 64) {\n                                if (customMessages[type] && customMessages[type].size > -1) {\n                                    r.skip(customMessages[type].size);\n                                }\n                                else {\n                                    r.skip(r.ub());\n                                }\n                                continue;\n                            }\n                            let frameData = FrameDataReader_1.FrameDataReader.read(r, type, deltaDecoders);\n                            if (frameData) {\n                                if (type === 39) {\n                                    customMessages[frameData.index] = frameData;\n                                }\n                                macro.frameData.push({ type, frameData });\n                            }\n                            else {\n                                r.seek(frameDataEnd);\n                            }\n                        }\n                        r.seek(frameDataEnd);\n                        break;\n                    }\n                    case 2: {\n                        break;\n                    }\n                    case 3: {\n                        macro.command = r.nstr(64);\n                        break;\n                    }\n                    case 4: {\n                        macro.clientData = {\n                            position: [r.f(), r.f(), r.f()],\n                            rotation: [r.f(), r.f(), r.f()],\n                            weaponFlags: r.ui(),\n                            fov: r.f()\n                        };\n                        break;\n                    }\n                    case 5: {\n                        isFinalMacroReached = true;\n                        break;\n                    }\n                    case 6: {\n                        macro.event = {\n                            flags: r.ui(),\n                            index: r.ui(),\n                            delay: r.f(),\n                            args: {\n                                flags: r.ui(),\n                                entityIndex: r.ui(),\n                                position: [r.f(), r.f(), r.f()],\n                                rotation: [r.f(), r.f(), r.f()],\n                                velocity: [r.f(), r.f(), r.f()],\n                                ducking: r.ui(),\n                                fparam1: r.f(),\n                                fparam2: r.f(),\n                                iparam1: r.i(),\n                                iparam2: r.i(),\n                                bparam1: r.i(),\n                                bparam2: r.i()\n                            }\n                        };\n                        break;\n                    }\n                    case 7: {\n                        macro.weaponAnimation = {\n                            animation: r.i(),\n                            body: r.i()\n                        };\n                        break;\n                    }\n                    case 8: {\n                        macro.sound = {\n                            channel: r.i(),\n                            sample: r.nstr(r.ui()),\n                            attenuation: r.f(),\n                            volume: r.f(),\n                            flags: r.ui(),\n                            pitch: r.i()\n                        };\n                        break;\n                    }\n                    case 9: {\n                        r.skip(r.ui());\n                        break;\n                    }\n                    default: {\n                        const offset = Number(r.tell() - 9).toString(16);\n                        const msg = `Unexpected macro (${macro.type}) at offset = ${offset}`;\n                        throw new Error(msg);\n                    }\n                }\n                directories[i].macros.push(macro);\n            }\n        }\n        return new Replay(header, directories);\n    }\n    static parseCustomFile(buffer) {\n        const data = new ReplayCustomMap_1.ReplayCustomMap();\n        const lines = buffer.trim().split('\\n');\n        const headerLine = lines.shift();\n        if (headerLine && headerLine.startsWith('HEADER')) {\n            const headerRegex = /\"[^\"]*\"|\\S+/g;\n            const matches = headerLine.match(headerRegex);\n            if (matches) {\n                let values = matches.map(match => match.replace(/\"/g, ''));\n                data.header = {\n                    identifier: values[1],\n                    timestamp: values[2],\n                    additionalInfo: values[3],\n                };\n                data.time = data.convertTimestamp(values[2]);\n            }\n        }\n        lines.forEach(line => {\n            if (line.startsWith('INFO')) {\n                const parts = line.split(/\\s+/).slice(1);\n                const frame = {\n                    origin: [parseFloat(parts[0]), parseFloat(parts[1]), parseFloat(parts[2])],\n                    rotation: [parseFloat(parts[3]), parseFloat(parts[4]), parseFloat(parts[5])],\n                    velocity: [parseFloat(parts[6]), parseFloat(parts[7]), parseFloat(parts[8])],\n                    buttons: parseInt(parts[9], 10),\n                    gravity: parseFloat(parts[10]),\n                    fps: parseFloat(parts[11]),\n                    strafes: parseInt(parts[12], 10),\n                    sync: parseInt(parts[13], 10),\n                };\n                data.addFrame(frame);\n            }\n        });\n        console.log(\"FINISH LOADING!\");\n        return { data };\n    }\n    static parseIntoChunks(buffer) {\n        let r = new Reader_1.Reader(buffer);\n        if (!checkType(r)) {\n            throw new Error('Invalid replay file format');\n        }\n        let maps = [];\n        let deltaDecoders = (0, readDelta_1.getInitialDeltaDecoders)();\n        let customMessages = [];\n        let header = readHeader(r);\n        let directories = readDirectories(r, header.dirOffset);\n        let currentMap;\n        let currentChunk;\n        let lastFrame;\n        let lastFrameOffset;\n        let state = new ReplayState_1.ReplayState();\n        let directoryEndOffset;\n        directoryEndOffset = directories[0].offset + directories[0].length;\n        r.seek(directories[0].offset);\n        while (r.tell() < directoryEndOffset) {\n            let frame = readFrame(r, deltaDecoders, customMessages);\n            state.feedFrame(frame);\n            if (frame.error) {\n                throw new Error('Encountered error while reading replay');\n            }\n            if (frame.type < 2) {\n                let serverInfo = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.SERVERINFO);\n                if (serverInfo) {\n                    currentMap = new ReplayMap_1.ReplayMap(serverInfo.data.mapFileName);\n                    maps.push(currentMap);\n                }\n                let resourceList = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.RESOURCELIST);\n                if (resourceList && currentMap) {\n                    currentMap.setResources(resourceList.data);\n                }\n            }\n        }\n        if (!(currentMap instanceof ReplayMap_1.ReplayMap)) {\n            throw new Error('Error while parsing replay.');\n        }\n        lastFrameOffset = r.tell();\n        currentChunk = new ReplayChunk_1.ReplayChunk(state, 0);\n        currentMap.addChunk(currentChunk);\n        directoryEndOffset = directories[1].offset + directories[1].length;\n        r.seek(directories[1].offset);\n        while (true) {\n            let offset = r.tell();\n            if (offset >= directoryEndOffset) {\n                let timeLength = lastFrame.time - currentChunk.startTime;\n                currentChunk.timeLength = timeLength;\n                let lastFrameLength = offset - lastFrameOffset;\n                r.seek(lastFrameOffset);\n                currentChunk.setData(r.arrx(lastFrameLength, Reader_1.ReaderDataType.UByte));\n                r.seek(offset);\n                break;\n            }\n            let frame = readFrame(r, deltaDecoders, customMessages);\n            state.feedFrame(frame);\n            lastFrame = frame;\n            if (frame.error) {\n                throw new Error('Encountered error while reading replay');\n            }\n            if (frame.type < 2) {\n                let serverInfo = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.SERVERINFO);\n                if (serverInfo) {\n                    currentMap = new ReplayMap_1.ReplayMap(serverInfo.data.mapFileName);\n                    maps.push(currentMap);\n                    let timeLength = lastFrame.time - currentChunk.startTime;\n                    currentChunk.timeLength = timeLength;\n                    let lastFrameLength = offset - lastFrameOffset;\n                    let tempOffset = r.tell();\n                    r.seek(lastFrameOffset);\n                    currentChunk.setData(r.arrx(lastFrameLength, Reader_1.ReaderDataType.UByte));\n                    r.seek(tempOffset);\n                    lastFrameOffset = offset;\n                    currentChunk = new ReplayChunk_1.ReplayChunk(state, frame.time);\n                    currentMap.addChunk(currentChunk);\n                }\n                let resourceList = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.RESOURCELIST);\n                if (resourceList) {\n                    currentMap.setResources(resourceList.data);\n                }\n                if (serverInfo) {\n                    continue;\n                }\n                for (let i = 0; i < frame.data.length; ++i) {\n                    let message = frame.data[i];\n                    if (message.type === FrameDataReader_1.FrameDataReader.SVC.SOUND ||\n                        message.type === FrameDataReader_1.FrameDataReader.SVC.SPAWNSTATICSOUND) {\n                        let sound = currentMap.resources.sounds.find((s) => s.index === message.data.soundIndex);\n                        if (sound) {\n                            sound.used = true;\n                        }\n                    }\n                    else if (message.type === FrameDataReader_1.FrameDataReader.SVC.STUFFTEXT) {\n                        let sounds = currentMap.resources.sounds;\n                        let commands = message.data.commands;\n                        for (let i = 0; i < commands.length; ++i) {\n                            let command = commands[i];\n                            let func = command.func;\n                            if ((func === 'speak' || func === 'spk') &&\n                                command.params.length === 1) {\n                                let soundName = command.params[0] + '.wav';\n                                let sound = sounds.find((s) => s.name === soundName);\n                                if (sound) {\n                                    sound.used = true;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else if (frame.type === 8) {\n                let sound = currentMap.resources.sounds.find((s) => s.name === frame.sound.sample);\n                if (sound) {\n                    sound.used = true;\n                }\n            }\n            if (currentChunk.startTime + 10 < frame.time) {\n                let lastFrameLength = offset - lastFrameOffset;\n                let tempOffset = r.tell();\n                r.seek(lastFrameOffset);\n                currentChunk.setData(r.arrx(lastFrameLength, Reader_1.ReaderDataType.UByte));\n                r.seek(tempOffset);\n                lastFrameOffset = offset;\n                currentChunk = new ReplayChunk_1.ReplayChunk(state, frame.time);\n                currentMap.addChunk(currentChunk);\n            }\n        }\n        return {\n            length: directories[1].time,\n            maps,\n            deltaDecoders,\n            customMessages\n        };\n    }\n    static readHeader(r) {\n        return readHeader(r);\n    }\n    static readDirectories(r, offset) {\n        return readDirectories(r, offset);\n    }\n    static readFrame(r, deltaDecoders, customMessages) {\n        return readFrame(r, deltaDecoders, customMessages);\n    }\n    static readFrameData(r, deltaDecoders, customMessages) {\n        return readFrame(r, deltaDecoders, customMessages);\n    }\n}\nexports.Replay = Replay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsaUJBQWlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsV0FBVyxnQkFBZ0IsT0FBTztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxxQkFBcUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1JlcGxheS9SZXBsYXkudHM/NTZjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVwbGF5ID0gdm9pZCAwO1xuY29uc3QgUmVwbGF5TWFwXzEgPSByZXF1aXJlKFwiLi9SZXBsYXlNYXBcIik7XG5jb25zdCBSZXBsYXlDdXN0b21NYXBfMSA9IHJlcXVpcmUoXCIuL1JlcGxheUN1c3RvbU1hcFwiKTtcbmNvbnN0IFJlcGxheUNodW5rXzEgPSByZXF1aXJlKFwiLi9SZXBsYXlDaHVua1wiKTtcbmNvbnN0IFJlcGxheVN0YXRlXzEgPSByZXF1aXJlKFwiLi9SZXBsYXlTdGF0ZVwiKTtcbmNvbnN0IFJlYWRlcl8xID0gcmVxdWlyZShcIi4uL1JlYWRlclwiKTtcbmNvbnN0IEZyYW1lRGF0YVJlYWRlcl8xID0gcmVxdWlyZShcIi4vRnJhbWVEYXRhUmVhZGVyXCIpO1xuY29uc3QgcmVhZERlbHRhXzEgPSByZXF1aXJlKFwiLi9yZWFkRGVsdGFcIik7XG5jb25zdCBjaGVja1R5cGUgPSAocikgPT4ge1xuICAgIGxldCBtYWdpYyA9IHIubnN0cig4KTtcbiAgICByZXR1cm4gbWFnaWMgPT09ICdITERFTU8nO1xufTtcbmNvbnN0IHJlYWRIZWFkZXIgPSAocikgPT4gKHtcbiAgICBkZW1vUHJvdG9jb2w6IHIudWkoKSxcbiAgICBuZXRQcm90b2NvbDogci51aSgpLFxuICAgIG1hcE5hbWU6IHIubnN0cigyNjApLFxuICAgIG1vZE5hbWU6IHIubnN0cigyNjApLFxuICAgIG1hcENyYzogci5pKCksXG4gICAgZGlyT2Zmc2V0OiByLnVpKClcbn0pO1xuY29uc3QgcmVhZERpcmVjdG9yaWVzID0gKHIsIG9mZnNldCkgPT4ge1xuICAgIHIuc2VlayhvZmZzZXQpO1xuICAgIGxldCBjb3VudCA9IHIudWkoKTtcbiAgICBsZXQgZGlyZWN0b3JpZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgZGlyZWN0b3JpZXMucHVzaCh7XG4gICAgICAgICAgICBpZDogci51aSgpLFxuICAgICAgICAgICAgbmFtZTogci5uc3RyKDY0KSxcbiAgICAgICAgICAgIGZsYWdzOiByLnVpKCksXG4gICAgICAgICAgICBjZFRyYWNrOiByLmkoKSxcbiAgICAgICAgICAgIHRpbWU6IHIuZigpLFxuICAgICAgICAgICAgZnJhbWVzOiByLnVpKCksXG4gICAgICAgICAgICBvZmZzZXQ6IHIudWkoKSxcbiAgICAgICAgICAgIGxlbmd0aDogci51aSgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0b3JpZXM7XG59O1xuY29uc3QgcmVhZEZyYW1lRGF0YSA9IChyLCBkZWx0YURlY29kZXJzLCBjdXN0b21NZXNzYWdlcykgPT4ge1xuICAgIGxldCBsZW5ndGggPSByLnVpKCk7XG4gICAgbGV0IGxpbWl0ID0gci50ZWxsKCkgKyBsZW5ndGg7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICB3aGlsZSAoci50ZWxsKCkgPCBsaW1pdCkge1xuICAgICAgICBsZXQgdHlwZSA9IHIudWIoKTtcbiAgICAgICAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPj0gNjQpIHtcbiAgICAgICAgICAgIGlmIChjdXN0b21NZXNzYWdlc1t0eXBlXSAmJiBjdXN0b21NZXNzYWdlc1t0eXBlXS5zaXplID4gLTEpIHtcbiAgICAgICAgICAgICAgICByLnNraXAoY3VzdG9tTWVzc2FnZXNbdHlwZV0uc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByLnNraXAoci51YigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtZXNzYWdlID0gRnJhbWVEYXRhUmVhZGVyXzEuRnJhbWVEYXRhUmVhZGVyLnJlYWQociwgdHlwZSwgZGVsdGFEZWNvZGVycyk7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gMzkpIHtcbiAgICAgICAgICAgICAgICBjdXN0b21NZXNzYWdlc1ttZXNzYWdlLmluZGV4XSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgZGF0YTogbWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByLnNlZWsobGltaXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHIuc2VlayhsaW1pdCk7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuY29uc3QgcmVhZEZyYW1lID0gKHIsIGRlbHRhRGVjb2RlcnMsIGN1c3RvbU1lc3NhZ2VzKSA9PiB7XG4gICAgbGV0IGZyYW1lID0ge1xuICAgICAgICB0eXBlOiByLnViKCksXG4gICAgICAgIHRpbWU6IHIuZigpLFxuICAgICAgICB0aWNrOiByLnVpKClcbiAgICB9O1xuICAgIHN3aXRjaCAoZnJhbWUudHlwZSkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgICAgci5za2lwKDQpO1xuICAgICAgICAgICAgZnJhbWUuY2FtZXJhID0ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb246IFtyLmYoKSwgci5mKCksIHIuZigpXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHIuc2tpcCg0MzYpO1xuICAgICAgICAgICAgZnJhbWUuZGF0YSA9IHJlYWRGcmFtZURhdGEociwgZGVsdGFEZWNvZGVycywgY3VzdG9tTWVzc2FnZXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICAgIGZyYW1lLmNvbW1hbmQgPSByLm5zdHIoNjQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA0OiB7XG4gICAgICAgICAgICByLnNraXAoMzIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA1OiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDY6IHtcbiAgICAgICAgICAgIHIuc2tpcCg4NCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDc6IHtcbiAgICAgICAgICAgIHIuc2tpcCg4KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgODoge1xuICAgICAgICAgICAgZnJhbWUuc291bmQgPSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbDogci5pKCksXG4gICAgICAgICAgICAgICAgc2FtcGxlOiByLm5zdHIoci51aSgpKSxcbiAgICAgICAgICAgICAgICBhdHRlbnVhdGlvbjogci5mKCksXG4gICAgICAgICAgICAgICAgdm9sdW1lOiByLmYoKSxcbiAgICAgICAgICAgICAgICBmbGFnczogci51aSgpLFxuICAgICAgICAgICAgICAgIHBpdGNoOiByLmkoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgOToge1xuICAgICAgICAgICAgci5za2lwKHIudWkoKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBmcmFtZS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhbWU7XG59O1xuY2xhc3MgUmVwbGF5IHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIsIGRpcmVjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gaGVhZGVyO1xuICAgICAgICB0aGlzLm1hcE5hbWUgPSB0aGlzLmhlYWRlci5tYXBOYW1lO1xuICAgICAgICB0aGlzLmRpcmVjdG9yaWVzID0gZGlyZWN0b3JpZXM7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZUZyb21BcnJheUJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgUmVhZGVyXzEuUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIGxldCBtYWdpYyA9IHIubnN0cig4KTtcbiAgICAgICAgaWYgKG1hZ2ljICE9PSAnSExERU1PJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlcGxheSBmb3JtYXQnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaGVhZGVyID0ge307XG4gICAgICAgIGhlYWRlci5kZW1vUHJvdG9jb2wgPSByLnVpKCk7XG4gICAgICAgIGhlYWRlci5uZXRQcm90b2NvbCA9IHIudWkoKTtcbiAgICAgICAgaGVhZGVyLm1hcE5hbWUgPSByLm5zdHIoMjYwKTtcbiAgICAgICAgaGVhZGVyLm1vZE5hbWUgPSByLm5zdHIoMjYwKTtcbiAgICAgICAgaGVhZGVyLm1hcENyYyA9IHIuaSgpO1xuICAgICAgICBoZWFkZXIuZGlyT2Zmc2V0ID0gci51aSgpO1xuICAgICAgICByLnNlZWsoaGVhZGVyLmRpck9mZnNldCk7XG4gICAgICAgIGxldCBkaXJlY3RvcnlDb3VudCA9IHIudWkoKTtcbiAgICAgICAgbGV0IGRpcmVjdG9yaWVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0b3J5Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgZGlyZWN0b3JpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHIudWkoKSxcbiAgICAgICAgICAgICAgICBuYW1lOiByLm5zdHIoNjQpLFxuICAgICAgICAgICAgICAgIGZsYWdzOiByLnVpKCksXG4gICAgICAgICAgICAgICAgY2RUcmFjazogci5pKCksXG4gICAgICAgICAgICAgICAgdGltZTogci5mKCksXG4gICAgICAgICAgICAgICAgZnJhbWVzOiByLnVpKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiByLnVpKCksXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiByLnVpKCksXG4gICAgICAgICAgICAgICAgbWFjcm9zOiBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3Rvcmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgci5zZWVrKGRpcmVjdG9yaWVzW2ldLm9mZnNldCk7XG4gICAgICAgICAgICBsZXQgaXNGaW5hbE1hY3JvUmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKCFpc0ZpbmFsTWFjcm9SZWFjaGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hY3JvID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiByLmIoKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogci5mKCksXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lOiByLnVpKClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobWFjcm8udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMToge1xuICAgICAgICAgICAgICAgICAgICAgICAgci5za2lwKDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm8uY2FtZXJhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IFtyLmYoKSwgci5mKCksIHIuZigpXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2tpcCg0MzYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgci5za2lwKHIudWkoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm8uY29tbWFuZCA9IHIubnN0cig2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2tpcCgzMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluYWxNYWNyb1JlYWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnNraXAoODQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnNraXAoOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2tpcCg0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2tpcChyLnVpKCkgKyAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2tpcChyLnVpKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTnVtYmVyKHIudGVsbCgpIC0gOSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmV4cGVjdGVkIG1hY3JvICgke21hY3JvLnR5cGV9KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCBhdCBvZmZzZXQgPSAke29mZnNldH0uYFxuICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdG9yaWVzW2ldLm1hY3Jvcy5wdXNoKG1hY3JvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlcGxheShoZWFkZXIsIGRpcmVjdG9yaWVzKTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlRnVsbEZyb21BcnJheUJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgUmVhZGVyXzEuUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIGxldCBtYWdpYyA9IHIubnN0cig4KTtcbiAgICAgICAgaWYgKG1hZ2ljICE9PSAnSExERU1PJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlcGxheSBmb3JtYXQnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaGVhZGVyID0ge307XG4gICAgICAgIGhlYWRlci5kZW1vUHJvdG9jb2wgPSByLnVpKCk7XG4gICAgICAgIGhlYWRlci5uZXRQcm90b2NvbCA9IHIudWkoKTtcbiAgICAgICAgaGVhZGVyLm1hcE5hbWUgPSByLm5zdHIoMjYwKTtcbiAgICAgICAgaGVhZGVyLm1vZE5hbWUgPSByLm5zdHIoMjYwKTtcbiAgICAgICAgaGVhZGVyLm1hcENyYyA9IHIuaSgpO1xuICAgICAgICBoZWFkZXIuZGlyT2Zmc2V0ID0gci51aSgpO1xuICAgICAgICByLnNlZWsoaGVhZGVyLmRpck9mZnNldCk7XG4gICAgICAgIGxldCBkaXJlY3RvcnlDb3VudCA9IHIudWkoKTtcbiAgICAgICAgbGV0IGRpcmVjdG9yaWVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0b3J5Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgZGlyZWN0b3JpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHIudWkoKSxcbiAgICAgICAgICAgICAgICBuYW1lOiByLm5zdHIoNjQpLFxuICAgICAgICAgICAgICAgIGZsYWdzOiByLnVpKCksXG4gICAgICAgICAgICAgICAgY2RUcmFjazogci5pKCksXG4gICAgICAgICAgICAgICAgdGltZTogci5mKCksXG4gICAgICAgICAgICAgICAgZnJhbWVzOiByLnVpKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiByLnVpKCksXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiByLnVpKCksXG4gICAgICAgICAgICAgICAgbWFjcm9zOiBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbHRhRGVjb2RlcnMgPSAoMCwgcmVhZERlbHRhXzEuZ2V0SW5pdGlhbERlbHRhRGVjb2RlcnMpKCk7XG4gICAgICAgIGxldCBjdXN0b21NZXNzYWdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdG9yaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByLnNlZWsoZGlyZWN0b3JpZXNbaV0ub2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBpc0ZpbmFsTWFjcm9SZWFjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoIWlzRmluYWxNYWNyb1JlYWNoZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFjcm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHIuYigpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgZnJhbWU6IHIudWkoKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChtYWNyby50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnNraXAoNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5jYW1lcmEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbjogW3IuZigpLCByLmYoKSwgci5mKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcndhcmQ6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogW3IuZigpLCByLmYoKSwgci5mKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwOiBbci5mKCksIHIuZigpLCByLmYoKV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5SZWZQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWV0aW1lOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm1pc3Npb246IHIuaSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlZDogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY3RhdG9yOiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmdyb3VuZDogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0ZXJsZXZlbDogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHk6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3SGVpZ2h0OiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlYWxQaXRjaDogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0FuZ2xlczogW3IuZigpLCByLmYoKSwgci5mKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWx0aDogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NoYWlyQW5nbGU6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3U2l6ZTogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVuY2hBbmdsZTogW3IuZigpLCByLmYoKSwgci5mKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENsaWVudHM6IHIuaSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdFbnRpdHk6IHIuaSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckNvdW50OiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhFbnRpdGllczogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVtb1BsYXliYWNrOiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXJkd2FyZTogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21vb3RoaW5nOiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdHJfY21kOiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdHJfbW92ZXZhcnM6IHIuaSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiBbci5pKCksIHIuaSgpLCByLmkoKSwgci5pKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRWaWV3OiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmx5Q2xpZW50RHJhdzogci5pKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5Vc2VyQ21kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlcnBfbXNlYzogci5zKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNlYzogci51YigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVOVVNFRDE6IHIudWIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3QW5nbGVzOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZE1vdmU6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVNb3ZlOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cE1vdmU6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZ2h0TGV2ZWw6IHIuYigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVOVVNFRDI6IHIudWIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiByLnVzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wdWxzZTogci5iKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhcG9uU2VsZWN0OiByLmIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTlVTRUQ6IHIucygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcGFjdEluZGV4OiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBhY3RQb3NpdGlvbjogW3IuZigpLCByLmYoKSwgci5mKCldXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm8uTW92ZVZhcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eTogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFNwZWVkOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTcGVlZDogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY3RhdG9yTWF4U3BlZWQ6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWlyQWNjZWxlcmF0aW9uOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRlckFjY2VsZXJhdGlvbjogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpY3Rpb246IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VGcmljdGlvbjogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0ZXJGcmljdGlvbjogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5R3Jhdml0eTogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmNlOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmVsb2NpdHk6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpNYXg6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdmVIZWlnaHQ6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RzdGVwczogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2t5TmFtZTogci5uc3RyKDMyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xsQW5nbGU6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGxTcGVlZDogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2t5Q29sb3I6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza3lWZWM6IFtyLmYoKSwgci5mKCksIHIuZigpXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLnZpZXcgPSBbci5mKCksIHIuZigpLCByLmYoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby52aWV3TW9kZWwgPSByLmkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLmluY29taW5nX3NlcXVlbmNlID0gci5pKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5pbmNvbWluZ19hY2tub3dsZWRnZWQgPSByLmkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLmluY29taW5nX3JlbGlhYmxlX2Fja25vd2xlZGdlZCA9IHIuaSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm8uaW5jb21pbmdfcmVsaWFibGVfc2VxdWVuY2UgPSByLmkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLm91dGdvaW5nX3NlcXVlbmNlID0gci5pKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5yZWxpYWJsZV9zZXF1ZW5jZSA9IHIuaSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm8ubGFzdF9yZWxpYWJsZV9zZXF1ZW5jZSA9IHIuaSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyYW1lRGF0YUxlbmd0aCA9IHIudWkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZURhdGFFbmQgPSBmcmFtZURhdGFMZW5ndGggKyByLnRlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLmZyYW1lRGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHIudGVsbCgpIDwgZnJhbWVEYXRhRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSByLnViKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPj0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbU1lc3NhZ2VzW3R5cGVdICYmIGN1c3RvbU1lc3NhZ2VzW3R5cGVdLnNpemUgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5za2lwKGN1c3RvbU1lc3NhZ2VzW3R5cGVdLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5za2lwKHIudWIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZURhdGEgPSBGcmFtZURhdGFSZWFkZXJfMS5GcmFtZURhdGFSZWFkZXIucmVhZChyLCB0eXBlLCBkZWx0YURlY29kZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAzOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tTWVzc2FnZXNbZnJhbWVEYXRhLmluZGV4XSA9IGZyYW1lRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5mcmFtZURhdGEucHVzaCh7IHR5cGUsIGZyYW1lRGF0YSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIuc2VlayhmcmFtZURhdGFFbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2VlayhmcmFtZURhdGFFbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLmNvbW1hbmQgPSByLm5zdHIoNjQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5jbGllbnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbci5mKCksIHIuZigpLCByLmYoKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWFwb25GbGFnczogci51aSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdjogci5mKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluYWxNYWNyb1JlYWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyby5ldmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnczogci51aSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiByLnVpKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHIudWkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5SW5kZXg6IHIudWkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHk6IFtyLmYoKSwgci5mKCksIHIuZigpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVja2luZzogci51aSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcGFyYW0xOiByLmYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnBhcmFtMjogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwYXJhbTE6IHIuaSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcGFyYW0yOiByLmkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnBhcmFtMTogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJwYXJhbTI6IHIuaSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm8ud2VhcG9uQW5pbWF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogci5pKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogci5pKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLnNvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHIuaSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZTogci5uc3RyKHIudWkoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ZW51YXRpb246IHIuZigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZTogci5mKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHIudWkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaDogci5pKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuc2tpcChyLnVpKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTnVtYmVyKHIudGVsbCgpIC0gOSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gYFVuZXhwZWN0ZWQgbWFjcm8gKCR7bWFjcm8udHlwZX0pIGF0IG9mZnNldCA9ICR7b2Zmc2V0fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3Rvcmllc1tpXS5tYWNyb3MucHVzaChtYWNybyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXBsYXkoaGVhZGVyLCBkaXJlY3Rvcmllcyk7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZUN1c3RvbUZpbGUoYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgUmVwbGF5Q3VzdG9tTWFwXzEuUmVwbGF5Q3VzdG9tTWFwKCk7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gYnVmZmVyLnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGhlYWRlckxpbmUgPSBsaW5lcy5zaGlmdCgpO1xuICAgICAgICBpZiAoaGVhZGVyTGluZSAmJiBoZWFkZXJMaW5lLnN0YXJ0c1dpdGgoJ0hFQURFUicpKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJSZWdleCA9IC9cIlteXCJdKlwifFxcUysvZztcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBoZWFkZXJMaW5lLm1hdGNoKGhlYWRlclJlZ2V4KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlcyA9IG1hdGNoZXMubWFwKG1hdGNoID0+IG1hdGNoLnJlcGxhY2UoL1wiL2csICcnKSk7XG4gICAgICAgICAgICAgICAgZGF0YS5oZWFkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB2YWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxJbmZvOiB2YWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkYXRhLnRpbWUgPSBkYXRhLmNvbnZlcnRUaW1lc3RhbXAodmFsdWVzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnSU5GTycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KC9cXHMrLykuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogW3BhcnNlRmxvYXQocGFydHNbMF0pLCBwYXJzZUZsb2F0KHBhcnRzWzFdKSwgcGFyc2VGbG9hdChwYXJ0c1syXSldLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogW3BhcnNlRmxvYXQocGFydHNbM10pLCBwYXJzZUZsb2F0KHBhcnRzWzRdKSwgcGFyc2VGbG9hdChwYXJ0c1s1XSldLFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eTogW3BhcnNlRmxvYXQocGFydHNbNl0pLCBwYXJzZUZsb2F0KHBhcnRzWzddKSwgcGFyc2VGbG9hdChwYXJ0c1s4XSldLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBwYXJzZUludChwYXJ0c1s5XSwgMTApLFxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5OiBwYXJzZUZsb2F0KHBhcnRzWzEwXSksXG4gICAgICAgICAgICAgICAgICAgIGZwczogcGFyc2VGbG9hdChwYXJ0c1sxMV0pLFxuICAgICAgICAgICAgICAgICAgICBzdHJhZmVzOiBwYXJzZUludChwYXJ0c1sxMl0sIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgc3luYzogcGFyc2VJbnQocGFydHNbMTNdLCAxMCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkYXRhLmFkZEZyYW1lKGZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRklOSVNIIExPQURJTkchXCIpO1xuICAgICAgICByZXR1cm4geyBkYXRhIH07XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZUludG9DaHVua3MoYnVmZmVyKSB7XG4gICAgICAgIGxldCByID0gbmV3IFJlYWRlcl8xLlJlYWRlcihidWZmZXIpO1xuICAgICAgICBpZiAoIWNoZWNrVHlwZShyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlcGxheSBmaWxlIGZvcm1hdCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXBzID0gW107XG4gICAgICAgIGxldCBkZWx0YURlY29kZXJzID0gKDAsIHJlYWREZWx0YV8xLmdldEluaXRpYWxEZWx0YURlY29kZXJzKSgpO1xuICAgICAgICBsZXQgY3VzdG9tTWVzc2FnZXMgPSBbXTtcbiAgICAgICAgbGV0IGhlYWRlciA9IHJlYWRIZWFkZXIocik7XG4gICAgICAgIGxldCBkaXJlY3RvcmllcyA9IHJlYWREaXJlY3RvcmllcyhyLCBoZWFkZXIuZGlyT2Zmc2V0KTtcbiAgICAgICAgbGV0IGN1cnJlbnRNYXA7XG4gICAgICAgIGxldCBjdXJyZW50Q2h1bms7XG4gICAgICAgIGxldCBsYXN0RnJhbWU7XG4gICAgICAgIGxldCBsYXN0RnJhbWVPZmZzZXQ7XG4gICAgICAgIGxldCBzdGF0ZSA9IG5ldyBSZXBsYXlTdGF0ZV8xLlJlcGxheVN0YXRlKCk7XG4gICAgICAgIGxldCBkaXJlY3RvcnlFbmRPZmZzZXQ7XG4gICAgICAgIGRpcmVjdG9yeUVuZE9mZnNldCA9IGRpcmVjdG9yaWVzWzBdLm9mZnNldCArIGRpcmVjdG9yaWVzWzBdLmxlbmd0aDtcbiAgICAgICAgci5zZWVrKGRpcmVjdG9yaWVzWzBdLm9mZnNldCk7XG4gICAgICAgIHdoaWxlIChyLnRlbGwoKSA8IGRpcmVjdG9yeUVuZE9mZnNldCkge1xuICAgICAgICAgICAgbGV0IGZyYW1lID0gcmVhZEZyYW1lKHIsIGRlbHRhRGVjb2RlcnMsIGN1c3RvbU1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHN0YXRlLmZlZWRGcmFtZShmcmFtZSk7XG4gICAgICAgICAgICBpZiAoZnJhbWUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY291bnRlcmVkIGVycm9yIHdoaWxlIHJlYWRpbmcgcmVwbGF5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWUudHlwZSA8IDIpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VydmVySW5mbyA9IGZyYW1lLmRhdGEuZmluZCgobXNnKSA9PiBtc2cudHlwZSA9PT0gRnJhbWVEYXRhUmVhZGVyXzEuRnJhbWVEYXRhUmVhZGVyLlNWQy5TRVJWRVJJTkZPKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmVySW5mbykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TWFwID0gbmV3IFJlcGxheU1hcF8xLlJlcGxheU1hcChzZXJ2ZXJJbmZvLmRhdGEubWFwRmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBtYXBzLnB1c2goY3VycmVudE1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZXNvdXJjZUxpc3QgPSBmcmFtZS5kYXRhLmZpbmQoKG1zZykgPT4gbXNnLnR5cGUgPT09IEZyYW1lRGF0YVJlYWRlcl8xLkZyYW1lRGF0YVJlYWRlci5TVkMuUkVTT1VSQ0VMSVNUKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VMaXN0ICYmIGN1cnJlbnRNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hcC5zZXRSZXNvdXJjZXMocmVzb3VyY2VMaXN0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjdXJyZW50TWFwIGluc3RhbmNlb2YgUmVwbGF5TWFwXzEuUmVwbGF5TWFwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB3aGlsZSBwYXJzaW5nIHJlcGxheS4nKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0RnJhbWVPZmZzZXQgPSByLnRlbGwoKTtcbiAgICAgICAgY3VycmVudENodW5rID0gbmV3IFJlcGxheUNodW5rXzEuUmVwbGF5Q2h1bmsoc3RhdGUsIDApO1xuICAgICAgICBjdXJyZW50TWFwLmFkZENodW5rKGN1cnJlbnRDaHVuayk7XG4gICAgICAgIGRpcmVjdG9yeUVuZE9mZnNldCA9IGRpcmVjdG9yaWVzWzFdLm9mZnNldCArIGRpcmVjdG9yaWVzWzFdLmxlbmd0aDtcbiAgICAgICAgci5zZWVrKGRpcmVjdG9yaWVzWzFdLm9mZnNldCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gci50ZWxsKCk7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID49IGRpcmVjdG9yeUVuZE9mZnNldCkge1xuICAgICAgICAgICAgICAgIGxldCB0aW1lTGVuZ3RoID0gbGFzdEZyYW1lLnRpbWUgLSBjdXJyZW50Q2h1bmsuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuay50aW1lTGVuZ3RoID0gdGltZUxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEZyYW1lTGVuZ3RoID0gb2Zmc2V0IC0gbGFzdEZyYW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgIHIuc2VlayhsYXN0RnJhbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuay5zZXREYXRhKHIuYXJyeChsYXN0RnJhbWVMZW5ndGgsIFJlYWRlcl8xLlJlYWRlckRhdGFUeXBlLlVCeXRlKSk7XG4gICAgICAgICAgICAgICAgci5zZWVrKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZnJhbWUgPSByZWFkRnJhbWUociwgZGVsdGFEZWNvZGVycywgY3VzdG9tTWVzc2FnZXMpO1xuICAgICAgICAgICAgc3RhdGUuZmVlZEZyYW1lKGZyYW1lKTtcbiAgICAgICAgICAgIGxhc3RGcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgaWYgKGZyYW1lLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNvdW50ZXJlZCBlcnJvciB3aGlsZSByZWFkaW5nIHJlcGxheScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lLnR5cGUgPCAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlcnZlckluZm8gPSBmcmFtZS5kYXRhLmZpbmQoKG1zZykgPT4gbXNnLnR5cGUgPT09IEZyYW1lRGF0YVJlYWRlcl8xLkZyYW1lRGF0YVJlYWRlci5TVkMuU0VSVkVSSU5GTyk7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZlckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hcCA9IG5ldyBSZXBsYXlNYXBfMS5SZXBsYXlNYXAoc2VydmVySW5mby5kYXRhLm1hcEZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwcy5wdXNoKGN1cnJlbnRNYXApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZUxlbmd0aCA9IGxhc3RGcmFtZS50aW1lIC0gY3VycmVudENodW5rLnN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENodW5rLnRpbWVMZW5ndGggPSB0aW1lTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdEZyYW1lTGVuZ3RoID0gb2Zmc2V0IC0gbGFzdEZyYW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcE9mZnNldCA9IHIudGVsbCgpO1xuICAgICAgICAgICAgICAgICAgICByLnNlZWsobGFzdEZyYW1lT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENodW5rLnNldERhdGEoci5hcnJ4KGxhc3RGcmFtZUxlbmd0aCwgUmVhZGVyXzEuUmVhZGVyRGF0YVR5cGUuVUJ5dGUpKTtcbiAgICAgICAgICAgICAgICAgICAgci5zZWVrKHRlbXBPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0RnJhbWVPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayA9IG5ldyBSZXBsYXlDaHVua18xLlJlcGxheUNodW5rKHN0YXRlLCBmcmFtZS50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hcC5hZGRDaHVuayhjdXJyZW50Q2h1bmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmVzb3VyY2VMaXN0ID0gZnJhbWUuZGF0YS5maW5kKChtc2cpID0+IG1zZy50eXBlID09PSBGcmFtZURhdGFSZWFkZXJfMS5GcmFtZURhdGFSZWFkZXIuU1ZDLlJFU09VUkNFTElTVCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TWFwLnNldFJlc291cmNlcyhyZXNvdXJjZUxpc3QuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lLmRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBmcmFtZS5kYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBGcmFtZURhdGFSZWFkZXJfMS5GcmFtZURhdGFSZWFkZXIuU1ZDLlNPVU5EIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUgPT09IEZyYW1lRGF0YVJlYWRlcl8xLkZyYW1lRGF0YVJlYWRlci5TVkMuU1BBV05TVEFUSUNTT1VORCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNvdW5kID0gY3VycmVudE1hcC5yZXNvdXJjZXMuc291bmRzLmZpbmQoKHMpID0+IHMuaW5kZXggPT09IG1lc3NhZ2UuZGF0YS5zb3VuZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kLnVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gRnJhbWVEYXRhUmVhZGVyXzEuRnJhbWVEYXRhUmVhZGVyLlNWQy5TVFVGRlRFWFQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3VuZHMgPSBjdXJyZW50TWFwLnJlc291cmNlcy5zb3VuZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWFuZHMgPSBtZXNzYWdlLmRhdGEuY29tbWFuZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbW1hbmRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSBjb21tYW5kc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IGNvbW1hbmQuZnVuYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZ1bmMgPT09ICdzcGVhaycgfHwgZnVuYyA9PT0gJ3NwaycpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQucGFyYW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc291bmROYW1lID0gY29tbWFuZC5wYXJhbXNbMF0gKyAnLndhdic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3VuZCA9IHNvdW5kcy5maW5kKChzKSA9PiBzLm5hbWUgPT09IHNvdW5kTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291bmQudXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcmFtZS50eXBlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvdW5kID0gY3VycmVudE1hcC5yZXNvdXJjZXMuc291bmRzLmZpbmQoKHMpID0+IHMubmFtZSA9PT0gZnJhbWUuc291bmQuc2FtcGxlKTtcbiAgICAgICAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgc291bmQudXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaHVuay5zdGFydFRpbWUgKyAxMCA8IGZyYW1lLnRpbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEZyYW1lTGVuZ3RoID0gb2Zmc2V0IC0gbGFzdEZyYW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wT2Zmc2V0ID0gci50ZWxsKCk7XG4gICAgICAgICAgICAgICAgci5zZWVrKGxhc3RGcmFtZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rLnNldERhdGEoci5hcnJ4KGxhc3RGcmFtZUxlbmd0aCwgUmVhZGVyXzEuUmVhZGVyRGF0YVR5cGUuVUJ5dGUpKTtcbiAgICAgICAgICAgICAgICByLnNlZWsodGVtcE9mZnNldCk7XG4gICAgICAgICAgICAgICAgbGFzdEZyYW1lT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayA9IG5ldyBSZXBsYXlDaHVua18xLlJlcGxheUNodW5rKHN0YXRlLCBmcmFtZS50aW1lKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50TWFwLmFkZENodW5rKGN1cnJlbnRDaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogZGlyZWN0b3JpZXNbMV0udGltZSxcbiAgICAgICAgICAgIG1hcHMsXG4gICAgICAgICAgICBkZWx0YURlY29kZXJzLFxuICAgICAgICAgICAgY3VzdG9tTWVzc2FnZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJlYWRIZWFkZXIocikge1xuICAgICAgICByZXR1cm4gcmVhZEhlYWRlcihyKTtcbiAgICB9XG4gICAgc3RhdGljIHJlYWREaXJlY3RvcmllcyhyLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWREaXJlY3RvcmllcyhyLCBvZmZzZXQpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVhZEZyYW1lKHIsIGRlbHRhRGVjb2RlcnMsIGN1c3RvbU1lc3NhZ2VzKSB7XG4gICAgICAgIHJldHVybiByZWFkRnJhbWUociwgZGVsdGFEZWNvZGVycywgY3VzdG9tTWVzc2FnZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVhZEZyYW1lRGF0YShyLCBkZWx0YURlY29kZXJzLCBjdXN0b21NZXNzYWdlcykge1xuICAgICAgICByZXR1cm4gcmVhZEZyYW1lKHIsIGRlbHRhRGVjb2RlcnMsIGN1c3RvbU1lc3NhZ2VzKTtcbiAgICB9XG59XG5leHBvcnRzLlJlcGxheSA9IFJlcGxheTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Replay/Replay.ts\n");

/***/ }),

/***/ "./src/Replay/ReplayChunk.ts":
/*!***********************************!*\
  !*** ./src/Replay/ReplayChunk.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayChunk = void 0;\nconst Reader_1 = __webpack_require__(/*! ../Reader */ \"./src/Reader.ts\");\nclass ReplayChunk {\n    constructor(initialState, startTime) {\n        this.state = initialState.clone();\n        this.startTime = startTime;\n        this.timeLength = 10;\n        this.data = null;\n        this.reader = null;\n    }\n    setData(data) {\n        this.data = new Uint8Array(data.length);\n        for (let i = 0; i < data.length; ++i) {\n            this.data[i] = data[i];\n        }\n        this.reader = new Reader_1.Reader(this.data.buffer);\n    }\n}\nexports.ReplayChunk = ReplayChunk;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L1JlcGxheUNodW5rLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixpQkFBaUIsbUJBQU8sQ0FBQyxrQ0FBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1JlcGxheS9SZXBsYXlDaHVuay50cz8wNTNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlDaHVuayA9IHZvaWQgMDtcbmNvbnN0IFJlYWRlcl8xID0gcmVxdWlyZShcIi4uL1JlYWRlclwiKTtcbmNsYXNzIFJlcGxheUNodW5rIHtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsU3RhdGUsIHN0YXJ0VGltZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gaW5pdGlhbFN0YXRlLmNsb25lKCk7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLnRpbWVMZW5ndGggPSAxMDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWFkZXIgPSBudWxsO1xuICAgIH1cbiAgICBzZXREYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpXSA9IGRhdGFbaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWFkZXIgPSBuZXcgUmVhZGVyXzEuUmVhZGVyKHRoaXMuZGF0YS5idWZmZXIpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVwbGF5Q2h1bmsgPSBSZXBsYXlDaHVuaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Replay/ReplayChunk.ts\n");

/***/ }),

/***/ "./src/Replay/ReplayCustomMap.ts":
/*!***************************************!*\
  !*** ./src/Replay/ReplayCustomMap.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayCustomMap = exports.Vector3 = void 0;\nclass Vector3 {\n    constructor(vec) {\n        this.vec = vec;\n    }\n    lerp(to, t) {\n        return new Vector3([this.vec[0] + (to.vec[0] - this.vec[0]) * t,\n            this.vec[1] + (to.vec[1] - this.vec[1]) * t,\n            this.vec[2] + (to.vec[2] - this.vec[2]) * t]);\n    }\n}\nexports.Vector3 = Vector3;\nclass ReplayCustomMap {\n    constructor() {\n        this.header = { identifier: '', timestamp: '', additionalInfo: '' };\n        this.frames = [];\n        this.length = 0;\n        this.time = 0;\n    }\n    addFrame(frame) {\n        this.frames.push(frame);\n        this.length += 1;\n    }\n    convertTimestamp(timeString) {\n        return parseTimeToMilliseconds(timeString);\n    }\n}\nexports.ReplayCustomMap = ReplayCustomMap;\nfunction parseTimeToMilliseconds(timeString) {\n    const cleanedString = timeString.replace('s', '');\n    const [minutesStr, secondsStr] = cleanedString.split(':');\n    const minutes = parseInt(minutesStr, 10);\n    const [seconds, millisecondsStr] = secondsStr.split('.');\n    const secondsNumber = parseInt(seconds, 10);\n    const milliseconds = parseInt(millisecondsStr || '0', 10);\n    const totalMilliseconds = (minutes * 60 * 1000) + (secondsNumber * 1000) + milliseconds;\n    return totalMilliseconds;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L1JlcGxheUN1c3RvbU1hcC50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUIsR0FBRyxlQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUmVwbGF5L1JlcGxheUN1c3RvbU1hcC50cz9hMTAyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlDdXN0b21NYXAgPSBleHBvcnRzLlZlY3RvcjMgPSB2b2lkIDA7XG5jbGFzcyBWZWN0b3IzIHtcbiAgICBjb25zdHJ1Y3Rvcih2ZWMpIHtcbiAgICAgICAgdGhpcy52ZWMgPSB2ZWM7XG4gICAgfVxuICAgIGxlcnAodG8sIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKFt0aGlzLnZlY1swXSArICh0by52ZWNbMF0gLSB0aGlzLnZlY1swXSkgKiB0LFxuICAgICAgICAgICAgdGhpcy52ZWNbMV0gKyAodG8udmVjWzFdIC0gdGhpcy52ZWNbMV0pICogdCxcbiAgICAgICAgICAgIHRoaXMudmVjWzJdICsgKHRvLnZlY1syXSAtIHRoaXMudmVjWzJdKSAqIHRdKTtcbiAgICB9XG59XG5leHBvcnRzLlZlY3RvcjMgPSBWZWN0b3IzO1xuY2xhc3MgUmVwbGF5Q3VzdG9tTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oZWFkZXIgPSB7IGlkZW50aWZpZXI6ICcnLCB0aW1lc3RhbXA6ICcnLCBhZGRpdGlvbmFsSW5mbzogJycgfTtcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRpbWUgPSAwO1xuICAgIH1cbiAgICBhZGRGcmFtZShmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgdGhpcy5sZW5ndGggKz0gMTtcbiAgICB9XG4gICAgY29udmVydFRpbWVzdGFtcCh0aW1lU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVRpbWVUb01pbGxpc2Vjb25kcyh0aW1lU3RyaW5nKTtcbiAgICB9XG59XG5leHBvcnRzLlJlcGxheUN1c3RvbU1hcCA9IFJlcGxheUN1c3RvbU1hcDtcbmZ1bmN0aW9uIHBhcnNlVGltZVRvTWlsbGlzZWNvbmRzKHRpbWVTdHJpbmcpIHtcbiAgICBjb25zdCBjbGVhbmVkU3RyaW5nID0gdGltZVN0cmluZy5yZXBsYWNlKCdzJywgJycpO1xuICAgIGNvbnN0IFttaW51dGVzU3RyLCBzZWNvbmRzU3RyXSA9IGNsZWFuZWRTdHJpbmcuc3BsaXQoJzonKTtcbiAgICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnQobWludXRlc1N0ciwgMTApO1xuICAgIGNvbnN0IFtzZWNvbmRzLCBtaWxsaXNlY29uZHNTdHJdID0gc2Vjb25kc1N0ci5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHNlY29uZHNOdW1iZXIgPSBwYXJzZUludChzZWNvbmRzLCAxMCk7XG4gICAgY29uc3QgbWlsbGlzZWNvbmRzID0gcGFyc2VJbnQobWlsbGlzZWNvbmRzU3RyIHx8ICcwJywgMTApO1xuICAgIGNvbnN0IHRvdGFsTWlsbGlzZWNvbmRzID0gKG1pbnV0ZXMgKiA2MCAqIDEwMDApICsgKHNlY29uZHNOdW1iZXIgKiAxMDAwKSArIG1pbGxpc2Vjb25kcztcbiAgICByZXR1cm4gdG90YWxNaWxsaXNlY29uZHM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Replay/ReplayCustomMap.ts\n");

/***/ }),

/***/ "./src/Replay/ReplayMap.ts":
/*!*********************************!*\
  !*** ./src/Replay/ReplayMap.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayMap = void 0;\nconst Util_1 = __webpack_require__(/*! ../Util */ \"./src/Util.ts\");\nclass ReplayMap {\n    constructor(mapFilePath) {\n        this.name = (0, Util_1.basename)(mapFilePath, '.bsp');\n        this.chunks = [];\n        this.resources = {\n            sounds: [],\n            skins: [],\n            models: [],\n            decals: [],\n            custom: [],\n            events: []\n        };\n    }\n    setResources(resources) {\n        resources.forEach(res => {\n            switch (res.type) {\n                case 0: {\n                    res.used = false;\n                    this.resources.sounds.push(res);\n                    break;\n                }\n                case 1: {\n                    this.resources.skins.push(res);\n                    break;\n                }\n                case 2: {\n                    this.resources.models.push(res);\n                    break;\n                }\n                case 3: {\n                    this.resources.decals.push(res);\n                    break;\n                }\n                case 4: {\n                    this.resources.custom.push(res);\n                    break;\n                }\n                case 5: {\n                    this.resources.events.push(res);\n                    break;\n                }\n            }\n        });\n    }\n    addChunk(chunk) {\n        this.chunks.push(chunk);\n    }\n}\nexports.ReplayMap = ReplayMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L1JlcGxheU1hcC50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsZUFBZSxtQkFBTyxDQUFDLDhCQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUmVwbGF5L1JlcGxheU1hcC50cz85Zjg3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlNYXAgPSB2b2lkIDA7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi4vVXRpbFwiKTtcbmNsYXNzIFJlcGxheU1hcCB7XG4gICAgY29uc3RydWN0b3IobWFwRmlsZVBhdGgpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gKDAsIFV0aWxfMS5iYXNlbmFtZSkobWFwRmlsZVBhdGgsICcuYnNwJyk7XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge1xuICAgICAgICAgICAgc291bmRzOiBbXSxcbiAgICAgICAgICAgIHNraW5zOiBbXSxcbiAgICAgICAgICAgIG1vZGVsczogW10sXG4gICAgICAgICAgICBkZWNhbHM6IFtdLFxuICAgICAgICAgICAgY3VzdG9tOiBbXSxcbiAgICAgICAgICAgIGV2ZW50czogW11cbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0UmVzb3VyY2VzKHJlc291cmNlcykge1xuICAgICAgICByZXNvdXJjZXMuZm9yRWFjaChyZXMgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChyZXMudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDoge1xuICAgICAgICAgICAgICAgICAgICByZXMudXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlcy5zb3VuZHMucHVzaChyZXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzLnNraW5zLnB1c2gocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlcy5tb2RlbHMucHVzaChyZXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzLmRlY2Fscy5wdXNoKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMuY3VzdG9tLnB1c2gocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgNToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlcy5ldmVudHMucHVzaChyZXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRDaHVuayhjaHVuaykge1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbiAgICB9XG59XG5leHBvcnRzLlJlcGxheU1hcCA9IFJlcGxheU1hcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Replay/ReplayMap.ts\n");

/***/ }),

/***/ "./src/Replay/ReplayState.ts":
/*!***********************************!*\
  !*** ./src/Replay/ReplayState.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayState = void 0;\nclass ReplayState {\n    constructor(obj = null) {\n        if (obj) {\n            this.cameraPos = JSON.parse(JSON.stringify(obj.cameraPos));\n            this.cameraRot = JSON.parse(JSON.stringify(obj.cameraRot));\n            this.entities = JSON.parse(JSON.stringify(obj.entities));\n        }\n        else {\n            this.cameraPos = [0, 0, 0];\n            this.cameraRot = [0, 0, 0];\n            this.entities = [];\n        }\n    }\n    feedFrame(frame) {\n        switch (frame.type) {\n            case 0:\n            case 1: {\n                this.cameraPos[0] = frame.camera.position[0];\n                this.cameraPos[1] = frame.camera.position[1];\n                this.cameraPos[2] = frame.camera.position[2];\n                this.cameraRot[0] = frame.camera.orientation[0];\n                this.cameraRot[1] = frame.camera.orientation[1];\n                this.cameraRot[2] = frame.camera.orientation[2];\n                break;\n            }\n        }\n    }\n    clone() {\n        return new ReplayState(this);\n    }\n}\nexports.ReplayState = ReplayState;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L1JlcGxheVN0YXRlLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1JlcGxheS9SZXBsYXlTdGF0ZS50cz8yMzViIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlTdGF0ZSA9IHZvaWQgMDtcbmNsYXNzIFJlcGxheVN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihvYmogPSBudWxsKSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmouY2FtZXJhUG9zKSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJvdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqLmNhbWVyYVJvdCkpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqLmVudGl0aWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBvcyA9IFswLCAwLCAwXTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUm90ID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZlZWRGcmFtZShmcmFtZSkge1xuICAgICAgICBzd2l0Y2ggKGZyYW1lLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhc2UgMToge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zWzBdID0gZnJhbWUuY2FtZXJhLnBvc2l0aW9uWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zWzFdID0gZnJhbWUuY2FtZXJhLnBvc2l0aW9uWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zWzJdID0gZnJhbWUuY2FtZXJhLnBvc2l0aW9uWzJdO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUm90WzBdID0gZnJhbWUuY2FtZXJhLm9yaWVudGF0aW9uWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUm90WzFdID0gZnJhbWUuY2FtZXJhLm9yaWVudGF0aW9uWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUm90WzJdID0gZnJhbWUuY2FtZXJhLm9yaWVudGF0aW9uWzJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlcGxheVN0YXRlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVwbGF5U3RhdGUgPSBSZXBsYXlTdGF0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Replay/ReplayState.ts\n");

/***/ }),

/***/ "./src/Replay/readCoord.ts":
/*!*********************************!*\
  !*** ./src/Replay/readCoord.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.readCoord = readCoord;\nfunction readCoord(bs) {\n    let intFlag = bs.readBits(1);\n    let fractionFlag = bs.readBits(1);\n    if (!intFlag && !fractionFlag) {\n        return 0;\n    }\n    let sign = bs.readBits(1);\n    let intValue = 0;\n    let fractionValue = 0;\n    if (intFlag) {\n        intValue = bs.readBits(12);\n    }\n    if (fractionFlag) {\n        fractionValue = bs.readBits(3);\n    }\n    let value = intValue + fractionValue / 32;\n    if (sign) {\n        value = -value;\n    }\n    return value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L3JlYWRDb29yZC50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUmVwbGF5L3JlYWRDb29yZC50cz84YjhkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWFkQ29vcmQgPSByZWFkQ29vcmQ7XG5mdW5jdGlvbiByZWFkQ29vcmQoYnMpIHtcbiAgICBsZXQgaW50RmxhZyA9IGJzLnJlYWRCaXRzKDEpO1xuICAgIGxldCBmcmFjdGlvbkZsYWcgPSBicy5yZWFkQml0cygxKTtcbiAgICBpZiAoIWludEZsYWcgJiYgIWZyYWN0aW9uRmxhZykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IHNpZ24gPSBicy5yZWFkQml0cygxKTtcbiAgICBsZXQgaW50VmFsdWUgPSAwO1xuICAgIGxldCBmcmFjdGlvblZhbHVlID0gMDtcbiAgICBpZiAoaW50RmxhZykge1xuICAgICAgICBpbnRWYWx1ZSA9IGJzLnJlYWRCaXRzKDEyKTtcbiAgICB9XG4gICAgaWYgKGZyYWN0aW9uRmxhZykge1xuICAgICAgICBmcmFjdGlvblZhbHVlID0gYnMucmVhZEJpdHMoMyk7XG4gICAgfVxuICAgIGxldCB2YWx1ZSA9IGludFZhbHVlICsgZnJhY3Rpb25WYWx1ZSAvIDMyO1xuICAgIGlmIChzaWduKSB7XG4gICAgICAgIHZhbHVlID0gLXZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Replay/readCoord.ts\n");

/***/ }),

/***/ "./src/Replay/readDelta.ts":
/*!*********************************!*\
  !*** ./src/Replay/readDelta.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getInitialDeltaDecoders = void 0;\nexports.readDelta = readDelta;\nconst DeltaType_1 = __webpack_require__(/*! ./DeltaType */ \"./src/Replay/DeltaType.ts\");\nfunction readDelta(bs, dd) {\n    let data = {};\n    let maskBitCount = bs.readBits(3);\n    let maskBits = [];\n    for (let i = 0; i < maskBitCount; ++i) {\n        maskBits.push(bs.readBits(8));\n    }\n    let brk = false;\n    for (let i = 0; i < maskBitCount; ++i) {\n        for (let j = 0; j < 8; ++j) {\n            let index = j + i * 8;\n            if (index === dd.length) {\n                brk = true;\n                break;\n            }\n            if (maskBits[i] & (1 << j)) {\n                if (dd[index].flags & DeltaType_1.DeltaType.DT_BYTE) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_SHORT) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_INTEGER) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_FLOAT ||\n                    dd[index].flags & DeltaType_1.DeltaType.DT_TIMEWINDOW_8 ||\n                    dd[index].flags & DeltaType_1.DeltaType.DT_TIMEWINDOW_BIG) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_ANGLE) {\n                    let value = bs.readBits(dd[index].bits);\n                    let multiplier = 360 / (1 << dd[index].bits);\n                    data[dd[index].name] = value * multiplier;\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_STRING) {\n                    data[dd[index].name] = bs.readString();\n                }\n            }\n        }\n        if (brk) {\n            break;\n        }\n    }\n    return data;\n}\nconst initialDeltaDecoders = {\n    delta_description_t: [\n        {\n            name: 'flags',\n            bits: 32,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'name',\n            bits: 8,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_STRING\n        },\n        {\n            name: 'offset',\n            bits: 16,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'size',\n            bits: 8,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'bits',\n            bits: 8,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'divisor',\n            bits: 32,\n            divisor: 4000,\n            flags: DeltaType_1.DeltaType.DT_FLOAT\n        },\n        {\n            name: 'preMultiplier',\n            bits: 32,\n            divisor: 4000,\n            flags: DeltaType_1.DeltaType.DT_FLOAT\n        }\n    ]\n};\nconst getInitialDeltaDecoders = () => (Object.assign({}, initialDeltaDecoders));\nexports.getInitialDeltaDecoders = getInitialDeltaDecoders;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5L3JlYWREZWx0YS50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IsaUJBQWlCO0FBQ2pCLG9CQUFvQixtQkFBTyxDQUFDLDhDQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsK0JBQStCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUmVwbGF5L3JlYWREZWx0YS50cz9hNTFlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRJbml0aWFsRGVsdGFEZWNvZGVycyA9IHZvaWQgMDtcbmV4cG9ydHMucmVhZERlbHRhID0gcmVhZERlbHRhO1xuY29uc3QgRGVsdGFUeXBlXzEgPSByZXF1aXJlKFwiLi9EZWx0YVR5cGVcIik7XG5mdW5jdGlvbiByZWFkRGVsdGEoYnMsIGRkKSB7XG4gICAgbGV0IGRhdGEgPSB7fTtcbiAgICBsZXQgbWFza0JpdENvdW50ID0gYnMucmVhZEJpdHMoMyk7XG4gICAgbGV0IG1hc2tCaXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXNrQml0Q291bnQ7ICsraSkge1xuICAgICAgICBtYXNrQml0cy5wdXNoKGJzLnJlYWRCaXRzKDgpKTtcbiAgICB9XG4gICAgbGV0IGJyayA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza0JpdENvdW50OyArK2kpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyArK2opIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGogKyBpICogODtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gZGQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYnJrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXNrQml0c1tpXSAmICgxIDw8IGopKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRkW2luZGV4XS5mbGFncyAmIERlbHRhVHlwZV8xLkRlbHRhVHlwZS5EVF9CWVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZFtpbmRleF0uZmxhZ3MgJiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfU0lHTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IGJzLnJlYWRCaXRzKDEpID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYnMucmVhZEJpdHMoZGRbaW5kZXhdLmJpdHMgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXZpc29yID0gZGRbaW5kZXhdLmRpdmlzb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RkW2luZGV4XS5uYW1lXSA9IChzaWduICogdmFsdWUpIC8gZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGJzLnJlYWRCaXRzKGRkW2luZGV4XS5iaXRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXZpc29yID0gZGRbaW5kZXhdLmRpdmlzb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RkW2luZGV4XS5uYW1lXSA9IHZhbHVlIC8gZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZFtpbmRleF0uZmxhZ3MgJiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfU0hPUlQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRkW2luZGV4XS5mbGFncyAmIERlbHRhVHlwZV8xLkRlbHRhVHlwZS5EVF9TSUdORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaWduID0gYnMucmVhZEJpdHMoMSkgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBicy5yZWFkQml0cyhkZFtpbmRleF0uYml0cyAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdmlzb3IgPSBkZFtpbmRleF0uZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGRbaW5kZXhdLm5hbWVdID0gKHNpZ24gKiB2YWx1ZSkgLyBkaXZpc29yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYnMucmVhZEJpdHMoZGRbaW5kZXhdLmJpdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdmlzb3IgPSBkZFtpbmRleF0uZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGRbaW5kZXhdLm5hbWVdID0gdmFsdWUgLyBkaXZpc29yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRkW2luZGV4XS5mbGFncyAmIERlbHRhVHlwZV8xLkRlbHRhVHlwZS5EVF9JTlRFR0VSKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZFtpbmRleF0uZmxhZ3MgJiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfU0lHTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IGJzLnJlYWRCaXRzKDEpID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYnMucmVhZEJpdHMoZGRbaW5kZXhdLmJpdHMgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXZpc29yID0gZGRbaW5kZXhdLmRpdmlzb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RkW2luZGV4XS5uYW1lXSA9IChzaWduICogdmFsdWUpIC8gZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGJzLnJlYWRCaXRzKGRkW2luZGV4XS5iaXRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXZpc29yID0gZGRbaW5kZXhdLmRpdmlzb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RkW2luZGV4XS5uYW1lXSA9IHZhbHVlIC8gZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZFtpbmRleF0uZmxhZ3MgJiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfRkxPQVQgfHxcbiAgICAgICAgICAgICAgICAgICAgZGRbaW5kZXhdLmZsYWdzICYgRGVsdGFUeXBlXzEuRGVsdGFUeXBlLkRUX1RJTUVXSU5ET1dfOCB8fFxuICAgICAgICAgICAgICAgICAgICBkZFtpbmRleF0uZmxhZ3MgJiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfVElNRVdJTkRPV19CSUcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRkW2luZGV4XS5mbGFncyAmIERlbHRhVHlwZV8xLkRlbHRhVHlwZS5EVF9TSUdORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaWduID0gYnMucmVhZEJpdHMoMSkgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBicy5yZWFkQml0cyhkZFtpbmRleF0uYml0cyAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdmlzb3IgPSBkZFtpbmRleF0uZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGRbaW5kZXhdLm5hbWVdID0gKHNpZ24gKiB2YWx1ZSkgLyBkaXZpc29yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYnMucmVhZEJpdHMoZGRbaW5kZXhdLmJpdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdmlzb3IgPSBkZFtpbmRleF0uZGl2aXNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGRbaW5kZXhdLm5hbWVdID0gdmFsdWUgLyBkaXZpc29yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRkW2luZGV4XS5mbGFncyAmIERlbHRhVHlwZV8xLkRlbHRhVHlwZS5EVF9BTkdMRSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBicy5yZWFkQml0cyhkZFtpbmRleF0uYml0cyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtdWx0aXBsaWVyID0gMzYwIC8gKDEgPDwgZGRbaW5kZXhdLmJpdHMpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW2RkW2luZGV4XS5uYW1lXSA9IHZhbHVlICogbXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGRbaW5kZXhdLmZsYWdzICYgRGVsdGFUeXBlXzEuRGVsdGFUeXBlLkRUX1NUUklORykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhW2RkW2luZGV4XS5uYW1lXSA9IGJzLnJlYWRTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJyaykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG5jb25zdCBpbml0aWFsRGVsdGFEZWNvZGVycyA9IHtcbiAgICBkZWx0YV9kZXNjcmlwdGlvbl90OiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdmbGFncycsXG4gICAgICAgICAgICBiaXRzOiAzMixcbiAgICAgICAgICAgIGRpdmlzb3I6IDEsXG4gICAgICAgICAgICBmbGFnczogRGVsdGFUeXBlXzEuRGVsdGFUeXBlLkRUX0lOVEVHRVJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICAgICAgYml0czogOCxcbiAgICAgICAgICAgIGRpdmlzb3I6IDEsXG4gICAgICAgICAgICBmbGFnczogRGVsdGFUeXBlXzEuRGVsdGFUeXBlLkRUX1NUUklOR1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnb2Zmc2V0JyxcbiAgICAgICAgICAgIGJpdHM6IDE2LFxuICAgICAgICAgICAgZGl2aXNvcjogMSxcbiAgICAgICAgICAgIGZsYWdzOiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfSU5URUdFUlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnc2l6ZScsXG4gICAgICAgICAgICBiaXRzOiA4LFxuICAgICAgICAgICAgZGl2aXNvcjogMSxcbiAgICAgICAgICAgIGZsYWdzOiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfSU5URUdFUlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnYml0cycsXG4gICAgICAgICAgICBiaXRzOiA4LFxuICAgICAgICAgICAgZGl2aXNvcjogMSxcbiAgICAgICAgICAgIGZsYWdzOiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfSU5URUdFUlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnZGl2aXNvcicsXG4gICAgICAgICAgICBiaXRzOiAzMixcbiAgICAgICAgICAgIGRpdmlzb3I6IDQwMDAsXG4gICAgICAgICAgICBmbGFnczogRGVsdGFUeXBlXzEuRGVsdGFUeXBlLkRUX0ZMT0FUXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdwcmVNdWx0aXBsaWVyJyxcbiAgICAgICAgICAgIGJpdHM6IDMyLFxuICAgICAgICAgICAgZGl2aXNvcjogNDAwMCxcbiAgICAgICAgICAgIGZsYWdzOiBEZWx0YVR5cGVfMS5EZWx0YVR5cGUuRFRfRkxPQVRcbiAgICAgICAgfVxuICAgIF1cbn07XG5jb25zdCBnZXRJbml0aWFsRGVsdGFEZWNvZGVycyA9ICgpID0+IChPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsRGVsdGFEZWNvZGVycykpO1xuZXhwb3J0cy5nZXRJbml0aWFsRGVsdGFEZWNvZGVycyA9IGdldEluaXRpYWxEZWx0YURlY29kZXJzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Replay/readDelta.ts\n");

/***/ }),

/***/ "./src/ReplayPlayer.ts":
/*!*****************************!*\
  !*** ./src/ReplayPlayer.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayPlayer = void 0;\nconst gl_matrix_1 = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/index.js\");\nconst nanoevents_1 = __webpack_require__(/*! nanoevents */ \"./node_modules/nanoevents/index.js\");\nconst ReplayState_1 = __webpack_require__(/*! ./Replay/ReplayState */ \"./src/Replay/ReplayState.ts\");\nconst ReplayCustomMap_1 = __webpack_require__(/*! ./Replay/ReplayCustomMap */ \"./src/Replay/ReplayCustomMap.ts\");\nconst updateGame = (game, state) => {\n    game.camera.position[0] = state.cameraPos[0];\n    game.camera.position[1] = state.cameraPos[1];\n    game.camera.position[2] = state.cameraPos[2];\n    game.camera.rotation[0] = gl_matrix_1.glMatrix.toRadian(state.cameraRot[0]);\n    game.camera.rotation[1] = gl_matrix_1.glMatrix.toRadian(state.cameraRot[1]);\n    game.camera.rotation[2] = gl_matrix_1.glMatrix.toRadian(state.cameraRot[2]);\n};\nclass ReplayPlayer {\n    constructor(game) {\n        this.prevFrame = 0;\n        this.nextFrame = 0;\n        this.timeOffset = 0;\n        this.frameTime = 0;\n        this.currentFrame = 0;\n        this.currentTime = 0;\n        this.isPlaying = false;\n        this.isPaused = false;\n        this.speed = 1;\n        this.reset();\n        this.game = game;\n        this.state = new ReplayState_1.ReplayState();\n        this.replay = null;\n        this.events = (0, nanoevents_1.createNanoEvents)();\n    }\n    reset() {\n        this.nextFrame = 0;\n        this.prevFrame = 0;\n        this.frameTime = 0;\n        this.currentFrame = 0;\n        this.timeOffset = 0;\n        this.currentTime = 0;\n        this.isPlaying = false;\n        this.isPaused = false;\n        this.speed = 1;\n        if (this.replay) {\n            this.game.setTitle(this.replay.data.header.identifier + \" \" + this.replay.data.header.timestamp + \" \" + this.replay.data.header.additionalInfo);\n            let firstFrame = this.replay.data.frames[0];\n            let state = new ReplayState_1.ReplayState();\n            state.cameraPos = firstFrame.origin;\n            state.cameraRot = firstFrame.rotation;\n            this.state = state;\n            this.frameTime = (this.replay.data.time / this.replay.data.frames.length) / 1000;\n        }\n    }\n    changeReplay(replay) {\n        this.replay = replay;\n        this.reset();\n    }\n    play() {\n        if (!this.isPlaying) {\n            this.isPlaying = true;\n        }\n        else if (this.isPaused) {\n            this.isPaused = false;\n        }\n        this.events.emit('play');\n    }\n    pause() {\n        if (this.isPlaying) {\n            this.isPaused = true;\n        }\n        this.events.emit('pause');\n    }\n    stop() {\n        this.reset();\n        this.events.emit('stop');\n    }\n    speedUp() {\n        this.speed = Math.min(this.speed * 2, 1);\n    }\n    speedDown() {\n        this.speed = Math.max(this.speed / 2, 0.12);\n    }\n    seek(dt) {\n        if (this.currentFrame >= this.replay.data.frames.length - 1) {\n            this.reset();\n        }\n        dt *= this.speed;\n        this.currentTime += dt;\n        const frameDuration = this.frameTime;\n        this.timeOffset += dt;\n        if (this.timeOffset >= frameDuration) {\n            this.timeOffset -= frameDuration;\n            this.prevFrame = this.currentFrame;\n            this.nextFrame = this.currentFrame + 1;\n            this.currentFrame++;\n        }\n        if (this.currentFrame > 0) {\n            const t = this.timeOffset / frameDuration;\n            const prevFrameData = this.replay.data.frames[this.prevFrame];\n            const nextFrameData = this.replay.data.frames[this.nextFrame];\n            const interpolatedPos = new ReplayCustomMap_1.Vector3(prevFrameData.origin).lerp(new ReplayCustomMap_1.Vector3(nextFrameData.origin), t);\n            const interpolatedRot = [0, 0, 0];\n            interpolatedRot[0] = this.slerp(prevFrameData.rotation[0], nextFrameData.rotation[0], t);\n            interpolatedRot[1] = this.slerp(prevFrameData.rotation[1], nextFrameData.rotation[1], t);\n            interpolatedRot[2] = this.slerp(prevFrameData.rotation[2], nextFrameData.rotation[2], t);\n            this.state.cameraPos = interpolatedPos.vec;\n            this.state.cameraRot = interpolatedRot;\n            updateGame(this.game, this.state);\n        }\n    }\n    slerp(a, b, dt) {\n        a = a % 360;\n        b = b % 360;\n        const dist = this.getDist(a, b);\n        if (Math.abs(a - b) > 180) {\n            if (a < b) {\n                return (a + 180 - dist * dt + 360) % 360 - 180;\n            }\n            else {\n                return (a + 180 + dist * dt + 360) % 360 - 180;\n            }\n        }\n        else {\n            if (a < b) {\n                return (a + 180 + dist * dt + 360) % 360 - 180;\n            }\n            else {\n                return (a + 180 - dist * dt + 360) % 360 - 180;\n            }\n        }\n    }\n    getDist(a, b) {\n        const rawDiff = Math.abs(a - b);\n        return 180.0 - Math.abs(rawDiff - 180.0);\n    }\n    seekByPercent(value) {\n        value = Math.max(0, Math.min(value, 100)) / 100;\n        this.currentTime = this.replay.data.time * value / 1000;\n        this.currentFrame = Math.round(this.replay.data.frames.length * value);\n        this.prevFrame = this.currentFrame;\n        this.nextFrame = this.currentFrame;\n        this.state.cameraPos = this.replay.data.frames[this.currentFrame].origin;\n        this.state.cameraRot = this.replay.data.frames[this.currentFrame].rotation;\n        updateGame(this.game, this.state);\n    }\n    update(dt) {\n        if (!this.isPlaying || this.isPaused) {\n            return;\n        }\n        this.seek(dt);\n        let hitStop = false;\n        if (hitStop) {\n            this.stop();\n        }\n    }\n}\nexports.ReplayPlayer = ReplayPlayer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUmVwbGF5UGxheWVyLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixvQkFBb0IsbUJBQU8sQ0FBQyx3REFBVztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyxzREFBWTtBQUN6QyxzQkFBc0IsbUJBQU8sQ0FBQyx5REFBc0I7QUFDcEQsMEJBQTBCLG1CQUFPLENBQUMsaUVBQTBCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvUmVwbGF5UGxheWVyLnRzPzYzZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlcGxheVBsYXllciA9IHZvaWQgMDtcbmNvbnN0IGdsX21hdHJpeF8xID0gcmVxdWlyZShcImdsLW1hdHJpeFwiKTtcbmNvbnN0IG5hbm9ldmVudHNfMSA9IHJlcXVpcmUoXCJuYW5vZXZlbnRzXCIpO1xuY29uc3QgUmVwbGF5U3RhdGVfMSA9IHJlcXVpcmUoXCIuL1JlcGxheS9SZXBsYXlTdGF0ZVwiKTtcbmNvbnN0IFJlcGxheUN1c3RvbU1hcF8xID0gcmVxdWlyZShcIi4vUmVwbGF5L1JlcGxheUN1c3RvbU1hcFwiKTtcbmNvbnN0IHVwZGF0ZUdhbWUgPSAoZ2FtZSwgc3RhdGUpID0+IHtcbiAgICBnYW1lLmNhbWVyYS5wb3NpdGlvblswXSA9IHN0YXRlLmNhbWVyYVBvc1swXTtcbiAgICBnYW1lLmNhbWVyYS5wb3NpdGlvblsxXSA9IHN0YXRlLmNhbWVyYVBvc1sxXTtcbiAgICBnYW1lLmNhbWVyYS5wb3NpdGlvblsyXSA9IHN0YXRlLmNhbWVyYVBvc1syXTtcbiAgICBnYW1lLmNhbWVyYS5yb3RhdGlvblswXSA9IGdsX21hdHJpeF8xLmdsTWF0cml4LnRvUmFkaWFuKHN0YXRlLmNhbWVyYVJvdFswXSk7XG4gICAgZ2FtZS5jYW1lcmEucm90YXRpb25bMV0gPSBnbF9tYXRyaXhfMS5nbE1hdHJpeC50b1JhZGlhbihzdGF0ZS5jYW1lcmFSb3RbMV0pO1xuICAgIGdhbWUuY2FtZXJhLnJvdGF0aW9uWzJdID0gZ2xfbWF0cml4XzEuZ2xNYXRyaXgudG9SYWRpYW4oc3RhdGUuY2FtZXJhUm90WzJdKTtcbn07XG5jbGFzcyBSZXBsYXlQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICAgICAgdGhpcy5wcmV2RnJhbWUgPSAwO1xuICAgICAgICB0aGlzLm5leHRGcmFtZSA9IDA7XG4gICAgICAgIHRoaXMudGltZU9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuZnJhbWVUaW1lID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IFJlcGxheVN0YXRlXzEuUmVwbGF5U3RhdGUoKTtcbiAgICAgICAgdGhpcy5yZXBsYXkgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50cyA9ICgwLCBuYW5vZXZlbnRzXzEuY3JlYXRlTmFub0V2ZW50cykoKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubmV4dEZyYW1lID0gMDtcbiAgICAgICAgdGhpcy5wcmV2RnJhbWUgPSAwO1xuICAgICAgICB0aGlzLmZyYW1lVGltZSA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDtcbiAgICAgICAgdGhpcy50aW1lT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlcGxheSkge1xuICAgICAgICAgICAgdGhpcy5nYW1lLnNldFRpdGxlKHRoaXMucmVwbGF5LmRhdGEuaGVhZGVyLmlkZW50aWZpZXIgKyBcIiBcIiArIHRoaXMucmVwbGF5LmRhdGEuaGVhZGVyLnRpbWVzdGFtcCArIFwiIFwiICsgdGhpcy5yZXBsYXkuZGF0YS5oZWFkZXIuYWRkaXRpb25hbEluZm8pO1xuICAgICAgICAgICAgbGV0IGZpcnN0RnJhbWUgPSB0aGlzLnJlcGxheS5kYXRhLmZyYW1lc1swXTtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IG5ldyBSZXBsYXlTdGF0ZV8xLlJlcGxheVN0YXRlKCk7XG4gICAgICAgICAgICBzdGF0ZS5jYW1lcmFQb3MgPSBmaXJzdEZyYW1lLm9yaWdpbjtcbiAgICAgICAgICAgIHN0YXRlLmNhbWVyYVJvdCA9IGZpcnN0RnJhbWUucm90YXRpb247XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB0aGlzLmZyYW1lVGltZSA9ICh0aGlzLnJlcGxheS5kYXRhLnRpbWUgLyB0aGlzLnJlcGxheS5kYXRhLmZyYW1lcy5sZW5ndGgpIC8gMTAwMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGFuZ2VSZXBsYXkocmVwbGF5KSB7XG4gICAgICAgIHRoaXMucmVwbGF5ID0gcmVwbGF5O1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1BsYXlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncGxheScpO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQbGF5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwYXVzZScpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3N0b3AnKTtcbiAgICB9XG4gICAgc3BlZWRVcCgpIHtcbiAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKHRoaXMuc3BlZWQgKiAyLCAxKTtcbiAgICB9XG4gICAgc3BlZWREb3duKCkge1xuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgodGhpcy5zcGVlZCAvIDIsIDAuMTIpO1xuICAgIH1cbiAgICBzZWVrKGR0KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRGcmFtZSA+PSB0aGlzLnJlcGxheS5kYXRhLmZyYW1lcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZHQgKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSArPSBkdDtcbiAgICAgICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IHRoaXMuZnJhbWVUaW1lO1xuICAgICAgICB0aGlzLnRpbWVPZmZzZXQgKz0gZHQ7XG4gICAgICAgIGlmICh0aGlzLnRpbWVPZmZzZXQgPj0gZnJhbWVEdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy50aW1lT2Zmc2V0IC09IGZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICB0aGlzLnByZXZGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICAgICAgdGhpcy5uZXh0RnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZSArIDE7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRGcmFtZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnRpbWVPZmZzZXQgLyBmcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgcHJldkZyYW1lRGF0YSA9IHRoaXMucmVwbGF5LmRhdGEuZnJhbWVzW3RoaXMucHJldkZyYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRGcmFtZURhdGEgPSB0aGlzLnJlcGxheS5kYXRhLmZyYW1lc1t0aGlzLm5leHRGcmFtZV07XG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0ZWRQb3MgPSBuZXcgUmVwbGF5Q3VzdG9tTWFwXzEuVmVjdG9yMyhwcmV2RnJhbWVEYXRhLm9yaWdpbikubGVycChuZXcgUmVwbGF5Q3VzdG9tTWFwXzEuVmVjdG9yMyhuZXh0RnJhbWVEYXRhLm9yaWdpbiksIHQpO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkUm90ID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgaW50ZXJwb2xhdGVkUm90WzBdID0gdGhpcy5zbGVycChwcmV2RnJhbWVEYXRhLnJvdGF0aW9uWzBdLCBuZXh0RnJhbWVEYXRhLnJvdGF0aW9uWzBdLCB0KTtcbiAgICAgICAgICAgIGludGVycG9sYXRlZFJvdFsxXSA9IHRoaXMuc2xlcnAocHJldkZyYW1lRGF0YS5yb3RhdGlvblsxXSwgbmV4dEZyYW1lRGF0YS5yb3RhdGlvblsxXSwgdCk7XG4gICAgICAgICAgICBpbnRlcnBvbGF0ZWRSb3RbMl0gPSB0aGlzLnNsZXJwKHByZXZGcmFtZURhdGEucm90YXRpb25bMl0sIG5leHRGcmFtZURhdGEucm90YXRpb25bMl0sIHQpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYW1lcmFQb3MgPSBpbnRlcnBvbGF0ZWRQb3MudmVjO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYW1lcmFSb3QgPSBpbnRlcnBvbGF0ZWRSb3Q7XG4gICAgICAgICAgICB1cGRhdGVHYW1lKHRoaXMuZ2FtZSwgdGhpcy5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2xlcnAoYSwgYiwgZHQpIHtcbiAgICAgICAgYSA9IGEgJSAzNjA7XG4gICAgICAgIGIgPSBiICUgMzYwO1xuICAgICAgICBjb25zdCBkaXN0ID0gdGhpcy5nZXREaXN0KGEsIGIpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoYSAtIGIpID4gMTgwKSB7XG4gICAgICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgKyAxODAgLSBkaXN0ICogZHQgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChhICsgMTgwICsgZGlzdCAqIGR0ICsgMzYwKSAlIDM2MCAtIDE4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhIDwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYSArIDE4MCArIGRpc3QgKiBkdCArIDM2MCkgJSAzNjAgLSAxODA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgKyAxODAgLSBkaXN0ICogZHQgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldERpc3QoYSwgYikge1xuICAgICAgICBjb25zdCByYXdEaWZmID0gTWF0aC5hYnMoYSAtIGIpO1xuICAgICAgICByZXR1cm4gMTgwLjAgLSBNYXRoLmFicyhyYXdEaWZmIC0gMTgwLjApO1xuICAgIH1cbiAgICBzZWVrQnlQZXJjZW50KHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmFsdWUsIDEwMCkpIC8gMTAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5yZXBsYXkuZGF0YS50aW1lICogdmFsdWUgLyAxMDAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IE1hdGgucm91bmQodGhpcy5yZXBsYXkuZGF0YS5mcmFtZXMubGVuZ3RoICogdmFsdWUpO1xuICAgICAgICB0aGlzLnByZXZGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLm5leHRGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLnN0YXRlLmNhbWVyYVBvcyA9IHRoaXMucmVwbGF5LmRhdGEuZnJhbWVzW3RoaXMuY3VycmVudEZyYW1lXS5vcmlnaW47XG4gICAgICAgIHRoaXMuc3RhdGUuY2FtZXJhUm90ID0gdGhpcy5yZXBsYXkuZGF0YS5mcmFtZXNbdGhpcy5jdXJyZW50RnJhbWVdLnJvdGF0aW9uO1xuICAgICAgICB1cGRhdGVHYW1lKHRoaXMuZ2FtZSwgdGhpcy5zdGF0ZSk7XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNQbGF5aW5nIHx8IHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlZWsoZHQpO1xuICAgICAgICBsZXQgaGl0U3RvcCA9IGZhbHNlO1xuICAgICAgICBpZiAoaGl0U3RvcCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJlcGxheVBsYXllciA9IFJlcGxheVBsYXllcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ReplayPlayer.ts\n");

/***/ }),

/***/ "./src/Sound.ts":
/*!**********************!*\
  !*** ./src/Sound.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sound = void 0;\nconst SoundSystem_1 = __webpack_require__(/*! ./SoundSystem */ \"./src/SoundSystem.ts\");\nclass Sound {\n    constructor(buffer) {\n        this.index = -1;\n        this.name = '';\n        this.buffer = buffer;\n    }\n    static create(buffer) {\n        return new Promise((resolve, reject) => {\n            SoundSystem_1.SoundSystem.getContext().decodeAudioData(buffer, (buffer) => {\n                resolve(new Sound(buffer));\n            }, (err) => {\n                reject(err);\n            });\n        });\n    }\n}\nexports.Sound = Sound;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU291bmQudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLHNCQUFzQixtQkFBTyxDQUFDLDJDQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL1NvdW5kLnRzPzdjY2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNvdW5kID0gdm9pZCAwO1xuY29uc3QgU291bmRTeXN0ZW1fMSA9IHJlcXVpcmUoXCIuL1NvdW5kU3lzdGVtXCIpO1xuY2xhc3MgU291bmQge1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLmluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIFNvdW5kU3lzdGVtXzEuU291bmRTeXN0ZW0uZ2V0Q29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YShidWZmZXIsIChidWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBTb3VuZChidWZmZXIpKTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlNvdW5kID0gU291bmQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Sound.ts\n");

/***/ }),

/***/ "./src/SoundSystem.ts":
/*!****************************!*\
  !*** ./src/SoundSystem.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SoundSystem = void 0;\nconst nanoevents_1 = __webpack_require__(/*! nanoevents */ \"./node_modules/nanoevents/index.js\");\nconst wnd = window;\nconst polyfillAudioContext = wnd.AudioContext || wnd.webkitAudioContext;\nconst audioContext = new polyfillAudioContext();\nclass SoundSystem {\n    constructor() {\n        this.context = audioContext;\n        this.events = (0, nanoevents_1.createNanoEvents)();\n        const volume = parseFloat(localStorage.getItem('volume') || '0.3');\n        localStorage.setItem('volume', volume.toString());\n        this.channels = [];\n        this.preMuteVolume = 1;\n        this.masterGain = this.context.createGain();\n        this.masterGain.gain.value = volume;\n        this.masterGain.connect(this.context.destination);\n        for (let i = 0; i < 8; ++i) {\n            this.channels.push({\n                source: null,\n                gain: this.context.createGain()\n            });\n            this.channels[i].gain.connect(this.masterGain);\n        }\n    }\n    static getContext() {\n        return audioContext;\n    }\n    play(sound, channel, volume) {\n        this.stop(channel);\n        const gain = this.channels[channel].gain;\n        gain.gain.value = Math.max(0, Math.min(1, volume));\n        const source = this.context.createBufferSource();\n        source.buffer = sound.buffer;\n        source.connect(gain);\n        source.start(0);\n        this.channels[channel].source = source;\n    }\n    stop(channel) {\n        const source = this.channels[channel].source;\n        if (source) {\n            source.stop(0);\n        }\n    }\n    getVolume() {\n        return this.masterGain.gain.value;\n    }\n    setVolume(value) {\n        const current = this.masterGain.gain.value;\n        if (current > 0 && value === 0) {\n            this.preMuteVolume = current;\n        }\n        this.masterGain.gain.value = value;\n        localStorage.setItem('volume', value.toString());\n        this.events.emit('volumeChange', value);\n    }\n    toggleMute() {\n        if (this.getVolume() === 0) {\n            this.setVolume(this.preMuteVolume);\n        }\n        else {\n            this.setVolume(0);\n        }\n    }\n}\nexports.SoundSystem = SoundSystem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU291bmRTeXN0ZW0udHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLHFCQUFxQixtQkFBTyxDQUFDLHNEQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL3NyYy9Tb3VuZFN5c3RlbS50cz9jZjgwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Tb3VuZFN5c3RlbSA9IHZvaWQgMDtcbmNvbnN0IG5hbm9ldmVudHNfMSA9IHJlcXVpcmUoXCJuYW5vZXZlbnRzXCIpO1xuY29uc3Qgd25kID0gd2luZG93O1xuY29uc3QgcG9seWZpbGxBdWRpb0NvbnRleHQgPSB3bmQuQXVkaW9Db250ZXh0IHx8IHduZC53ZWJraXRBdWRpb0NvbnRleHQ7XG5jb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgcG9seWZpbGxBdWRpb0NvbnRleHQoKTtcbmNsYXNzIFNvdW5kU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gYXVkaW9Db250ZXh0O1xuICAgICAgICB0aGlzLmV2ZW50cyA9ICgwLCBuYW5vZXZlbnRzXzEuY3JlYXRlTmFub0V2ZW50cykoKTtcbiAgICAgICAgY29uc3Qgdm9sdW1lID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sdW1lJykgfHwgJzAuMycpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sdW1lJywgdm9sdW1lLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmNoYW5uZWxzID0gW107XG4gICAgICAgIHRoaXMucHJlTXV0ZVZvbHVtZSA9IDE7XG4gICAgICAgIHRoaXMubWFzdGVyR2FpbiA9IHRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHRoaXMubWFzdGVyR2Fpbi5nYWluLnZhbHVlID0gdm9sdW1lO1xuICAgICAgICB0aGlzLm1hc3RlckdhaW4uY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgZ2FpbjogdGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLmdhaW4uY29ubmVjdCh0aGlzLm1hc3RlckdhaW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gYXVkaW9Db250ZXh0O1xuICAgIH1cbiAgICBwbGF5KHNvdW5kLCBjaGFubmVsLCB2b2x1bWUpIHtcbiAgICAgICAgdGhpcy5zdG9wKGNoYW5uZWwpO1xuICAgICAgICBjb25zdCBnYWluID0gdGhpcy5jaGFubmVsc1tjaGFubmVsXS5nYWluO1xuICAgICAgICBnYWluLmdhaW4udmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2b2x1bWUpKTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc291bmQuYnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChnYWluKTtcbiAgICAgICAgc291cmNlLnN0YXJ0KDApO1xuICAgICAgICB0aGlzLmNoYW5uZWxzW2NoYW5uZWxdLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB9XG4gICAgc3RvcChjaGFubmVsKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuY2hhbm5lbHNbY2hhbm5lbF0uc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRWb2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hc3RlckdhaW4uZ2Fpbi52YWx1ZTtcbiAgICB9XG4gICAgc2V0Vm9sdW1lKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLm1hc3RlckdhaW4uZ2Fpbi52YWx1ZTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPiAwICYmIHZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZU11dGVWb2x1bWUgPSBjdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFzdGVyR2Fpbi5nYWluLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2b2x1bWUnLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgndm9sdW1lQ2hhbmdlJywgdmFsdWUpO1xuICAgIH1cbiAgICB0b2dnbGVNdXRlKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRWb2x1bWUoKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWb2x1bWUodGhpcy5wcmVNdXRlVm9sdW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Vm9sdW1lKDApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Tb3VuZFN5c3RlbSA9IFNvdW5kU3lzdGVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/SoundSystem.ts\n");

/***/ }),

/***/ "./src/Time.ts":
/*!*********************!*\
  !*** ./src/Time.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.formatTime = exports.now = void 0;\nconst wnd = window;\nlet _now;\nif (typeof performance !== 'undefined') {\n    if (performance.now()) {\n        _now = () => wnd.performance.now();\n    }\n    else if (wnd.performance.mozNow) {\n        _now = () => wnd.performance.mozNow();\n    }\n    else if (wnd.performance.msNow) {\n        _now = () => wnd.performance.msNow();\n    }\n    else if (wnd.performance.oNow) {\n        _now = () => wnd.performance.oNow();\n    }\n    else if (wnd.performance.webkitNow) {\n        _now = () => wnd.performance.webkitNow();\n    }\n    else if (Date.now) {\n        _now = () => Date.now();\n    }\n}\nexports.now = _now || (() => new Date().getTime());\nconst formatTime = (seconds) => {\n    const m = Math.floor(seconds / 60);\n    const s = Math.floor(seconds - m * 60);\n    const mm = m < 10 ? '0' + m : m.toString();\n    const ss = s < 10 ? '0' + s : s.toString();\n    return mm + ':' + ss;\n};\nexports.formatTime = formatTime;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVGltZS50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsR0FBRyxXQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvVGltZS50cz82OGJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mb3JtYXRUaW1lID0gZXhwb3J0cy5ub3cgPSB2b2lkIDA7XG5jb25zdCB3bmQgPSB3aW5kb3c7XG5sZXQgX25vdztcbmlmICh0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpKSB7XG4gICAgICAgIF9ub3cgPSAoKSA9PiB3bmQucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHduZC5wZXJmb3JtYW5jZS5tb3pOb3cpIHtcbiAgICAgICAgX25vdyA9ICgpID0+IHduZC5wZXJmb3JtYW5jZS5tb3pOb3coKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod25kLnBlcmZvcm1hbmNlLm1zTm93KSB7XG4gICAgICAgIF9ub3cgPSAoKSA9PiB3bmQucGVyZm9ybWFuY2UubXNOb3coKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod25kLnBlcmZvcm1hbmNlLm9Ob3cpIHtcbiAgICAgICAgX25vdyA9ICgpID0+IHduZC5wZXJmb3JtYW5jZS5vTm93KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHduZC5wZXJmb3JtYW5jZS53ZWJraXROb3cpIHtcbiAgICAgICAgX25vdyA9ICgpID0+IHduZC5wZXJmb3JtYW5jZS53ZWJraXROb3coKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICAgICAgX25vdyA9ICgpID0+IERhdGUubm93KCk7XG4gICAgfVxufVxuZXhwb3J0cy5ub3cgPSBfbm93IHx8ICgoKSA9PiBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG5jb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHMpID0+IHtcbiAgICBjb25zdCBtID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGNvbnN0IHMgPSBNYXRoLmZsb29yKHNlY29uZHMgLSBtICogNjApO1xuICAgIGNvbnN0IG1tID0gbSA8IDEwID8gJzAnICsgbSA6IG0udG9TdHJpbmcoKTtcbiAgICBjb25zdCBzcyA9IHMgPCAxMCA/ICcwJyArIHMgOiBzLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIG1tICsgJzonICsgc3M7XG59O1xuZXhwb3J0cy5mb3JtYXRUaW1lID0gZm9ybWF0VGltZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Time.ts\n");

/***/ }),

/***/ "./src/Util.ts":
/*!*********************!*\
  !*** ./src/Util.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.basename = basename;\nexports.extname = extname;\nfunction basename(path, extension) {\n    return path.slice(path.lastIndexOf('/') + 1).replace(extension || '', '');\n}\nfunction extname(path) {\n    const slashPos = path.lastIndexOf('/');\n    const dotPos = path.lastIndexOf('.');\n    if (slashPos < dotPos) {\n        return path.slice(dotPos);\n    }\n    else {\n        return '';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVXRpbC50cyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvVXRpbC50cz8yNGMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5iYXNlbmFtZSA9IGJhc2VuYW1lO1xuZXhwb3J0cy5leHRuYW1lID0gZXh0bmFtZTtcbmZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgsIGV4dGVuc2lvbikge1xuICAgIHJldHVybiBwYXRoLnNsaWNlKHBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpLnJlcGxhY2UoZXh0ZW5zaW9uIHx8ICcnLCAnJyk7XG59XG5mdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICBjb25zdCBzbGFzaFBvcyA9IHBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgICBjb25zdCBkb3RQb3MgPSBwYXRoLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgaWYgKHNsYXNoUG9zIDwgZG90UG9zKSB7XG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKGRvdFBvcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Util.ts\n");

/***/ }),

/***/ "./src/Xhr.ts":
/*!********************!*\
  !*** ./src/Xhr.ts ***!
  \********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.xhr = xhr;\nfunction xhr(url, params) {\n    let method = params.method || 'GET';\n    let isBinary = params.isBinary;\n    let progressCallback = params.progressCallback;\n    if (!url) {\n        throw new Error('Url parameter missing');\n    }\n    return new Promise((resolve, reject) => {\n        let request = new XMLHttpRequest();\n        if (isBinary) {\n            request.responseType = 'arraybuffer';\n        }\n        if (isBinary && progressCallback) {\n            request.addEventListener('progress', event => {\n                if (event.lengthComputable) {\n                    progressCallback(request, event.loaded / event.total);\n                }\n                else {\n                    let totalStr = request.getResponseHeader('content-length');\n                    let total = 0;\n                    if (totalStr) {\n                        total = parseFloat(totalStr);\n                    }\n                    let encoding = request.getResponseHeader('content-encoding');\n                    if (total && encoding && encoding.indexOf('gzip') > -1) {\n                        total *= 4;\n                        let loadedPercent = Math.min(0.99, event.loaded / total);\n                        progressCallback(request, loadedPercent);\n                    }\n                    else {\n                        progressCallback(request, 0);\n                    }\n                }\n            });\n        }\n        request.addEventListener('readystatechange', (event) => {\n            if (event.target.readyState !== 4) {\n                return;\n            }\n            if (event.target.status === 200) {\n                if (progressCallback) {\n                    progressCallback(request, 1);\n                }\n                resolve(event.target.response);\n            }\n            else {\n                reject({\n                    status: event.target.status\n                });\n            }\n        });\n        request.open(method, url, true);\n        request.send();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvWGhyLnRzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9zcmMvWGhyLnRzPzU0ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnhociA9IHhocjtcbmZ1bmN0aW9uIHhocih1cmwsIHBhcmFtcykge1xuICAgIGxldCBtZXRob2QgPSBwYXJhbXMubWV0aG9kIHx8ICdHRVQnO1xuICAgIGxldCBpc0JpbmFyeSA9IHBhcmFtcy5pc0JpbmFyeTtcbiAgICBsZXQgcHJvZ3Jlc3NDYWxsYmFjayA9IHBhcmFtcy5wcm9ncmVzc0NhbGxiYWNrO1xuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXJsIHBhcmFtZXRlciBtaXNzaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIGlmIChpc0JpbmFyeSkge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0JpbmFyeSAmJiBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2socmVxdWVzdCwgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsU3RyID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC1sZW5ndGgnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsU3RyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHBhcnNlRmxvYXQodG90YWxTdHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmNvZGluZyA9IHJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtZW5jb2RpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsICYmIGVuY29kaW5nICYmIGVuY29kaW5nLmluZGV4T2YoJ2d6aXAnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCAqPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWRlZFBlcmNlbnQgPSBNYXRoLm1pbigwLjk5LCBldmVudC5sb2FkZWQgLyB0b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKHJlcXVlc3QsIGxvYWRlZFBlcmNlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjayhyZXF1ZXN0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2socmVxdWVzdCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogZXZlbnQudGFyZ2V0LnN0YXR1c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Xhr.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst Game_1 = __webpack_require__(/*! ./Game */ \"./src/Game.ts\");\nconst Config_1 = __webpack_require__(/*! ./Config */ \"./src/Config.ts\");\nconst index_1 = __webpack_require__(/*! ./PlayerInterface/index */ \"./src/PlayerInterface/index.tsx\");\nclass HLV {\n    constructor(game) {\n        this.game = game;\n    }\n    load(name) {\n        this.game.load(name);\n    }\n    setTitle(title) {\n        this.game.setTitle(title);\n    }\n    getTitle() {\n        return this.game.getTitle();\n    }\n}\nHLV.VERSION = \"0.7.5\";\nvar HLViewer;\n(function (HLViewer) {\n    function init(rootSelector, params) {\n        const node = document.querySelector(rootSelector);\n        if (!node) {\n            return null;\n        }\n        const config = Config_1.Config.init(params);\n        const result = Game_1.Game.init(config);\n        if (result.status === 'success') {\n            const game = result.game;\n            const ui = new index_1.PlayerInterface(game, node);\n            ui.draw();\n            game.draw();\n            return new HLV(game);\n        }\n        return null;\n    }\n    HLViewer.init = init;\n})(HLViewer || (HLViewer = {}));\nmodule.exports = HLViewer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixlQUFlLG1CQUFPLENBQUMsNkJBQVE7QUFDL0IsaUJBQWlCLG1CQUFPLENBQUMsaUNBQVU7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsZ0VBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vc3JjL2luZGV4LnRzP2U5NGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBHYW1lXzEgPSByZXF1aXJlKFwiLi9HYW1lXCIpO1xuY29uc3QgQ29uZmlnXzEgPSByZXF1aXJlKFwiLi9Db25maWdcIik7XG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIi4vUGxheWVySW50ZXJmYWNlL2luZGV4XCIpO1xuY2xhc3MgSExWIHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgfVxuICAgIGxvYWQobmFtZSkge1xuICAgICAgICB0aGlzLmdhbWUubG9hZChuYW1lKTtcbiAgICB9XG4gICAgc2V0VGl0bGUodGl0bGUpIHtcbiAgICAgICAgdGhpcy5nYW1lLnNldFRpdGxlKHRpdGxlKTtcbiAgICB9XG4gICAgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUuZ2V0VGl0bGUoKTtcbiAgICB9XG59XG5ITFYuVkVSU0lPTiA9IFZFUlNJT047XG52YXIgSExWaWV3ZXI7XG4oZnVuY3Rpb24gKEhMVmlld2VyKSB7XG4gICAgZnVuY3Rpb24gaW5pdChyb290U2VsZWN0b3IsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihyb290U2VsZWN0b3IpO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IENvbmZpZ18xLkNvbmZpZy5pbml0KHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEdhbWVfMS5HYW1lLmluaXQoY29uZmlnKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgY29uc3QgZ2FtZSA9IHJlc3VsdC5nYW1lO1xuICAgICAgICAgICAgY29uc3QgdWkgPSBuZXcgaW5kZXhfMS5QbGF5ZXJJbnRlcmZhY2UoZ2FtZSwgbm9kZSk7XG4gICAgICAgICAgICB1aS5kcmF3KCk7XG4gICAgICAgICAgICBnYW1lLmRyYXcoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSExWKGdhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBITFZpZXdlci5pbml0ID0gaW5pdDtcbn0pKEhMVmlld2VyIHx8IChITFZpZXdlciA9IHt9KSk7XG5tb2R1bGUuZXhwb3J0cyA9IEhMVmlld2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./node_modules/typestyle/lib.es2015/index.js":
/*!****************************************************!*\
  !*** ./node_modules/typestyle/lib.es2015/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeStyle: () => (/* reexport safe */ _internal_typestyle__WEBPACK_IMPORTED_MODULE_0__.TypeStyle),\n/* harmony export */   classes: () => (/* reexport safe */ _internal_utilities__WEBPACK_IMPORTED_MODULE_2__.classes),\n/* harmony export */   createTypeStyle: () => (/* binding */ createTypeStyle),\n/* harmony export */   cssRaw: () => (/* binding */ cssRaw),\n/* harmony export */   cssRule: () => (/* binding */ cssRule),\n/* harmony export */   extend: () => (/* reexport safe */ _internal_utilities__WEBPACK_IMPORTED_MODULE_2__.extend),\n/* harmony export */   fontFace: () => (/* binding */ fontFace),\n/* harmony export */   forceRenderStyles: () => (/* binding */ forceRenderStyles),\n/* harmony export */   getStyles: () => (/* binding */ getStyles),\n/* harmony export */   keyframes: () => (/* binding */ keyframes),\n/* harmony export */   media: () => (/* reexport safe */ _internal_utilities__WEBPACK_IMPORTED_MODULE_2__.media),\n/* harmony export */   reinit: () => (/* binding */ reinit),\n/* harmony export */   setStylesTarget: () => (/* binding */ setStylesTarget),\n/* harmony export */   style: () => (/* binding */ style),\n/* harmony export */   stylesheet: () => (/* binding */ stylesheet),\n/* harmony export */   types: () => (/* reexport module object */ _types__WEBPACK_IMPORTED_MODULE_1__)\n/* harmony export */ });\n/* harmony import */ var _internal_typestyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/typestyle */ \"./node_modules/typestyle/lib.es2015/internal/typestyle.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"./node_modules/typestyle/lib.es2015/types.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _internal_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/utilities */ \"./node_modules/typestyle/lib.es2015/internal/utilities.js\");\n\n\n/**\n * All the CSS types in the 'types' namespace\n */\n\n\n/**\n * Export certain utilities\n */\n\n/** Zero configuration, default instance of TypeStyle */\nvar ts = new _internal_typestyle__WEBPACK_IMPORTED_MODULE_0__.TypeStyle({ autoGenerateTag: true });\n/** Sets the target tag where we write the css on style updates */\nvar setStylesTarget = ts.setStylesTarget;\n/**\n * Insert `raw` CSS as a string. This is useful for e.g.\n * - third party CSS that you are customizing with template strings\n * - generating raw CSS in JavaScript\n * - reset libraries like normalize.css that you can use without loaders\n */\nvar cssRaw = ts.cssRaw;\n/**\n * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n */\nvar cssRule = ts.cssRule;\n/**\n * Renders styles to the singleton tag imediately\n * NOTE: You should only call it on initial render to prevent any non CSS flash.\n * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n **/\nvar forceRenderStyles = ts.forceRenderStyles;\n/**\n * Utility function to register an @font-face\n */\nvar fontFace = ts.fontFace;\n/**\n * Allows use to use the stylesheet in a node.js environment\n */\nvar getStyles = ts.getStyles;\n/**\n * Takes keyframes and returns a generated animationName\n */\nvar keyframes = ts.keyframes;\n/**\n * Helps with testing. Reinitializes FreeStyle + raw\n */\nvar reinit = ts.reinit;\n/**\n * Takes CSSProperties and return a generated className you can use on your component\n */\nvar style = ts.style;\n/**\n * Takes an object where property names are ideal class names and property values are CSSProperties, and\n * returns an object where property names are the same ideal class names and the property values are\n * the actual generated class names using the ideal class name as the $debugName\n */\nvar stylesheet = ts.stylesheet;\n/**\n * Creates a new instance of TypeStyle separate from the default instance.\n *\n * - Use this for creating a different typestyle instance for a shadow dom component.\n * - Use this if you don't want an auto tag generated and you just want to collect the CSS.\n *\n * NOTE: styles aren't shared between different instances.\n */\nfunction createTypeStyle(target) {\n    var instance = new _internal_typestyle__WEBPACK_IMPORTED_MODULE_0__.TypeStyle({ autoGenerateTag: false });\n    if (target) {\n        instance.setStylesTarget(target);\n    }\n    return instance;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHlwZXN0eWxlL2xpYi5lczIwMTUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDNUI7QUFDckI7QUFDQTtBQUNBO0FBQ2lDO0FBQ2hCO0FBQ2pCO0FBQ0E7QUFDQTtBQUM4RDtBQUM5RDtBQUNBLGFBQWEsMERBQVMsR0FBRyx1QkFBdUI7QUFDaEQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsdUJBQXVCLDBEQUFTLEdBQUcsd0JBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ITFZpZXdlci8uL25vZGVfbW9kdWxlcy90eXBlc3R5bGUvbGliLmVzMjAxNS9pbmRleC5qcz8xOGZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVTdHlsZSB9IGZyb20gJy4vaW50ZXJuYWwvdHlwZXN0eWxlJztcbmV4cG9ydCB7IFR5cGVTdHlsZSB9O1xuLyoqXG4gKiBBbGwgdGhlIENTUyB0eXBlcyBpbiB0aGUgJ3R5cGVzJyBuYW1lc3BhY2VcbiAqL1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyB0eXBlcyB9O1xuLyoqXG4gKiBFeHBvcnQgY2VydGFpbiB1dGlsaXRpZXNcbiAqL1xuZXhwb3J0IHsgZXh0ZW5kLCBjbGFzc2VzLCBtZWRpYSB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbGl0aWVzJztcbi8qKiBaZXJvIGNvbmZpZ3VyYXRpb24sIGRlZmF1bHQgaW5zdGFuY2Ugb2YgVHlwZVN0eWxlICovXG52YXIgdHMgPSBuZXcgVHlwZVN0eWxlKHsgYXV0b0dlbmVyYXRlVGFnOiB0cnVlIH0pO1xuLyoqIFNldHMgdGhlIHRhcmdldCB0YWcgd2hlcmUgd2Ugd3JpdGUgdGhlIGNzcyBvbiBzdHlsZSB1cGRhdGVzICovXG5leHBvcnQgdmFyIHNldFN0eWxlc1RhcmdldCA9IHRzLnNldFN0eWxlc1RhcmdldDtcbi8qKlxuICogSW5zZXJ0IGByYXdgIENTUyBhcyBhIHN0cmluZy4gVGhpcyBpcyB1c2VmdWwgZm9yIGUuZy5cbiAqIC0gdGhpcmQgcGFydHkgQ1NTIHRoYXQgeW91IGFyZSBjdXN0b21pemluZyB3aXRoIHRlbXBsYXRlIHN0cmluZ3NcbiAqIC0gZ2VuZXJhdGluZyByYXcgQ1NTIGluIEphdmFTY3JpcHRcbiAqIC0gcmVzZXQgbGlicmFyaWVzIGxpa2Ugbm9ybWFsaXplLmNzcyB0aGF0IHlvdSBjYW4gdXNlIHdpdGhvdXQgbG9hZGVyc1xuICovXG5leHBvcnQgdmFyIGNzc1JhdyA9IHRzLmNzc1Jhdztcbi8qKlxuICogVGFrZXMgQ1NTUHJvcGVydGllcyBhbmQgcmVnaXN0ZXJzIGl0IHRvIGEgZ2xvYmFsIHNlbGVjdG9yIChib2R5LCBodG1sLCBldGMuKVxuICovXG5leHBvcnQgdmFyIGNzc1J1bGUgPSB0cy5jc3NSdWxlO1xuLyoqXG4gKiBSZW5kZXJzIHN0eWxlcyB0byB0aGUgc2luZ2xldG9uIHRhZyBpbWVkaWF0ZWx5XG4gKiBOT1RFOiBZb3Ugc2hvdWxkIG9ubHkgY2FsbCBpdCBvbiBpbml0aWFsIHJlbmRlciB0byBwcmV2ZW50IGFueSBub24gQ1NTIGZsYXNoLlxuICogQWZ0ZXIgdGhhdCBpdCBpcyBrZXB0IHN5bmMgdXNpbmcgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgYW5kIHdlIGhhdmVuJ3Qgbm90aWNlZCBhbnkgYmFkIGZsYXNoZXMuXG4gKiovXG5leHBvcnQgdmFyIGZvcmNlUmVuZGVyU3R5bGVzID0gdHMuZm9yY2VSZW5kZXJTdHlsZXM7XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYW4gQGZvbnQtZmFjZVxuICovXG5leHBvcnQgdmFyIGZvbnRGYWNlID0gdHMuZm9udEZhY2U7XG4vKipcbiAqIEFsbG93cyB1c2UgdG8gdXNlIHRoZSBzdHlsZXNoZWV0IGluIGEgbm9kZS5qcyBlbnZpcm9ubWVudFxuICovXG5leHBvcnQgdmFyIGdldFN0eWxlcyA9IHRzLmdldFN0eWxlcztcbi8qKlxuICogVGFrZXMga2V5ZnJhbWVzIGFuZCByZXR1cm5zIGEgZ2VuZXJhdGVkIGFuaW1hdGlvbk5hbWVcbiAqL1xuZXhwb3J0IHZhciBrZXlmcmFtZXMgPSB0cy5rZXlmcmFtZXM7XG4vKipcbiAqIEhlbHBzIHdpdGggdGVzdGluZy4gUmVpbml0aWFsaXplcyBGcmVlU3R5bGUgKyByYXdcbiAqL1xuZXhwb3J0IHZhciByZWluaXQgPSB0cy5yZWluaXQ7XG4vKipcbiAqIFRha2VzIENTU1Byb3BlcnRpZXMgYW5kIHJldHVybiBhIGdlbmVyYXRlZCBjbGFzc05hbWUgeW91IGNhbiB1c2Ugb24geW91ciBjb21wb25lbnRcbiAqL1xuZXhwb3J0IHZhciBzdHlsZSA9IHRzLnN0eWxlO1xuLyoqXG4gKiBUYWtlcyBhbiBvYmplY3Qgd2hlcmUgcHJvcGVydHkgbmFtZXMgYXJlIGlkZWFsIGNsYXNzIG5hbWVzIGFuZCBwcm9wZXJ0eSB2YWx1ZXMgYXJlIENTU1Byb3BlcnRpZXMsIGFuZFxuICogcmV0dXJucyBhbiBvYmplY3Qgd2hlcmUgcHJvcGVydHkgbmFtZXMgYXJlIHRoZSBzYW1lIGlkZWFsIGNsYXNzIG5hbWVzIGFuZCB0aGUgcHJvcGVydHkgdmFsdWVzIGFyZVxuICogdGhlIGFjdHVhbCBnZW5lcmF0ZWQgY2xhc3MgbmFtZXMgdXNpbmcgdGhlIGlkZWFsIGNsYXNzIG5hbWUgYXMgdGhlICRkZWJ1Z05hbWVcbiAqL1xuZXhwb3J0IHZhciBzdHlsZXNoZWV0ID0gdHMuc3R5bGVzaGVldDtcbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUeXBlU3R5bGUgc2VwYXJhdGUgZnJvbSB0aGUgZGVmYXVsdCBpbnN0YW5jZS5cbiAqXG4gKiAtIFVzZSB0aGlzIGZvciBjcmVhdGluZyBhIGRpZmZlcmVudCB0eXBlc3R5bGUgaW5zdGFuY2UgZm9yIGEgc2hhZG93IGRvbSBjb21wb25lbnQuXG4gKiAtIFVzZSB0aGlzIGlmIHlvdSBkb24ndCB3YW50IGFuIGF1dG8gdGFnIGdlbmVyYXRlZCBhbmQgeW91IGp1c3Qgd2FudCB0byBjb2xsZWN0IHRoZSBDU1MuXG4gKlxuICogTk9URTogc3R5bGVzIGFyZW4ndCBzaGFyZWQgYmV0d2VlbiBkaWZmZXJlbnQgaW5zdGFuY2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHlwZVN0eWxlKHRhcmdldCkge1xuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBUeXBlU3R5bGUoeyBhdXRvR2VuZXJhdGVUYWc6IGZhbHNlIH0pO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0U3R5bGVzVGFyZ2V0KHRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/typestyle/lib.es2015/index.js\n");

/***/ }),

/***/ "./node_modules/typestyle/lib.es2015/internal/formatting.js":
/*!******************************************************************!*\
  !*** ./node_modules/typestyle/lib.es2015/internal/formatting.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToKeyframes: () => (/* binding */ convertToKeyframes),\n/* harmony export */   convertToStyles: () => (/* binding */ convertToStyles)\n/* harmony export */ });\n/**\n * We need to do the following to *our* objects before passing to freestyle:\n * - For any `$nest` directive move up to FreeStyle style nesting\n * - For any `$unique` directive map to FreeStyle Unique\n * - For any `$debugName` directive return the debug name\n */\nfunction convertToStyles(object) {\n    /** The final result we will return */\n    var styles = {};\n    for (var key in object) {\n        /** Grab the value upfront */\n        var val = object[key];\n        /** TypeStyle configuration options */\n        if (key === '$nest') {\n            var nested = val;\n            for (var selector in nested) {\n                var subproperties = nested[selector];\n                styles[selector] = convertToStyles(subproperties);\n            }\n        }\n        else if (key === '$debugName') {\n            styles.$displayName = val;\n        }\n        else {\n            styles[key] = val;\n        }\n    }\n    return styles;\n}\n// todo: better name here\nfunction convertToKeyframes(frames) {\n    var result = {};\n    for (var offset in frames) {\n        if (offset !== '$debugName') {\n            result[offset] = frames[offset];\n        }\n    }\n    if (frames.$debugName) {\n        result.$displayName = frames.$debugName;\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHlwZXN0eWxlL2xpYi5lczIwMTUvaW50ZXJuYWwvZm9ybWF0dGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL3R5cGVzdHlsZS9saWIuZXMyMDE1L2ludGVybmFsL2Zvcm1hdHRpbmcuanM/OWNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlIG5lZWQgdG8gZG8gdGhlIGZvbGxvd2luZyB0byAqb3VyKiBvYmplY3RzIGJlZm9yZSBwYXNzaW5nIHRvIGZyZWVzdHlsZTpcbiAqIC0gRm9yIGFueSBgJG5lc3RgIGRpcmVjdGl2ZSBtb3ZlIHVwIHRvIEZyZWVTdHlsZSBzdHlsZSBuZXN0aW5nXG4gKiAtIEZvciBhbnkgYCR1bmlxdWVgIGRpcmVjdGl2ZSBtYXAgdG8gRnJlZVN0eWxlIFVuaXF1ZVxuICogLSBGb3IgYW55IGAkZGVidWdOYW1lYCBkaXJlY3RpdmUgcmV0dXJuIHRoZSBkZWJ1ZyBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9TdHlsZXMob2JqZWN0KSB7XG4gICAgLyoqIFRoZSBmaW5hbCByZXN1bHQgd2Ugd2lsbCByZXR1cm4gKi9cbiAgICB2YXIgc3R5bGVzID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICAvKiogR3JhYiB0aGUgdmFsdWUgdXBmcm9udCAqL1xuICAgICAgICB2YXIgdmFsID0gb2JqZWN0W2tleV07XG4gICAgICAgIC8qKiBUeXBlU3R5bGUgY29uZmlndXJhdGlvbiBvcHRpb25zICovXG4gICAgICAgIGlmIChrZXkgPT09ICckbmVzdCcpIHtcbiAgICAgICAgICAgIHZhciBuZXN0ZWQgPSB2YWw7XG4gICAgICAgICAgICBmb3IgKHZhciBzZWxlY3RvciBpbiBuZXN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VicHJvcGVydGllcyA9IG5lc3RlZFtzZWxlY3Rvcl07XG4gICAgICAgICAgICAgICAgc3R5bGVzW3NlbGVjdG9yXSA9IGNvbnZlcnRUb1N0eWxlcyhzdWJwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICckZGVidWdOYW1lJykge1xuICAgICAgICAgICAgc3R5bGVzLiRkaXNwbGF5TmFtZSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlc1trZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG59XG4vLyB0b2RvOiBiZXR0ZXIgbmFtZSBoZXJlXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvS2V5ZnJhbWVzKGZyYW1lcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBvZmZzZXQgaW4gZnJhbWVzKSB7XG4gICAgICAgIGlmIChvZmZzZXQgIT09ICckZGVidWdOYW1lJykge1xuICAgICAgICAgICAgcmVzdWx0W29mZnNldF0gPSBmcmFtZXNbb2Zmc2V0XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZnJhbWVzLiRkZWJ1Z05hbWUpIHtcbiAgICAgICAgcmVzdWx0LiRkaXNwbGF5TmFtZSA9IGZyYW1lcy4kZGVidWdOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/typestyle/lib.es2015/internal/formatting.js\n");

/***/ }),

/***/ "./node_modules/typestyle/lib.es2015/internal/typestyle.js":
/*!*****************************************************************!*\
  !*** ./node_modules/typestyle/lib.es2015/internal/typestyle.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeStyle: () => (/* binding */ TypeStyle)\n/* harmony export */ });\n/* harmony import */ var free_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! free-style */ \"./node_modules/free-style/dist.es2015/index.js\");\n/* harmony import */ var _formatting__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./formatting */ \"./node_modules/typestyle/lib.es2015/internal/formatting.js\");\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities */ \"./node_modules/typestyle/lib.es2015/internal/utilities.js\");\n\n\n\n/**\n * Creates an instance of free style with our options\n */\nvar createFreeStyle = function () { return free_style__WEBPACK_IMPORTED_MODULE_2__.create(); };\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\nvar TypeStyle = /** @class */ (function () {\n    function TypeStyle(_a) {\n        var _this = this;\n        var autoGenerateTag = _a.autoGenerateTag;\n        /**\n         * Insert `raw` CSS as a string. This is useful for e.g.\n         * - third party CSS that you are customizing with template strings\n         * - generating raw CSS in JavaScript\n         * - reset libraries like normalize.css that you can use without loaders\n         */\n        this.cssRaw = function (mustBeValidCSS) {\n            if (!mustBeValidCSS) {\n                return;\n            }\n            _this._raw += mustBeValidCSS || '';\n            _this._pendingRawChange = true;\n            _this._styleUpdated();\n        };\n        /**\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n         */\n        this.cssRule = function (selector) {\n            var objects = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                objects[_i - 1] = arguments[_i];\n            }\n            var styles = (0,_formatting__WEBPACK_IMPORTED_MODULE_0__.convertToStyles)(_utilities__WEBPACK_IMPORTED_MODULE_1__.extend.apply(void 0, objects));\n            _this._freeStyle.registerRule(selector, styles);\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Renders styles to the singleton tag imediately\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n         **/\n        this.forceRenderStyles = function () {\n            var target = _this._getTag();\n            if (!target) {\n                return;\n            }\n            target.textContent = _this.getStyles();\n        };\n        /**\n         * Utility function to register an @font-face\n         */\n        this.fontFace = function () {\n            var fontFace = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fontFace[_i] = arguments[_i];\n            }\n            var freeStyle = _this._freeStyle;\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n                var face = _b[_a];\n                freeStyle.registerRule('@font-face', face);\n            }\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Allows use to use the stylesheet in a node.js environment\n         */\n        this.getStyles = function () {\n            return (_this._raw || '') + _this._freeStyle.getStyles();\n        };\n        /**\n         * Takes keyframes and returns a generated animationName\n         */\n        this.keyframes = function (frames) {\n            var keyframes = (0,_formatting__WEBPACK_IMPORTED_MODULE_0__.convertToKeyframes)(frames);\n            // TODO: replace $debugName with display name\n            var animationName = _this._freeStyle.registerKeyframes(keyframes);\n            _this._styleUpdated();\n            return animationName;\n        };\n        /**\n         * Helps with testing. Reinitializes FreeStyle + raw\n         */\n        this.reinit = function () {\n            /** reinit freestyle */\n            var freeStyle = createFreeStyle();\n            _this._freeStyle = freeStyle;\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\n            /** reinit raw */\n            _this._raw = '';\n            _this._pendingRawChange = false;\n            /** Clear any styles that were flushed */\n            var target = _this._getTag();\n            if (target) {\n                target.textContent = '';\n            }\n        };\n        /** Sets the target tag where we write the css on style updates */\n        this.setStylesTarget = function (tag) {\n            /** Clear any data in any previous tag */\n            if (_this._tag) {\n                _this._tag.textContent = '';\n            }\n            _this._tag = tag;\n            /** This special time buffer immediately */\n            _this.forceRenderStyles();\n        };\n        /**\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\n         * returns an object where property names are the same ideal class names and the property values are\n         * the actual generated class names using the ideal class name as the $debugName\n         */\n        this.stylesheet = function (classes) {\n            var classNames = Object.getOwnPropertyNames(classes);\n            var result = {};\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n                var className = classNames_1[_i];\n                var classDef = classes[className];\n                if (classDef) {\n                    classDef.$debugName = className;\n                    result[className] = _this.style(classDef);\n                }\n            }\n            return result;\n        };\n        var freeStyle = createFreeStyle();\n        this._autoGenerateTag = autoGenerateTag;\n        this._freeStyle = freeStyle;\n        this._lastFreeStyleChangeId = freeStyle.changeId;\n        this._pending = 0;\n        this._pendingRawChange = false;\n        this._raw = '';\n        this._tag = undefined;\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n        this.style = this.style.bind(this);\n    }\n    /**\n     * Only calls cb all sync operations settle\n     */\n    TypeStyle.prototype._afterAllSync = function (cb) {\n        var _this = this;\n        this._pending++;\n        var pending = this._pending;\n        (0,_utilities__WEBPACK_IMPORTED_MODULE_1__.raf)(function () {\n            if (pending !== _this._pending) {\n                return;\n            }\n            cb();\n        });\n    };\n    TypeStyle.prototype._getTag = function () {\n        if (this._tag) {\n            return this._tag;\n        }\n        if (this._autoGenerateTag) {\n            var tag = typeof window === 'undefined'\n                ? { textContent: '' }\n                : document.createElement('style');\n            if (typeof document !== 'undefined') {\n                document.head.appendChild(tag);\n            }\n            this._tag = tag;\n            return tag;\n        }\n        return undefined;\n    };\n    /** Checks if the style tag needs updating and if so queues up the change */\n    TypeStyle.prototype._styleUpdated = function () {\n        var _this = this;\n        var changeId = this._freeStyle.changeId;\n        var lastChangeId = this._lastFreeStyleChangeId;\n        if (!this._pendingRawChange && changeId === lastChangeId) {\n            return;\n        }\n        this._lastFreeStyleChangeId = changeId;\n        this._pendingRawChange = false;\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\n    };\n    TypeStyle.prototype.style = function () {\n        var className = this._freeStyle.registerStyle((0,_formatting__WEBPACK_IMPORTED_MODULE_0__.convertToStyles)(_utilities__WEBPACK_IMPORTED_MODULE_1__.extend.apply(undefined, arguments)));\n        this._styleUpdated();\n        return className;\n    };\n    return TypeStyle;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHlwZXN0eWxlL2xpYi5lczIwMTUvaW50ZXJuYWwvdHlwZXN0eWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0M7QUFDMkI7QUFDekI7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE9BQU8sOENBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQSx5QkFBeUIsNERBQWUsQ0FBQyw4Q0FBTTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxnQkFBZ0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDBCQUEwQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtQ0FBbUM7QUFDNUU7QUFDQTtBQUNBLHNEQUFzRCw0REFBZSxDQUFDLDhDQUFNO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNvQiIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL3R5cGVzdHlsZS9saWIuZXMyMDE1L2ludGVybmFsL3R5cGVzdHlsZS5qcz85NzZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEZyZWVTdHlsZSBmcm9tIFwiZnJlZS1zdHlsZVwiO1xuaW1wb3J0IHsgY29udmVydFRvU3R5bGVzLCBjb252ZXJ0VG9LZXlmcmFtZXMgfSBmcm9tICcuL2Zvcm1hdHRpbmcnO1xuaW1wb3J0IHsgZXh0ZW5kLCByYWYgfSBmcm9tICcuL3V0aWxpdGllcyc7XG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgZnJlZSBzdHlsZSB3aXRoIG91ciBvcHRpb25zXG4gKi9cbnZhciBjcmVhdGVGcmVlU3R5bGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBGcmVlU3R5bGUuY3JlYXRlKCk7IH07XG4vKipcbiAqIE1haW50YWlucyBhIHNpbmdsZSBzdHlsZXNoZWV0IGFuZCBrZWVwcyBpdCBpbiBzeW5jIHdpdGggcmVxdWVzdGVkIHN0eWxlc1xuICovXG52YXIgVHlwZVN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFR5cGVTdHlsZShfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXV0b0dlbmVyYXRlVGFnID0gX2EuYXV0b0dlbmVyYXRlVGFnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5zZXJ0IGByYXdgIENTUyBhcyBhIHN0cmluZy4gVGhpcyBpcyB1c2VmdWwgZm9yIGUuZy5cbiAgICAgICAgICogLSB0aGlyZCBwYXJ0eSBDU1MgdGhhdCB5b3UgYXJlIGN1c3RvbWl6aW5nIHdpdGggdGVtcGxhdGUgc3RyaW5nc1xuICAgICAgICAgKiAtIGdlbmVyYXRpbmcgcmF3IENTUyBpbiBKYXZhU2NyaXB0XG4gICAgICAgICAqIC0gcmVzZXQgbGlicmFyaWVzIGxpa2Ugbm9ybWFsaXplLmNzcyB0aGF0IHlvdSBjYW4gdXNlIHdpdGhvdXQgbG9hZGVyc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jc3NSYXcgPSBmdW5jdGlvbiAobXVzdEJlVmFsaWRDU1MpIHtcbiAgICAgICAgICAgIGlmICghbXVzdEJlVmFsaWRDU1MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fcmF3ICs9IG11c3RCZVZhbGlkQ1NTIHx8ICcnO1xuICAgICAgICAgICAgX3RoaXMuX3BlbmRpbmdSYXdDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuX3N0eWxlVXBkYXRlZCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFrZXMgQ1NTUHJvcGVydGllcyBhbmQgcmVnaXN0ZXJzIGl0IHRvIGEgZ2xvYmFsIHNlbGVjdG9yIChib2R5LCBodG1sLCBldGMuKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jc3NSdWxlID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBvYmplY3RzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0eWxlcyA9IGNvbnZlcnRUb1N0eWxlcyhleHRlbmQuYXBwbHkodm9pZCAwLCBvYmplY3RzKSk7XG4gICAgICAgICAgICBfdGhpcy5fZnJlZVN0eWxlLnJlZ2lzdGVyUnVsZShzZWxlY3Rvciwgc3R5bGVzKTtcbiAgICAgICAgICAgIF90aGlzLl9zdHlsZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcnMgc3R5bGVzIHRvIHRoZSBzaW5nbGV0b24gdGFnIGltZWRpYXRlbHlcbiAgICAgICAgICogTk9URTogWW91IHNob3VsZCBvbmx5IGNhbGwgaXQgb24gaW5pdGlhbCByZW5kZXIgdG8gcHJldmVudCBhbnkgbm9uIENTUyBmbGFzaC5cbiAgICAgICAgICogQWZ0ZXIgdGhhdCBpdCBpcyBrZXB0IHN5bmMgdXNpbmcgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgYW5kIHdlIGhhdmVuJ3Qgbm90aWNlZCBhbnkgYmFkIGZsYXNoZXMuXG4gICAgICAgICAqKi9cbiAgICAgICAgdGhpcy5mb3JjZVJlbmRlclN0eWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBfdGhpcy5fZ2V0VGFnKCk7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldC50ZXh0Q29udGVudCA9IF90aGlzLmdldFN0eWxlcygpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byByZWdpc3RlciBhbiBAZm9udC1mYWNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRGYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvbnRGYWNlID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGZvbnRGYWNlW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZnJlZVN0eWxlID0gX3RoaXMuX2ZyZWVTdHlsZTtcbiAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBmb250RmFjZTsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZmFjZSA9IF9iW19hXTtcbiAgICAgICAgICAgICAgICBmcmVlU3R5bGUucmVnaXN0ZXJSdWxlKCdAZm9udC1mYWNlJywgZmFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fc3R5bGVVcGRhdGVkKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGxvd3MgdXNlIHRvIHVzZSB0aGUgc3R5bGVzaGVldCBpbiBhIG5vZGUuanMgZW52aXJvbm1lbnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2V0U3R5bGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChfdGhpcy5fcmF3IHx8ICcnKSArIF90aGlzLl9mcmVlU3R5bGUuZ2V0U3R5bGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYWtlcyBrZXlmcmFtZXMgYW5kIHJldHVybnMgYSBnZW5lcmF0ZWQgYW5pbWF0aW9uTmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXlmcmFtZXMgPSBmdW5jdGlvbiAoZnJhbWVzKSB7XG4gICAgICAgICAgICB2YXIga2V5ZnJhbWVzID0gY29udmVydFRvS2V5ZnJhbWVzKGZyYW1lcyk7XG4gICAgICAgICAgICAvLyBUT0RPOiByZXBsYWNlICRkZWJ1Z05hbWUgd2l0aCBkaXNwbGF5IG5hbWVcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25OYW1lID0gX3RoaXMuX2ZyZWVTdHlsZS5yZWdpc3RlcktleWZyYW1lcyhrZXlmcmFtZXMpO1xuICAgICAgICAgICAgX3RoaXMuX3N0eWxlVXBkYXRlZCgpO1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbk5hbWU7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWxwcyB3aXRoIHRlc3RpbmcuIFJlaW5pdGlhbGl6ZXMgRnJlZVN0eWxlICsgcmF3XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8qKiByZWluaXQgZnJlZXN0eWxlICovXG4gICAgICAgICAgICB2YXIgZnJlZVN0eWxlID0gY3JlYXRlRnJlZVN0eWxlKCk7XG4gICAgICAgICAgICBfdGhpcy5fZnJlZVN0eWxlID0gZnJlZVN0eWxlO1xuICAgICAgICAgICAgX3RoaXMuX2xhc3RGcmVlU3R5bGVDaGFuZ2VJZCA9IGZyZWVTdHlsZS5jaGFuZ2VJZDtcbiAgICAgICAgICAgIC8qKiByZWluaXQgcmF3ICovXG4gICAgICAgICAgICBfdGhpcy5fcmF3ID0gJyc7XG4gICAgICAgICAgICBfdGhpcy5fcGVuZGluZ1Jhd0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqIENsZWFyIGFueSBzdHlsZXMgdGhhdCB3ZXJlIGZsdXNoZWQgKi9cbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBfdGhpcy5fZ2V0VGFnKCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKiBTZXRzIHRoZSB0YXJnZXQgdGFnIHdoZXJlIHdlIHdyaXRlIHRoZSBjc3Mgb24gc3R5bGUgdXBkYXRlcyAqL1xuICAgICAgICB0aGlzLnNldFN0eWxlc1RhcmdldCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICAgIC8qKiBDbGVhciBhbnkgZGF0YSBpbiBhbnkgcHJldmlvdXMgdGFnICovXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3RhZykge1xuICAgICAgICAgICAgICAgIF90aGlzLl90YWcudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl90YWcgPSB0YWc7XG4gICAgICAgICAgICAvKiogVGhpcyBzcGVjaWFsIHRpbWUgYnVmZmVyIGltbWVkaWF0ZWx5ICovXG4gICAgICAgICAgICBfdGhpcy5mb3JjZVJlbmRlclN0eWxlcygpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFrZXMgYW4gb2JqZWN0IHdoZXJlIHByb3BlcnR5IG5hbWVzIGFyZSBpZGVhbCBjbGFzcyBuYW1lcyBhbmQgcHJvcGVydHkgdmFsdWVzIGFyZSBDU1NQcm9wZXJ0aWVzLCBhbmRcbiAgICAgICAgICogcmV0dXJucyBhbiBvYmplY3Qgd2hlcmUgcHJvcGVydHkgbmFtZXMgYXJlIHRoZSBzYW1lIGlkZWFsIGNsYXNzIG5hbWVzIGFuZCB0aGUgcHJvcGVydHkgdmFsdWVzIGFyZVxuICAgICAgICAgKiB0aGUgYWN0dWFsIGdlbmVyYXRlZCBjbGFzcyBuYW1lcyB1c2luZyB0aGUgaWRlYWwgY2xhc3MgbmFtZSBhcyB0aGUgJGRlYnVnTmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0gZnVuY3Rpb24gKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY2xhc3Nlcyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNsYXNzTmFtZXNfMSA9IGNsYXNzTmFtZXM7IF9pIDwgY2xhc3NOYW1lc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzXzFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc0RlZiA9IGNsYXNzZXNbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NEZWYuJGRlYnVnTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2NsYXNzTmFtZV0gPSBfdGhpcy5zdHlsZShjbGFzc0RlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZyZWVTdHlsZSA9IGNyZWF0ZUZyZWVTdHlsZSgpO1xuICAgICAgICB0aGlzLl9hdXRvR2VuZXJhdGVUYWcgPSBhdXRvR2VuZXJhdGVUYWc7XG4gICAgICAgIHRoaXMuX2ZyZWVTdHlsZSA9IGZyZWVTdHlsZTtcbiAgICAgICAgdGhpcy5fbGFzdEZyZWVTdHlsZUNoYW5nZUlkID0gZnJlZVN0eWxlLmNoYW5nZUlkO1xuICAgICAgICB0aGlzLl9wZW5kaW5nID0gMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1Jhd0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yYXcgPSAnJztcbiAgICAgICAgdGhpcy5fdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyByZWJpbmQgcHJvdG90eXBlIHRvIFR5cGVTdHlsZS4gIEl0IG1pZ2h0IGJlIGJldHRlciB0byBkbyBhIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zdHlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpfVxuICAgICAgICB0aGlzLnN0eWxlID0gdGhpcy5zdHlsZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IGNhbGxzIGNiIGFsbCBzeW5jIG9wZXJhdGlvbnMgc2V0dGxlXG4gICAgICovXG4gICAgVHlwZVN0eWxlLnByb3RvdHlwZS5fYWZ0ZXJBbGxTeW5jID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3BlbmRpbmcrKztcbiAgICAgICAgdmFyIHBlbmRpbmcgPSB0aGlzLl9wZW5kaW5nO1xuICAgICAgICByYWYoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcgIT09IF90aGlzLl9wZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUeXBlU3R5bGUucHJvdG90eXBlLl9nZXRUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90YWcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YWc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2F1dG9HZW5lcmF0ZVRhZykge1xuICAgICAgICAgICAgdmFyIHRhZyA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyB7IHRleHRDb250ZW50OiAnJyB9XG4gICAgICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90YWcgPSB0YWc7XG4gICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKiogQ2hlY2tzIGlmIHRoZSBzdHlsZSB0YWcgbmVlZHMgdXBkYXRpbmcgYW5kIGlmIHNvIHF1ZXVlcyB1cCB0aGUgY2hhbmdlICovXG4gICAgVHlwZVN0eWxlLnByb3RvdHlwZS5fc3R5bGVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY2hhbmdlSWQgPSB0aGlzLl9mcmVlU3R5bGUuY2hhbmdlSWQ7XG4gICAgICAgIHZhciBsYXN0Q2hhbmdlSWQgPSB0aGlzLl9sYXN0RnJlZVN0eWxlQ2hhbmdlSWQ7XG4gICAgICAgIGlmICghdGhpcy5fcGVuZGluZ1Jhd0NoYW5nZSAmJiBjaGFuZ2VJZCA9PT0gbGFzdENoYW5nZUlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGFzdEZyZWVTdHlsZUNoYW5nZUlkID0gY2hhbmdlSWQ7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSYXdDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJBbGxTeW5jKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmZvcmNlUmVuZGVyU3R5bGVzKCk7IH0pO1xuICAgIH07XG4gICAgVHlwZVN0eWxlLnByb3RvdHlwZS5zdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMuX2ZyZWVTdHlsZS5yZWdpc3RlclN0eWxlKGNvbnZlcnRUb1N0eWxlcyhleHRlbmQuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKSk7XG4gICAgICAgIHRoaXMuX3N0eWxlVXBkYXRlZCgpO1xuICAgICAgICByZXR1cm4gY2xhc3NOYW1lO1xuICAgIH07XG4gICAgcmV0dXJuIFR5cGVTdHlsZTtcbn0oKSk7XG5leHBvcnQgeyBUeXBlU3R5bGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/typestyle/lib.es2015/internal/typestyle.js\n");

/***/ }),

/***/ "./node_modules/typestyle/lib.es2015/internal/utilities.js":
/*!*****************************************************************!*\
  !*** ./node_modules/typestyle/lib.es2015/internal/utilities.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   extend: () => (/* binding */ extend),\n/* harmony export */   media: () => (/* binding */ media),\n/* harmony export */   raf: () => (/* binding */ raf)\n/* harmony export */ });\n/** Raf for node + browser */\nvar raf = typeof requestAnimationFrame === 'undefined'\n    /**\n     * Make sure setTimeout is always invoked with\n     * `this` set to `window` or `global` automatically\n     **/\n    ? function (cb) { return setTimeout(cb); }\n    /**\n     * Make sure window.requestAnimationFrame is always invoked with `this` window\n     * We might have raf without window in case of `raf/polyfill` (recommended by React)\n     **/\n    : typeof window === 'undefined'\n        ? requestAnimationFrame\n        : requestAnimationFrame.bind(window);\n/**\n * Utility to join classes conditionally\n */\nfunction classes() {\n    var classes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classes[_i] = arguments[_i];\n    }\n    return classes\n        .map(function (c) { return c && typeof c === 'object' ? Object.keys(c).map(function (key) { return !!c[key] && key; }) : [c]; })\n        .reduce(function (flattened, c) { return flattened.concat(c); }, [])\n        .filter(function (c) { return !!c; })\n        .join(' ');\n}\n/**\n * Merges various styles into a single style object.\n * Note: if two objects have the same property the last one wins\n */\nfunction extend() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    /** The final result we will return */\n    var result = {};\n    for (var _a = 0, objects_1 = objects; _a < objects_1.length; _a++) {\n        var object = objects_1[_a];\n        if (object == null || object === false) {\n            continue;\n        }\n        for (var key in object) {\n            /** Falsy values except a explicit 0 is ignored */\n            var val = object[key];\n            if (!val && val !== 0) {\n                continue;\n            }\n            /** if nested media or pseudo selector */\n            if (key === '$nest' && val) {\n                result[key] = result['$nest'] ? extend(result['$nest'], val) : val;\n            }\n            /** if freestyle sub key that needs merging. We come here due to our recursive calls */\n            else if ((key.indexOf('&') !== -1 || key.indexOf('@media') === 0)) {\n                result[key] = result[key] ? extend(result[key], val) : val;\n            }\n            else {\n                result[key] = val;\n            }\n        }\n    }\n    return result;\n}\n/**\n * Utility to help customize styles with media queries. e.g.\n * ```\n * style(\n *  media({maxWidth:500}, {color:'red'})\n * )\n * ```\n */\nvar media = function (mediaQuery) {\n    var _a;\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    var mediaQuerySections = [];\n    if (mediaQuery.type)\n        mediaQuerySections.push(mediaQuery.type);\n    if (mediaQuery.orientation)\n        mediaQuerySections.push(\"(orientation: \" + mediaQuery.orientation + \")\");\n    if (mediaQuery.minWidth)\n        mediaQuerySections.push(\"(min-width: \" + mediaLength(mediaQuery.minWidth) + \")\");\n    if (mediaQuery.maxWidth)\n        mediaQuerySections.push(\"(max-width: \" + mediaLength(mediaQuery.maxWidth) + \")\");\n    if (mediaQuery.minHeight)\n        mediaQuerySections.push(\"(min-height: \" + mediaLength(mediaQuery.minHeight) + \")\");\n    if (mediaQuery.maxHeight)\n        mediaQuerySections.push(\"(max-height: \" + mediaLength(mediaQuery.maxHeight) + \")\");\n    if (mediaQuery.prefersColorScheme)\n        mediaQuerySections.push(\"(prefers-color-scheme: \" + mediaQuery.prefersColorScheme + \")\");\n    var stringMediaQuery = \"@media \" + mediaQuerySections.join(' and ');\n    var object = {\n        $nest: (_a = {},\n            _a[stringMediaQuery] = extend.apply(void 0, objects),\n            _a)\n    };\n    return object;\n};\nvar mediaLength = function (value) {\n    return typeof value === 'string' ? value : value + \"px\";\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHlwZXN0eWxlL2xpYi5lczIwMTUvaW50ZXJuYWwvdXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0VBQXdFLHlCQUF5QixVQUFVO0FBQ3ZJLDBDQUEwQyw2QkFBNkI7QUFDdkUsK0JBQStCLGFBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsdUJBQXVCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWEsR0FBRyxZQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0hMVmlld2VyLy4vbm9kZV9tb2R1bGVzL3R5cGVzdHlsZS9saWIuZXMyMDE1L2ludGVybmFsL3V0aWxpdGllcy5qcz9lYjgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBSYWYgZm9yIG5vZGUgKyBicm93c2VyICovXG5leHBvcnQgdmFyIHJhZiA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICd1bmRlZmluZWQnXG4gICAgLyoqXG4gICAgICogTWFrZSBzdXJlIHNldFRpbWVvdXQgaXMgYWx3YXlzIGludm9rZWQgd2l0aFxuICAgICAqIGB0aGlzYCBzZXQgdG8gYHdpbmRvd2Agb3IgYGdsb2JhbGAgYXV0b21hdGljYWxseVxuICAgICAqKi9cbiAgICA/IGZ1bmN0aW9uIChjYikgeyByZXR1cm4gc2V0VGltZW91dChjYik7IH1cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpcyBhbHdheXMgaW52b2tlZCB3aXRoIGB0aGlzYCB3aW5kb3dcbiAgICAgKiBXZSBtaWdodCBoYXZlIHJhZiB3aXRob3V0IHdpbmRvdyBpbiBjYXNlIG9mIGByYWYvcG9seWZpbGxgIChyZWNvbW1lbmRlZCBieSBSZWFjdClcbiAgICAgKiovXG4gICAgOiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICA6IHJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk7XG4vKipcbiAqIFV0aWxpdHkgdG8gam9pbiBjbGFzc2VzIGNvbmRpdGlvbmFsbHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzZXMoKSB7XG4gICAgdmFyIGNsYXNzZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBjbGFzc2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjbGFzc2VzXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgJiYgdHlwZW9mIGMgPT09ICdvYmplY3QnID8gT2JqZWN0LmtleXMoYykubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICEhY1trZXldICYmIGtleTsgfSkgOiBbY107IH0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGZsYXR0ZW5lZCwgYykgeyByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChjKTsgfSwgW10pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuICEhYzsgfSlcbiAgICAgICAgLmpvaW4oJyAnKTtcbn1cbi8qKlxuICogTWVyZ2VzIHZhcmlvdXMgc3R5bGVzIGludG8gYSBzaW5nbGUgc3R5bGUgb2JqZWN0LlxuICogTm90ZTogaWYgdHdvIG9iamVjdHMgaGF2ZSB0aGUgc2FtZSBwcm9wZXJ0eSB0aGUgbGFzdCBvbmUgd2luc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JqZWN0c1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICAvKiogVGhlIGZpbmFsIHJlc3VsdCB3ZSB3aWxsIHJldHVybiAqL1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBfYSA9IDAsIG9iamVjdHNfMSA9IG9iamVjdHM7IF9hIDwgb2JqZWN0c18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICB2YXIgb2JqZWN0ID0gb2JqZWN0c18xW19hXTtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsIHx8IG9iamVjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIC8qKiBGYWxzeSB2YWx1ZXMgZXhjZXB0IGEgZXhwbGljaXQgMCBpcyBpZ25vcmVkICovXG4gICAgICAgICAgICB2YXIgdmFsID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICBpZiAoIXZhbCAmJiB2YWwgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKiBpZiBuZXN0ZWQgbWVkaWEgb3IgcHNldWRvIHNlbGVjdG9yICovXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnJG5lc3QnICYmIHZhbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gcmVzdWx0WyckbmVzdCddID8gZXh0ZW5kKHJlc3VsdFsnJG5lc3QnXSwgdmFsKSA6IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKiBpZiBmcmVlc3R5bGUgc3ViIGtleSB0aGF0IG5lZWRzIG1lcmdpbmcuIFdlIGNvbWUgaGVyZSBkdWUgdG8gb3VyIHJlY3Vyc2l2ZSBjYWxscyAqL1xuICAgICAgICAgICAgZWxzZSBpZiAoKGtleS5pbmRleE9mKCcmJykgIT09IC0xIHx8IGtleS5pbmRleE9mKCdAbWVkaWEnKSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHJlc3VsdFtrZXldID8gZXh0ZW5kKHJlc3VsdFtrZXldLCB2YWwpIDogdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogVXRpbGl0eSB0byBoZWxwIGN1c3RvbWl6ZSBzdHlsZXMgd2l0aCBtZWRpYSBxdWVyaWVzLiBlLmcuXG4gKiBgYGBcbiAqIHN0eWxlKFxuICogIG1lZGlhKHttYXhXaWR0aDo1MDB9LCB7Y29sb3I6J3JlZCd9KVxuICogKVxuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgbWVkaWEgPSBmdW5jdGlvbiAobWVkaWFRdWVyeSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9iamVjdHNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBtZWRpYVF1ZXJ5U2VjdGlvbnMgPSBbXTtcbiAgICBpZiAobWVkaWFRdWVyeS50eXBlKVxuICAgICAgICBtZWRpYVF1ZXJ5U2VjdGlvbnMucHVzaChtZWRpYVF1ZXJ5LnR5cGUpO1xuICAgIGlmIChtZWRpYVF1ZXJ5Lm9yaWVudGF0aW9uKVxuICAgICAgICBtZWRpYVF1ZXJ5U2VjdGlvbnMucHVzaChcIihvcmllbnRhdGlvbjogXCIgKyBtZWRpYVF1ZXJ5Lm9yaWVudGF0aW9uICsgXCIpXCIpO1xuICAgIGlmIChtZWRpYVF1ZXJ5Lm1pbldpZHRoKVxuICAgICAgICBtZWRpYVF1ZXJ5U2VjdGlvbnMucHVzaChcIihtaW4td2lkdGg6IFwiICsgbWVkaWFMZW5ndGgobWVkaWFRdWVyeS5taW5XaWR0aCkgKyBcIilcIik7XG4gICAgaWYgKG1lZGlhUXVlcnkubWF4V2lkdGgpXG4gICAgICAgIG1lZGlhUXVlcnlTZWN0aW9ucy5wdXNoKFwiKG1heC13aWR0aDogXCIgKyBtZWRpYUxlbmd0aChtZWRpYVF1ZXJ5Lm1heFdpZHRoKSArIFwiKVwiKTtcbiAgICBpZiAobWVkaWFRdWVyeS5taW5IZWlnaHQpXG4gICAgICAgIG1lZGlhUXVlcnlTZWN0aW9ucy5wdXNoKFwiKG1pbi1oZWlnaHQ6IFwiICsgbWVkaWFMZW5ndGgobWVkaWFRdWVyeS5taW5IZWlnaHQpICsgXCIpXCIpO1xuICAgIGlmIChtZWRpYVF1ZXJ5Lm1heEhlaWdodClcbiAgICAgICAgbWVkaWFRdWVyeVNlY3Rpb25zLnB1c2goXCIobWF4LWhlaWdodDogXCIgKyBtZWRpYUxlbmd0aChtZWRpYVF1ZXJ5Lm1heEhlaWdodCkgKyBcIilcIik7XG4gICAgaWYgKG1lZGlhUXVlcnkucHJlZmVyc0NvbG9yU2NoZW1lKVxuICAgICAgICBtZWRpYVF1ZXJ5U2VjdGlvbnMucHVzaChcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogXCIgKyBtZWRpYVF1ZXJ5LnByZWZlcnNDb2xvclNjaGVtZSArIFwiKVwiKTtcbiAgICB2YXIgc3RyaW5nTWVkaWFRdWVyeSA9IFwiQG1lZGlhIFwiICsgbWVkaWFRdWVyeVNlY3Rpb25zLmpvaW4oJyBhbmQgJyk7XG4gICAgdmFyIG9iamVjdCA9IHtcbiAgICAgICAgJG5lc3Q6IChfYSA9IHt9LFxuICAgICAgICAgICAgX2Fbc3RyaW5nTWVkaWFRdWVyeV0gPSBleHRlbmQuYXBwbHkodm9pZCAwLCBvYmplY3RzKSxcbiAgICAgICAgICAgIF9hKVxuICAgIH07XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG52YXIgbWVkaWFMZW5ndGggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdmFsdWUgKyBcInB4XCI7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/typestyle/lib.es2015/internal/utilities.js\n");

/***/ }),

/***/ "./node_modules/typestyle/lib.es2015/types.js":
/*!****************************************************!*\
  !*** ./node_modules/typestyle/lib.es2015/types.js ***!
  \****************************************************/
/***/ (() => {



/***/ }),

/***/ "./node_modules/nanoevents/index.js":
/*!******************************************!*\
  !*** ./node_modules/nanoevents/index.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNanoEvents: () => (/* binding */ createNanoEvents)\n/* harmony export */ });\nlet createNanoEvents = () => ({\n  emit(event, ...args) {\n    for (\n      let i = 0,\n        callbacks = this.events[event] || [],\n        length = callbacks.length;\n      i < length;\n      i++\n    ) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    ;(this.events[event] ||= []).push(cb)\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmFub2V2ZW50cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxZQUFZO0FBQ1o7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSExWaWV3ZXIvLi9ub2RlX21vZHVsZXMvbmFub2V2ZW50cy9pbmRleC5qcz82MmM2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBsZXQgY3JlYXRlTmFub0V2ZW50cyA9ICgpID0+ICh7XG4gIGVtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSAwLFxuICAgICAgICBjYWxsYmFja3MgPSB0aGlzLmV2ZW50c1tldmVudF0gfHwgW10sXG4gICAgICAgIGxlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICBpIDwgbGVuZ3RoO1xuICAgICAgaSsrXG4gICAgKSB7XG4gICAgICBjYWxsYmFja3NbaV0oLi4uYXJncylcbiAgICB9XG4gIH0sXG4gIGV2ZW50czoge30sXG4gIG9uKGV2ZW50LCBjYikge1xuICAgIDsodGhpcy5ldmVudHNbZXZlbnRdIHx8PSBbXSkucHVzaChjYilcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdPy5maWx0ZXIoaSA9PiBjYiAhPT0gaSlcbiAgICB9XG4gIH1cbn0pXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/nanoevents/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});