{"version":3,"file":"hlviewer.min.js","mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAkB,SAAID,IAEtBD,EAAe,SAAIC,GACpB,CATD,CASGK,MAAM,IACT,6uLCLO,IAAIC,EAAU,KACVC,EAAqC,oBAAjBC,aAA+BA,aAAeC,MAClEC,EAASC,KAAKC,OAOlB,SAASC,EAAmBC,GACjCP,EAAaO,CACf,CACA,IAAIC,EAASJ,KAAKK,GAAK,IAOhB,SAASC,EAASC,GACvB,OAAOA,EAAIH,CACb,CAWO,SAASI,EAAOD,EAAGE,GACxB,OAAOT,KAAKU,IAAIH,EAAIE,IAAMd,EAAUK,KAAKW,IAAI,EAAKX,KAAKU,IAAIH,GAAIP,KAAKU,IAAID,GAC1E,CC3BO,SAASG,IACd,IAAIC,EAAM,IAAI,EAAoB,GASlC,OAPI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAQO,SAASC,EAAMP,GACpB,IAAIM,EAAM,IAAI,EAAoB,GAKlC,OAJAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CASO,SAASE,EAAKF,EAAKN,GAKxB,OAJAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAQO,SAASG,EAASH,GAKvB,OAJAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAWO,SAASI,EAAWC,EAAKC,EAAKC,EAAKC,GACxC,IAAIR,EAAM,IAAI,EAAoB,GAKlC,OAJAA,EAAI,GAAKK,EACTL,EAAI,GAAKM,EACTN,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACFR,CACT,CAYO,SAASS,EAAIT,EAAKK,EAAKC,EAAKC,EAAKC,GAKtC,OAJAR,EAAI,GAAKK,EACTL,EAAI,GAAKM,EACTN,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACFR,CACT,CASO,SAASU,EAAUV,EAAKN,GAG7B,GAAIM,IAAQN,EAAG,CACb,IAAIiB,EAAKjB,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKW,CACX,MACEX,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GAGb,OAAOM,CACT,CASO,SAASY,EAAOZ,EAAKN,GAC1B,IAAImB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GAEPsB,EAAMH,EAAKE,EAAKD,EAAKH,EAEzB,OAAKK,GAILA,EAAM,EAAMA,EACZhB,EAAI,GAAKe,EAAKC,EACdhB,EAAI,IAAMW,EAAKK,EACfhB,EAAI,IAAMc,EAAKE,EACfhB,EAAI,GAAKa,EAAKG,EACPhB,GARE,IASX,CASO,SAASiB,EAAQjB,EAAKN,GAE3B,IAAImB,EAAKnB,EAAE,GAKX,OAJAM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,GAAKa,EACFb,CACT,CAQO,SAASkB,EAAYxB,GAC1B,OAAOA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,EAChC,CAUO,SAASyB,EAASnB,EAAKN,EAAGE,GAC/B,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GAKX,OAJAI,EAAI,GAAKa,EAAKO,EAAKN,EAAKO,EACxBrB,EAAI,GAAKW,EAAKS,EAAKL,EAAKM,EACxBrB,EAAI,GAAKa,EAAKS,EAAKR,EAAKS,EACxBvB,EAAI,GAAKW,EAAKW,EAAKP,EAAKQ,EACjBvB,CACT,CAUO,SAASwB,EAAOxB,EAAKN,EAAG+B,GAC7B,IAAIZ,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPgC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAKjB,OAJAzB,EAAI,GAAKa,EAAKe,EAAId,EAAKY,EACvB1B,EAAI,GAAKW,EAAKiB,EAAIb,EAAKW,EACvB1B,EAAI,GAAKa,GAAMa,EAAIZ,EAAKc,EACxB5B,EAAI,GAAKW,GAAMe,EAAIX,EAAKa,EACjB5B,CACT,CAUO,SAAS8B,EAAM9B,EAAKN,EAAGqC,GAC5B,IAAIlB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsC,EAAKD,EAAE,GACPE,EAAKF,EAAE,GAKX,OAJA/B,EAAI,GAAKa,EAAKmB,EACdhC,EAAI,GAAKW,EAAKqB,EACdhC,EAAI,GAAKc,EAAKmB,EACdjC,EAAI,GAAKe,EAAKkB,EACPjC,CACT,CAaO,SAASkC,EAAalC,EAAKyB,GAChC,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAKjB,OAJAzB,EAAI,GAAK4B,EACT5B,EAAI,GAAK0B,EACT1B,EAAI,IAAM0B,EACV1B,EAAI,GAAK4B,EACF5B,CACT,CAaO,SAASmC,EAAYnC,EAAK+B,GAK/B,OAJA/B,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK+B,EAAE,GACJ/B,CACT,CAQO,SAASoC,EAAI1C,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GACpE,CAQO,SAAS2C,EAAK3C,GACnB,OAAOP,KAAKmD,MAAM5C,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GACxC,CASO,SAAS6C,EAAIC,EAAGC,EAAGC,EAAGhD,GAK3B,OAJA8C,EAAE,GAAK9C,EAAE,GAAKA,EAAE,GAChBgD,EAAE,GAAKhD,EAAE,GACTgD,EAAE,GAAKhD,EAAE,GACTgD,EAAE,GAAKhD,EAAE,GAAK8C,EAAE,GAAKE,EAAE,GAChB,CAACF,EAAGC,EAAGC,EAChB,CAUO,SAASC,EAAI3C,EAAKN,EAAGE,GAK1B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS4C,EAAS5C,EAAKN,EAAGE,GAK/B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CASO,SAAS6C,EAAYnD,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EACvE,CASO,SAAS,EAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,KAAQnC,KAAKU,IAAIkB,EAAKQ,IAAO,EAAmBpC,KAAKW,IAAI,EAAKX,KAAKU,IAAIkB,GAAK5B,KAAKU,IAAI0B,GACrV,CAUO,SAASuB,EAAe9C,EAAKN,EAAGE,GAKrC,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAWO,SAAS+C,EAAqB/C,EAAKN,EAAGE,EAAGkC,GAK9C,OAJA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EAChB9B,CACT,CD3XKb,KAAKmD,QAAOnD,KAAKmD,MAAQ,WAI5B,IAHA,IAAIU,EAAI,EACJC,EAAIC,UAAUC,OAEXF,KACLD,GAAKE,UAAUD,GAAKC,UAAUD,GAGhC,OAAO9D,KAAKiE,KAAKJ,EACnB,GCwXO,IAAIK,EAAMlC,EAMNmC,EAAMV,ECrZV,SAAS,IACd,IAAI5C,EAAM,IAAI,EAAoB,GAWlC,OATI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAQO,SAAS,EAAMN,GACpB,IAAIM,EAAM,IAAI,EAAoB,GAOlC,OANAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CASO,SAAS,EAAKA,EAAKN,GAOxB,OANAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAQO,SAAS,EAASA,GAOvB,OANAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAaO,SAAS,EAAWN,EAAGE,EAAGgC,EAAG2B,EAAGC,EAAIC,GACzC,IAAIzD,EAAM,IAAI,EAAoB,GAOlC,OANAA,EAAI,GAAKN,EACTM,EAAI,GAAKJ,EACTI,EAAI,GAAK4B,EACT5B,EAAI,GAAKuD,EACTvD,EAAI,GAAKwD,EACTxD,EAAI,GAAKyD,EACFzD,CACT,CAcO,SAAS,EAAIA,EAAKN,EAAGE,EAAGgC,EAAG2B,EAAGC,EAAIC,GAOvC,OANAzD,EAAI,GAAKN,EACTM,EAAI,GAAKJ,EACTI,EAAI,GAAK4B,EACT5B,EAAI,GAAKuD,EACTvD,EAAI,GAAKwD,EACTxD,EAAI,GAAKyD,EACFzD,CACT,CASO,SAAS,EAAOA,EAAKN,GAC1B,IAAIgE,EAAKhE,EAAE,GACPiE,EAAKjE,EAAE,GACPkE,EAAKlE,EAAE,GACPmE,EAAKnE,EAAE,GACPoE,EAAMpE,EAAE,GACRqE,EAAMrE,EAAE,GACRsB,EAAM0C,EAAKG,EAAKF,EAAKC,EAEzB,OAAK5C,GAILA,EAAM,EAAMA,EACZhB,EAAI,GAAK6D,EAAK7C,EACdhB,EAAI,IAAM2D,EAAK3C,EACfhB,EAAI,IAAM4D,EAAK5C,EACfhB,EAAI,GAAK0D,EAAK1C,EACdhB,EAAI,IAAM4D,EAAKG,EAAMF,EAAKC,GAAO9C,EACjChB,EAAI,IAAM2D,EAAKG,EAAMJ,EAAKK,GAAO/C,EAC1BhB,GAVE,IAWX,CAQO,SAAS,EAAYN,GAC1B,OAAOA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,EAChC,CAUO,SAAS,GAASM,EAAKN,EAAGE,GAC/B,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GAOX,OANAI,EAAI,GAAKa,EAAKO,EAAKN,EAAKO,EACxBrB,EAAI,GAAKW,EAAKS,EAAKL,EAAKM,EACxBrB,EAAI,GAAKa,EAAKS,EAAKR,EAAKS,EACxBvB,EAAI,GAAKW,EAAKW,EAAKP,EAAKQ,EACxBvB,EAAI,GAAKa,EAAKqD,EAAKpD,EAAKqD,EAAKH,EAC7BhE,EAAI,GAAKW,EAAKuD,EAAKnD,EAAKoD,EAAKF,EACtBjE,CACT,CAUO,SAAS,GAAOA,EAAKN,EAAG+B,GAC7B,IAAIZ,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPgC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAOjB,OANAzB,EAAI,GAAKa,EAAKe,EAAId,EAAKY,EACvB1B,EAAI,GAAKW,EAAKiB,EAAIb,EAAKW,EACvB1B,EAAI,GAAKa,GAAMa,EAAIZ,EAAKc,EACxB5B,EAAI,GAAKW,GAAMe,EAAIX,EAAKa,EACxB5B,EAAI,GAAKgE,EACThE,EAAI,GAAKiE,EACFjE,CACT,CAUO,SAAS,GAAMA,EAAKN,EAAGqC,GAC5B,IAAIlB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPsC,EAAKD,EAAE,GACPE,EAAKF,EAAE,GAOX,OANA/B,EAAI,GAAKa,EAAKmB,EACdhC,EAAI,GAAKW,EAAKqB,EACdhC,EAAI,GAAKc,EAAKmB,EACdjC,EAAI,GAAKe,EAAKkB,EACdjC,EAAI,GAAKgE,EACThE,EAAI,GAAKiE,EACFjE,CACT,CAUO,SAASoE,GAAUpE,EAAKN,EAAGqC,GAChC,IAAIlB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPsC,EAAKD,EAAE,GACPE,EAAKF,EAAE,GAOX,OANA/B,EAAI,GAAKa,EACTb,EAAI,GAAKW,EACTX,EAAI,GAAKc,EACTd,EAAI,GAAKe,EACTf,EAAI,GAAKa,EAAKmB,EAAKlB,EAAKmB,EAAK+B,EAC7BhE,EAAI,GAAKW,EAAKqB,EAAKjB,EAAKkB,EAAKgC,EACtBjE,CACT,CAaO,SAAS,GAAaA,EAAKyB,GAChC,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAOjB,OANAzB,EAAI,GAAK4B,EACT5B,EAAI,GAAK0B,EACT1B,EAAI,IAAM0B,EACV1B,EAAI,GAAK4B,EACT5B,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAaO,SAAS,GAAYA,EAAK+B,GAO/B,OANA/B,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAaO,SAASqE,GAAgBrE,EAAK+B,GAOnC,OANA/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK+B,EAAE,GACJ/B,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,SAAWA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GACjG,CAQO,SAAS,GAAKA,GACnB,OAAOP,KAAKmD,MAAM5C,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,EACxD,CAUO,SAAS,GAAIM,EAAKN,EAAGE,GAO1B,OANAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAO/B,OANAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAAeA,EAAKN,EAAGE,GAOrC,OANAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAWO,SAAS,GAAqBA,EAAKN,EAAGE,EAAGkC,GAO9C,OANA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EAChB9B,CACT,CASO,SAAS,GAAYN,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EACzG,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,KAAQnC,KAAKU,IAAIkB,EAAKQ,IAAO,EAAmBpC,KAAKW,IAAI,EAAKX,KAAKU,IAAIkB,GAAK5B,KAAKU,IAAI0B,KAAQpC,KAAKU,IAAImE,EAAKE,IAAO,EAAmB/E,KAAKW,IAAI,EAAKX,KAAKU,IAAImE,GAAK7E,KAAKU,IAAIqE,KAAQ/E,KAAKU,IAAIoE,EAAKE,IAAO,EAAmBhF,KAAKW,IAAI,EAAKX,KAAKU,IAAIoE,GAAK9E,KAAKU,IAAIsE,GAC/f,CAMO,IAAI,GAAM,GAMN,GAAM,GCzdV,SAAS,KACd,IAAInE,EAAM,IAAI,EAAoB,GAclC,OAZI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CASO,SAASsE,GAAStE,EAAKN,GAU5B,OATAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,IACJM,CACT,CAQO,SAAS,GAAMN,GACpB,IAAIM,EAAM,IAAI,EAAoB,GAUlC,OATAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CASO,SAAS,GAAKA,EAAKN,GAUxB,OATAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAgBO,SAAS,GAAWK,EAAKC,EAAKiE,EAAKhE,EAAKC,EAAKgE,EAAKC,EAAKC,EAAKC,GACjE,IAAI3E,EAAM,IAAI,EAAoB,GAUlC,OATAA,EAAI,GAAKK,EACTL,EAAI,GAAKM,EACTN,EAAI,GAAKuE,EACTvE,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACTR,EAAI,GAAKwE,EACTxE,EAAI,GAAKyE,EACTzE,EAAI,GAAK0E,EACT1E,EAAI,GAAK2E,EACF3E,CACT,CAiBO,SAAS,GAAIA,EAAKK,EAAKC,EAAKiE,EAAKhE,EAAKC,EAAKgE,EAAKC,EAAKC,EAAKC,GAU/D,OATA3E,EAAI,GAAKK,EACTL,EAAI,GAAKM,EACTN,EAAI,GAAKuE,EACTvE,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACTR,EAAI,GAAKwE,EACTxE,EAAI,GAAKyE,EACTzE,EAAI,GAAK0E,EACT1E,EAAI,GAAK2E,EACF3E,CACT,CAQO,SAAS,GAASA,GAUvB,OATAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CASO,SAAS,GAAUA,EAAKN,GAE7B,GAAIM,IAAQN,EAAG,CACb,IAAIkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRoF,EAAMpF,EAAE,GACZM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAK4E,EACT5E,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAK6E,EACT7E,EAAI,GAAK8E,CACX,MACE9E,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GAGb,OAAOM,CACT,CASO,SAAS,GAAOA,EAAKN,GAC1B,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,GACR2F,EAAMD,EAAMH,EAAMH,EAAMK,EACxBG,GAAOF,EAAMJ,EAAMF,EAAMI,EACzBK,EAAMJ,EAAMH,EAAMC,EAAMC,EAExBlE,EAAM+D,EAAMM,EAAMT,EAAMU,EAAMT,EAAMU,EAExC,OAAKvE,GAILA,EAAM,EAAMA,EACZhB,EAAI,GAAKqF,EAAMrE,EACfhB,EAAI,KAAOoF,EAAMR,EAAMC,EAAMM,GAAOnE,EACpChB,EAAI,IAAM8E,EAAMF,EAAMC,EAAMI,GAAOjE,EACnChB,EAAI,GAAKsF,EAAMtE,EACfhB,EAAI,IAAMoF,EAAML,EAAMF,EAAMK,GAAOlE,EACnChB,EAAI,KAAO8E,EAAMC,EAAMF,EAAMG,GAAOhE,EACpChB,EAAI,GAAKuF,EAAMvE,EACfhB,EAAI,KAAOmF,EAAMJ,EAAMH,EAAMM,GAAOlE,EACpChB,EAAI,IAAMiF,EAAMF,EAAMH,EAAMI,GAAOhE,EAC5BhB,GAbE,IAcX,CASO,SAAS,GAAQA,EAAKN,GAC3B,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,GAUZ,OATAM,EAAI,GAAKiF,EAAMG,EAAMN,EAAMK,EAC3BnF,EAAI,GAAK6E,EAAMM,EAAMP,EAAMQ,EAC3BpF,EAAI,GAAK4E,EAAME,EAAMD,EAAMI,EAC3BjF,EAAI,GAAK8E,EAAMI,EAAMF,EAAMI,EAC3BpF,EAAI,GAAK+E,EAAMK,EAAMP,EAAMK,EAC3BlF,EAAI,GAAK6E,EAAMG,EAAMD,EAAMD,EAC3B9E,EAAI,GAAKgF,EAAMG,EAAMF,EAAMC,EAC3BlF,EAAI,GAAK4E,EAAMM,EAAMH,EAAMI,EAC3BnF,EAAI,GAAK+E,EAAME,EAAML,EAAMI,EACpBhF,CACT,CAQO,SAAS,GAAYN,GAC1B,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,GACZ,OAAOqF,GAAOK,EAAMH,EAAMH,EAAMK,GAAOP,IAAQQ,EAAMJ,EAAMF,EAAMI,GAAOL,GAAOM,EAAMH,EAAMC,EAAMC,EACnG,CAUO,SAAS,GAASlF,EAAKN,EAAGE,GAC/B,IAAImF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,GACR8F,EAAM5F,EAAE,GACRyF,EAAMzF,EAAE,GACR6F,EAAM7F,EAAE,GACR8F,EAAM9F,EAAE,GACR0F,EAAM1F,EAAE,GACR+F,EAAM/F,EAAE,GACRgG,EAAMhG,EAAE,GACR2F,EAAM3F,EAAE,GACRiG,EAAMjG,EAAE,GAUZ,OATAI,EAAI,GAAKwF,EAAMT,EAAMM,EAAML,EAAMS,EAAMP,EACvClF,EAAI,GAAKwF,EAAMZ,EAAMS,EAAMJ,EAAMQ,EAAMN,EACvCnF,EAAI,GAAKwF,EAAMX,EAAMQ,EAAMP,EAAMW,EAAML,EACvCpF,EAAI,GAAK0F,EAAMX,EAAMO,EAAMN,EAAMW,EAAMT,EACvClF,EAAI,GAAK0F,EAAMd,EAAMU,EAAML,EAAMU,EAAMR,EACvCnF,EAAI,GAAK0F,EAAMb,EAAMS,EAAMR,EAAMa,EAAMP,EACvCpF,EAAI,GAAK4F,EAAMb,EAAMQ,EAAMP,EAAMa,EAAMX,EACvClF,EAAI,GAAK4F,EAAMhB,EAAMW,EAAMN,EAAMY,EAAMV,EACvCnF,EAAI,GAAK4F,EAAMf,EAAMU,EAAMT,EAAMe,EAAMT,EAChCpF,CACT,CAUO,SAAS,GAAUA,EAAKN,EAAGqC,GAChC,IAAIgD,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,GACRoG,EAAI/D,EAAE,GACNiB,EAAIjB,EAAE,GAUV,OATA/B,EAAI,GAAK+E,EACT/E,EAAI,GAAK4E,EACT5E,EAAI,GAAK6E,EACT7E,EAAI,GAAKgF,EACThF,EAAI,GAAKiF,EACTjF,EAAI,GAAK8E,EACT9E,EAAI,GAAK8F,EAAIf,EAAM/B,EAAIgC,EAAME,EAC7BlF,EAAI,GAAK8F,EAAIlB,EAAM5B,EAAIiC,EAAME,EAC7BnF,EAAI,GAAK8F,EAAIjB,EAAM7B,EAAI8B,EAAMM,EACtBpF,CACT,CAUO,SAAS,GAAOA,EAAKN,EAAG+B,GAC7B,IAAIsD,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,GACRgC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAUjB,OATAzB,EAAI,GAAK4B,EAAImD,EAAMrD,EAAIsD,EACvBhF,EAAI,GAAK4B,EAAIgD,EAAMlD,EAAIuD,EACvBjF,EAAI,GAAK4B,EAAIiD,EAAMnD,EAAIoD,EACvB9E,EAAI,GAAK4B,EAAIoD,EAAMtD,EAAIqD,EACvB/E,EAAI,GAAK4B,EAAIqD,EAAMvD,EAAIkD,EACvB5E,EAAI,GAAK4B,EAAIkD,EAAMpD,EAAImD,EACvB7E,EAAI,GAAKkF,EACTlF,EAAI,GAAKmF,EACTnF,EAAI,GAAKoF,EACFpF,CACT,CAUO,SAAS,GAAMA,EAAKN,EAAGqC,GAC5B,IAAI+D,EAAI/D,EAAE,GACNiB,EAAIjB,EAAE,GAUV,OATA/B,EAAI,GAAK8F,EAAIpG,EAAE,GACfM,EAAI,GAAK8F,EAAIpG,EAAE,GACfM,EAAI,GAAK8F,EAAIpG,EAAE,GACfM,EAAI,GAAKgD,EAAItD,EAAE,GACfM,EAAI,GAAKgD,EAAItD,EAAE,GACfM,EAAI,GAAKgD,EAAItD,EAAE,GACfM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAaO,SAAS,GAAgBA,EAAK+B,GAUnC,OATA/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACFA,CACT,CAaO,SAAS,GAAaA,EAAKyB,GAChC,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAUjB,OATAzB,EAAI,GAAK4B,EACT5B,EAAI,GAAK0B,EACT1B,EAAI,GAAK,EACTA,EAAI,IAAM0B,EACV1B,EAAI,GAAK4B,EACT5B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAaO,SAAS,GAAYA,EAAK+B,GAU/B,OATA/B,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CASO,SAAS+F,GAAU/F,EAAKN,GAU7B,OATAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAK,EACTA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAK,EACTA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAK,EACFA,CACT,CAUO,SAASgG,GAAShG,EAAKiG,GAC5B,IAAIH,EAAIG,EAAE,GACNjD,EAAIiD,EAAE,GACNC,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAKN,EAAIA,EACTO,EAAKrD,EAAIA,EACTsD,EAAKJ,EAAIA,EACTK,EAAKT,EAAIM,EACTI,EAAKxD,EAAIoD,EACTK,EAAKzD,EAAIqD,EACTK,EAAKR,EAAIE,EACTO,EAAKT,EAAIG,EACTO,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EAUb,OATAtG,EAAI,GAAK,EAAIyG,EAAKG,EAClB5G,EAAI,GAAKwG,EAAKO,EACd/G,EAAI,GAAK0G,EAAKI,EACd9G,EAAI,GAAKwG,EAAKO,EACd/G,EAAI,GAAK,EAAIuG,EAAKK,EAClB5G,EAAI,GAAK2G,EAAKE,EACd7G,EAAI,GAAK0G,EAAKI,EACd9G,EAAI,GAAK2G,EAAKE,EACd7G,EAAI,GAAK,EAAIuG,EAAKE,EACXzG,CACT,CAUO,SAASgH,GAAehH,EAAKN,GAClC,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IACR0H,EAAM1H,EAAE,IACR2H,EAAM3H,EAAE,IACR4H,EAAM5H,EAAE,IACR6H,EAAM7H,EAAE,IACR8F,EAAMT,EAAME,EAAML,EAAMI,EACxBK,EAAMN,EAAMD,EAAMD,EAAMG,EACxBS,EAAMV,EAAMmC,EAAMD,EAAMjC,EACxBwC,EAAM5C,EAAME,EAAMD,EAAMI,EACxBwC,EAAM7C,EAAMsC,EAAMD,EAAMhC,EACxByC,EAAM7C,EAAMqC,EAAMD,EAAMnC,EACxB6C,EAAMzC,EAAMmC,EAAMlC,EAAMiC,EACxBQ,EAAM1C,EAAMoC,EAAMlC,EAAMgC,EACxBS,EAAM3C,EAAMqC,EAAMJ,EAAMC,EACxBU,EAAM3C,EAAMmC,EAAMlC,EAAMiC,EACxB3B,EAAMP,EAAMoC,EAAMJ,EAAME,EACxB/B,EAAMF,EAAMmC,EAAMJ,EAAMG,EAExBtG,EAAMwE,EAAMF,EAAMD,EAAMK,EAAMD,EAAMqC,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,OAAK3G,GAILA,EAAM,EAAMA,EACZhB,EAAI,IAAMiF,EAAMK,EAAMR,EAAMY,EAAMwB,EAAMY,GAAO9G,EAC/ChB,EAAI,IAAM8E,EAAM+C,EAAM7C,EAAMM,EAAM4B,EAAMU,GAAO5G,EAC/ChB,EAAI,IAAMgF,EAAMU,EAAMT,EAAM4C,EAAMX,EAAMS,GAAO3G,EAC/ChB,EAAI,IAAM6E,EAAMa,EAAMd,EAAMU,EAAM2B,EAAMa,GAAO9G,EAC/ChB,EAAI,IAAM+E,EAAMO,EAAMT,EAAMgD,EAAMZ,EAAMW,GAAO5G,EAC/ChB,EAAI,IAAM4E,EAAMiD,EAAM9C,EAAMW,EAAMuB,EAAMU,GAAO3G,EAC/ChB,EAAI,IAAMqH,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,GAAOxG,EAC/ChB,EAAI,IAAMsH,EAAM7B,EAAM2B,EAAMM,EAAMH,EAAMlC,GAAOrE,EAC/ChB,EAAI,IAAMoH,EAAMK,EAAMJ,EAAM5B,EAAM8B,EAAM/B,GAAOxE,EACxChB,GAbE,IAcX,CAUO,SAAS+H,GAAW/H,EAAKgI,EAAOC,GAUrC,OATAjI,EAAI,GAAK,EAAIgI,EACbhI,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIiI,EACdjI,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GAC1I,CAQO,SAAS,GAAKA,GACnB,OAAOP,KAAKmD,MAAM5C,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GACtE,CAUO,SAAS,GAAIM,EAAKN,EAAGE,GAU1B,OATAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAU/B,OATAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAAeA,EAAKN,EAAGE,GAUrC,OATAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAWO,SAAS,GAAqBA,EAAKN,EAAGE,EAAGkC,GAU9C,OATA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EAChB9B,CACT,CASO,SAAS,GAAYN,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EAC5J,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPwI,EAAKxI,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACP2I,EAAK3I,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,KAAQnC,KAAKU,IAAIkB,EAAKQ,IAAO,EAAmBpC,KAAKW,IAAI,EAAKX,KAAKU,IAAIkB,GAAK5B,KAAKU,IAAI0B,KAAQpC,KAAKU,IAAImE,EAAKE,IAAO,EAAmB/E,KAAKW,IAAI,EAAKX,KAAKU,IAAImE,GAAK7E,KAAKU,IAAIqE,KAAQ/E,KAAKU,IAAIoE,EAAKE,IAAO,EAAmBhF,KAAKW,IAAI,EAAKX,KAAKU,IAAIoE,GAAK9E,KAAKU,IAAIsE,KAAQhF,KAAKU,IAAIqI,EAAKG,IAAO,EAAmBlJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIqI,GAAK/I,KAAKU,IAAIwI,KAAQlJ,KAAKU,IAAIsI,EAAKG,IAAO,EAAmBnJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIsI,GAAKhJ,KAAKU,IAAIyI,KAAQnJ,KAAKU,IAAIuI,EAAKG,IAAO,EAAmBpJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIuI,GAAKjJ,KAAKU,IAAI0I,GAC9vB,CAMO,IAAI,GAAM,GAMN,GAAM,GC7vBV,SAAS,KACd,IAAIvI,EAAM,IAAI,EAAoB,IAqBlC,OAnBI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,GAGZA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CAQO,SAAS,GAAMN,GACpB,IAAIM,EAAM,IAAI,EAAoB,IAiBlC,OAhBAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACLM,CACT,CASO,SAAS,GAAKA,EAAKN,GAiBxB,OAhBAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACLM,CACT,CAuBO,SAAS,GAAWK,EAAKC,EAAKiE,EAAKiE,EAAKjI,EAAKC,EAAKgE,EAAKiE,EAAKhE,EAAKC,EAAKC,EAAK+D,EAAKC,EAAKC,EAAKC,EAAKC,GACpG,IAAI9I,EAAM,IAAI,EAAoB,IAiBlC,OAhBAA,EAAI,GAAKK,EACTL,EAAI,GAAKM,EACTN,EAAI,GAAKuE,EACTvE,EAAI,GAAKwI,EACTxI,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACTR,EAAI,GAAKwE,EACTxE,EAAI,GAAKyI,EACTzI,EAAI,GAAKyE,EACTzE,EAAI,GAAK0E,EACT1E,EAAI,IAAM2E,EACV3E,EAAI,IAAM0I,EACV1I,EAAI,IAAM2I,EACV3I,EAAI,IAAM4I,EACV5I,EAAI,IAAM6I,EACV7I,EAAI,IAAM8I,EACH9I,CACT,CAwBO,SAAS,GAAIA,EAAKK,EAAKC,EAAKiE,EAAKiE,EAAKjI,EAAKC,EAAKgE,EAAKiE,EAAKhE,EAAKC,EAAKC,EAAK+D,EAAKC,EAAKC,EAAKC,EAAKC,GAiBlG,OAhBA9I,EAAI,GAAKK,EACTL,EAAI,GAAKM,EACTN,EAAI,GAAKuE,EACTvE,EAAI,GAAKwI,EACTxI,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACTR,EAAI,GAAKwE,EACTxE,EAAI,GAAKyI,EACTzI,EAAI,GAAKyE,EACTzE,EAAI,GAAK0E,EACT1E,EAAI,IAAM2E,EACV3E,EAAI,IAAM0I,EACV1I,EAAI,IAAM2I,EACV3I,EAAI,IAAM4I,EACV5I,EAAI,IAAM6I,EACV7I,EAAI,IAAM8I,EACH9I,CACT,CAQO,SAAS,GAASA,GAiBvB,OAhBAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CASO,SAAS,GAAUA,EAAKN,GAE7B,GAAIM,IAAQN,EAAG,CACb,IAAIkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRyH,EAAMzH,EAAE,IACZM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,IACXM,EAAI,GAAK4E,EACT5E,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,IACXM,EAAI,GAAK6E,EACT7E,EAAI,GAAK8E,EACT9E,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMiH,EACVjH,EAAI,IAAMkH,EACVlH,EAAI,IAAMmH,CACZ,MACEnH,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,IACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,IACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IAGd,OAAOM,CACT,CASO,SAAS,GAAOA,EAAKN,GAC1B,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IACR0H,EAAM1H,EAAE,IACR2H,EAAM3H,EAAE,IACR4H,EAAM5H,EAAE,IACR6H,EAAM7H,EAAE,IACR8F,EAAMT,EAAME,EAAML,EAAMI,EACxBK,EAAMN,EAAMD,EAAMD,EAAMG,EACxBS,EAAMV,EAAMmC,EAAMD,EAAMjC,EACxBwC,EAAM5C,EAAME,EAAMD,EAAMI,EACxBwC,EAAM7C,EAAMsC,EAAMD,EAAMhC,EACxByC,EAAM7C,EAAMqC,EAAMD,EAAMnC,EACxB6C,EAAMzC,EAAMmC,EAAMlC,EAAMiC,EACxBQ,EAAM1C,EAAMoC,EAAMlC,EAAMgC,EACxBS,EAAM3C,EAAMqC,EAAMJ,EAAMC,EACxBU,EAAM3C,EAAMmC,EAAMlC,EAAMiC,EACxB3B,EAAMP,EAAMoC,EAAMJ,EAAME,EACxB/B,EAAMF,EAAMmC,EAAMJ,EAAMG,EAExBtG,EAAMwE,EAAMF,EAAMD,EAAMK,EAAMD,EAAMqC,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,OAAK3G,GAILA,EAAM,EAAMA,EACZhB,EAAI,IAAMiF,EAAMK,EAAMR,EAAMY,EAAMwB,EAAMY,GAAO9G,EAC/ChB,EAAI,IAAM6E,EAAMa,EAAMd,EAAMU,EAAM2B,EAAMa,GAAO9G,EAC/ChB,EAAI,IAAMqH,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,GAAOxG,EAC/ChB,EAAI,IAAMoF,EAAMqC,EAAMtC,EAAMuC,EAAMP,EAAMK,GAAOxG,EAC/ChB,EAAI,IAAM8E,EAAM+C,EAAM7C,EAAMM,EAAM4B,EAAMU,GAAO5G,EAC/ChB,EAAI,IAAM+E,EAAMO,EAAMT,EAAMgD,EAAMZ,EAAMW,GAAO5G,EAC/ChB,EAAI,IAAMsH,EAAM7B,EAAM2B,EAAMM,EAAMH,EAAMlC,GAAOrE,EAC/ChB,EAAI,IAAMkF,EAAMwC,EAAMtC,EAAMK,EAAM0B,EAAM9B,GAAOrE,EAC/ChB,EAAI,IAAMgF,EAAMU,EAAMT,EAAM4C,EAAMX,EAAMS,GAAO3G,EAC/ChB,EAAI,IAAM4E,EAAMiD,EAAM9C,EAAMW,EAAMuB,EAAMU,GAAO3G,EAC/ChB,EAAI,KAAOoH,EAAMK,EAAMJ,EAAM5B,EAAM8B,EAAM/B,GAAOxE,EAChDhB,EAAI,KAAOmF,EAAMM,EAAMP,EAAMuC,EAAMN,EAAM3B,GAAOxE,EAChDhB,EAAI,KAAOiF,EAAM2C,EAAM5C,EAAM8C,EAAMhD,EAAM6C,GAAO3G,EAChDhB,EAAI,KAAO+E,EAAM+C,EAAMlD,EAAMgD,EAAM/C,EAAM8C,GAAO3G,EAChDhB,EAAI,KAAOqH,EAAMhC,EAAM+B,EAAMI,EAAMF,EAAM9B,GAAOxE,EAChDhB,EAAI,KAAOkF,EAAMsC,EAAMrC,EAAME,EAAMD,EAAMI,GAAOxE,EACzChB,GApBE,IAqBX,CASO,SAAS,GAAQA,EAAKN,GAC3B,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IACR0H,EAAM1H,EAAE,IACR2H,EAAM3H,EAAE,IACR4H,EAAM5H,EAAE,IACR6H,EAAM7H,EAAE,IAiBZ,OAhBAM,EAAI,GAAKiF,GAAOG,EAAMmC,EAAMJ,EAAMG,GAAOnC,GAAOL,EAAMyC,EAAML,EAAMI,GAAOD,GAAOvC,EAAMqC,EAAMD,EAAM9B,GAClGpF,EAAI,KAAO4E,GAAOQ,EAAMmC,EAAMJ,EAAMG,GAAOnC,GAAON,EAAM0C,EAAMN,EAAMK,GAAOD,GAAOxC,EAAMsC,EAAMF,EAAM7B,IACpGpF,EAAI,GAAK4E,GAAOE,EAAMyC,EAAML,EAAMI,GAAOrC,GAAOJ,EAAM0C,EAAMN,EAAMK,GAAOD,GAAOxC,EAAMqC,EAAMD,EAAMnC,GAClG9E,EAAI,KAAO4E,GAAOE,EAAMqC,EAAMD,EAAM9B,GAAOH,GAAOJ,EAAMsC,EAAMF,EAAM7B,GAAOD,GAAON,EAAMqC,EAAMD,EAAMnC,IACpG9E,EAAI,KAAOgF,GAAOI,EAAMmC,EAAMJ,EAAMG,GAAOpC,GAAOJ,EAAMyC,EAAML,EAAMI,GAAOF,GAAOtC,EAAMqC,EAAMD,EAAM9B,IACpGpF,EAAI,GAAK+E,GAAOK,EAAMmC,EAAMJ,EAAMG,GAAOpC,GAAOL,EAAM0C,EAAMN,EAAMK,GAAOF,GAAOvC,EAAMsC,EAAMF,EAAM7B,GAClGpF,EAAI,KAAO+E,GAAOD,EAAMyC,EAAML,EAAMI,GAAOtC,GAAOH,EAAM0C,EAAMN,EAAMK,GAAOF,GAAOvC,EAAMqC,EAAMD,EAAMnC,IACpG9E,EAAI,GAAK+E,GAAOD,EAAMqC,EAAMD,EAAM9B,GAAOJ,GAAOH,EAAMsC,EAAMF,EAAM7B,GAAOF,GAAOL,EAAMqC,EAAMD,EAAMnC,GAClG9E,EAAI,GAAKgF,GAAOG,EAAMoC,EAAMJ,EAAME,GAAOnC,GAAOD,EAAMsC,EAAML,EAAMG,GAAOD,GAAOnC,EAAMkC,EAAMD,EAAM/B,GAClGnF,EAAI,KAAO+E,GAAOI,EAAMoC,EAAMJ,EAAME,GAAOnC,GAAON,EAAM2C,EAAMN,EAAMI,GAAOD,GAAOxC,EAAMuC,EAAMF,EAAM9B,IACpGnF,EAAI,IAAM+E,GAAOE,EAAMsC,EAAML,EAAMG,GAAOrC,GAAOJ,EAAM2C,EAAMN,EAAMI,GAAOD,GAAOxC,EAAMsC,EAAMD,EAAMhC,GACnGjF,EAAI,MAAQ+E,GAAOE,EAAMkC,EAAMD,EAAM/B,GAAOH,GAAOJ,EAAMuC,EAAMF,EAAM9B,GAAOD,GAAON,EAAMsC,EAAMD,EAAMhC,IACrGjF,EAAI,MAAQgF,GAAOG,EAAMmC,EAAMlC,EAAMiC,GAAOnC,GAAOD,EAAMqC,EAAMxC,EAAMuC,GAAOD,GAAOnC,EAAMG,EAAMN,EAAMK,IACrGnF,EAAI,IAAM+E,GAAOI,EAAMmC,EAAMlC,EAAMiC,GAAOnC,GAAON,EAAM0C,EAAMzC,EAAMwC,GAAOD,GAAOxC,EAAMQ,EAAMP,EAAMM,GACnGnF,EAAI,MAAQ+E,GAAOE,EAAMqC,EAAMxC,EAAMuC,GAAOrC,GAAOJ,EAAM0C,EAAMzC,EAAMwC,GAAOD,GAAOxC,EAAME,EAAMD,EAAMI,IACrGjF,EAAI,IAAM+E,GAAOE,EAAMG,EAAMN,EAAMK,GAAOH,GAAOJ,EAAMQ,EAAMP,EAAMM,GAAOD,GAAON,EAAME,EAAMD,EAAMI,GAC5FjF,CACT,CAQO,SAAS,GAAYN,GAC1B,IAAIqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IACR0H,EAAM1H,EAAE,IACR2H,EAAM3H,EAAE,IACR4H,EAAM5H,EAAE,IACR6H,EAAM7H,EAAE,IAcZ,OAbUqF,EAAME,EAAML,EAAMI,IAWlBI,EAAMmC,EAAMJ,EAAMG,IAVlBvC,EAAMD,EAAMD,EAAMG,IASlBG,EAAMoC,EAAMJ,EAAME,IARlBtC,EAAMmC,EAAMD,EAAMjC,IAOlBG,EAAMmC,EAAMlC,EAAMiC,IANlBzC,EAAME,EAAMD,EAAMI,IAKlBC,EAAMqC,EAAMJ,EAAMC,IAJlBxC,EAAMsC,EAAMD,EAAMhC,IAGlBC,EAAMoC,EAAMlC,EAAMgC,IAFlBvC,EAAMqC,EAAMD,EAAMnC,IAClBI,EAAMmC,EAAMlC,EAAMiC,EAQ9B,CAUO,SAAS,GAASpH,EAAKN,EAAGE,GAC/B,IAAImF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IACR0H,EAAM1H,EAAE,IACR2H,EAAM3H,EAAE,IACR4H,EAAM5H,EAAE,IACR6H,EAAM7H,EAAE,IAER0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GA6BX,OA5BAI,EAAI,GAAKoB,EAAK2D,EAAM1D,EAAK2D,EAAM1D,EAAK4D,EAAM3D,EAAK6F,EAC/CpH,EAAI,GAAKoB,EAAKwD,EAAMvD,EAAK4D,EAAM3D,EAAK6D,EAAM5D,EAAK8F,EAC/CrH,EAAI,GAAKoB,EAAKyD,EAAMxD,EAAKyD,EAAMxD,EAAK8D,EAAM7D,EAAK+F,EAC/CtH,EAAI,GAAKoB,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAKgG,EAC/CnG,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACPI,EAAI,GAAKoB,EAAK2D,EAAM1D,EAAK2D,EAAM1D,EAAK4D,EAAM3D,EAAK6F,EAC/CpH,EAAI,GAAKoB,EAAKwD,EAAMvD,EAAK4D,EAAM3D,EAAK6D,EAAM5D,EAAK8F,EAC/CrH,EAAI,GAAKoB,EAAKyD,EAAMxD,EAAKyD,EAAMxD,EAAK8D,EAAM7D,EAAK+F,EAC/CtH,EAAI,GAAKoB,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAKgG,EAC/CnG,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,IACP2B,EAAK3B,EAAE,IACPI,EAAI,GAAKoB,EAAK2D,EAAM1D,EAAK2D,EAAM1D,EAAK4D,EAAM3D,EAAK6F,EAC/CpH,EAAI,GAAKoB,EAAKwD,EAAMvD,EAAK4D,EAAM3D,EAAK6D,EAAM5D,EAAK8F,EAC/CrH,EAAI,IAAMoB,EAAKyD,EAAMxD,EAAKyD,EAAMxD,EAAK8D,EAAM7D,EAAK+F,EAChDtH,EAAI,IAAMoB,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAKgG,EAChDnG,EAAKxB,EAAE,IACPyB,EAAKzB,EAAE,IACP0B,EAAK1B,EAAE,IACP2B,EAAK3B,EAAE,IACPI,EAAI,IAAMoB,EAAK2D,EAAM1D,EAAK2D,EAAM1D,EAAK4D,EAAM3D,EAAK6F,EAChDpH,EAAI,IAAMoB,EAAKwD,EAAMvD,EAAK4D,EAAM3D,EAAK6D,EAAM5D,EAAK8F,EAChDrH,EAAI,IAAMoB,EAAKyD,EAAMxD,EAAKyD,EAAMxD,EAAK8D,EAAM7D,EAAK+F,EAChDtH,EAAI,IAAMoB,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAK6F,EAAM5F,EAAKgG,EACzCvH,CACT,CAUO,SAAS,GAAUA,EAAKN,EAAGqC,GAChC,IAGIgD,EAAKH,EAAKC,EAAKoC,EACfjC,EAAKC,EAAKH,EAAKoC,EACfhC,EAAKC,EAAKC,EAAK+B,EALfrB,EAAI/D,EAAE,GACNiB,EAAIjB,EAAE,GACNmE,EAAInE,EAAE,GAyCV,OApCIrC,IAAMM,GACRA,EAAI,IAAMN,EAAE,GAAKoG,EAAIpG,EAAE,GAAKsD,EAAItD,EAAE,GAAKwG,EAAIxG,EAAE,IAC7CM,EAAI,IAAMN,EAAE,GAAKoG,EAAIpG,EAAE,GAAKsD,EAAItD,EAAE,GAAKwG,EAAIxG,EAAE,IAC7CM,EAAI,IAAMN,EAAE,GAAKoG,EAAIpG,EAAE,GAAKsD,EAAItD,EAAE,IAAMwG,EAAIxG,EAAE,IAC9CM,EAAI,IAAMN,EAAE,GAAKoG,EAAIpG,EAAE,GAAKsD,EAAItD,EAAE,IAAMwG,EAAIxG,EAAE,MAE9CqF,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IACRM,EAAI,GAAK+E,EACT/E,EAAI,GAAK4E,EACT5E,EAAI,GAAK6E,EACT7E,EAAI,GAAKiH,EACTjH,EAAI,GAAKgF,EACThF,EAAI,GAAKiF,EACTjF,EAAI,GAAK8E,EACT9E,EAAI,GAAKkH,EACTlH,EAAI,GAAKkF,EACTlF,EAAI,GAAKmF,EACTnF,EAAI,IAAMoF,EACVpF,EAAI,IAAMmH,EACVnH,EAAI,IAAM+E,EAAMe,EAAId,EAAMhC,EAAIkC,EAAMgB,EAAIxG,EAAE,IAC1CM,EAAI,IAAM4E,EAAMkB,EAAIb,EAAMjC,EAAImC,EAAMe,EAAIxG,EAAE,IAC1CM,EAAI,IAAM6E,EAAMiB,EAAIhB,EAAM9B,EAAIoC,EAAMc,EAAIxG,EAAE,IAC1CM,EAAI,IAAMiH,EAAMnB,EAAIoB,EAAMlE,EAAImE,EAAMjB,EAAIxG,EAAE,KAGrCM,CACT,CAUO,SAAS,GAAMA,EAAKN,EAAGqC,GAC5B,IAAI+D,EAAI/D,EAAE,GACNiB,EAAIjB,EAAE,GACNmE,EAAInE,EAAE,GAiBV,OAhBA/B,EAAI,GAAKN,EAAE,GAAKoG,EAChB9F,EAAI,GAAKN,EAAE,GAAKoG,EAChB9F,EAAI,GAAKN,EAAE,GAAKoG,EAChB9F,EAAI,GAAKN,EAAE,GAAKoG,EAChB9F,EAAI,GAAKN,EAAE,GAAKsD,EAChBhD,EAAI,GAAKN,EAAE,GAAKsD,EAChBhD,EAAI,GAAKN,EAAE,GAAKsD,EAChBhD,EAAI,GAAKN,EAAE,GAAKsD,EAChBhD,EAAI,GAAKN,EAAE,GAAKwG,EAChBlG,EAAI,GAAKN,EAAE,GAAKwG,EAChBlG,EAAI,IAAMN,EAAE,IAAMwG,EAClBlG,EAAI,IAAMN,EAAE,IAAMwG,EAClBlG,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACLM,CACT,CAWO,SAAS,GAAOA,EAAKN,EAAG+B,EAAKsH,GAClC,IAIIrH,EAAGE,EAAGoH,EACNjE,EAAKH,EAAKC,EAAKoC,EACfjC,EAAKC,EAAKH,EAAKoC,EACfhC,EAAKC,EAAKC,EAAK+B,EACf3B,EAAKH,EAAKI,EACVC,EAAKJ,EAAKK,EACVC,EAAKL,EAAKM,EAVVC,EAAIiD,EAAK,GACT/F,EAAI+F,EAAK,GACT7C,EAAI6C,EAAK,GACTE,EAAM9J,KAAKmD,MAAMwD,EAAG9C,EAAGkD,GAS3B,OAAI+C,EAAM,EACD,MAITnD,GADAmD,EAAM,EAAIA,EAEVjG,GAAKiG,EACL/C,GAAK+C,EACLvH,EAAIvC,KAAKwC,IAAIF,GAEbuH,EAAI,GADJpH,EAAIzC,KAAK0C,IAAIJ,IAEbsD,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IAER8F,EAAMM,EAAIA,EAAIkD,EAAIpH,EAClByD,EAAMrC,EAAI8C,EAAIkD,EAAI9C,EAAIxE,EACtB+D,EAAMS,EAAIJ,EAAIkD,EAAIhG,EAAItB,EACtBgE,EAAMI,EAAI9C,EAAIgG,EAAI9C,EAAIxE,EACtB4D,EAAMtC,EAAIA,EAAIgG,EAAIpH,EAClB+D,EAAMO,EAAIlD,EAAIgG,EAAIlD,EAAIpE,EACtBkE,EAAME,EAAII,EAAI8C,EAAIhG,EAAItB,EACtB6D,EAAMvC,EAAIkD,EAAI8C,EAAIlD,EAAIpE,EACtBmE,EAAMK,EAAIA,EAAI8C,EAAIpH,EAElB5B,EAAI,GAAK+E,EAAMS,EAAMR,EAAMK,EAAMH,EAAMO,EACvCzF,EAAI,GAAK4E,EAAMY,EAAMP,EAAMI,EAAMF,EAAMM,EACvCzF,EAAI,GAAK6E,EAAMW,EAAMV,EAAMO,EAAMD,EAAMK,EACvCzF,EAAI,GAAKiH,EAAMzB,EAAM0B,EAAM7B,EAAM8B,EAAM1B,EACvCzF,EAAI,GAAK+E,EAAMW,EAAMV,EAAMM,EAAMJ,EAAMS,EACvC3F,EAAI,GAAK4E,EAAMc,EAAMT,EAAMK,EAAMH,EAAMQ,EACvC3F,EAAI,GAAK6E,EAAMa,EAAMZ,EAAMQ,EAAMF,EAAMO,EACvC3F,EAAI,GAAKiH,EAAMvB,EAAMwB,EAAM5B,EAAM6B,EAAMxB,EACvC3F,EAAI,GAAK+E,EAAMa,EAAMZ,EAAMO,EAAML,EAAMW,EACvC7F,EAAI,GAAK4E,EAAMgB,EAAMX,EAAMM,EAAMJ,EAAMU,EACvC7F,EAAI,IAAM6E,EAAMe,EAAMd,EAAMS,EAAMH,EAAMS,EACxC7F,EAAI,IAAMiH,EAAMrB,EAAMsB,EAAM3B,EAAM4B,EAAMtB,EAEpCnG,IAAMM,IAERA,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,KAGPM,EACT,CAUO,SAASkJ,GAAQlJ,EAAKN,EAAG+B,GAC9B,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GACbuD,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IAuBZ,OArBIA,IAAMM,IAERA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,KAIdM,EAAI,GAAKgF,EAAMpD,EAAIsD,EAAMxD,EACzB1B,EAAI,GAAKiF,EAAMrD,EAAIuD,EAAMzD,EACzB1B,EAAI,GAAK8E,EAAMlD,EAAIwD,EAAM1D,EACzB1B,EAAI,GAAKkH,EAAMtF,EAAIuF,EAAMzF,EACzB1B,EAAI,GAAKkF,EAAMtD,EAAIoD,EAAMtD,EACzB1B,EAAI,GAAKmF,EAAMvD,EAAIqD,EAAMvD,EACzB1B,EAAI,IAAMoF,EAAMxD,EAAIkD,EAAMpD,EAC1B1B,EAAI,IAAMmH,EAAMvF,EAAIsF,EAAMxF,EACnB1B,CACT,CAUO,SAASmJ,GAAQnJ,EAAKN,EAAG+B,GAC9B,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GACbsD,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRwF,EAAMxF,EAAE,GACRyF,EAAMzF,EAAE,GACR0F,EAAM1F,EAAE,IACRyH,EAAMzH,EAAE,IAuBZ,OArBIA,IAAMM,IAERA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,KAIdM,EAAI,GAAK+E,EAAMnD,EAAIsD,EAAMxD,EACzB1B,EAAI,GAAK4E,EAAMhD,EAAIuD,EAAMzD,EACzB1B,EAAI,GAAK6E,EAAMjD,EAAIwD,EAAM1D,EACzB1B,EAAI,GAAKiH,EAAMrF,EAAIuF,EAAMzF,EACzB1B,EAAI,GAAK+E,EAAMrD,EAAIwD,EAAMtD,EACzB5B,EAAI,GAAK4E,EAAMlD,EAAIyD,EAAMvD,EACzB5B,EAAI,IAAM6E,EAAMnD,EAAI0D,EAAMxD,EAC1B5B,EAAI,IAAMiH,EAAMvF,EAAIyF,EAAMvF,EACnB5B,CACT,CAUO,SAASoJ,GAAQpJ,EAAKN,EAAG+B,GAC9B,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GACbsD,EAAMrF,EAAE,GACRkF,EAAMlF,EAAE,GACRmF,EAAMnF,EAAE,GACRuH,EAAMvH,EAAE,GACRsF,EAAMtF,EAAE,GACRuF,EAAMvF,EAAE,GACRoF,EAAMpF,EAAE,GACRwH,EAAMxH,EAAE,GAuBZ,OArBIA,IAAMM,IAERA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,IACZM,EAAI,IAAMN,EAAE,KAIdM,EAAI,GAAK+E,EAAMnD,EAAIoD,EAAMtD,EACzB1B,EAAI,GAAK4E,EAAMhD,EAAIqD,EAAMvD,EACzB1B,EAAI,GAAK6E,EAAMjD,EAAIkD,EAAMpD,EACzB1B,EAAI,GAAKiH,EAAMrF,EAAIsF,EAAMxF,EACzB1B,EAAI,GAAKgF,EAAMpD,EAAImD,EAAMrD,EACzB1B,EAAI,GAAKiF,EAAMrD,EAAIgD,EAAMlD,EACzB1B,EAAI,GAAK8E,EAAMlD,EAAIiD,EAAMnD,EACzB1B,EAAI,GAAKkH,EAAMtF,EAAIqF,EAAMvF,EAClB1B,CACT,CAaO,SAAS,GAAgBA,EAAK+B,GAiBnC,OAhBA/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM,EACHA,CACT,CAaO,SAAS,GAAYA,EAAK+B,GAiB/B,OAhBA/B,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK+B,EAAE,GACX/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CAcO,SAAS,GAAaA,EAAKyB,EAAKsH,GACrC,IAIIrH,EAAGE,EAAGoH,EAJNlD,EAAIiD,EAAK,GACT/F,EAAI+F,EAAK,GACT7C,EAAI6C,EAAK,GACTE,EAAM9J,KAAKmD,MAAMwD,EAAG9C,EAAGkD,GAG3B,OAAI+C,EAAM,EACD,MAITnD,GADAmD,EAAM,EAAIA,EAEVjG,GAAKiG,EACL/C,GAAK+C,EACLvH,EAAIvC,KAAKwC,IAAIF,GAEbuH,EAAI,GADJpH,EAAIzC,KAAK0C,IAAIJ,IAGbzB,EAAI,GAAK8F,EAAIA,EAAIkD,EAAIpH,EACrB5B,EAAI,GAAKgD,EAAI8C,EAAIkD,EAAI9C,EAAIxE,EACzB1B,EAAI,GAAKkG,EAAIJ,EAAIkD,EAAIhG,EAAItB,EACzB1B,EAAI,GAAK,EACTA,EAAI,GAAK8F,EAAI9C,EAAIgG,EAAI9C,EAAIxE,EACzB1B,EAAI,GAAKgD,EAAIA,EAAIgG,EAAIpH,EACrB5B,EAAI,GAAKkG,EAAIlD,EAAIgG,EAAIlD,EAAIpE,EACzB1B,EAAI,GAAK,EACTA,EAAI,GAAK8F,EAAII,EAAI8C,EAAIhG,EAAItB,EACzB1B,EAAI,GAAKgD,EAAIkD,EAAI8C,EAAIlD,EAAIpE,EACzB1B,EAAI,IAAMkG,EAAIA,EAAI8C,EAAIpH,EACtB5B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EACT,CAaO,SAASqJ,GAAcrJ,EAAKyB,GACjC,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAkBjB,OAhBAzB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK4B,EACT5B,EAAI,GAAK0B,EACT1B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM0B,EACV1B,EAAI,IAAM4B,EACV5B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CAaO,SAASsJ,GAActJ,EAAKyB,GACjC,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAkBjB,OAhBAzB,EAAI,GAAK4B,EACT5B,EAAI,GAAK,EACTA,EAAI,IAAM0B,EACV1B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK0B,EACT1B,EAAI,GAAK,EACTA,EAAI,IAAM4B,EACV5B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CAaO,SAASuJ,GAAcvJ,EAAKyB,GACjC,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbG,EAAIzC,KAAK0C,IAAIJ,GAkBjB,OAhBAzB,EAAI,GAAK4B,EACT5B,EAAI,GAAK0B,EACT1B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM0B,EACV1B,EAAI,GAAK4B,EACT5B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CAiBO,SAASwJ,GAAwBxJ,EAAKiG,EAAGlE,GAE9C,IAAI+D,EAAIG,EAAE,GACNjD,EAAIiD,EAAE,GACNC,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAKN,EAAIA,EACTO,EAAKrD,EAAIA,EACTsD,EAAKJ,EAAIA,EACTK,EAAKT,EAAIM,EACTqD,EAAK3D,EAAIO,EACTqD,EAAK5D,EAAIQ,EACTG,EAAKzD,EAAIqD,EACTsD,EAAK3G,EAAIsD,EACTM,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EAiBb,OAhBAtG,EAAI,GAAK,GAAKyG,EAAKG,GACnB5G,EAAI,GAAKyJ,EAAK1C,EACd/G,EAAI,GAAK0J,EAAK5C,EACd9G,EAAI,GAAK,EACTA,EAAI,GAAKyJ,EAAK1C,EACd/G,EAAI,GAAK,GAAKuG,EAAKK,GACnB5G,EAAI,GAAK2J,EAAK9C,EACd7G,EAAI,GAAK,EACTA,EAAI,GAAK0J,EAAK5C,EACd9G,EAAI,GAAK2J,EAAK9C,EACd7G,EAAI,IAAM,GAAKuG,EAAKE,GACpBzG,EAAI,IAAM,EACVA,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM,EACHA,CACT,CASO,SAAS4J,GAAU5J,EAAKN,GAC7B,IAAImK,EAAc,IAAI,EAAoB,GACtCC,GAAMpK,EAAE,GACRqK,GAAMrK,EAAE,GACRsK,GAAMtK,EAAE,GACRuK,EAAKvK,EAAE,GACPwK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACP4K,EAAYR,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAanD,OAXIK,EAAY,GACdT,EAAY,GAA+C,GAAzCK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,GAAUO,EAC/DT,EAAY,GAA+C,GAAzCM,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,GAAUM,EAC/DT,EAAY,GAA+C,GAAzCO,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,GAAUQ,IAE/DT,EAAY,GAA+C,GAAzCK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,GACrDF,EAAY,GAA+C,GAAzCM,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,GACrDH,EAAY,GAA+C,GAAzCO,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,IAGvDN,GAAwBxJ,EAAKN,EAAGmK,GACzB7J,CACT,CAWO,SAASuK,GAAevK,EAAKwK,GAIlC,OAHAxK,EAAI,GAAKwK,EAAI,IACbxK,EAAI,GAAKwK,EAAI,IACbxK,EAAI,GAAKwK,EAAI,IACNxK,CACT,CAYO,SAASyK,GAAWzK,EAAKwK,GAC9B,IAAIhK,EAAMgK,EAAI,GACVhG,EAAMgG,EAAI,GACV/B,EAAM+B,EAAI,GACV9F,EAAM8F,EAAI,GACV7F,EAAM6F,EAAI,GACV9B,EAAM8B,EAAI,GACV5B,EAAM4B,EAAI,GACV3B,EAAM2B,EAAI,GACV1B,EAAM0B,EAAI,IAId,OAHAxK,EAAI,GAAKb,KAAKmD,MAAM9B,EAAKgE,EAAKiE,GAC9BzI,EAAI,GAAKb,KAAKmD,MAAMoC,EAAKC,EAAK+D,GAC9B1I,EAAI,GAAKb,KAAKmD,MAAMsG,EAAKC,EAAKC,GACvB9I,CACT,CAWO,SAAS0K,GAAY1K,EAAKwK,GAC/B,IAAIG,EAAU,IAAI,EAAoB,GACtCF,GAAWE,EAASH,GACpB,IAAII,EAAM,EAAID,EAAQ,GAClBE,EAAM,EAAIF,EAAQ,GAClBG,EAAM,EAAIH,EAAQ,GAClBI,EAAOP,EAAI,GAAKI,EAChBI,EAAOR,EAAI,GAAKK,EAChBI,EAAOT,EAAI,GAAKM,EAChBI,EAAOV,EAAI,GAAKI,EAChBO,EAAOX,EAAI,GAAKK,EAChBO,EAAOZ,EAAI,GAAKM,EAChBO,EAAOb,EAAI,GAAKI,EAChBU,EAAOd,EAAI,GAAKK,EAChBU,EAAOf,EAAI,IAAMM,EACjBU,EAAQT,EAAOI,EAAOI,EACtBE,EAAI,EA4BR,OA1BID,EAAQ,GACVC,EAA6B,EAAzBtM,KAAKiE,KAAKoI,EAAQ,GACtBxL,EAAI,GAAK,IAAOyL,EAChBzL,EAAI,IAAMoL,EAAOE,GAAQG,EACzBzL,EAAI,IAAMqL,EAAOJ,GAAQQ,EACzBzL,EAAI,IAAMgL,EAAOE,GAAQO,GAChBV,EAAOI,GAAQJ,EAAOQ,GAC/BE,EAA0C,EAAtCtM,KAAKiE,KAAK,EAAM2H,EAAOI,EAAOI,GAClCvL,EAAI,IAAMoL,EAAOE,GAAQG,EACzBzL,EAAI,GAAK,IAAOyL,EAChBzL,EAAI,IAAMgL,EAAOE,GAAQO,EACzBzL,EAAI,IAAMqL,EAAOJ,GAAQQ,GAChBN,EAAOI,GAChBE,EAA0C,EAAtCtM,KAAKiE,KAAK,EAAM+H,EAAOJ,EAAOQ,GAClCvL,EAAI,IAAMqL,EAAOJ,GAAQQ,EACzBzL,EAAI,IAAMgL,EAAOE,GAAQO,EACzBzL,EAAI,GAAK,IAAOyL,EAChBzL,EAAI,IAAMoL,EAAOE,GAAQG,IAEzBA,EAA0C,EAAtCtM,KAAKiE,KAAK,EAAMmI,EAAOR,EAAOI,GAClCnL,EAAI,IAAMgL,EAAOE,GAAQO,EACzBzL,EAAI,IAAMqL,EAAOJ,GAAQQ,EACzBzL,EAAI,IAAMoL,EAAOE,GAAQG,EACzBzL,EAAI,GAAK,IAAOyL,GAGXzL,CACT,CAmBO,SAAS0L,GAA6B1L,EAAKiG,EAAGlE,EAAGL,GAEtD,IAAIoE,EAAIG,EAAE,GACNjD,EAAIiD,EAAE,GACNC,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAKN,EAAIA,EACTO,EAAKrD,EAAIA,EACTsD,EAAKJ,EAAIA,EACTK,EAAKT,EAAIM,EACTqD,EAAK3D,EAAIO,EACTqD,EAAK5D,EAAIQ,EACTG,EAAKzD,EAAIqD,EACTsD,EAAK3G,EAAIsD,EACTM,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EACTqF,EAAKjK,EAAE,GACPkK,EAAKlK,EAAE,GACPmK,EAAKnK,EAAE,GAiBX,OAhBA1B,EAAI,IAAM,GAAKyG,EAAKG,IAAO+E,EAC3B3L,EAAI,IAAMyJ,EAAK1C,GAAM4E,EACrB3L,EAAI,IAAM0J,EAAK5C,GAAM6E,EACrB3L,EAAI,GAAK,EACTA,EAAI,IAAMyJ,EAAK1C,GAAM6E,EACrB5L,EAAI,IAAM,GAAKuG,EAAKK,IAAOgF,EAC3B5L,EAAI,IAAM2J,EAAK9C,GAAM+E,EACrB5L,EAAI,GAAK,EACTA,EAAI,IAAM0J,EAAK5C,GAAM+E,EACrB7L,EAAI,IAAM2J,EAAK9C,GAAMgF,EACrB7L,EAAI,KAAO,GAAKuG,EAAKE,IAAOoF,EAC5B7L,EAAI,IAAM,EACVA,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM+B,EAAE,GACZ/B,EAAI,IAAM,EACHA,CACT,CAsBO,SAAS8L,GAAmC9L,EAAKiG,EAAGlE,EAAGL,EAAGqK,GAE/D,IAAIjG,EAAIG,EAAE,GACNjD,EAAIiD,EAAE,GACNC,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAKN,EAAIA,EACTO,EAAKrD,EAAIA,EACTsD,EAAKJ,EAAIA,EACTK,EAAKT,EAAIM,EACTqD,EAAK3D,EAAIO,EACTqD,EAAK5D,EAAIQ,EACTG,EAAKzD,EAAIqD,EACTsD,EAAK3G,EAAIsD,EACTM,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EACTqF,EAAKjK,EAAE,GACPkK,EAAKlK,EAAE,GACPmK,EAAKnK,EAAE,GACPsK,EAAKD,EAAE,GACPE,EAAKF,EAAE,GACPG,EAAKH,EAAE,GACPI,GAAQ,GAAK1F,EAAKG,IAAO+E,EACzBS,GAAQ3C,EAAK1C,GAAM4E,EACnBU,GAAQ3C,EAAK5C,GAAM6E,EACnBW,GAAQ7C,EAAK1C,GAAM6E,EACnBW,GAAQ,GAAKhG,EAAKK,IAAOgF,EACzBY,GAAQ7C,EAAK9C,GAAM+E,EACnBa,GAAQ/C,EAAK5C,GAAM+E,EACnBa,GAAQ/C,EAAK9C,GAAMgF,EACnBc,GAAS,GAAKpG,EAAKE,IAAOoF,EAiB9B,OAhBA7L,EAAI,GAAKmM,EACTnM,EAAI,GAAKoM,EACTpM,EAAI,GAAKqM,EACTrM,EAAI,GAAK,EACTA,EAAI,GAAKsM,EACTtM,EAAI,GAAKuM,EACTvM,EAAI,GAAKwM,EACTxM,EAAI,GAAK,EACTA,EAAI,GAAKyM,EACTzM,EAAI,GAAK0M,EACT1M,EAAI,IAAM2M,EACV3M,EAAI,IAAM,EACVA,EAAI,IAAM+B,EAAE,GAAKiK,GAAMG,EAAOH,EAAKM,EAAOL,EAAKQ,EAAOP,GACtDlM,EAAI,IAAM+B,EAAE,GAAKkK,GAAMG,EAAOJ,EAAKO,EAAON,EAAKS,EAAOR,GACtDlM,EAAI,IAAM+B,EAAE,GAAKmK,GAAMG,EAAOL,EAAKQ,EAAOP,EAAKU,EAAQT,GACvDlM,EAAI,IAAM,EACHA,CACT,CAUO,SAAS,GAASA,EAAKiG,GAC5B,IAAIH,EAAIG,EAAE,GACNjD,EAAIiD,EAAE,GACNC,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAKN,EAAIA,EACTO,EAAKrD,EAAIA,EACTsD,EAAKJ,EAAIA,EACTK,EAAKT,EAAIM,EACTI,EAAKxD,EAAIoD,EACTK,EAAKzD,EAAIqD,EACTK,EAAKR,EAAIE,EACTO,EAAKT,EAAIG,EACTO,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EAiBb,OAhBAtG,EAAI,GAAK,EAAIyG,EAAKG,EAClB5G,EAAI,GAAKwG,EAAKO,EACd/G,EAAI,GAAK0G,EAAKI,EACd9G,EAAI,GAAK,EACTA,EAAI,GAAKwG,EAAKO,EACd/G,EAAI,GAAK,EAAIuG,EAAKK,EAClB5G,EAAI,GAAK2G,EAAKE,EACd7G,EAAI,GAAK,EACTA,EAAI,GAAK0G,EAAKI,EACd9G,EAAI,GAAK2G,EAAKE,EACd7G,EAAI,IAAM,EAAIuG,EAAKE,EACnBzG,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,CACT,CAcO,SAAS4M,GAAQ5M,EAAK6M,EAAMC,EAAOC,EAAQC,EAAKC,EAAMC,GAC3D,IAAIC,EAAK,GAAKL,EAAQD,GAClBO,EAAK,GAAKJ,EAAMD,GAChBM,EAAK,GAAKJ,EAAOC,GAiBrB,OAhBAlN,EAAI,GAAY,EAAPiN,EAAWE,EACpBnN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAY,EAAPiN,EAAWG,EACpBpN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM8M,EAAQD,GAAQM,EAC1BnN,EAAI,IAAMgN,EAAMD,GAAUK,EAC1BpN,EAAI,KAAOkN,EAAMD,GAAQI,EACzBrN,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAMkN,EAAMD,EAAO,EAAII,EAC3BrN,EAAI,IAAM,EACHA,CACT,CAeO,SAASsN,GAActN,EAAKuN,EAAMC,EAAQP,EAAMC,GACrD,IACIG,EADAI,EAAI,EAAMtO,KAAKuO,IAAIH,EAAO,GA0B9B,OAxBAvN,EAAI,GAAKyN,EAAID,EACbxN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKyN,EACTzN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EAEC,MAAPkN,GAAeA,IAAQS,KACzBN,EAAK,GAAKJ,EAAOC,GACjBlN,EAAI,KAAOkN,EAAMD,GAAQI,EACzBrN,EAAI,IAAM,EAAIkN,EAAMD,EAAOI,IAE3BrN,EAAI,KAAO,EACXA,EAAI,KAAO,EAAIiN,GAGVjN,CACT,CAMO,IAAI4N,GAAcN,GAelB,SAASO,GAAc7N,EAAKuN,EAAMC,EAAQP,EAAMC,GACrD,IACIG,EADAI,EAAI,EAAMtO,KAAKuO,IAAIH,EAAO,GA0B9B,OAxBAvN,EAAI,GAAKyN,EAAID,EACbxN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKyN,EACTzN,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EAEC,MAAPkN,GAAeA,IAAQS,KACzBN,EAAK,GAAKJ,EAAOC,GACjBlN,EAAI,IAAMkN,EAAMG,EAChBrN,EAAI,IAAMkN,EAAMD,EAAOI,IAEvBrN,EAAI,KAAO,EACXA,EAAI,KAAOiN,GAGNjN,CACT,CAaO,SAAS8N,GAA2B9N,EAAK+N,EAAKd,EAAMC,GACzD,IAAIc,EAAQ7O,KAAKuO,IAAIK,EAAIE,UAAY9O,KAAKK,GAAK,KAC3C0O,EAAU/O,KAAKuO,IAAIK,EAAII,YAAchP,KAAKK,GAAK,KAC/C4O,EAAUjP,KAAKuO,IAAIK,EAAIM,YAAclP,KAAKK,GAAK,KAC/C8O,EAAWnP,KAAKuO,IAAIK,EAAIQ,aAAepP,KAAKK,GAAK,KACjDgP,EAAS,GAAOJ,EAAUE,GAC1BG,EAAS,GAAOT,EAAQE,GAiB5B,OAhBAlO,EAAI,GAAKwO,EACTxO,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKyO,EACTzO,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAQoO,EAAUE,GAAYE,EAAS,GAC3CxO,EAAI,IAAMgO,EAAQE,GAAWO,EAAS,GACtCzO,EAAI,IAAMkN,GAAOD,EAAOC,GACxBlN,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAMkN,EAAMD,GAAQA,EAAOC,GAC/BlN,EAAI,IAAM,EACHA,CACT,CAgBO,SAAS0O,GAAQ1O,EAAK6M,EAAMC,EAAOC,EAAQC,EAAKC,EAAMC,GAC3D,IAAIyB,EAAK,GAAK9B,EAAOC,GACjB8B,EAAK,GAAK7B,EAASC,GACnBK,EAAK,GAAKJ,EAAOC,GAiBrB,OAhBAlN,EAAI,IAAM,EAAI2O,EACd3O,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAI4O,EACd5O,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIqN,EACdrN,EAAI,IAAM,EACVA,EAAI,KAAO6M,EAAOC,GAAS6B,EAC3B3O,EAAI,KAAOgN,EAAMD,GAAU6B,EAC3B5O,EAAI,KAAOkN,EAAMD,GAAQI,EACzBrN,EAAI,IAAM,EACHA,CACT,CAMO,IAAI6O,GAAQH,GAgBZ,SAASI,GAAQ9O,EAAK6M,EAAMC,EAAOC,EAAQC,EAAKC,EAAMC,GAC3D,IAAIyB,EAAK,GAAK9B,EAAOC,GACjB8B,EAAK,GAAK7B,EAASC,GACnBK,EAAK,GAAKJ,EAAOC,GAiBrB,OAhBAlN,EAAI,IAAM,EAAI2O,EACd3O,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAI4O,EACd5O,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAMqN,EACVrN,EAAI,IAAM,EACVA,EAAI,KAAO6M,EAAOC,GAAS6B,EAC3B3O,EAAI,KAAOgN,EAAMD,GAAU6B,EAC3B5O,EAAI,IAAMiN,EAAOI,EACjBrN,EAAI,IAAM,EACHA,CACT,CAYO,SAAS+O,GAAO/O,EAAKgP,EAAKC,EAAQC,GACvC,IAAIC,EAAIC,EAAIhJ,EAAIiJ,EAAIC,EAAIjJ,EAAIkJ,EAAIC,EAAIlJ,EAAI2C,EACpCwG,EAAOT,EAAI,GACXU,EAAOV,EAAI,GACXW,EAAOX,EAAI,GACXY,EAAMV,EAAG,GACTW,EAAMX,EAAG,GACTY,EAAMZ,EAAG,GACTa,EAAUd,EAAO,GACjBe,EAAUf,EAAO,GACjBgB,EAAUhB,EAAO,GAErB,OAAI9P,KAAKU,IAAI4P,EAAOM,GAAW,GAAoB5Q,KAAKU,IAAI6P,EAAOM,GAAW,GAAoB7Q,KAAKU,IAAI8P,EAAOM,GAAW,EACpH,GAASjQ,IAGlBuP,EAAKE,EAAOM,EACZP,EAAKE,EAAOM,EACZ1J,EAAKqJ,EAAOM,EAKZd,EAAKU,GADLvJ,GAHA2C,EAAM,EAAI9J,KAAKmD,MAAMiN,EAAIC,EAAIlJ,IAIbwJ,GAFhBN,GAAMvG,GAGNmG,EAAKU,GAJLP,GAAMtG,GAIU2G,EAAMtJ,EACtBF,EAAKwJ,EAAMJ,EAAKK,EAAMN,GACtBtG,EAAM9J,KAAKmD,MAAM6M,EAAIC,EAAIhJ,KAQvB+I,GADAlG,EAAM,EAAIA,EAEVmG,GAAMnG,EACN7C,GAAM6C,IAPNkG,EAAK,EACLC,EAAK,EACLhJ,EAAK,GAQPiJ,EAAKG,EAAKpJ,EAAKE,EAAK8I,EACpBE,EAAKhJ,EAAK6I,EAAKI,EAAKnJ,EACpBC,EAAKkJ,EAAKH,EAAKI,EAAKL,GACpBlG,EAAM9J,KAAKmD,MAAM+M,EAAIC,EAAIjJ,KAQvBgJ,GADApG,EAAM,EAAIA,EAEVqG,GAAMrG,EACN5C,GAAM4C,IAPNoG,EAAK,EACLC,EAAK,EACLjJ,EAAK,GAQPrG,EAAI,GAAKmP,EACTnP,EAAI,GAAKqP,EACTrP,EAAI,GAAKuP,EACTvP,EAAI,GAAK,EACTA,EAAI,GAAKoP,EACTpP,EAAI,GAAKsP,EACTtP,EAAI,GAAKwP,EACTxP,EAAI,GAAK,EACTA,EAAI,GAAKoG,EACTpG,EAAI,GAAKqG,EACTrG,EAAI,IAAMsG,EACVtG,EAAI,IAAM,EACVA,EAAI,MAAQmP,EAAKM,EAAOL,EAAKM,EAAOtJ,EAAKuJ,GACzC3P,EAAI,MAAQqP,EAAKI,EAAOH,EAAKI,EAAOrJ,EAAKsJ,GACzC3P,EAAI,MAAQuP,EAAKE,EAAOD,EAAKE,EAAOpJ,EAAKqJ,GACzC3P,EAAI,IAAM,EACHA,EACT,CAWO,SAASkQ,GAASlQ,EAAKgP,EAAKmB,EAAQjB,GACzC,IAAIO,EAAOT,EAAI,GACXU,EAAOV,EAAI,GACXW,EAAOX,EAAI,GACXY,EAAMV,EAAG,GACTW,EAAMX,EAAG,GACTY,EAAMZ,EAAG,GACTK,EAAKE,EAAOU,EAAO,GACnBX,EAAKE,EAAOS,EAAO,GACnB7J,EAAKqJ,EAAOQ,EAAO,GACnBlH,EAAMsG,EAAKA,EAAKC,EAAKA,EAAKlJ,EAAKA,EAE/B2C,EAAM,IAERsG,GADAtG,EAAM,EAAI9J,KAAKiE,KAAK6F,GAEpBuG,GAAMvG,EACN3C,GAAM2C,GAGR,IAAIkG,EAAKU,EAAMvJ,EAAKwJ,EAAMN,EACtBJ,EAAKU,EAAMP,EAAKK,EAAMtJ,EACtBF,EAAKwJ,EAAMJ,EAAKK,EAAMN,EA0B1B,OAzBAtG,EAAMkG,EAAKA,EAAKC,EAAKA,EAAKhJ,EAAKA,GAErB,IAER+I,GADAlG,EAAM,EAAI9J,KAAKiE,KAAK6F,GAEpBmG,GAAMnG,EACN7C,GAAM6C,GAGRjJ,EAAI,GAAKmP,EACTnP,EAAI,GAAKoP,EACTpP,EAAI,GAAKoG,EACTpG,EAAI,GAAK,EACTA,EAAI,GAAKwP,EAAKpJ,EAAKE,EAAK8I,EACxBpP,EAAI,GAAKsG,EAAK6I,EAAKI,EAAKnJ,EACxBpG,EAAI,GAAKuP,EAAKH,EAAKI,EAAKL,EACxBnP,EAAI,GAAK,EACTA,EAAI,GAAKuP,EACTvP,EAAI,GAAKwP,EACTxP,EAAI,IAAMsG,EACVtG,EAAI,IAAM,EACVA,EAAI,IAAMyP,EACVzP,EAAI,IAAM0P,EACV1P,EAAI,IAAM2P,EACV3P,EAAI,IAAM,EACHA,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,GAClP,CAQO,SAAS,GAAKA,GACnB,OAAOP,KAAKmD,MAAM5C,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IACrH,CAUO,SAAS,GAAIM,EAAKN,EAAGE,GAiB1B,OAhBAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACbI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAiB/B,OAhBAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACpBI,EAAI,IAAMN,EAAE,IAAME,EAAE,IACbI,CACT,CAUO,SAAS,GAAeA,EAAKN,EAAGE,GAiBrC,OAhBAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,IAAMN,EAAE,IAAME,EAClBI,EAAI,IAAMN,EAAE,IAAME,EAClBI,EAAI,IAAMN,EAAE,IAAME,EAClBI,EAAI,IAAMN,EAAE,IAAME,EAClBI,EAAI,IAAMN,EAAE,IAAME,EAClBI,EAAI,IAAMN,EAAE,IAAME,EACXI,CACT,CAWO,SAAS,GAAqBA,EAAKN,EAAGE,EAAGkC,GAiB9C,OAhBA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,IAAMN,EAAE,IAAME,EAAE,IAAMkC,EAC1B9B,EAAI,IAAMN,EAAE,IAAME,EAAE,IAAMkC,EAC1B9B,EAAI,IAAMN,EAAE,IAAME,EAAE,IAAMkC,EAC1B9B,EAAI,IAAMN,EAAE,IAAME,EAAE,IAAMkC,EAC1B9B,EAAI,IAAMN,EAAE,IAAME,EAAE,IAAMkC,EAC1B9B,EAAI,IAAMN,EAAE,IAAME,EAAE,IAAMkC,EACnB9B,CACT,CASO,SAAS,GAAYN,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,MAAQE,EAAE,KAAOF,EAAE,MAAQE,EAAE,KAAOF,EAAE,MAAQE,EAAE,KAAOF,EAAE,MAAQE,EAAE,KAAOF,EAAE,MAAQE,EAAE,KAAOF,EAAE,MAAQE,EAAE,GAC9R,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPwI,EAAKxI,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACP0Q,EAAK1Q,EAAE,GACPsF,EAAMtF,EAAE,IACRuF,EAAMvF,EAAE,IACRoF,EAAMpF,EAAE,IACRwH,EAAMxH,EAAE,IACR2Q,EAAM3Q,EAAE,IACR4Q,EAAM5Q,EAAE,IACR0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACP2I,EAAK3I,EAAE,GACP2Q,EAAK3Q,EAAE,GACP8F,EAAM9F,EAAE,IACR0F,EAAM1F,EAAE,IACR+F,EAAM/F,EAAE,IACR4Q,EAAM5Q,EAAE,IACR6Q,EAAM7Q,EAAE,IACR8Q,EAAM9Q,EAAE,IACZ,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,KAAQnC,KAAKU,IAAIkB,EAAKQ,IAAO,EAAmBpC,KAAKW,IAAI,EAAKX,KAAKU,IAAIkB,GAAK5B,KAAKU,IAAI0B,KAAQpC,KAAKU,IAAImE,EAAKE,IAAO,EAAmB/E,KAAKW,IAAI,EAAKX,KAAKU,IAAImE,GAAK7E,KAAKU,IAAIqE,KAAQ/E,KAAKU,IAAIoE,EAAKE,IAAO,EAAmBhF,KAAKW,IAAI,EAAKX,KAAKU,IAAIoE,GAAK9E,KAAKU,IAAIsE,KAAQhF,KAAKU,IAAIqI,EAAKG,IAAO,EAAmBlJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIqI,GAAK/I,KAAKU,IAAIwI,KAAQlJ,KAAKU,IAAIsI,EAAKG,IAAO,EAAmBnJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIsI,GAAKhJ,KAAKU,IAAIyI,KAAQnJ,KAAKU,IAAIuI,EAAKG,IAAO,EAAmBpJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIuI,GAAKjJ,KAAKU,IAAI0I,KAAQpJ,KAAKU,IAAIuQ,EAAKG,IAAO,EAAmBpR,KAAKW,IAAI,EAAKX,KAAKU,IAAIuQ,GAAKjR,KAAKU,IAAI0Q,KAAQpR,KAAKU,IAAImF,EAAMU,IAAQ,EAAmBvG,KAAKW,IAAI,EAAKX,KAAKU,IAAImF,GAAM7F,KAAKU,IAAI6F,KAASvG,KAAKU,IAAIoF,EAAMK,IAAQ,EAAmBnG,KAAKW,IAAI,EAAKX,KAAKU,IAAIoF,GAAM9F,KAAKU,IAAIyF,KAASnG,KAAKU,IAAIiF,EAAMa,IAAQ,EAAmBxG,KAAKW,IAAI,EAAKX,KAAKU,IAAIiF,GAAM3F,KAAKU,IAAI8F,KAASxG,KAAKU,IAAIqH,EAAMsJ,IAAQ,EAAmBrR,KAAKW,IAAI,EAAKX,KAAKU,IAAIqH,GAAM/H,KAAKU,IAAI2Q,KAASrR,KAAKU,IAAIwQ,EAAMI,IAAQ,EAAmBtR,KAAKW,IAAI,EAAKX,KAAKU,IAAIwQ,GAAMlR,KAAKU,IAAI4Q,KAAStR,KAAKU,IAAIyQ,EAAMI,IAAQ,EAAmBvR,KAAKW,IAAI,EAAKX,KAAKU,IAAIyQ,GAAMnR,KAAKU,IAAI6Q,GACx2C,CAMO,IAAI,GAAM,GAMN,GAAM,GCz2DV,SAAS,KACd,IAAI1Q,EAAM,IAAI,EAAoB,GAQlC,OANI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,CACT,CAQO,SAAS,GAAMN,GACpB,IAAIM,EAAM,IAAI,EAAoB,GAIlC,OAHAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAQO,SAAS,GAAON,GACrB,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACV,OAAOP,KAAKmD,MAAMwD,EAAG9C,EAAGkD,EAC1B,CAUO,SAAS,GAAWJ,EAAG9C,EAAGkD,GAC/B,IAAIlG,EAAM,IAAI,EAAoB,GAIlC,OAHAA,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACThD,EAAI,GAAKkG,EACFlG,CACT,CASO,SAAS,GAAKA,EAAKN,GAIxB,OAHAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAWO,SAAS,GAAIA,EAAK8F,EAAG9C,EAAGkD,GAI7B,OAHAlG,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACThD,EAAI,GAAKkG,EACFlG,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAI1B,OAHAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAI/B,OAHAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAI/B,OAHAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS2Q,GAAO3Q,EAAKN,EAAGE,GAI7B,OAHAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CASO,SAAS4Q,GAAK5Q,EAAKN,GAIxB,OAHAM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACrBM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACrBM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACdM,CACT,CASO,SAAS6Q,GAAM7Q,EAAKN,GAIzB,OAHAM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACtBM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACtBM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACfM,CACT,CAUO,SAAS8Q,GAAI9Q,EAAKN,EAAGE,GAI1B,OAHAI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IACnBI,CACT,CAUO,SAASF,GAAIE,EAAKN,EAAGE,GAI1B,OAHAI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IACnBI,CACT,CASO,SAAS+Q,GAAM/Q,EAAKN,GAIzB,OAHAM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACtBM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACtBM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACfM,CACT,CAUO,SAAS,GAAMA,EAAKN,EAAGE,GAI5B,OAHAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAWO,SAASgR,GAAYhR,EAAKN,EAAGE,EAAGkC,GAIrC,OAHA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EAChB9B,CACT,CASO,SAASiR,GAASvR,EAAGE,GAC1B,IAAIkG,EAAIlG,EAAE,GAAKF,EAAE,GACbsD,EAAIpD,EAAE,GAAKF,EAAE,GACbwG,EAAItG,EAAE,GAAKF,EAAE,GACjB,OAAOP,KAAKmD,MAAMwD,EAAG9C,EAAGkD,EAC1B,CASO,SAASgL,GAAgBxR,EAAGE,GACjC,IAAIkG,EAAIlG,EAAE,GAAKF,EAAE,GACbsD,EAAIpD,EAAE,GAAKF,EAAE,GACbwG,EAAItG,EAAE,GAAKF,EAAE,GACjB,OAAOoG,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,CAC7B,CAQO,SAASiL,GAAczR,GAC5B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACV,OAAOoG,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,CAC7B,CASO,SAASkL,GAAOpR,EAAKN,GAI1B,OAHAM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACLM,CACT,CASO,SAASqR,GAAQrR,EAAKN,GAI3B,OAHAM,EAAI,GAAK,EAAMN,EAAE,GACjBM,EAAI,GAAK,EAAMN,EAAE,GACjBM,EAAI,GAAK,EAAMN,EAAE,GACVM,CACT,CASO,SAASsR,GAAUtR,EAAKN,GAC7B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNuJ,EAAMnD,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,EAU9B,OARI+C,EAAM,IAERA,EAAM,EAAI9J,KAAKiE,KAAK6F,IAGtBjJ,EAAI,GAAKN,EAAE,GAAKuJ,EAChBjJ,EAAI,GAAKN,EAAE,GAAKuJ,EAChBjJ,EAAI,GAAKN,EAAE,GAAKuJ,EACTjJ,CACT,CASO,SAAS,GAAIN,EAAGE,GACrB,OAAOF,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,EAC9C,CAUO,SAAS2R,GAAMvR,EAAKN,EAAGE,GAC5B,IAAIsK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACPoK,EAAKlK,EAAE,GACPmK,EAAKnK,EAAE,GACPoK,EAAKpK,EAAE,GAIX,OAHAI,EAAI,GAAKmK,EAAKH,EAAKI,EAAKL,EACxB/J,EAAI,GAAKoK,EAAKN,EAAKI,EAAKF,EACxBhK,EAAI,GAAKkK,EAAKH,EAAKI,EAAKL,EACjB9J,CACT,CAWO,SAASwR,GAAKxR,EAAKN,EAAGE,EAAGoJ,GAC9B,IAAIkB,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GAIX,OAHAM,EAAI,GAAKkK,EAAKlB,GAAKpJ,EAAE,GAAKsK,GAC1BlK,EAAI,GAAKmK,EAAKnB,GAAKpJ,EAAE,GAAKuK,GAC1BnK,EAAI,GAAKoK,EAAKpB,GAAKpJ,EAAE,GAAKwK,GACnBpK,CACT,CAaO,SAASyR,GAAQzR,EAAKN,EAAGE,EAAGgC,EAAG2B,EAAGyF,GACvC,IAAI0I,EAAe1I,EAAIA,EACnB2I,EAAUD,GAAgB,EAAI1I,EAAI,GAAK,EACvC4I,EAAUF,GAAgB1I,EAAI,GAAKA,EACnC6I,EAAUH,GAAgB1I,EAAI,GAC9B8I,EAAUJ,GAAgB,EAAI,EAAI1I,GAItC,OAHAhJ,EAAI,GAAKN,EAAE,GAAKiS,EAAU/R,EAAE,GAAKgS,EAAUhQ,EAAE,GAAKiQ,EAAUtO,EAAE,GAAKuO,EACnE9R,EAAI,GAAKN,EAAE,GAAKiS,EAAU/R,EAAE,GAAKgS,EAAUhQ,EAAE,GAAKiQ,EAAUtO,EAAE,GAAKuO,EACnE9R,EAAI,GAAKN,EAAE,GAAKiS,EAAU/R,EAAE,GAAKgS,EAAUhQ,EAAE,GAAKiQ,EAAUtO,EAAE,GAAKuO,EAC5D9R,CACT,CAaO,SAAS+R,GAAO/R,EAAKN,EAAGE,EAAGgC,EAAG2B,EAAGyF,GACtC,IAAIgJ,EAAgB,EAAIhJ,EACpBiJ,EAAwBD,EAAgBA,EACxCN,EAAe1I,EAAIA,EACnB2I,EAAUM,EAAwBD,EAClCJ,EAAU,EAAI5I,EAAIiJ,EAClBJ,EAAU,EAAIH,EAAeM,EAC7BF,EAAUJ,EAAe1I,EAI7B,OAHAhJ,EAAI,GAAKN,EAAE,GAAKiS,EAAU/R,EAAE,GAAKgS,EAAUhQ,EAAE,GAAKiQ,EAAUtO,EAAE,GAAKuO,EACnE9R,EAAI,GAAKN,EAAE,GAAKiS,EAAU/R,EAAE,GAAKgS,EAAUhQ,EAAE,GAAKiQ,EAAUtO,EAAE,GAAKuO,EACnE9R,EAAI,GAAKN,EAAE,GAAKiS,EAAU/R,EAAE,GAAKgS,EAAUhQ,EAAE,GAAKiQ,EAAUtO,EAAE,GAAKuO,EAC5D9R,CACT,CASO,SAASZ,GAAOY,EAAK8B,GAC1BA,EAAQA,GAAS,EACjB,IAAIoQ,EAAwB,EAApB,IAA0B/S,KAAKK,GACnC0G,EAAwB,EAApB,IAA0B,EAC9BiM,EAAShT,KAAKiE,KAAK,EAAM8C,EAAIA,GAAKpE,EAItC,OAHA9B,EAAI,GAAKb,KAAK0C,IAAIqQ,GAAKC,EACvBnS,EAAI,GAAKb,KAAKwC,IAAIuQ,GAAKC,EACvBnS,EAAI,GAAKkG,EAAIpE,EACN9B,CACT,CAWO,SAASoS,GAAcpS,EAAKN,EAAG2S,GACpC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIkM,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,IAAMnM,EAAImM,EAAE,IAK5C,OAJAlM,EAAIA,GAAK,EACTnG,EAAI,IAAMqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,KAAOlM,EACpDnG,EAAI,IAAMqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,KAAOlM,EACpDnG,EAAI,IAAMqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,IAAMnM,EAAImM,EAAE,KAAOlM,EAC9CnG,CACT,CAUO,SAASsS,GAActS,EAAKN,EAAG2S,GACpC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GAIV,OAHAM,EAAI,GAAK8F,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,GACrCrS,EAAI,GAAK8F,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,GACrCrS,EAAI,GAAK8F,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,GAC9BrS,CACT,CAWO,SAASuS,GAAcvS,EAAKN,EAAGuG,GAEpC,IAAIuM,EAAKvM,EAAE,GACPwM,EAAKxM,EAAE,GACPyM,EAAKzM,EAAE,GACP0M,EAAK1M,EAAE,GACPH,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GAGNkT,EAAMH,EAAKvM,EAAIwM,EAAK1P,EACpB6P,EAAMH,EAAK5M,EAAI0M,EAAKtM,EACpB4M,EAAMN,EAAKxP,EAAIyP,EAAK3M,EAEpBiN,EAAON,EAAKK,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAMJ,EAAKM,EACvBG,EAAOT,EAAKK,EAAMJ,EAAKG,EAEvBM,EAAU,EAALP,EAYT,OAXAC,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EAEPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAERjT,EAAI,GAAK8F,EAAI8M,EAAMG,EACnB/S,EAAI,GAAKgD,EAAI6P,EAAMG,EACnBhT,EAAI,GAAKkG,EAAI4M,EAAMG,EACZjT,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAGE,EAAG6B,GACjC,IAAI0R,EAAI,GACJjB,EAAI,GAaR,OAXAiB,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAChBuT,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAChBuT,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAEhBsS,EAAE,GAAKiB,EAAE,GACTjB,EAAE,GAAKiB,EAAE,GAAKhU,KAAK0C,IAAIJ,GAAO0R,EAAE,GAAKhU,KAAKwC,IAAIF,GAC9CyQ,EAAE,GAAKiB,EAAE,GAAKhU,KAAKwC,IAAIF,GAAO0R,EAAE,GAAKhU,KAAK0C,IAAIJ,GAE9CzB,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GAClBI,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GAClBI,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GACXI,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAGE,EAAG6B,GACjC,IAAI0R,EAAI,GACJjB,EAAI,GAaR,OAXAiB,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAChBuT,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAChBuT,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAEhBsS,EAAE,GAAKiB,EAAE,GAAKhU,KAAKwC,IAAIF,GAAO0R,EAAE,GAAKhU,KAAK0C,IAAIJ,GAC9CyQ,EAAE,GAAKiB,EAAE,GACTjB,EAAE,GAAKiB,EAAE,GAAKhU,KAAK0C,IAAIJ,GAAO0R,EAAE,GAAKhU,KAAKwC,IAAIF,GAE9CzB,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GAClBI,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GAClBI,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GACXI,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAGE,EAAG6B,GACjC,IAAI0R,EAAI,GACJjB,EAAI,GAaR,OAXAiB,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAChBuT,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAChBuT,EAAE,GAAKzT,EAAE,GAAKE,EAAE,GAEhBsS,EAAE,GAAKiB,EAAE,GAAKhU,KAAK0C,IAAIJ,GAAO0R,EAAE,GAAKhU,KAAKwC,IAAIF,GAC9CyQ,EAAE,GAAKiB,EAAE,GAAKhU,KAAKwC,IAAIF,GAAO0R,EAAE,GAAKhU,KAAK0C,IAAIJ,GAC9CyQ,EAAE,GAAKiB,EAAE,GAETnT,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GAClBI,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GAClBI,EAAI,GAAKkS,EAAE,GAAKtS,EAAE,GACXI,CACT,CAQO,SAASoT,GAAM1T,EAAGE,GACvB,IAAIsK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACPoK,EAAKlK,EAAE,GACPmK,EAAKnK,EAAE,GACPoK,EAAKpK,EAAE,GAGPyT,EAFOlU,KAAKiE,KAAK8G,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GACnCjL,KAAKiE,KAAK0G,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GAE1CsJ,EAASD,GAAO,GAAI3T,EAAGE,GAAKyT,EAChC,OAAOlU,KAAKoU,KAAKpU,KAAK2R,IAAI3R,KAAKW,IAAIwT,GAAS,GAAI,GAClD,CAQO,SAASE,GAAKxT,GAInB,OAHAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GACtD,CASO,SAAS,GAAYA,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EACtD,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,GAChQ,CAMO,IAmDDmS,GAnDK,GAAM,GAMN,GAAM,GAMNC,GAAM/C,GAMNgD,GAAO1C,GAMP2C,GAAU1C,GAMVjI,GAAM,GAMN4K,GAAS1C,GAcT2C,IACLL,GAAM,KACH,SAAU/T,EAAGqU,EAAQC,EAAQC,EAAOC,EAAIC,GAC7C,IAAIlR,EAAGmR,EAgBP,IAdKL,IACHA,EAAS,GAGNC,IACHA,EAAS,GAITI,EADEH,EACE9U,KAAK2R,IAAImD,EAAQF,EAASC,EAAQtU,EAAEyD,QAEpCzD,EAAEyD,OAGHF,EAAI+Q,EAAQ/Q,EAAImR,EAAGnR,GAAK8Q,EAC3BN,GAAI,GAAK/T,EAAEuD,GACXwQ,GAAI,GAAK/T,EAAEuD,EAAI,GACfwQ,GAAI,GAAK/T,EAAEuD,EAAI,GACfiR,EAAGT,GAAKA,GAAKU,GACbzU,EAAEuD,GAAKwQ,GAAI,GACX/T,EAAEuD,EAAI,GAAKwQ,GAAI,GACf/T,EAAEuD,EAAI,GAAKwQ,GAAI,GAGjB,OAAO/T,CACT,GCrwBK,SAAS,KACd,IAAIM,EAAM,IAAI,EAAoB,GASlC,OAPI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,CACT,CAQO,SAAS,GAAMN,GACpB,IAAIM,EAAM,IAAI,EAAoB,GAKlC,OAJAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAWO,SAAS,GAAW8F,EAAG9C,EAAGkD,EAAGC,GAClC,IAAInG,EAAM,IAAI,EAAoB,GAKlC,OAJAA,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACThD,EAAI,GAAKkG,EACTlG,EAAI,GAAKmG,EACFnG,CACT,CASO,SAAS,GAAKA,EAAKN,GAKxB,OAJAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAYO,SAAS,GAAIA,EAAK8F,EAAG9C,EAAGkD,EAAGC,GAKhC,OAJAnG,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACThD,EAAI,GAAKkG,EACTlG,EAAI,GAAKmG,EACFnG,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAK1B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAK/B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAK/B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAAOA,EAAKN,EAAGE,GAK7B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CASO,SAAS,GAAKA,EAAKN,GAKxB,OAJAM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACrBM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACrBM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACrBM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACdM,CACT,CASO,SAAS,GAAMA,EAAKN,GAKzB,OAJAM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACtBM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACtBM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACtBM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACfM,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAK1B,OAJAI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IACnBI,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAK1B,OAJAI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IACnBI,CACT,CASO,SAAS,GAAMA,EAAKN,GAKzB,OAJAM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACtBM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACtBM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACtBM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACfM,CACT,CAUO,SAAS,GAAMA,EAAKN,EAAGE,GAK5B,OAJAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAWO,SAAS,GAAYA,EAAKN,EAAGE,EAAGkC,GAKrC,OAJA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EAChB9B,CACT,CASO,SAAS,GAASN,EAAGE,GAC1B,IAAIkG,EAAIlG,EAAE,GAAKF,EAAE,GACbsD,EAAIpD,EAAE,GAAKF,EAAE,GACbwG,EAAItG,EAAE,GAAKF,EAAE,GACbyG,EAAIvG,EAAE,GAAKF,EAAE,GACjB,OAAOP,KAAKmD,MAAMwD,EAAG9C,EAAGkD,EAAGC,EAC7B,CASO,SAAS,GAAgBzG,EAAGE,GACjC,IAAIkG,EAAIlG,EAAE,GAAKF,EAAE,GACbsD,EAAIpD,EAAE,GAAKF,EAAE,GACbwG,EAAItG,EAAE,GAAKF,EAAE,GACbyG,EAAIvG,EAAE,GAAKF,EAAE,GACjB,OAAOoG,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,EAAIC,EAAIA,CACrC,CAQO,SAAS,GAAOzG,GACrB,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIzG,EAAE,GACV,OAAOP,KAAKmD,MAAMwD,EAAG9C,EAAGkD,EAAGC,EAC7B,CAQO,SAAS,GAAczG,GAC5B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIzG,EAAE,GACV,OAAOoG,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,EAAIC,EAAIA,CACrC,CASO,SAAS,GAAOnG,EAAKN,GAK1B,OAJAM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACLM,CACT,CASO,SAAS,GAAQA,EAAKN,GAK3B,OAJAM,EAAI,GAAK,EAAMN,EAAE,GACjBM,EAAI,GAAK,EAAMN,EAAE,GACjBM,EAAI,GAAK,EAAMN,EAAE,GACjBM,EAAI,GAAK,EAAMN,EAAE,GACVM,CACT,CASO,SAAS,GAAUA,EAAKN,GAC7B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIzG,EAAE,GACNuJ,EAAMnD,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,EAAIC,EAAIA,EAUtC,OARI8C,EAAM,IACRA,EAAM,EAAI9J,KAAKiE,KAAK6F,IAGtBjJ,EAAI,GAAK8F,EAAImD,EACbjJ,EAAI,GAAKgD,EAAIiG,EACbjJ,EAAI,GAAKkG,EAAI+C,EACbjJ,EAAI,GAAKmG,EAAI8C,EACNjJ,CACT,CASO,SAASqU,GAAI3U,EAAGE,GACrB,OAAOF,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,EAC5D,CAWO,SAAS,GAAMI,EAAKsU,EAAGvS,EAAGoE,GAC/B,IAAIoO,EAAIxS,EAAE,GAAKoE,EAAE,GAAKpE,EAAE,GAAKoE,EAAE,GAC3BqO,EAAIzS,EAAE,GAAKoE,EAAE,GAAKpE,EAAE,GAAKoE,EAAE,GAC3BsO,EAAI1S,EAAE,GAAKoE,EAAE,GAAKpE,EAAE,GAAKoE,EAAE,GAC3B1D,EAAIV,EAAE,GAAKoE,EAAE,GAAKpE,EAAE,GAAKoE,EAAE,GAC3BuO,EAAI3S,EAAE,GAAKoE,EAAE,GAAKpE,EAAE,GAAKoE,EAAE,GAC3BwO,EAAI5S,EAAE,GAAKoE,EAAE,GAAKpE,EAAE,GAAKoE,EAAE,GAC3ByO,EAAIN,EAAE,GACNO,EAAIP,EAAE,GACNQ,EAAIR,EAAE,GACNS,EAAIT,EAAE,GAKV,OAJAtU,EAAI,GAAK6U,EAAIF,EAAIG,EAAIJ,EAAIK,EAAItS,EAC7BzC,EAAI,IAAO4U,EAAID,EAAKG,EAAIL,EAAIM,EAAIP,EAChCxU,EAAI,GAAK4U,EAAIF,EAAIG,EAAIJ,EAAIM,EAAIR,EAC7BvU,EAAI,IAAO4U,EAAInS,EAAKoS,EAAIL,EAAIM,EAAIP,EACzBvU,CACT,CAWO,SAAS,GAAKA,EAAKN,EAAGE,EAAGoJ,GAC9B,IAAIkB,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GAKX,OAJAM,EAAI,GAAKkK,EAAKlB,GAAKpJ,EAAE,GAAKsK,GAC1BlK,EAAI,GAAKmK,EAAKnB,GAAKpJ,EAAE,GAAKuK,GAC1BnK,EAAI,GAAKoK,EAAKpB,GAAKpJ,EAAE,GAAKwK,GAC1BpK,EAAI,GAAKqK,EAAKrB,GAAKpJ,EAAE,GAAKyK,GACnBrK,CACT,CASO,SAAS,GAAOA,EAAK8B,GAK1B,IAAIG,EAAI+S,EAAIC,EAAIC,EACZC,EAAIC,EALRtT,EAAQA,GAAS,EAOjB,GAGEqT,GAFAlT,EAAyB,EAApB,IAAwB,GAEnBA,GADV+S,EAAyB,EAApB,IAAwB,GACTA,QACbG,GAAM,GAEf,GAGEC,GAFAH,EAAyB,EAApB,IAAwB,GAEnBA,GADVC,EAAyB,EAApB,IAAwB,GACTA,QACbE,GAAM,GAEf,IAAI7R,EAAIpE,KAAKiE,MAAM,EAAI+R,GAAMC,GAK7B,OAJApV,EAAI,GAAK8B,EAAQG,EACjBjC,EAAI,GAAK8B,EAAQkT,EACjBhV,EAAI,GAAK8B,EAAQmT,EAAK1R,EACtBvD,EAAI,GAAK8B,EAAQoT,EAAK3R,EACfvD,CACT,CAUO,SAAS,GAAcA,EAAKN,EAAG2S,GACpC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIzG,EAAE,GAKV,OAJAM,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,IAAMlM,EAClDnG,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAAKnM,EAAImM,EAAE,IAAMlM,EAClDnG,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,IAAMnM,EAAImM,EAAE,IAAMlM,EACnDnG,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,IAAMnM,EAAImM,EAAE,IAAMlM,EAC5CnG,CACT,CAUO,SAAS,GAAcA,EAAKN,EAAGuG,GACpC,IAAIH,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACN8S,EAAKvM,EAAE,GACPwM,EAAKxM,EAAE,GACPyM,EAAKzM,EAAE,GACP0M,EAAK1M,EAAE,GAEPoP,EAAK1C,EAAK7M,EAAI2M,EAAKvM,EAAIwM,EAAK1P,EAC5BsS,EAAK3C,EAAK3P,EAAI0P,EAAK5M,EAAI0M,EAAKtM,EAC5BqP,EAAK5C,EAAKzM,EAAIsM,EAAKxP,EAAIyP,EAAK3M,EAC5B0P,GAAMhD,EAAK1M,EAAI2M,EAAKzP,EAAI0P,EAAKxM,EAMjC,OAJAlG,EAAI,GAAKqV,EAAK1C,EAAK6C,GAAMhD,EAAK8C,GAAM5C,EAAK6C,GAAM9C,EAC/CzS,EAAI,GAAKsV,EAAK3C,EAAK6C,GAAM/C,EAAK8C,GAAM/C,EAAK6C,GAAM3C,EAC/C1S,EAAI,GAAKuV,EAAK5C,EAAK6C,GAAM9C,EAAK2C,GAAM5C,EAAK6C,GAAM9C,EAC/CxS,EAAI,GAAKN,EAAE,GACJM,CACT,CAQO,SAAS,GAAKA,GAKnB,OAJAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GACpE,CASO,SAAS,GAAYA,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EACvE,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,KAAQnC,KAAKU,IAAIkB,EAAKQ,IAAO,EAAmBpC,KAAKW,IAAI,EAAKX,KAAKU,IAAIkB,GAAK5B,KAAKU,IAAI0B,GACrV,CAMO,IAAI,GAAM,GAMN,GAAM,GAMN,GAAM,GAMN,GAAO,GAMP,GAAU,GAMV,GAAM,GAMN,GAAS,GAcT,GAAU,WACnB,IAAIkS,EAAM,KACV,OAAO,SAAU/T,EAAGqU,EAAQC,EAAQC,EAAOC,EAAIC,GAC7C,IAAIlR,EAAGmR,EAgBP,IAdKL,IACHA,EAAS,GAGNC,IACHA,EAAS,GAITI,EADEH,EACE9U,KAAK2R,IAAImD,EAAQF,EAASC,EAAQtU,EAAEyD,QAEpCzD,EAAEyD,OAGHF,EAAI+Q,EAAQ/Q,EAAImR,EAAGnR,GAAK8Q,EAC3BN,EAAI,GAAK/T,EAAEuD,GACXwQ,EAAI,GAAK/T,EAAEuD,EAAI,GACfwQ,EAAI,GAAK/T,EAAEuD,EAAI,GACfwQ,EAAI,GAAK/T,EAAEuD,EAAI,GACfiR,EAAGT,EAAKA,EAAKU,GACbzU,EAAEuD,GAAKwQ,EAAI,GACX/T,EAAEuD,EAAI,GAAKwQ,EAAI,GACf/T,EAAEuD,EAAI,GAAKwQ,EAAI,GACf/T,EAAEuD,EAAI,GAAKwQ,EAAI,GAGjB,OAAO/T,CACT,CACF,CAjCqB,GCtmBd,SAAS,KACd,IAAIM,EAAM,IAAI,EAAoB,GASlC,OAPI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACFA,CACT,CAQO,SAAS,GAASA,GAKvB,OAJAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAWO,SAASyV,GAAazV,EAAK+I,EAAMtH,GACtCA,GAAY,GACZ,IAAIC,EAAIvC,KAAKwC,IAAIF,GAKjB,OAJAzB,EAAI,GAAK0B,EAAIqH,EAAK,GAClB/I,EAAI,GAAK0B,EAAIqH,EAAK,GAClB/I,EAAI,GAAK0B,EAAIqH,EAAK,GAClB/I,EAAI,GAAKb,KAAK0C,IAAIJ,GACXzB,CACT,CAeO,SAAS0V,GAAaC,EAAU1P,GACrC,IAAIxE,EAAwB,EAAlBtC,KAAKoU,KAAKtN,EAAE,IAClBvE,EAAIvC,KAAKwC,IAAIF,EAAM,GAavB,OAXIC,EAAI,GACNiU,EAAS,GAAK1P,EAAE,GAAKvE,EACrBiU,EAAS,GAAK1P,EAAE,GAAKvE,EACrBiU,EAAS,GAAK1P,EAAE,GAAKvE,IAGrBiU,EAAS,GAAK,EACdA,EAAS,GAAK,EACdA,EAAS,GAAK,GAGTlU,CACT,CASO,SAASmU,GAASlW,EAAGE,GAC1B,IAAIiW,EAAa,GAAInW,EAAGE,GACxB,OAAOT,KAAKoU,KAAK,EAAIsC,EAAaA,EAAa,EACjD,CAUO,SAAS,GAAS7V,EAAKN,EAAGE,GAC/B,IAAIsK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoK,EAAKlK,EAAE,GACPmK,EAAKnK,EAAE,GACPoK,EAAKpK,EAAE,GACPqK,EAAKrK,EAAE,GAKX,OAJAI,EAAI,GAAKkK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,EAC5C/J,EAAI,GAAKmK,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,EAC5ChK,EAAI,GAAKoK,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,EAC5C9J,EAAI,GAAKqK,EAAKJ,EAAKC,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EACrChK,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAG+B,GAC9BA,GAAO,GACP,IAAIyI,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoK,EAAK3K,KAAKwC,IAAIF,GACdwI,EAAK9K,KAAK0C,IAAIJ,GAKlB,OAJAzB,EAAI,GAAKkK,EAAKD,EAAKI,EAAKP,EACxB9J,EAAI,GAAKmK,EAAKF,EAAKG,EAAKN,EACxB9J,EAAI,GAAKoK,EAAKH,EAAKE,EAAKL,EACxB9J,EAAI,GAAKqK,EAAKJ,EAAKC,EAAKJ,EACjB9J,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAG+B,GAC9BA,GAAO,GACP,IAAIyI,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPqK,EAAK5K,KAAKwC,IAAIF,GACdwI,EAAK9K,KAAK0C,IAAIJ,GAKlB,OAJAzB,EAAI,GAAKkK,EAAKD,EAAKG,EAAKL,EACxB/J,EAAI,GAAKmK,EAAKF,EAAKI,EAAKN,EACxB/J,EAAI,GAAKoK,EAAKH,EAAKC,EAAKH,EACxB/J,EAAI,GAAKqK,EAAKJ,EAAKE,EAAKJ,EACjB/J,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAG+B,GAC9BA,GAAO,GACP,IAAIyI,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPsK,EAAK7K,KAAKwC,IAAIF,GACdwI,EAAK9K,KAAK0C,IAAIJ,GAKlB,OAJAzB,EAAI,GAAKkK,EAAKD,EAAKE,EAAKH,EACxBhK,EAAI,GAAKmK,EAAKF,EAAKC,EAAKF,EACxBhK,EAAI,GAAKoK,EAAKH,EAAKI,EAAKL,EACxBhK,EAAI,GAAKqK,EAAKJ,EAAKG,EAAKJ,EACjBhK,CACT,CAWO,SAAS8V,GAAW9V,EAAKN,GAC9B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GAKV,OAJAM,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACThD,EAAI,GAAKkG,EACTlG,EAAI,GAAKb,KAAKiE,KAAKjE,KAAKU,IAAI,EAAMiG,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,IAC/ClG,CACT,CASO,SAAS+V,GAAI/V,EAAKN,GACvB,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIzG,EAAE,GACNwS,EAAI/S,KAAKiE,KAAK0C,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,GAClC8P,EAAK7W,KAAK4W,IAAI5P,GACdzE,EAAIwQ,EAAI,EAAI8D,EAAK7W,KAAKwC,IAAIuQ,GAAKA,EAAI,EAKvC,OAJAlS,EAAI,GAAK8F,EAAIpE,EACb1B,EAAI,GAAKgD,EAAItB,EACb1B,EAAI,GAAKkG,EAAIxE,EACb1B,EAAI,GAAKgW,EAAK7W,KAAK0C,IAAIqQ,GAChBlS,CACT,CASO,SAASiW,GAAGjW,EAAKN,GACtB,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNwG,EAAIxG,EAAE,GACNyG,EAAIzG,EAAE,GACNwS,EAAI/S,KAAKiE,KAAK0C,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,GAClC8C,EAAIkJ,EAAI,EAAI/S,KAAK+W,MAAMhE,EAAG/L,GAAK+L,EAAI,EAKvC,OAJAlS,EAAI,GAAK8F,EAAIkD,EACbhJ,EAAI,GAAKgD,EAAIgG,EACbhJ,EAAI,GAAKkG,EAAI8C,EACbhJ,EAAI,GAAK,GAAMb,KAAKgX,IAAIrQ,EAAIA,EAAI9C,EAAIA,EAAIkD,EAAIA,EAAIC,EAAIA,GAC7CnG,CACT,CAUO,SAASoW,GAAIpW,EAAKN,EAAGE,GAI1B,OAHAqW,GAAGjW,EAAKN,GACR,GAAMM,EAAKA,EAAKJ,GAChBmW,GAAI/V,EAAKA,GACFA,CACT,CAWO,SAASqW,GAAMrW,EAAKN,EAAGE,EAAGoJ,GAG/B,IAQIsN,EAAOC,EAAOC,EAAOC,EAAQC,EAR7BxM,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoK,EAAKlK,EAAE,GACPmK,EAAKnK,EAAE,GACPoK,EAAKpK,EAAE,GACPqK,EAAKrK,EAAE,GAgCX,OA7BA2W,EAAQrM,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,GAE/B,IACVsM,GAASA,EACTzM,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACNC,GAAMA,GAIJ,EAAMsM,EAAQ,GAEhBD,EAAQnX,KAAKoU,KAAKgD,GAClBC,EAAQrX,KAAKwC,IAAI2U,GACjBG,EAAStX,KAAKwC,KAAK,EAAMqH,GAAKsN,GAASE,EACvCE,EAASvX,KAAKwC,IAAIqH,EAAIsN,GAASE,IAI/BC,EAAS,EAAMzN,EACf0N,EAAS1N,GAIXhJ,EAAI,GAAKyW,EAASvM,EAAKwM,EAAS5M,EAChC9J,EAAI,GAAKyW,EAAStM,EAAKuM,EAAS3M,EAChC/J,EAAI,GAAKyW,EAASrM,EAAKsM,EAAS1M,EAChChK,EAAI,GAAKyW,EAASpM,EAAKqM,EAASzM,EACzBjK,CACT,CAQO,SAAS,GAAOA,GAGrB,IAAI2W,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,EAAe3X,KAAKiE,KAAK,EAAIuT,GAC7BI,EAAS5X,KAAKiE,KAAKuT,GAKvB,OAJA3W,EAAI,GAAK8W,EAAe3X,KAAKwC,IAAI,EAAMxC,KAAKK,GAAKoX,GACjD5W,EAAI,GAAK8W,EAAe3X,KAAK0C,IAAI,EAAM1C,KAAKK,GAAKoX,GACjD5W,EAAI,GAAK+W,EAAS5X,KAAKwC,IAAI,EAAMxC,KAAKK,GAAKqX,GAC3C7W,EAAI,GAAK+W,EAAS5X,KAAK0C,IAAI,EAAM1C,KAAKK,GAAKqX,GACpC7W,CACT,CASO,SAAS,GAAOA,EAAKN,GAC1B,IAAImB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACP2U,EAAMxT,EAAKA,EAAKF,EAAKA,EAAKG,EAAKA,EAAKC,EAAKA,EACzCiW,EAAS3C,EAAM,EAAMA,EAAM,EAM/B,OAJArU,EAAI,IAAMa,EAAKmW,EACfhX,EAAI,IAAMW,EAAKqW,EACfhX,EAAI,IAAMc,EAAKkW,EACfhX,EAAI,GAAKe,EAAKiW,EACPhX,CACT,CAUO,SAASiX,GAAUjX,EAAKN,GAK7B,OAJAM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,GAAKN,EAAE,GACJM,CACT,CAaO,SAASkX,GAASlX,EAAKqS,GAG5B,IACI8E,EADAC,EAAS/E,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAG7B,GAAI+E,EAAS,EAEXD,EAAQhY,KAAKiE,KAAKgU,EAAS,GAE3BpX,EAAI,GAAK,GAAMmX,EACfA,EAAQ,GAAMA,EAEdnX,EAAI,IAAMqS,EAAE,GAAKA,EAAE,IAAM8E,EACzBnX,EAAI,IAAMqS,EAAE,GAAKA,EAAE,IAAM8E,EACzBnX,EAAI,IAAMqS,EAAE,GAAKA,EAAE,IAAM8E,MACpB,CAEL,IAAIlU,EAAI,EACJoP,EAAE,GAAKA,EAAE,KAAIpP,EAAI,GACjBoP,EAAE,GAAKA,EAAM,EAAJpP,EAAQA,KAAIA,EAAI,GAC7B,IAAIoU,GAAKpU,EAAI,GAAK,EACdqU,GAAKrU,EAAI,GAAK,EAClBkU,EAAQhY,KAAKiE,KAAKiP,EAAM,EAAJpP,EAAQA,GAAKoP,EAAM,EAAJgF,EAAQA,GAAKhF,EAAM,EAAJiF,EAAQA,GAAK,GAC/DtX,EAAIiD,GAAK,GAAMkU,EACfA,EAAQ,GAAMA,EACdnX,EAAI,IAAMqS,EAAM,EAAJgF,EAAQC,GAAKjF,EAAM,EAAJiF,EAAQD,IAAMF,EACzCnX,EAAIqX,IAAMhF,EAAM,EAAJgF,EAAQpU,GAAKoP,EAAM,EAAJpP,EAAQoU,IAAMF,EACzCnX,EAAIsX,IAAMjF,EAAM,EAAJiF,EAAQrU,GAAKoP,EAAM,EAAJpP,EAAQqU,IAAMH,CAC3C,CAEA,OAAOnX,CACT,CAYO,SAASuX,GAAUvX,EAAK8F,EAAG9C,EAAGkD,GACnC,IAAIsR,EAAY,GAAMrY,KAAKK,GAAK,IAChCsG,GAAK0R,EACLxU,GAAKwU,EACLtR,GAAKsR,EACL,IAAI7L,EAAKxM,KAAKwC,IAAImE,GACd2R,EAAKtY,KAAK0C,IAAIiE,GACd8F,EAAKzM,KAAKwC,IAAIqB,GACd0U,EAAKvY,KAAK0C,IAAImB,GACd6I,EAAK1M,KAAKwC,IAAIuE,GACdyR,EAAKxY,KAAK0C,IAAIqE,GAKlB,OAJAlG,EAAI,GAAK2L,EAAK+L,EAAKC,EAAKF,EAAK7L,EAAKC,EAClC7L,EAAI,GAAKyX,EAAK7L,EAAK+L,EAAKhM,EAAK+L,EAAK7L,EAClC7L,EAAI,GAAKyX,EAAKC,EAAK7L,EAAKF,EAAKC,EAAK+L,EAClC3X,EAAI,GAAKyX,EAAKC,EAAKC,EAAKhM,EAAKC,EAAKC,EAC3B7L,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GACpE,CASO,IA4JDkY,GACAC,GACAC,GAuCAC,GACAC,GAoBAC,GA1NK,GAAQ,GAYR,GAAa,GAUb,GAAO,GAaP,GAAM,GAWN,GAAM,GAMN,GAAM,GAWN,GAAQ,GAUR,GAAM,GAYN,GAAO,GAQP,GAAS,GAMT,GAAM,GASN,GAAgB,GAMhB,GAAS,GAUT,GAAY,GASZ,GAAc,GASd,GAAS,GAaTC,IACLN,GAAU,KACVC,GAAY,GAAgB,EAAG,EAAG,GAClCC,GAAY,GAAgB,EAAG,EAAG,GAC/B,SAAU9X,EAAKN,EAAGE,GACvB,IAAIyU,EAAM,GAAS3U,EAAGE,GAEtB,OAAIyU,GAAO,SACT,GAAWuD,GAASC,GAAWnY,GAC3B,GAASkY,IAAW,MAAU,GAAWA,GAASE,GAAWpY,GACjE,GAAekY,GAASA,IACxBnC,GAAazV,EAAK4X,GAASzY,KAAKK,IACzBQ,GACEqU,EAAM,SACfrU,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,IAEP,GAAW4X,GAASlY,EAAGE,GACvBI,EAAI,GAAK4X,GAAQ,GACjB5X,EAAI,GAAK4X,GAAQ,GACjB5X,EAAI,GAAK4X,GAAQ,GACjB5X,EAAI,GAAK,EAAIqU,EACN,GAAUrU,EAAKA,GAE1B,GAcSmY,IACLJ,GAAQ,KACRC,GAAQ,KACL,SAAUhY,EAAKN,EAAGE,EAAGgC,EAAG2B,EAAGyF,GAIhC,OAHAqN,GAAM0B,GAAOrY,EAAG6D,EAAGyF,GACnBqN,GAAM2B,GAAOpY,EAAGgC,EAAGoH,GACnBqN,GAAMrW,EAAK+X,GAAOC,GAAO,EAAIhP,GAAK,EAAIA,IAC/BhJ,CACT,GAaSoY,IACLH,GAAO,KACJ,SAAUjY,EAAKqY,EAAMvL,EAAOoC,GAUjC,OATA+I,GAAK,GAAKnL,EAAM,GAChBmL,GAAK,GAAKnL,EAAM,GAChBmL,GAAK,GAAKnL,EAAM,GAChBmL,GAAK,GAAK/I,EAAG,GACb+I,GAAK,GAAK/I,EAAG,GACb+I,GAAK,GAAK/I,EAAG,GACb+I,GAAK,IAAMI,EAAK,GAChBJ,GAAK,IAAMI,EAAK,GAChBJ,GAAK,IAAMI,EAAK,GACT,GAAUrY,EAAKkX,GAASlX,EAAKiY,IACtC,GCnrBK,SAAS,KACd,IAAIK,EAAK,IAAI,EAAoB,GAajC,OAXI,GAAuBtZ,eACzBsZ,EAAG,GAAK,EACRA,EAAG,GAAK,EACRA,EAAG,GAAK,EACRA,EAAG,GAAK,EACRA,EAAG,GAAK,EACRA,EAAG,GAAK,EACRA,EAAG,GAAK,GAGVA,EAAG,GAAK,EACDA,CACT,CASO,SAAS,GAAM5Y,GACpB,IAAI4Y,EAAK,IAAI,EAAoB,GASjC,OARAA,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACV4Y,EAAG,GAAK5Y,EAAE,GACH4Y,CACT,CAgBO,SAAS,GAAWlJ,EAAIE,EAAIE,EAAI+I,EAAInS,EAAIC,EAAIC,EAAI4M,GACrD,IAAIoF,EAAK,IAAI,EAAoB,GASjC,OARAA,EAAG,GAAKlJ,EACRkJ,EAAG,GAAKhJ,EACRgJ,EAAG,GAAK9I,EACR8I,EAAG,GAAKC,EACRD,EAAG,GAAKlS,EACRkS,EAAG,GAAKjS,EACRiS,EAAG,GAAKhS,EACRgS,EAAG,GAAKpF,EACDoF,CACT,CAeO,SAASE,GAA8BpJ,EAAIE,EAAIE,EAAI+I,EAAInS,EAAIC,EAAIC,GACpE,IAAIgS,EAAK,IAAI,EAAoB,GACjCA,EAAG,GAAKlJ,EACRkJ,EAAG,GAAKhJ,EACRgJ,EAAG,GAAK9I,EACR8I,EAAG,GAAKC,EACR,IAAIrO,EAAU,GAAL9D,EACL+D,EAAU,GAAL9D,EACL+D,EAAU,GAAL9D,EAKT,OAJAgS,EAAG,GAAKpO,EAAKqO,EAAKpO,EAAKqF,EAAKpF,EAAKkF,EACjCgJ,EAAG,GAAKnO,EAAKoO,EAAKnO,EAAKgF,EAAKlF,EAAKsF,EACjC8I,EAAG,GAAKlO,EAAKmO,EAAKrO,EAAKoF,EAAKnF,EAAKiF,EACjCkJ,EAAG,IAAMpO,EAAKkF,EAAKjF,EAAKmF,EAAKlF,EAAKoF,EAC3B8I,CACT,CAWO,SAAS,GAAwBtY,EAAKiG,EAAG+C,GAC9C,IAAIkB,EAAY,GAAPlB,EAAE,GACPmB,EAAY,GAAPnB,EAAE,GACPoB,EAAY,GAAPpB,EAAE,GACPc,EAAK7D,EAAE,GACP8D,EAAK9D,EAAE,GACP+D,EAAK/D,EAAE,GACPgE,EAAKhE,EAAE,GASX,OARAjG,EAAI,GAAK8J,EACT9J,EAAI,GAAK+J,EACT/J,EAAI,GAAKgK,EACThK,EAAI,GAAKiK,EACTjK,EAAI,GAAKkK,EAAKD,EAAKE,EAAKH,EAAKI,EAAKL,EAClC/J,EAAI,GAAKmK,EAAKF,EAAKG,EAAKN,EAAKI,EAAKF,EAClChK,EAAI,GAAKoK,EAAKH,EAAKC,EAAKH,EAAKI,EAAKL,EAClC9J,EAAI,IAAMkK,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EAC5BhK,CACT,CAUO,SAAS,GAAgBA,EAAKgJ,GASnC,OARAhJ,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAY,GAAPgJ,EAAE,GACXhJ,EAAI,GAAY,GAAPgJ,EAAE,GACXhJ,EAAI,GAAY,GAAPgJ,EAAE,GACXhJ,EAAI,GAAK,EACFA,CACT,CAUO,SAAS,GAAaA,EAAKiG,GAShC,OARAjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAUO,SAAS,GAASA,EAAKN,GAE5B,IAAI+Y,EAAQ,KACZ,GAAiBA,EAAO/Y,GACxB,IAAIsJ,EAAI,IAAI,EAAoB,GAGhC,OAFA,GAAoBA,EAAGtJ,GACvB,GAAwBM,EAAKyY,EAAOzP,GAC7BhJ,CACT,CAUO,SAAS,GAAKA,EAAKN,GASxB,OARAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAQO,SAAS,GAASA,GASvB,OARAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAiBO,SAAS,GAAIA,EAAKoP,EAAIE,EAAIE,EAAI+I,EAAInS,EAAIC,EAAIC,EAAI4M,GASnD,OARAlT,EAAI,GAAKoP,EACTpP,EAAI,GAAKsP,EACTtP,EAAI,GAAKwP,EACTxP,EAAI,GAAKuY,EACTvY,EAAI,GAAKoG,EACTpG,EAAI,GAAKqG,EACTrG,EAAI,GAAKsG,EACTtG,EAAI,GAAKkT,EACFlT,CACT,CAQO,IAAI0Y,GAAU,GAQd,SAASC,GAAQ3Y,EAAKN,GAK3B,OAJAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAUO,IAAI4Y,GAAU,GAUd,SAASC,GAAQ7Y,EAAKiG,GAK3B,OAJAjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAKiG,EAAE,GACXjG,EAAI,GAAKiG,EAAE,GACJjG,CACT,CAQO,SAAS,GAAeA,EAAKN,GAClC,IAAIwK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoK,GAAMpK,EAAE,GACRqK,GAAMrK,EAAE,GACRsK,GAAMtK,EAAE,GACRuK,EAAKvK,EAAE,GAIX,OAHAM,EAAI,GAA+C,GAAzCkK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,GAC7C/J,EAAI,GAA+C,GAAzCmK,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,GAC7ChK,EAAI,GAA+C,GAAzCoK,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,GACtC9J,CACT,CAUO,SAAS,GAAUA,EAAKN,EAAGqC,GAChC,IAAI+W,EAAMpZ,EAAE,GACRqZ,EAAMrZ,EAAE,GACRsZ,EAAMtZ,EAAE,GACRuZ,EAAMvZ,EAAE,GACRwZ,EAAa,GAAPnX,EAAE,GACRoX,EAAa,GAAPpX,EAAE,GACRqX,EAAa,GAAPrX,EAAE,GACRsX,EAAM3Z,EAAE,GACR4Z,EAAM5Z,EAAE,GACR6Z,EAAM7Z,EAAE,GACR8Z,EAAM9Z,EAAE,GASZ,OARAM,EAAI,GAAK8Y,EACT9Y,EAAI,GAAK+Y,EACT/Y,EAAI,GAAKgZ,EACThZ,EAAI,GAAKiZ,EACTjZ,EAAI,GAAKiZ,EAAMC,EAAMH,EAAMK,EAAMJ,EAAMG,EAAME,EAC7CrZ,EAAI,GAAKiZ,EAAME,EAAMH,EAAME,EAAMJ,EAAMM,EAAME,EAC7CtZ,EAAI,GAAKiZ,EAAMG,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMK,EAC7CvZ,EAAI,IAAM8Y,EAAMI,EAAMH,EAAMI,EAAMH,EAAMI,EAAMI,EACvCxZ,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAG+B,GAC9B,IAAIqI,GAAMpK,EAAE,GACRqK,GAAMrK,EAAE,GACRsK,GAAMtK,EAAE,GACRuK,EAAKvK,EAAE,GACPwK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoZ,EAAM5O,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,EACzCgP,EAAM5O,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,EACzCgP,EAAM5O,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,EACzCmP,EAAM5O,EAAKJ,EAAKC,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EAU7C,OATA,GAAahK,EAAKN,EAAG+B,GACrBqI,EAAK9J,EAAI,GACT+J,EAAK/J,EAAI,GACTgK,EAAKhK,EAAI,GACTiK,EAAKjK,EAAI,GACTA,EAAI,GAAK8Y,EAAM7O,EAAKgP,EAAMnP,EAAKiP,EAAM/O,EAAKgP,EAAMjP,EAChD/J,EAAI,GAAK+Y,EAAM9O,EAAKgP,EAAMlP,EAAKiP,EAAMlP,EAAKgP,EAAM9O,EAChDhK,EAAI,GAAKgZ,EAAM/O,EAAKgP,EAAMjP,EAAK8O,EAAM/O,EAAKgP,EAAMjP,EAChD9J,EAAI,GAAKiZ,EAAMhP,EAAK6O,EAAMhP,EAAKiP,EAAMhP,EAAKiP,EAAMhP,EACzChK,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAG+B,GAC9B,IAAIqI,GAAMpK,EAAE,GACRqK,GAAMrK,EAAE,GACRsK,GAAMtK,EAAE,GACRuK,EAAKvK,EAAE,GACPwK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoZ,EAAM5O,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,EACzCgP,EAAM5O,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,EACzCgP,EAAM5O,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,EACzCmP,EAAM5O,EAAKJ,EAAKC,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EAU7C,OATA,GAAahK,EAAKN,EAAG+B,GACrBqI,EAAK9J,EAAI,GACT+J,EAAK/J,EAAI,GACTgK,EAAKhK,EAAI,GACTiK,EAAKjK,EAAI,GACTA,EAAI,GAAK8Y,EAAM7O,EAAKgP,EAAMnP,EAAKiP,EAAM/O,EAAKgP,EAAMjP,EAChD/J,EAAI,GAAK+Y,EAAM9O,EAAKgP,EAAMlP,EAAKiP,EAAMlP,EAAKgP,EAAM9O,EAChDhK,EAAI,GAAKgZ,EAAM/O,EAAKgP,EAAMjP,EAAK8O,EAAM/O,EAAKgP,EAAMjP,EAChD9J,EAAI,GAAKiZ,EAAMhP,EAAK6O,EAAMhP,EAAKiP,EAAMhP,EAAKiP,EAAMhP,EACzChK,CACT,CAUO,SAAS,GAAQA,EAAKN,EAAG+B,GAC9B,IAAIqI,GAAMpK,EAAE,GACRqK,GAAMrK,EAAE,GACRsK,GAAMtK,EAAE,GACRuK,EAAKvK,EAAE,GACPwK,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPoZ,EAAM5O,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,EACzCgP,EAAM5O,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,EACzCgP,EAAM5O,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,EACzCmP,EAAM5O,EAAKJ,EAAKC,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EAU7C,OATA,GAAahK,EAAKN,EAAG+B,GACrBqI,EAAK9J,EAAI,GACT+J,EAAK/J,EAAI,GACTgK,EAAKhK,EAAI,GACTiK,EAAKjK,EAAI,GACTA,EAAI,GAAK8Y,EAAM7O,EAAKgP,EAAMnP,EAAKiP,EAAM/O,EAAKgP,EAAMjP,EAChD/J,EAAI,GAAK+Y,EAAM9O,EAAKgP,EAAMlP,EAAKiP,EAAMlP,EAAKgP,EAAM9O,EAChDhK,EAAI,GAAKgZ,EAAM/O,EAAKgP,EAAMjP,EAAK8O,EAAM/O,EAAKgP,EAAMjP,EAChD9J,EAAI,GAAKiZ,EAAMhP,EAAK6O,EAAMhP,EAAKiP,EAAMhP,EAAKiP,EAAMhP,EACzChK,CACT,CAUO,SAASyZ,GAAmBzZ,EAAKN,EAAGuG,GACzC,IAAIuM,EAAKvM,EAAE,GACPwM,EAAKxM,EAAE,GACPyM,EAAKzM,EAAE,GACP0M,EAAK1M,EAAE,GACPiE,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GAaX,OAZAM,EAAI,GAAKkK,EAAKyI,EAAKtI,EAAKmI,EAAKrI,EAAKuI,EAAKtI,EAAKqI,EAC5CzS,EAAI,GAAKmK,EAAKwI,EAAKtI,EAAKoI,EAAKrI,EAAKoI,EAAKtI,EAAKwI,EAC5C1S,EAAI,GAAKoK,EAAKuI,EAAKtI,EAAKqI,EAAKxI,EAAKuI,EAAKtI,EAAKqI,EAC5CxS,EAAI,GAAKqK,EAAKsI,EAAKzI,EAAKsI,EAAKrI,EAAKsI,EAAKrI,EAAKsI,EAC5CxI,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GACPM,EAAI,GAAKkK,EAAKyI,EAAKtI,EAAKmI,EAAKrI,EAAKuI,EAAKtI,EAAKqI,EAC5CzS,EAAI,GAAKmK,EAAKwI,EAAKtI,EAAKoI,EAAKrI,EAAKoI,EAAKtI,EAAKwI,EAC5C1S,EAAI,GAAKoK,EAAKuI,EAAKtI,EAAKqI,EAAKxI,EAAKuI,EAAKtI,EAAKqI,EAC5CxS,EAAI,GAAKqK,EAAKsI,EAAKzI,EAAKsI,EAAKrI,EAAKsI,EAAKrI,EAAKsI,EACrC1S,CACT,CAUO,SAAS0Z,GAAoB1Z,EAAKiG,EAAGvG,GAC1C,IAAI8S,EAAKvM,EAAE,GACPwM,EAAKxM,EAAE,GACPyM,EAAKzM,EAAE,GACP0M,EAAK1M,EAAE,GACP6D,EAAKpK,EAAE,GACPqK,EAAKrK,EAAE,GACPsK,EAAKtK,EAAE,GACPuK,EAAKvK,EAAE,GAaX,OAZAM,EAAI,GAAKwS,EAAKvI,EAAK0I,EAAK7I,EAAK2I,EAAKzI,EAAK0I,EAAK3I,EAC5C/J,EAAI,GAAKyS,EAAKxI,EAAK0I,EAAK5I,EAAK2I,EAAK5I,EAAK0I,EAAKxI,EAC5ChK,EAAI,GAAK0S,EAAKzI,EAAK0I,EAAK3I,EAAKwI,EAAKzI,EAAK0I,EAAK3I,EAC5C9J,EAAI,GAAK2S,EAAK1I,EAAKuI,EAAK1I,EAAK2I,EAAK1I,EAAK2I,EAAK1I,EAC5CF,EAAKpK,EAAE,GACPqK,EAAKrK,EAAE,GACPsK,EAAKtK,EAAE,GACPuK,EAAKvK,EAAE,GACPM,EAAI,GAAKwS,EAAKvI,EAAK0I,EAAK7I,EAAK2I,EAAKzI,EAAK0I,EAAK3I,EAC5C/J,EAAI,GAAKyS,EAAKxI,EAAK0I,EAAK5I,EAAK2I,EAAK5I,EAAK0I,EAAKxI,EAC5ChK,EAAI,GAAK0S,EAAKzI,EAAK0I,EAAK3I,EAAKwI,EAAKzI,EAAK0I,EAAK3I,EAC5C9J,EAAI,GAAK2S,EAAK1I,EAAKuI,EAAK1I,EAAK2I,EAAK1I,EAAK2I,EAAK1I,EACrChK,CACT,CAWO,SAAS2Z,GAAiB3Z,EAAKN,EAAGqJ,EAAMtH,GAE7C,GAAItC,KAAKU,IAAI4B,GAAO,EAClB,OAAO,GAAKzB,EAAKN,GAGnB,IAAIka,EAAaza,KAAKmD,MAAMyG,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACnDtH,GAAY,GACZ,IAAIC,EAAIvC,KAAKwC,IAAIF,GACbqI,EAAKpI,EAAIqH,EAAK,GAAK6Q,EACnB7P,EAAKrI,EAAIqH,EAAK,GAAK6Q,EACnB5P,EAAKtI,EAAIqH,EAAK,GAAK6Q,EACnB3P,EAAK9K,KAAK0C,IAAIJ,GACdqX,EAAMpZ,EAAE,GACRqZ,EAAMrZ,EAAE,GACRsZ,EAAMtZ,EAAE,GACRuZ,EAAMvZ,EAAE,GACZM,EAAI,GAAK8Y,EAAM7O,EAAKgP,EAAMnP,EAAKiP,EAAM/O,EAAKgP,EAAMjP,EAChD/J,EAAI,GAAK+Y,EAAM9O,EAAKgP,EAAMlP,EAAKiP,EAAMlP,EAAKgP,EAAM9O,EAChDhK,EAAI,GAAKgZ,EAAM/O,EAAKgP,EAAMjP,EAAK8O,EAAM/O,EAAKgP,EAAMjP,EAChD9J,EAAI,GAAKiZ,EAAMhP,EAAK6O,EAAMhP,EAAKiP,EAAMhP,EAAKiP,EAAMhP,EAChD,IAAIE,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GACP0K,EAAK1K,EAAE,GACP2K,EAAK3K,EAAE,GAKX,OAJAM,EAAI,GAAKkK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,EAC5C/J,EAAI,GAAKmK,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,EAC5ChK,EAAI,GAAKoK,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,EAC5C9J,EAAI,GAAKqK,EAAKJ,EAAKC,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EACrChK,CACT,CAWO,SAAS,GAAIA,EAAKN,EAAGE,GAS1B,OARAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAC/B,IAAIia,EAAMna,EAAE,GACRoa,EAAMpa,EAAE,GACRqa,EAAMra,EAAE,GACRsa,EAAMta,EAAE,GACRwZ,EAAMtZ,EAAE,GACRuZ,EAAMvZ,EAAE,GACRwZ,EAAMxZ,EAAE,GACRqa,EAAMra,EAAE,GACRkZ,EAAMpZ,EAAE,GACRqZ,EAAMrZ,EAAE,GACRsZ,EAAMtZ,EAAE,GACRuZ,EAAMvZ,EAAE,GACRwa,EAAMta,EAAE,GACRua,EAAMva,EAAE,GACRwa,EAAMxa,EAAE,GACRya,EAAMza,EAAE,GASZ,OARAI,EAAI,GAAK6Z,EAAMQ,EAAML,EAAME,EAAMJ,EAAMM,EAAML,EAAMI,EACnDna,EAAI,GAAK8Z,EAAMO,EAAML,EAAMG,EAAMJ,EAAMG,EAAML,EAAMO,EACnDpa,EAAI,GAAK+Z,EAAMM,EAAML,EAAMI,EAAMP,EAAMM,EAAML,EAAMI,EACnDla,EAAI,GAAKga,EAAMK,EAAMR,EAAMK,EAAMJ,EAAMK,EAAMJ,EAAMK,EACnDpa,EAAI,GAAK6Z,EAAMI,EAAMD,EAAMd,EAAMY,EAAMV,EAAMW,EAAMZ,EAAML,EAAMuB,EAAMpB,EAAMiB,EAAMnB,EAAMqB,EAAMpB,EAAMmB,EACnGna,EAAI,GAAK8Z,EAAMG,EAAMD,EAAMb,EAAMY,EAAMb,EAAMW,EAAMT,EAAML,EAAMsB,EAAMpB,EAAMkB,EAAMnB,EAAMkB,EAAMpB,EAAMsB,EACnGpa,EAAI,GAAK+Z,EAAME,EAAMD,EAAMZ,EAAMS,EAAMV,EAAMW,EAAMZ,EAAMF,EAAMqB,EAAMpB,EAAMmB,EAAMtB,EAAMqB,EAAMpB,EAAMmB,EACnGla,EAAI,GAAKga,EAAMC,EAAMJ,EAAMX,EAAMY,EAAMX,EAAMY,EAAMX,EAAMH,EAAMoB,EAAMvB,EAAMoB,EAAMnB,EAAMoB,EAAMnB,EAAMoB,EAC5Fpa,CACT,CAMO,IAAI,GAAM,GAWV,SAAS,GAAMA,EAAKN,EAAGE,GAS5B,OARAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAUO,IAAI,GAAM,GAYV,SAAS,GAAKA,EAAKN,EAAGE,EAAGoJ,GAC9B,IAAIsR,EAAK,EAAItR,EAUb,OATI,GAAItJ,EAAGE,GAAK,IAAGoJ,GAAKA,GACxBhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EAC5BhJ,EAAI,GAAKN,EAAE,GAAK4a,EAAK1a,EAAE,GAAKoJ,EACrBhJ,CACT,CASO,SAAS,GAAOA,EAAKN,GAC1B,IAAI6a,EAAQ,GAAc7a,GAS1B,OARAM,EAAI,IAAMN,EAAE,GAAK6a,EACjBva,EAAI,IAAMN,EAAE,GAAK6a,EACjBva,EAAI,IAAMN,EAAE,GAAK6a,EACjBva,EAAI,GAAKN,EAAE,GAAK6a,EAChBva,EAAI,IAAMN,EAAE,GAAK6a,EACjBva,EAAI,IAAMN,EAAE,GAAK6a,EACjBva,EAAI,IAAMN,EAAE,GAAK6a,EACjBva,EAAI,GAAKN,EAAE,GAAK6a,EACTva,CACT,CAUO,SAAS,GAAUA,EAAKN,GAS7B,OARAM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,GAAKN,EAAE,GACXM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACZM,EAAI,GAAKN,EAAE,GACJM,CACT,CASO,IAAI,GAAS,GAMT,GAAM,GASN,GAAgB,GAMhB,GAAS,GAUb,SAAS,GAAUA,EAAKN,GAC7B,IAAI4K,EAAY,GAAc5K,GAE9B,GAAI4K,EAAY,EAAG,CACjBA,EAAYnL,KAAKiE,KAAKkH,GACtB,IAAIzJ,EAAKnB,EAAE,GAAK4K,EACZ3J,EAAKjB,EAAE,GAAK4K,EACZxJ,EAAKpB,EAAE,GAAK4K,EACZvJ,EAAKrB,EAAE,GAAK4K,EACZlJ,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACP4B,EAAK5B,EAAE,GACP6B,EAAK7B,EAAE,GACP8a,EAAU3Z,EAAKO,EAAKT,EAAKU,EAAKP,EAAKQ,EAAKP,EAAKQ,EACjDvB,EAAI,GAAKa,EACTb,EAAI,GAAKW,EACTX,EAAI,GAAKc,EACTd,EAAI,GAAKe,EACTf,EAAI,IAAMoB,EAAKP,EAAK2Z,GAAWlQ,EAC/BtK,EAAI,IAAMqB,EAAKV,EAAK6Z,GAAWlQ,EAC/BtK,EAAI,IAAMsB,EAAKR,EAAK0Z,GAAWlQ,EAC/BtK,EAAI,IAAMuB,EAAKR,EAAKyZ,GAAWlQ,CACjC,CAEA,OAAOtK,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,SAAWA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,GAC7H,CASO,SAAS,GAAYA,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EAC3I,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACPoB,EAAKpB,EAAE,GACPqB,EAAKrB,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPwI,EAAKxI,EAAE,GACPyI,EAAKzI,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACP0B,EAAK1B,EAAE,GACP2B,EAAK3B,EAAE,GACPsE,EAAKtE,EAAE,GACPuE,EAAKvE,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,KAAQlC,KAAKU,IAAIiB,EAAKQ,IAAO,EAAmBnC,KAAKW,IAAI,EAAKX,KAAKU,IAAIiB,GAAK3B,KAAKU,IAAIyB,KAAQnC,KAAKU,IAAIkB,EAAKQ,IAAO,EAAmBpC,KAAKW,IAAI,EAAKX,KAAKU,IAAIkB,GAAK5B,KAAKU,IAAI0B,KAAQpC,KAAKU,IAAImE,EAAKE,IAAO,EAAmB/E,KAAKW,IAAI,EAAKX,KAAKU,IAAImE,GAAK7E,KAAKU,IAAIqE,KAAQ/E,KAAKU,IAAIoE,EAAKE,IAAO,EAAmBhF,KAAKW,IAAI,EAAKX,KAAKU,IAAIoE,GAAK9E,KAAKU,IAAIsE,KAAQhF,KAAKU,IAAIqI,EAAKG,IAAO,EAAmBlJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIqI,GAAK/I,KAAKU,IAAIwI,KAAQlJ,KAAKU,IAAIsI,EAAKG,IAAO,EAAmBnJ,KAAKW,IAAI,EAAKX,KAAKU,IAAIsI,GAAKhJ,KAAKU,IAAIyI,GACzqB,CCtzBO,SAAS,KACd,IAAItI,EAAM,IAAI,EAAoB,GAOlC,OALI,GAAuBhB,eACzBgB,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,CACT,CAQO,SAAS,GAAMN,GACpB,IAAIM,EAAM,IAAI,EAAoB,GAGlC,OAFAA,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CASO,SAAS,GAAW8F,EAAG9C,GAC5B,IAAIhD,EAAM,IAAI,EAAoB,GAGlC,OAFAA,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACFhD,CACT,CASO,SAAS,GAAKA,EAAKN,GAGxB,OAFAM,EAAI,GAAKN,EAAE,GACXM,EAAI,GAAKN,EAAE,GACJM,CACT,CAUO,SAAS,GAAIA,EAAK8F,EAAG9C,GAG1B,OAFAhD,EAAI,GAAK8F,EACT9F,EAAI,GAAKgD,EACFhD,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAG1B,OAFAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAG/B,OAFAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAASA,EAAKN,EAAGE,GAG/B,OAFAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CAUO,SAAS,GAAOA,EAAKN,EAAGE,GAG7B,OAFAI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAClBI,EAAI,GAAKN,EAAE,GAAKE,EAAE,GACXI,CACT,CASO,SAAS,GAAKA,EAAKN,GAGxB,OAFAM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACrBM,EAAI,GAAKb,KAAKyR,KAAKlR,EAAE,IACdM,CACT,CASO,SAAS,GAAMA,EAAKN,GAGzB,OAFAM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACtBM,EAAI,GAAKb,KAAK0R,MAAMnR,EAAE,IACfM,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAG1B,OAFAI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAK2R,IAAIpR,EAAE,GAAIE,EAAE,IACnBI,CACT,CAUO,SAAS,GAAIA,EAAKN,EAAGE,GAG1B,OAFAI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IAC1BI,EAAI,GAAKb,KAAKW,IAAIJ,EAAE,GAAIE,EAAE,IACnBI,CACT,CASO,SAAS,GAAMA,EAAKN,GAGzB,OAFAM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACtBM,EAAI,GAAKb,KAAK4R,MAAMrR,EAAE,IACfM,CACT,CAUO,SAAS,GAAMA,EAAKN,EAAGE,GAG5B,OAFAI,EAAI,GAAKN,EAAE,GAAKE,EAChBI,EAAI,GAAKN,EAAE,GAAKE,EACTI,CACT,CAWO,SAAS,GAAYA,EAAKN,EAAGE,EAAGkC,GAGrC,OAFA9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EACvB9B,EAAI,GAAKN,EAAE,GAAKE,EAAE,GAAKkC,EAChB9B,CACT,CASO,SAAS,GAASN,EAAGE,GAC1B,IAAIkG,EAAIlG,EAAE,GAAKF,EAAE,GACbsD,EAAIpD,EAAE,GAAKF,EAAE,GACjB,OAAOP,KAAKmD,MAAMwD,EAAG9C,EACvB,CASO,SAAS,GAAgBtD,EAAGE,GACjC,IAAIkG,EAAIlG,EAAE,GAAKF,EAAE,GACbsD,EAAIpD,EAAE,GAAKF,EAAE,GACjB,OAAOoG,EAAIA,EAAI9C,EAAIA,CACrB,CAQO,SAAS,GAAOtD,GACrB,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACV,OAAOP,KAAKmD,MAAMwD,EAAG9C,EACvB,CAQO,SAAS,GAActD,GAC5B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACV,OAAOoG,EAAIA,EAAI9C,EAAIA,CACrB,CASO,SAAS,GAAOhD,EAAKN,GAG1B,OAFAM,EAAI,IAAMN,EAAE,GACZM,EAAI,IAAMN,EAAE,GACLM,CACT,CASO,SAAS,GAAQA,EAAKN,GAG3B,OAFAM,EAAI,GAAK,EAAMN,EAAE,GACjBM,EAAI,GAAK,EAAMN,EAAE,GACVM,CACT,CASO,SAAS,GAAUA,EAAKN,GAC7B,IAAIoG,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GACNuJ,EAAMnD,EAAIA,EAAI9C,EAAIA,EAStB,OAPIiG,EAAM,IAERA,EAAM,EAAI9J,KAAKiE,KAAK6F,IAGtBjJ,EAAI,GAAKN,EAAE,GAAKuJ,EAChBjJ,EAAI,GAAKN,EAAE,GAAKuJ,EACTjJ,CACT,CASO,SAAS,GAAIN,EAAGE,GACrB,OAAOF,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,EAChC,CAWO,SAAS,GAAMI,EAAKN,EAAGE,GAC5B,IAAIsG,EAAIxG,EAAE,GAAKE,EAAE,GAAKF,EAAE,GAAKE,EAAE,GAG/B,OAFAI,EAAI,GAAKA,EAAI,GAAK,EAClBA,EAAI,GAAKkG,EACFlG,CACT,CAWO,SAAS,GAAKA,EAAKN,EAAGE,EAAGoJ,GAC9B,IAAIkB,EAAKxK,EAAE,GACPyK,EAAKzK,EAAE,GAGX,OAFAM,EAAI,GAAKkK,EAAKlB,GAAKpJ,EAAE,GAAKsK,GAC1BlK,EAAI,GAAKmK,EAAKnB,GAAKpJ,EAAE,GAAKuK,GACnBnK,CACT,CASO,SAAS,GAAOA,EAAK8B,GAC1BA,EAAQA,GAAS,EACjB,IAAIoQ,EAAwB,EAApB,IAA0B/S,KAAKK,GAGvC,OAFAQ,EAAI,GAAKb,KAAK0C,IAAIqQ,GAAKpQ,EACvB9B,EAAI,GAAKb,KAAKwC,IAAIuQ,GAAKpQ,EAChB9B,CACT,CAUO,SAASya,GAAcza,EAAKN,EAAG2S,GACpC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GAGV,OAFAM,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAC3BhD,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EACpBhD,CACT,CAUO,SAAS0a,GAAe1a,EAAKN,EAAG2S,GACrC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GAGV,OAFAM,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GACjCrS,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAC1BrS,CACT,CAWO,SAAS,GAAcA,EAAKN,EAAG2S,GACpC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GAGV,OAFAM,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GACjCrS,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,GAC1BrS,CACT,CAYO,SAAS,GAAcA,EAAKN,EAAG2S,GACpC,IAAIvM,EAAIpG,EAAE,GACNsD,EAAItD,EAAE,GAGV,OAFAM,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,IACjCrS,EAAI,GAAKqS,EAAE,GAAKvM,EAAIuM,EAAE,GAAKrP,EAAIqP,EAAE,IAC1BrS,CACT,CAUO,SAAS,GAAOA,EAAKN,EAAGE,EAAG6B,GAEhC,IAAIkZ,EAAKjb,EAAE,GAAKE,EAAE,GACdgb,EAAKlb,EAAE,GAAKE,EAAE,GACdib,EAAO1b,KAAKwC,IAAIF,GAChBqZ,EAAO3b,KAAK0C,IAAIJ,GAIpB,OAFAzB,EAAI,GAAK2a,EAAKG,EAAOF,EAAKC,EAAOjb,EAAE,GACnCI,EAAI,GAAK2a,EAAKE,EAAOD,EAAKE,EAAOlb,EAAE,GAC5BI,CACT,CAQO,SAAS,GAAMN,EAAGE,GACvB,IAAIwP,EAAK1P,EAAE,GACP4P,EAAK5P,EAAE,GACP0G,EAAKxG,EAAE,GACPyG,EAAKzG,EAAE,GAEXyT,EAAMlU,KAAKiE,KAAKgM,EAAKA,EAAKE,EAAKA,GAAMnQ,KAAKiE,KAAKgD,EAAKA,EAAKC,EAAKA,GAE9DiN,EAASD,IAAQjE,EAAKhJ,EAAKkJ,EAAKjJ,GAAMgN,EAEtC,OAAOlU,KAAKoU,KAAKpU,KAAK2R,IAAI3R,KAAKW,IAAIwT,GAAS,GAAI,GAClD,CAQO,SAAS,GAAKtT,GAGnB,OAFAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAQO,SAAS,GAAIN,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,GACxC,CASO,SAAS,GAAYA,EAAGE,GAC7B,OAAOF,EAAE,KAAOE,EAAE,IAAMF,EAAE,KAAOE,EAAE,EACrC,CASO,SAAS,GAAOF,EAAGE,GACxB,IAAIiB,EAAKnB,EAAE,GACPiB,EAAKjB,EAAE,GACP0B,EAAKxB,EAAE,GACPyB,EAAKzB,EAAE,GACX,OAAOT,KAAKU,IAAIgB,EAAKO,IAAO,EAAmBjC,KAAKW,IAAI,EAAKX,KAAKU,IAAIgB,GAAK1B,KAAKU,IAAIuB,KAAQjC,KAAKU,IAAIc,EAAKU,IAAO,EAAmBlC,KAAKW,IAAI,EAAKX,KAAKU,IAAIc,GAAKxB,KAAKU,IAAIwB,GAC3K,CAMO,IAAI,GAAM,GAMN,GAAM,GAMN,GAAM,GAMN,GAAM,GAMN,GAAO,GAMP,GAAU,GAMV,GAAS,GAcT,GAAU,WACnB,IAAIoS,EAAM,KACV,OAAO,SAAU/T,EAAGqU,EAAQC,EAAQC,EAAOC,EAAIC,GAC7C,IAAIlR,EAAGmR,EAgBP,IAdKL,IACHA,EAAS,GAGNC,IACHA,EAAS,GAITI,EADEH,EACE9U,KAAK2R,IAAImD,EAAQF,EAASC,EAAQtU,EAAEyD,QAEpCzD,EAAEyD,OAGHF,EAAI+Q,EAAQ/Q,EAAImR,EAAGnR,GAAK8Q,EAC3BN,EAAI,GAAK/T,EAAEuD,GACXwQ,EAAI,GAAK/T,EAAEuD,EAAI,GACfiR,EAAGT,EAAKA,EAAKU,GACbzU,EAAEuD,GAAKwQ,EAAI,GACX/T,EAAEuD,EAAI,GAAKwQ,EAAI,GAGjB,OAAO/T,CACT,CACF,CA7BqB,kPCllBrB,IAAIqb,EAAE3G,EAAEE,EAAEtL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEpZ,EAAEF,EAAEhC,EAAEub,EAAE,CAAC,EAAE9H,EAAE,GAAGpR,EAAE,oEAAoEiB,EAAE/D,MAAMic,QAAQ,SAAS3X,EAAEwX,EAAE3G,GAAG,IAAI,IAAIE,KAAKF,EAAE2G,EAAEzG,GAAGF,EAAEE,GAAG,OAAOyG,CAAC,CAAC,SAAS5U,EAAE4U,GAAG,IAAI3G,EAAE2G,EAAEI,WAAW/G,GAAGA,EAAEgH,YAAYL,EAAE,CAAC,SAASM,EAAEjH,EAAEE,EAAEtL,GAAG,IAAI/F,EAAE8I,EAAEmG,EAAEzE,EAAE,CAAC,EAAE,IAAIyE,KAAKoC,EAAE,OAAOpC,EAAEjP,EAAEqR,EAAEpC,GAAG,OAAOA,EAAEnG,EAAEuI,EAAEpC,GAAGzE,EAAEyE,GAAGoC,EAAEpC,GAAG,GAAGhP,UAAUC,OAAO,IAAIsK,EAAE6N,SAASpY,UAAUC,OAAO,EAAE4X,EAAEQ,KAAKrY,UAAU,GAAG8F,GAAG,mBAAmBoL,GAAG,MAAMA,EAAEoH,aAAa,IAAItJ,KAAKkC,EAAEoH,kBAAa,IAAS/N,EAAEyE,KAAKzE,EAAEyE,GAAGkC,EAAEoH,aAAatJ,IAAI,OAAOuJ,EAAErH,EAAE3G,EAAExK,EAAE8I,EAAE,KAAK,CAAC,SAAS0P,EAAEV,EAAE/R,EAAE/F,EAAE8I,EAAEmG,GAAG,IAAIzE,EAAE,CAACnO,KAAKyb,EAAEW,MAAM1S,EAAE2S,IAAI1Y,EAAE2Y,IAAI7P,EAAE8P,IAAI,KAAKC,GAAG,KAAKC,IAAI,EAAEC,IAAI,KAAKC,SAAI,EAAOC,IAAI,KAAKC,iBAAY,EAAOC,IAAI,MAAMlK,IAAIoC,EAAEpC,EAAEmK,KAAK,EAAEC,IAAI,GAAG,OAAO,MAAMpK,GAAG,MAAMkC,EAAEmI,OAAOnI,EAAEmI,MAAM9O,GAAGA,CAAC,CAAC,SAAS4E,IAAI,MAAM,CAACmK,QAAQ,KAAK,CAAC,SAASlF,EAAEyD,GAAG,OAAOA,EAAEO,QAAQ,CAAC,SAAS1b,EAAEmb,EAAE3G,GAAGqI,KAAKf,MAAMX,EAAE0B,KAAKC,QAAQtI,CAAC,CAAC,SAAStO,EAAEiV,EAAE3G,GAAG,GAAG,MAAMA,EAAE,OAAO2G,EAAEe,GAAGhW,EAAEiV,EAAEe,GAAGf,EAAEsB,IAAI,GAAG,KAAK,IAAI,IAAI/H,EAAEF,EAAE2G,EAAEc,IAAI1Y,OAAOiR,IAAI,GAAG,OAAOE,EAAEyG,EAAEc,IAAIzH,KAAK,MAAME,EAAE0H,IAAI,OAAO1H,EAAE0H,IAAI,MAAM,mBAAmBjB,EAAEzb,KAAKwG,EAAEiV,GAAG,IAAI,CAAC,SAAStG,EAAEsG,GAAG,IAAI3G,EAAEE,EAAE,GAAG,OAAOyG,EAAEA,EAAEe,KAAK,MAAMf,EAAEmB,IAAI,CAAC,IAAInB,EAAEiB,IAAIjB,EAAEmB,IAAIS,KAAK,KAAKvI,EAAE,EAAEA,EAAE2G,EAAEc,IAAI1Y,OAAOiR,IAAI,GAAG,OAAOE,EAAEyG,EAAEc,IAAIzH,KAAK,MAAME,EAAE0H,IAAI,CAACjB,EAAEiB,IAAIjB,EAAEmB,IAAIS,KAAKrI,EAAE0H,IAAI,KAAK,CAAC,OAAOvH,EAAEsG,EAAE,CAAC,CAAC,SAAS6B,EAAE7B,KAAKA,EAAEkB,MAAMlB,EAAEkB,KAAI,IAAKhZ,EAAE4Z,KAAK9B,KAAK+B,EAAEC,OAAOhR,IAAIqI,EAAE4I,sBAAsBjR,EAAEqI,EAAE4I,oBAAoB9K,GAAG4K,EAAE,CAAC,SAASA,IAAI,IAAI/B,EAAEzG,EAAEtL,EAAE+C,EAAEmG,EAAE8I,EAAEpZ,EAAEF,EAAE,IAAIuB,EAAEga,KAAKxP,GAAGsN,EAAE9X,EAAEia,SAASnC,EAAEkB,MAAM3H,EAAErR,EAAEE,OAAO4I,OAAE,EAAOiP,GAAG9I,GAAGlJ,EAAE+R,GAAGqB,KAAKJ,IAAIpa,EAAE,GAAGF,EAAE,GAAGsH,EAAEmU,OAAOpR,EAAExI,EAAE,CAAC,EAAE2O,IAAIkK,IAAIlK,EAAEkK,IAAI,EAAEhI,EAAEmI,OAAOnI,EAAEmI,MAAMxQ,GAAGqR,EAAEpU,EAAEmU,IAAIpR,EAAEmG,EAAElJ,EAAEqU,IAAIrU,EAAEmU,IAAIG,aAAa,GAAGpL,EAAEoK,IAAI,CAACtB,GAAG,KAAKpZ,EAAE,MAAMoZ,EAAElV,EAAEoM,GAAG8I,KAAK,GAAG9I,EAAEoK,KAAK5a,GAAGqK,EAAEqQ,IAAIlK,EAAEkK,IAAIrQ,EAAE+P,GAAGD,IAAI9P,EAAEsQ,KAAKtQ,EAAEsL,EAAEzV,EAAEmK,EAAErK,GAAGqK,EAAEiQ,KAAKhB,GAAGvG,EAAE1I,IAAI9I,EAAEE,OAAOmR,GAAGrR,EAAEga,KAAKxP,IAAIqP,EAAEC,IAAI,CAAC,CAAC,SAAStR,EAAEsP,EAAE3G,EAAEE,EAAEtL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEpZ,EAAEF,GAAG,IAAIhC,EAAEqC,EAAEiB,EAAEO,EAAE4C,EAAEkV,EAAErS,GAAGA,EAAE6S,KAAK1I,EAAEsI,EAAErH,EAAEjR,OAAO,IAAImR,EAAE2H,IAAIjB,EAAEuC,EAAEjJ,EAAEF,EAAEiH,GAAGL,EAAE1G,EAAE2H,IAAIvc,EAAE,EAAEA,EAAE+b,EAAE/b,IAAI,OAAOsD,EAAEsR,EAAEuH,IAAInc,KAAK,kBAAkBsD,GAAG,mBAAmBA,IAAIjB,GAAG,IAAIiB,EAAEqZ,IAAIpB,EAAEI,EAAErY,EAAEqZ,MAAMpB,EAAEjY,EAAEqZ,IAAI3c,EAAE0d,EAAErC,EAAE/X,EAAEjB,EAAEkB,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEpZ,EAAEF,GAAG6B,EAAEP,EAAEgZ,IAAIhZ,EAAE4Y,KAAK7Z,EAAE6Z,KAAK5Y,EAAE4Y,MAAM7Z,EAAE6Z,KAAK4B,EAAEzb,EAAE6Z,IAAI,KAAK5Y,GAAGtB,EAAEmb,KAAK7Z,EAAE4Y,IAAI5Y,EAAEkZ,KAAK3Y,EAAEP,IAAI,MAAMmD,GAAG,MAAM5C,IAAI4C,EAAE5C,GAAG,MAAMP,EAAEsZ,KAAKva,EAAE8Z,MAAM7Y,EAAE6Y,IAAIb,EAAElG,EAAE9R,EAAEgY,EAAED,GAAG,mBAAmB/X,EAAE1D,WAAM,IAAS0D,EAAEiZ,IAAIjB,EAAEhY,EAAEiZ,IAAI1Y,IAAIyX,EAAEzX,EAAEka,aAAaza,EAAEiZ,SAAI,EAAOjZ,EAAEsZ,MAAM,QAAQhI,EAAE2H,IAAIjB,EAAE1G,EAAE0H,IAAI7V,CAAC,CAAC,SAASoX,EAAExC,EAAE3G,EAAEE,GAAG,IAAItL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAE5G,EAAEjR,OAAOvB,EAAE0S,EAAEnR,OAAOzB,EAAEE,EAAElC,EAAE,EAAE,IAAIqb,EAAEc,IAAI,GAAG7S,EAAE,EAAEA,EAAEgS,EAAEhS,IAAIkJ,EAAElJ,EAAEtJ,EAAE,OAAOuD,EAAE8X,EAAEc,IAAI7S,GAAG,OAAO/F,EAAEmR,EAAEpL,KAAK,kBAAkB/F,GAAG,mBAAmBA,EAAE,KAAK,iBAAiBA,GAAG,iBAAiBA,GAAG,iBAAiBA,GAAGA,EAAEkZ,aAAauB,OAAOjC,EAAE,KAAKxY,EAAE,KAAK,KAAK,MAAMD,EAAEC,GAAGwY,EAAEnE,EAAE,CAACgE,SAASrY,GAAG,KAAK,KAAK,WAAM,IAASA,EAAEkZ,aAAalZ,EAAE8Y,IAAI,EAAEN,EAAExY,EAAE3D,KAAK2D,EAAEyY,MAAMzY,EAAE0Y,IAAI1Y,EAAE2Y,IAAI3Y,EAAE2Y,IAAI,KAAK3Y,EAAEmZ,KAAKnZ,IAAIA,EAAE6Y,GAAGf,EAAE9X,EAAE8Y,IAAIhB,EAAEgB,IAAI,EAAEtO,EAAEjL,EAAES,EAAEqR,EAAEpC,EAAExQ,GAAGuB,EAAEoZ,IAAI5O,EAAE1B,EAAE,MAAM,IAAI0B,IAAI/L,KAAKqK,EAAEuI,EAAE7G,MAAM1B,EAAEuQ,KAAK,SAAS,MAAMvQ,GAAG,OAAOA,EAAEqQ,MAAM,GAAG3O,GAAG/N,IAAI,mBAAmBuD,EAAE3D,OAAO2D,EAAEqZ,KAAK,QAAQ7O,IAAIyE,IAAIzE,GAAGyE,EAAE,EAAExS,IAAI+N,GAAGyE,EAAE,EAAExS,IAAI+N,EAAEyE,EAAExQ,EAAEsZ,EAAE9I,EAAExS,GAAG+N,EAAEyE,EAAExS,IAAI+N,EAAEyE,IAAIzE,GAAGyE,EAAExS,EAAEA,GAAG+N,EAAEyE,EAAExS,KAAK+N,IAAIzE,EAAEtJ,IAAIuD,EAAEqZ,KAAK,UAAUvQ,EAAEuI,EAAEpC,KAAK,MAAMnG,EAAE4P,KAAK5P,EAAEiQ,KAAK,IAAI,OAAOjQ,EAAEuQ,OAAOvQ,EAAEiQ,KAAKjB,EAAEkB,MAAMlB,EAAEkB,IAAInW,EAAEiG,IAAI4R,EAAE5R,EAAEA,GAAE,GAAIuI,EAAEpC,GAAG,KAAKxQ,KAAK,GAAGA,EAAE,IAAIsH,EAAE,EAAEA,EAAEpH,EAAEoH,IAAI,OAAO+C,EAAEuI,EAAEtL,KAAK,IAAI,OAAO+C,EAAEuQ,OAAOvQ,EAAEiQ,KAAKjB,EAAEkB,MAAMlB,EAAEkB,IAAInW,EAAEiG,IAAI4R,EAAE5R,EAAEA,GAAG,CAAC,SAAS+I,EAAEiG,EAAE3G,EAAEE,GAAG,IAAItL,EAAE/F,EAAE,GAAG,mBAAmB8X,EAAEzb,KAAK,CAAC,IAAI0J,EAAE+R,EAAEc,IAAI5Y,EAAE,EAAE+F,GAAG/F,EAAE+F,EAAE7F,OAAOF,IAAI+F,EAAE/F,KAAK+F,EAAE/F,GAAG6Y,GAAGf,EAAE3G,EAAEU,EAAE9L,EAAE/F,GAAGmR,EAAEE,IAAI,OAAOF,CAAC,CAAC2G,EAAEiB,KAAK5H,IAAIA,GAAG2G,EAAEzb,OAAOgV,EAAEsJ,SAASxJ,KAAKA,EAAEtO,EAAEiV,IAAIzG,EAAEuJ,aAAa9C,EAAEiB,IAAI5H,GAAG,MAAMA,EAAE2G,EAAEiB,KAAK,GAAG5H,EAAEA,GAAGA,EAAEqJ,kBAAkB,MAAMrJ,GAAG,IAAIA,EAAE0J,UAAU,OAAO1J,CAAC,CAAC,SAASS,EAAEkG,EAAE3G,GAAG,OAAOA,EAAEA,GAAG,GAAG,MAAM2G,GAAG,kBAAkBA,IAAI/X,EAAE+X,GAAGA,EAAEgD,MAAK,SAAShD,GAAGlG,EAAEkG,EAAE3G,EAAE,IAAGA,EAAEyI,KAAK9B,IAAI3G,CAAC,CAAC,SAAS5R,EAAEuY,EAAE3G,EAAEE,EAAEtL,GAAG,IAAI/F,EAAE8X,EAAEY,IAAI5P,EAAEgP,EAAEzb,KAAK4S,EAAEoC,EAAE,EAAE7G,EAAE6G,EAAE,EAAE0G,EAAE5G,EAAEE,GAAG,GAAG,OAAO0G,GAAGA,GAAG/X,GAAG+X,EAAEW,KAAK5P,IAAIiP,EAAE1b,MAAM,IAAI,OAAO0b,EAAEsB,KAAK,OAAOhI,EAAE,GAAGtL,GAAG,MAAMgS,GAAG,IAAI,OAAOA,EAAEsB,KAAK,EAAE,GAAG,KAAKpK,GAAG,GAAGzE,EAAE2G,EAAEjR,QAAQ,CAAC,GAAG+O,GAAG,EAAE,CAAC,IAAI8I,EAAE5G,EAAElC,KAAK,IAAI,OAAO8I,EAAEsB,MAAMrZ,GAAG+X,EAAEW,KAAK5P,IAAIiP,EAAE1b,KAAK,OAAO4S,EAAEA,GAAG,CAAC,GAAGzE,EAAE2G,EAAEjR,OAAO,CAAC,IAAI6X,EAAE5G,EAAE3G,KAAK,IAAI,OAAOuN,EAAEsB,MAAMrZ,GAAG+X,EAAEW,KAAK5P,IAAIiP,EAAE1b,KAAK,OAAOmO,EAAEA,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,SAASuQ,EAAEjD,EAAE3G,EAAEE,GAAG,MAAMF,EAAE,GAAG2G,EAAEkD,YAAY7J,EAAE,MAAME,EAAE,GAAGA,GAAGyG,EAAE3G,GAAG,MAAME,EAAE,GAAG,iBAAiBA,GAAGvS,EAAEmc,KAAK9J,GAAGE,EAAEA,EAAE,IAAI,CAAC,SAASC,EAAEwG,EAAE3G,EAAEE,EAAEtL,EAAE/F,GAAG,IAAI8I,EAAEgP,EAAE,GAAG,UAAU3G,EAAE,GAAG,iBAAiBE,EAAEyG,EAAEoD,MAAMC,QAAQ9J,MAAM,CAAC,GAAG,iBAAiBtL,IAAI+R,EAAEoD,MAAMC,QAAQpV,EAAE,IAAIA,EAAE,IAAIoL,KAAKpL,EAAEsL,GAAGF,KAAKE,GAAG0J,EAAEjD,EAAEoD,MAAM/J,EAAE,IAAI,GAAGE,EAAE,IAAIF,KAAKE,EAAEtL,GAAGsL,EAAEF,KAAKpL,EAAEoL,IAAI4J,EAAEjD,EAAEoD,MAAM/J,EAAEE,EAAEF,GAAG,MAAM,GAAG,MAAMA,EAAE,IAAI,MAAMA,EAAE,GAAGrI,EAAEqI,KAAKA,EAAEA,EAAEiK,QAAQ,8BAA8B,OAAOjK,EAAEA,EAAEkK,gBAAgBvD,GAAG,eAAe3G,GAAG,cAAcA,EAAEA,EAAEkK,cAAcC,MAAM,GAAGnK,EAAEmK,MAAM,GAAGxD,EAAE3G,IAAI2G,EAAE3G,EAAE,CAAC,GAAG2G,EAAE3G,EAAEA,EAAErI,GAAGuI,EAAEA,EAAEtL,EAAEsL,EAAEA,EAAEtL,EAAEsL,GAAGA,EAAEA,EAAE0G,EAAED,EAAEyD,iBAAiBpK,EAAErI,EAAErK,EAAEE,EAAEmK,IAAIgP,EAAE0D,oBAAoBrK,EAAErI,EAAErK,EAAEE,EAAEmK,OAAO,CAAC,GAAG,8BAA8B9I,EAAEmR,EAAEA,EAAEiK,QAAQ,cAAc,KAAKA,QAAQ,SAAS,UAAU,GAAG,SAASjK,GAAG,UAAUA,GAAG,QAAQA,GAAG,QAAQA,GAAG,QAAQA,GAAG,YAAYA,GAAG,YAAYA,GAAG,WAAWA,GAAG,WAAWA,GAAG,QAAQA,GAAG,WAAWA,GAAGA,KAAK2G,EAAE,IAAIA,EAAE3G,GAAG,MAAME,EAAE,GAAGA,EAAE,MAAMyG,CAAC,CAAC,MAAMA,GAAG,CAAC,mBAAmBzG,IAAI,MAAMA,IAAG,IAAKA,GAAG,MAAMF,EAAE,GAAG2G,EAAE2D,gBAAgBtK,GAAG2G,EAAE4D,aAAavK,EAAE,WAAWA,GAAG,GAAGE,EAAE,GAAGA,GAAG,CAAC,CAAC,SAASK,EAAEoG,GAAG,OAAO,SAASzG,GAAG,GAAGmI,KAAKrI,EAAE,CAAC,IAAIpL,EAAEyT,KAAKrI,EAAEE,EAAEhV,KAAKyb,GAAG,GAAG,MAAMzG,EAAEtL,EAAEsL,EAAEtL,EAAEgS,SAAS,GAAG1G,EAAEtL,EAAEA,EAAEsL,EAAE,OAAO,OAAOtL,EAAEoL,EAAEwK,MAAMxK,EAAEwK,MAAMtK,GAAGA,EAAE,CAAC,CAAC,CAAC,SAAS8I,EAAErC,EAAEzG,EAAEtL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEpZ,EAAEF,GAAG,IAAIhC,EAAEub,EAAE9H,EAAEpR,EAAEoE,EAAEkV,EAAEI,EAAEpJ,EAAEvM,EAAE2O,EAAEmI,EAAEE,EAAES,EAAEzI,EAAED,EAAErS,EAAEwb,EAAE1J,EAAEhV,KAAK,QAAG,IAASgV,EAAE6H,YAAY,OAAO,KAAK,IAAInT,EAAEsT,MAAM1a,KAAK,GAAGoH,EAAEsT,KAAKpK,EAAE,CAAC8I,EAAE1G,EAAE0H,IAAIhT,EAAEgT,OAAOtc,EAAE0U,EAAE2H,MAAMrc,EAAE4U,GAAGyG,EAAE,GAAG,mBAAmBiD,EAAE,IAAI,GAAG3L,EAAEiC,EAAEoH,MAAM5V,EAAE,cAAckY,GAAGA,EAAEa,UAAUC,OAAOrK,GAAG/U,EAAEse,EAAEe,cAAc9b,EAAEvD,EAAEwc,KAAKU,EAAEld,EAAE+U,EAAEA,EAAEiH,MAAMsD,MAAMtf,EAAEoc,GAAG7Y,EAAE+F,EAAEkT,IAAIT,GAAGR,EAAE3G,EAAE4H,IAAIlT,EAAEkT,KAAKJ,GAAGb,EAAEgE,KAAKnZ,EAAEwO,EAAE4H,IAAIjB,EAAE,IAAI+C,EAAE3L,EAAEuK,IAAItI,EAAE4H,IAAIjB,EAAE,IAAIrb,EAAEyS,EAAEuK,GAAG3B,EAAEkB,YAAY6B,EAAE/C,EAAE6D,OAAO7Y,GAAGwO,GAAGA,EAAEnR,IAAI2X,GAAGA,EAAES,MAAMrJ,EAAE4I,EAAEiE,QAAQjE,EAAEiE,MAAM,CAAC,GAAGjE,EAAEyB,QAAQE,EAAE3B,EAAEoC,IAAIpa,EAAEkQ,EAAE8H,EAAEgB,KAAI,EAAGhB,EAAEkE,IAAI,GAAGlE,EAAEmE,IAAI,IAAItZ,GAAG,MAAMmV,EAAEoE,MAAMpE,EAAEoE,IAAIpE,EAAEiE,OAAOpZ,GAAG,MAAMkY,EAAEsB,2BAA2BrE,EAAEoE,KAAKpE,EAAEiE,QAAQjE,EAAEoE,IAAI9b,EAAE,CAAC,EAAE0X,EAAEoE,MAAM9b,EAAE0X,EAAEoE,IAAIrB,EAAEsB,yBAAyBjN,EAAE4I,EAAEoE,OAAOtd,EAAEkZ,EAAES,MAAMvV,EAAE8U,EAAEiE,MAAMjE,EAAEmB,IAAI9H,EAAEnB,EAAErN,GAAG,MAAMkY,EAAEsB,0BAA0B,MAAMrE,EAAEsE,oBAAoBtE,EAAEsE,qBAAqBzZ,GAAG,MAAMmV,EAAEuE,mBAAmBvE,EAAEkE,IAAItC,KAAK5B,EAAEuE,uBAAuB,CAAC,GAAG1Z,GAAG,MAAMkY,EAAEsB,0BAA0BjN,IAAItQ,GAAG,MAAMkZ,EAAEwE,2BAA2BxE,EAAEwE,0BAA0BpN,EAAEuK,IAAI3B,EAAEe,MAAM,MAAMf,EAAEyE,wBAAuB,IAAKzE,EAAEyE,sBAAsBrN,EAAE4I,EAAEoE,IAAIzC,IAAItI,EAAE8H,MAAMpT,EAAEoT,KAAK,CAAC,IAAI9H,EAAE8H,MAAMpT,EAAEoT,MAAMnB,EAAES,MAAMrJ,EAAE4I,EAAEiE,MAAMjE,EAAEoE,IAAIpE,EAAEgB,KAAI,GAAI3H,EAAE0H,IAAIhT,EAAEgT,IAAI1H,EAAEuH,IAAI7S,EAAE6S,IAAIvH,EAAEuH,IAAI/H,SAAQ,SAASiH,GAAGA,IAAIA,EAAEe,GAAGxH,EAAE,IAAGwI,EAAE,EAAEA,EAAE7B,EAAEmE,IAAIjc,OAAO2Z,IAAI7B,EAAEkE,IAAItC,KAAK5B,EAAEmE,IAAItC,IAAI7B,EAAEmE,IAAI,GAAGnE,EAAEkE,IAAIhc,QAAQsK,EAAEoP,KAAK5B,GAAG,MAAMF,CAAC,CAAC,MAAME,EAAE0E,qBAAqB1E,EAAE0E,oBAAoBtN,EAAE4I,EAAEoE,IAAIzC,GAAG9W,GAAG,MAAMmV,EAAE2E,oBAAoB3E,EAAEkE,IAAItC,MAAK,WAAW5B,EAAE2E,mBAAmB7d,EAAEoE,EAAEkV,EAAE,GAAE,CAAC,GAAGJ,EAAEyB,QAAQE,EAAE3B,EAAES,MAAMrJ,EAAE4I,EAAEkC,IAAIpC,EAAEE,EAAEe,KAAI,EAAGuB,EAAEnJ,EAAE2I,IAAIjI,EAAE,EAAEhP,EAAE,CAAC,IAAImV,EAAEiE,MAAMjE,EAAEoE,IAAIpE,EAAEgB,KAAI,EAAGsB,GAAGA,EAAEjJ,GAAG5U,EAAEub,EAAE6D,OAAO7D,EAAES,MAAMT,EAAEiE,MAAMjE,EAAEyB,SAAS7H,EAAE,EAAEA,EAAEoG,EAAEmE,IAAIjc,OAAO0R,IAAIoG,EAAEkE,IAAItC,KAAK5B,EAAEmE,IAAIvK,IAAIoG,EAAEmE,IAAI,EAAE,MAAM,GAAGnE,EAAEgB,KAAI,EAAGsB,GAAGA,EAAEjJ,GAAG5U,EAAEub,EAAE6D,OAAO7D,EAAES,MAAMT,EAAEiE,MAAMjE,EAAEyB,SAASzB,EAAEiE,MAAMjE,EAAEoE,UAAUpE,EAAEgB,OAAOnH,EAAE,IAAImG,EAAEiE,MAAMjE,EAAEoE,IAAI,MAAMpE,EAAE4E,kBAAkB5c,EAAEM,EAAEA,EAAE,CAAC,EAAEN,GAAGgY,EAAE4E,oBAAoB/Z,IAAIqN,GAAG,MAAM8H,EAAE6E,0BAA0BzE,EAAEJ,EAAE6E,wBAAwB/d,EAAEoE,IAAIsF,EAAEsP,EAAE/X,EAAER,EAAE,MAAM9C,GAAGA,EAAEJ,OAAOgY,GAAG,MAAM5X,EAAEic,IAAIjc,EAAEgc,MAAMJ,SAAS5b,GAAG8C,EAAE,CAACA,GAAG8R,EAAEtL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEpZ,EAAEF,GAAGuZ,EAAE0B,KAAKrI,EAAE0H,IAAI1H,EAAEgI,MAAM,IAAIrB,EAAEkE,IAAIhc,QAAQsK,EAAEoP,KAAK5B,GAAGQ,IAAIR,EAAEgE,IAAIhE,EAAEa,GAAG,KAAK,CAAC,MAAMf,GAAG,GAAGzG,EAAE8H,IAAI,KAAKxa,GAAG,MAAMsQ,EAAE,CAAC,IAAIoC,EAAEgI,KAAK1a,EAAE,IAAI,GAAGoZ,GAAG,IAAIA,EAAE8C,UAAU9C,EAAEyC,aAAazC,EAAEA,EAAEyC,YAAYvL,EAAEA,EAAE6N,QAAQ/E,IAAI,KAAK1G,EAAE0H,IAAIhB,CAAC,MAAM1G,EAAE0H,IAAIhT,EAAEgT,IAAI1H,EAAEuH,IAAI7S,EAAE6S,IAAIzH,EAAE4H,IAAIjB,EAAEzG,EAAEtL,EAAE,MAAM,MAAMkJ,GAAGoC,EAAE8H,MAAMpT,EAAEoT,KAAK9H,EAAEuH,IAAI7S,EAAE6S,IAAIvH,EAAE0H,IAAIhT,EAAEgT,KAAK1H,EAAE0H,IAAI9V,EAAE8C,EAAEgT,IAAI1H,EAAEtL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAE7L,EAAEF,IAAIhC,EAAE0U,EAAE4L,SAAStgB,EAAE4U,EAAE,CAAC,SAAS+C,EAAE0D,EAAEzG,EAAEtL,GAAGsL,EAAE2H,SAAI,EAAO,IAAI,IAAIhZ,EAAE,EAAEA,EAAE+F,EAAE7F,OAAOF,IAAIua,EAAExU,EAAE/F,GAAG+F,IAAI/F,GAAG+F,IAAI/F,IAAImR,EAAE8H,KAAK9H,EAAE8H,IAAI5H,EAAEyG,GAAGA,EAAEgD,MAAK,SAASzJ,GAAG,IAAIyG,EAAEzG,EAAE6K,IAAI7K,EAAE6K,IAAI,GAAGpE,EAAEgD,MAAK,SAAShD,GAAGA,EAAEQ,KAAKjH,EAAE,GAAE,CAAC,MAAMyG,GAAG3G,EAAE4H,IAAIjB,EAAEzG,EAAE8H,IAAI,CAAC,GAAE,CAAC,SAASlW,EAAEkO,EAAEE,EAAEtL,EAAE/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEpZ,GAAG,IAAIF,EAAEhC,EAAEyT,EAAEpR,EAAEwB,EAAE8X,EAAEI,EAAEpJ,EAAErJ,EAAE0S,MAAMpE,EAAEhD,EAAEoH,MAAM9b,EAAE0U,EAAEhV,KAAK,GAAG,QAAQM,EAAEmM,EAAE,6BAA6B,SAASnM,EAAEmM,EAAE,qCAAqCA,IAAIA,EAAE,gCAAgC,MAAMmG,EAAE,IAAIxQ,EAAE,EAAEA,EAAEwQ,EAAE/O,OAAOzB,IAAI,IAAI6B,EAAE2O,EAAExQ,KAAK,iBAAiB6B,KAAK3D,IAAIA,EAAE2D,EAAE0c,YAAYrgB,EAAE,IAAI2D,EAAEua,UAAU,CAAC1J,EAAE7Q,EAAE2O,EAAExQ,GAAG,KAAK,KAAK,CAAC,GAAG,MAAM0S,EAAE,CAAC,GAAG,OAAOxU,EAAE,OAAOsgB,SAASC,eAAe7I,GAAGlD,EAAE8L,SAASE,gBAAgBrU,EAAEnM,EAAE0X,EAAE+I,IAAI/I,GAAGpF,EAAE,KAAK8I,GAAE,CAAE,CAAC,GAAG,OAAOpb,EAAEyS,IAAIiF,GAAG0D,GAAG5G,EAAEkM,OAAOhJ,IAAIlD,EAAEkM,KAAKhJ,OAAO,CAAC,GAAGpF,EAAEA,GAAG6I,EAAEQ,KAAKnH,EAAEmM,YAAYlO,EAAErJ,EAAE0S,OAAOT,GAAGD,GAAG,MAAM9I,EAAE,IAAIG,EAAE,CAAC,EAAE3Q,EAAE,EAAEA,EAAE0S,EAAEoM,WAAWrd,OAAOzB,IAAI2Q,GAAG9O,EAAE6Q,EAAEoM,WAAW9e,IAAI+e,MAAMld,EAAEyb,MAAM,IAAItd,KAAK2Q,EAAE,GAAG9O,EAAE8O,EAAE3Q,GAAG,YAAYA,QAAQ,GAAG,2BAA2BA,EAAEyR,EAAE5P,OAAO,GAAG,QAAQ7B,KAAKA,KAAK4V,GAAG,CAAC,GAAG,SAAS5V,GAAG,iBAAiB4V,GAAG,WAAW5V,GAAG,mBAAmB4V,EAAE,SAAS/C,EAAEH,EAAE1S,EAAE,KAAK6B,EAAEwI,EAAE,CAAC,IAAIrK,KAAK4V,EAAE/T,EAAE+T,EAAE5V,GAAG,YAAYA,EAAEK,EAAEwB,EAAE,2BAA2B7B,EAAEhC,EAAE6D,EAAE,SAAS7B,EAAE2Z,EAAE9X,EAAE,WAAW7B,EAAE+Z,EAAElY,EAAE,QAAQ7B,GAAGsZ,GAAG,mBAAmBzX,GAAG8O,EAAE3Q,KAAK6B,GAAGgR,EAAEH,EAAE1S,EAAE6B,EAAE8O,EAAE3Q,GAAGqK,GAAG,GAAGrM,EAAEsb,GAAG7H,IAAIzT,EAAEghB,SAASvN,EAAEuN,QAAQhhB,EAAEghB,SAAStM,EAAEuM,aAAavM,EAAEuM,UAAUjhB,EAAEghB,QAAQpM,EAAEuH,IAAI,QAAQ,GAAG1I,IAAIiB,EAAEuM,UAAU,IAAIlV,EAAE2I,EAAEpR,EAAEjB,GAAGA,EAAE,CAACA,GAAGuS,EAAEtL,EAAE/F,EAAE,kBAAkBrD,EAAE,+BAA+BmM,EAAEmG,EAAEzE,EAAEyE,EAAEA,EAAE,GAAGlJ,EAAE6S,KAAK/V,EAAEkD,EAAE,GAAGgS,EAAEpZ,GAAG,MAAMsQ,EAAE,IAAIxQ,EAAEwQ,EAAE/O,OAAOzB,KAAK,MAAMwQ,EAAExQ,IAAIyE,EAAE+L,EAAExQ,IAAIsZ,IAAItZ,EAAE,aAAQ,IAAS2Z,IAAIA,IAAIjH,EAAE1S,IAAI,aAAa9B,IAAIyb,GAAG,WAAWzb,GAAGyb,IAAIhJ,EAAE3Q,KAAK6S,EAAEH,EAAE1S,EAAE2Z,EAAEhJ,EAAE3Q,GAAGqK,GAAGrK,EAAE,eAAU,IAAS+Z,GAAGA,IAAIrH,EAAE1S,IAAI6S,EAAEH,EAAE1S,EAAE+Z,EAAEpJ,EAAE3Q,GAAGqK,GAAG,CAAC,OAAOqI,CAAC,CAAC,SAASoJ,EAAEzC,EAAEzG,EAAEtL,GAAG,IAAI,GAAG,mBAAmB+R,EAAE,CAAC,IAAI9X,EAAE,mBAAmB8X,EAAEuB,IAAIrZ,GAAG8X,EAAEuB,MAAMrZ,GAAG,MAAMqR,IAAIyG,EAAEuB,IAAIvB,EAAEzG,GAAG,MAAMyG,EAAEyB,QAAQlI,CAAC,CAAC,MAAMyG,GAAG3G,EAAE4H,IAAIjB,EAAE/R,EAAE,CAAC,CAAC,SAAS2U,EAAE5C,EAAEzG,EAAEtL,GAAG,IAAI/F,EAAE8I,EAAE,GAAGqI,EAAEwM,SAASxM,EAAEwM,QAAQ7F,IAAI9X,EAAE8X,EAAEa,OAAO3Y,EAAEuZ,SAASvZ,EAAEuZ,UAAUzB,EAAEiB,KAAKwB,EAAEva,EAAE,KAAKqR,IAAI,OAAOrR,EAAE8X,EAAEmB,KAAK,CAAC,GAAGjZ,EAAE4d,qBAAqB,IAAI5d,EAAE4d,sBAAsB,CAAC,MAAM9F,GAAG3G,EAAE4H,IAAIjB,EAAEzG,EAAE,CAACrR,EAAE0Z,KAAK1Z,EAAEka,IAAI,IAAI,CAAC,GAAGla,EAAE8X,EAAEc,IAAI,IAAI9P,EAAE,EAAEA,EAAE9I,EAAEE,OAAO4I,IAAI9I,EAAE8I,IAAI4R,EAAE1a,EAAE8I,GAAGuI,EAAEtL,GAAG,mBAAmB+R,EAAEzb,MAAM0J,GAAG,MAAM+R,EAAEiB,KAAK7V,EAAE4U,EAAEiB,KAAKjB,EAAEmB,IAAInB,EAAEe,GAAGf,EAAEiB,IAAIjB,EAAEkB,SAAI,CAAM,CAAC,SAAShW,EAAE8U,EAAE3G,EAAEE,GAAG,OAAOmI,KAAKN,YAAYpB,EAAEzG,EAAE,CAAC,SAASE,EAAEF,EAAEtL,EAAE/F,GAAG,IAAI8I,EAAEmG,EAAEzE,EAAEuN,EAAE5G,EAAE0H,IAAI1H,EAAE0H,GAAGxH,EAAEtL,GAAGkJ,GAAGnG,EAAE,mBAAmB9I,GAAG,KAAKA,GAAGA,EAAE4Y,KAAK7S,EAAE6S,IAAIpO,EAAE,GAAGuN,EAAE,GAAGoC,EAAEpU,EAAEsL,IAAIvI,GAAG9I,GAAG+F,GAAG6S,IAAIR,EAAE/D,EAAE,KAAK,CAAChD,IAAIpC,GAAG+I,EAAEA,EAAEjS,EAAEsU,cAAcvR,GAAG9I,EAAE,CAACA,GAAGiP,EAAE,KAAKlJ,EAAE8X,WAAW/F,EAAEQ,KAAKvS,EAAEuX,YAAY,KAAK9S,GAAG1B,GAAG9I,EAAEA,EAAEiP,EAAEA,EAAE8J,IAAIhT,EAAE8X,WAAW/U,EAAEiP,GAAG3D,EAAE5J,EAAE6G,EAAE0G,EAAE,CAAC,SAASvY,EAAEsY,EAAE3G,GAAGI,EAAEuG,EAAE3G,EAAE3R,EAAE,CAAC,SAASiS,EAAEN,EAAEE,EAAEtL,GAAG,IAAI/F,EAAE8I,EAAEmG,EAAEzE,EAAEuN,EAAEzX,EAAE,CAAC,EAAE6Q,EAAEsH,OAAO,IAAIxJ,KAAKkC,EAAE9U,MAAM8U,EAAE9U,KAAKkc,eAAe/N,EAAE2G,EAAE9U,KAAKkc,cAAclH,EAAE,OAAOpC,EAAEjP,EAAEqR,EAAEpC,GAAG,OAAOA,EAAEnG,EAAEuI,EAAEpC,GAAG8I,EAAE9I,QAAG,IAASoC,EAAEpC,SAAI,IAASzE,EAAEA,EAAEyE,GAAGoC,EAAEpC,GAAG,OAAOhP,UAAUC,OAAO,IAAI6X,EAAEM,SAASpY,UAAUC,OAAO,EAAE4X,EAAEQ,KAAKrY,UAAU,GAAG8F,GAAGyS,EAAErH,EAAE9U,KAAK0b,EAAE/X,GAAGmR,EAAEuH,IAAI5P,GAAGqI,EAAEwH,IAAI,KAAK,CAAC,SAAShH,EAAEmG,EAAE3G,GAAG,IAAIE,EAAE,CAAC4H,IAAI9H,EAAE,OAAO1U,IAAIoc,GAAGf,EAAEgG,SAAS,SAAShG,EAAE3G,GAAG,OAAO2G,EAAEO,SAASlH,EAAE,EAAE4M,SAAS,SAASjG,GAAG,IAAIzG,EAAEtL,EAAE,OAAOyT,KAAKoD,kBAAkBvL,EAAE,IAAItL,EAAE,CAAC,GAAGoL,GAAGqI,KAAKA,KAAKoD,gBAAgB,WAAW,OAAO7W,CAAC,EAAEyT,KAAKoE,qBAAqB,WAAWvM,EAAE,IAAI,EAAEmI,KAAKiD,sBAAsB,SAAS3E,GAAG0B,KAAKf,MAAMsD,QAAQjE,EAAEiE,OAAO1K,EAAEyJ,MAAK,SAAShD,GAAGA,EAAEiB,KAAI,EAAGY,EAAE7B,EAAE,GAAE,EAAE0B,KAAKnZ,IAAI,SAASyX,GAAGzG,EAAEuI,KAAK9B,GAAG,IAAI3G,EAAE2G,EAAE8F,qBAAqB9F,EAAE8F,qBAAqB,WAAWvM,GAAGA,EAAE2M,OAAO3M,EAAEyL,QAAQhF,GAAG,GAAG3G,GAAGA,EAAEmH,KAAKR,EAAE,CAAC,GAAGA,EAAEO,QAAQ,GAAG,OAAOhH,EAAE0M,SAASlF,GAAGxH,EAAEyM,SAAShC,YAAYzK,CAAC,CAACyG,EAAE5H,EAAEoL,MAAMnK,EAAE,CAAC4H,IAAI,SAASjB,EAAE3G,EAAEE,EAAEtL,GAAG,IAAI,IAAI/F,EAAE8I,EAAEmG,EAAEkC,EAAEA,EAAE0H,IAAI,IAAI7Y,EAAEmR,EAAE8H,OAAOjZ,EAAE6Y,GAAG,IAAI,IAAI/P,EAAE9I,EAAEkZ,cAAc,MAAMpQ,EAAEmV,2BAA2Bje,EAAEke,SAASpV,EAAEmV,yBAAyBnG,IAAI7I,EAAEjP,EAAEgZ,KAAK,MAAMhZ,EAAEme,oBAAoBne,EAAEme,kBAAkBrG,EAAE/R,GAAG,CAAC,GAAGkJ,EAAEjP,EAAEgZ,KAAK/J,EAAE,OAAOjP,EAAEgc,IAAIhc,CAAC,CAAC,MAAMmR,GAAG2G,EAAE3G,CAAC,CAAC,MAAM2G,CAAC,GAAGzG,EAAE,EAAEtL,EAAE,SAAS+R,GAAG,OAAO,MAAMA,GAAG,MAAMA,EAAEoB,WAAW,EAAEvc,EAAEif,UAAUsC,SAAS,SAASpG,EAAE3G,GAAG,IAAIE,EAAEA,EAAE,MAAMmI,KAAK4C,KAAK5C,KAAK4C,MAAM5C,KAAKyC,MAAMzC,KAAK4C,IAAI5C,KAAK4C,IAAI9b,EAAE,CAAC,EAAEkZ,KAAKyC,OAAO,mBAAmBnE,IAAIA,EAAEA,EAAExX,EAAE,CAAC,EAAE+Q,GAAGmI,KAAKf,QAAQX,GAAGxX,EAAE+Q,EAAEyG,GAAG,MAAMA,GAAG0B,KAAKL,MAAMhI,GAAGqI,KAAK2C,IAAIvC,KAAKzI,GAAGwI,EAAEH,MAAM,EAAE7c,EAAEif,UAAUwC,YAAY,SAAStG,GAAG0B,KAAKL,MAAMK,KAAKT,KAAI,EAAGjB,GAAG0B,KAAK0C,IAAItC,KAAK9B,GAAG6B,EAAEH,MAAM,EAAE7c,EAAEif,UAAUC,OAAOxH,EAAErU,EAAE,GAAGiP,EAAE,mBAAmBoP,QAAQA,QAAQzC,UAAU0C,KAAKC,KAAKF,QAAQG,WAAWC,WAAWjU,EAAE,SAASsN,EAAE3G,GAAG,OAAO2G,EAAEqB,IAAIL,IAAI3H,EAAEgI,IAAIL,GAAG,EAAEe,EAAEC,IAAI,EAAE/B,EAAE,EAAEpZ,EAAE+S,GAAE,GAAIjT,EAAEiT,GAAE,GAAIjV,EAAE,6BCC3lWiiB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQojB,UAAYpjB,EAAQqjB,aAAU,EACtC,MAAMA,EACF,WAAA3F,CAAY4F,GACRtF,KAAKpE,KAAO,IAAI2J,WAAWD,EAAQ,EAAGA,EAAOE,WACjD,CACA,OAAAC,CAAQlO,EAAQmO,EAAMC,GAAS,GAE3B,GAAID,EADiC,EAAnB1F,KAAKpE,KAAKlV,OAAa6Q,EAErC,MAAM,IAAIqO,MAAM,sBAEpB,IAAIrD,EAAQ,EACZ,IAAK,IAAI/b,EAAI,EAAGA,EAAIkf,GAAO,CACvB,MAAMG,EAAYH,EAAOlf,EACnBsf,EAAqB,EAATvO,EACZwO,EAAc/F,KAAKpE,KAAKrE,GAAU,GAClCyO,EAAOtjB,KAAK2R,IAAIwR,EAAW,EAAIC,GAGrCvD,IADkBwD,GAAeD,GADnB,GAAKE,GAAQ,IAENxf,EACrB+Q,GAAUyO,EACVxf,GAAKwf,CACT,CACA,OAAIL,GACa,KAATD,GAAenD,EAAS,GAAMmD,EAAO,IACrCnD,IAAU,GAAM,GAAKmD,GAAQ,GAE1BnD,GAEJA,IAAU,CACrB,CACA,OAAA0D,CAAQ1O,GACJ,OAAOyI,KAAKyF,QAAQlO,EAAQ,GAAG,EACnC,CACA,QAAA2O,CAAS3O,GACL,OAAOyI,KAAKyF,QAAQlO,EAAQ,GAAG,EACnC,CACA,QAAA4O,CAAS5O,GACL,OAAOyI,KAAKyF,QAAQlO,EAAQ,IAAI,EACpC,CACA,SAAA6O,CAAU7O,GACN,OAAOyI,KAAKyF,QAAQlO,EAAQ,IAAI,EACpC,CACA,QAAA8O,CAAS9O,GACL,OAAOyI,KAAKyF,QAAQlO,EAAQ,IAAI,EACpC,CACA,SAAA+O,CAAU/O,GACN,OAAOyI,KAAKyF,QAAQlO,EAAQ,IAAI,EACpC,CACA,UAAAgP,CAAWhP,GAEP,OADA8N,EAAQmB,QAAQC,UAAU,EAAGzG,KAAKsG,UAAU/O,IACrC8N,EAAQmB,QAAQD,WAAW,EACtC,CACA,UAAAG,CAAWnP,GAGP,OAFA8N,EAAQmB,QAAQC,UAAU,EAAGzG,KAAKsG,UAAU/O,IAC5C8N,EAAQmB,QAAQC,UAAU,EAAGzG,KAAKsG,UAAU/O,EAAS,KAC9C8N,EAAQmB,QAAQE,WAAW,EACtC,EAEJ1kB,EAAQqjB,QAAUA,EAClBA,EAAQmB,QAAU,IAAIG,SAAS,IAAIC,YAAY,IAkF/C5kB,EAAQojB,UAjFR,MACI,WAAA1F,CAAYmH,GACR7G,KAAKpE,KAAO,IAAIyJ,EAAQwB,GACxB7G,KAAK8G,MAAQ,CACjB,CACA,QAAAC,CAASrB,EAAMC,GAAS,GACpB,MAAMqB,EAAMhH,KAAKpE,KAAK6J,QAAQzF,KAAK8G,MAAOpB,EAAMC,GAEhD,OADA3F,KAAK8G,OAASpB,EACPsB,CACX,CACA,QAAAC,GACI,MAAMD,EAAMhH,KAAKpE,KAAKqK,QAAQjG,KAAK8G,OAEnC,OADA9G,KAAK8G,OAAS,EACPE,CACX,CACA,SAAAE,GACI,MAAMF,EAAMhH,KAAKpE,KAAKsK,SAASlG,KAAK8G,OAEpC,OADA9G,KAAK8G,OAAS,EACPE,CACX,CACA,SAAAG,GACI,MAAMH,EAAMhH,KAAKpE,KAAKuK,SAASnG,KAAK8G,OAEpC,OADA9G,KAAK8G,OAAS,GACPE,CACX,CACA,UAAAI,GACI,MAAMJ,EAAMhH,KAAKpE,KAAKwK,UAAUpG,KAAK8G,OAErC,OADA9G,KAAK8G,OAAS,GACPE,CACX,CACA,SAAAK,GACI,MAAML,EAAMhH,KAAKpE,KAAKyK,SAASrG,KAAK8G,OAEpC,OADA9G,KAAK8G,OAAS,GACPE,CACX,CACA,UAAAM,GACI,MAAMN,EAAMhH,KAAKpE,KAAK0K,UAAUtG,KAAK8G,OAErC,OADA9G,KAAK8G,OAAS,GACPE,CACX,CACA,WAAAO,GACI,MAAMP,EAAMhH,KAAKpE,KAAK2K,WAAWvG,KAAK8G,OAEtC,OADA9G,KAAK8G,OAAS,GACPE,CACX,CACA,WAAAQ,GACI,MAAMR,EAAMhH,KAAKpE,KAAK8K,WAAW1G,KAAK8G,OAEtC,OADA9G,KAAK8G,OAAS,GACPE,CACX,CACA,UAAAS,CAAWC,EAAQ,EAAGC,GAAO,GACzB,IAAInhB,EAAI,EACR,MAAMohB,EAAQ,GACd,IAAIC,GAAS,EACb,MAAQH,GAAUA,GAASlhB,EAAIkhB,GAAQ,CACnC,MAAMviB,EAAI6a,KAAKkH,YACf,GAAU,IAAN/hB,IACA0iB,GAAS,GACJH,GACD,MAGJG,GACAD,EAAMxH,KAAKjb,GAEfqB,GACJ,CACA,MAAMshB,EAAS7G,OAAO8G,aAAaC,MAAM,KAAMJ,GAC/C,IAAID,EASA,OAAOG,EARP,IACI,OAAOG,mBAAmBH,EAC9B,CACA,MAAOvJ,GACH,OAAOuJ,CACX,CAKR,8BC5IJ5C,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQkmB,SAAM,EAYdlmB,EAAQkmB,IAXR,MACI,WAAAxI,CAAYsE,EAAMmE,EAAUC,EAAUC,EAAQC,GAC1CtI,KAAKuI,MAAQ,GACbvI,KAAKwI,QAAU,CAAC,EAChBxI,KAAKgE,KAAOA,EACZhE,KAAKmI,SAAWA,EAChBnI,KAAKoI,SAAWA,EAChBpI,KAAKqI,OAASA,EACdrI,KAAKsI,SAAWA,CACpB,8BCXJpD,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQymB,YAAS,EACjB,MAAMA,EACF,WAAOC,CAAKC,GACR,OACW,IAAIF,EADO,iBAAXE,EACW,CACdC,MAAO,CACH1I,KAAMyI,EACNE,QAAS,GAAGF,cACZG,KAAM,GAAGH,SACTI,KAAM,GAAGJ,SACTJ,MAAO,GAAGI,UACVK,OAAQ,GAAGL,aAKD,CACdC,MAAO,CACH1I,KAAOyI,GAAUA,EAAOC,OAASD,EAAOC,MAAM1I,MAAS,GACvD2I,QAAUF,GAAUA,EAAOC,OAASD,EAAOC,MAAMC,SAAY,aAC7DC,KAAOH,GAAUA,EAAOC,OAASD,EAAOC,MAAME,MAAS,QACvDC,KAAOJ,GAAUA,EAAOC,OAASD,EAAOC,MAAMG,MAAS,QACvDR,MAAQI,GAAUA,EAAOC,OAASD,EAAOC,MAAML,OAAU,SACzDS,OAASL,GAAUA,EAAOC,OAASD,EAAOC,MAAMI,QAAW,YAI3E,CACA,WAAAtJ,CAAYiJ,GACR3I,KAAK4I,MAAQ1D,OAAO+D,OAAO,CAAC,EAAGN,EAAOC,MAC1C,CACA,WAAAM,GACI,OAAOlJ,KAAK4I,MAAM1I,IACtB,CACA,cAAAiJ,GACI,OAAOnJ,KAAK4I,MAAMC,OACtB,CACA,WAAAO,GACI,OAAOpJ,KAAK4I,MAAME,IACtB,CACA,WAAAO,GACI,OAAOrJ,KAAK4I,MAAMG,IACtB,CACA,YAAAO,GACI,OAAOtJ,KAAK4I,MAAML,KACtB,CACA,aAAAgB,GACI,OAAOvJ,KAAK4I,MAAMI,MACtB,EAEJhnB,EAAQymB,OAASA,6BCnDjBvD,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQwnB,gBAAa,EACrB,MAAMC,EAAO,CACT,CACIC,QAAS,oBACTC,QAAS,oBACTC,QAAS,oBACTC,KAAM,iBACNC,OAAQ,mBACRC,MAAO,mBAEX,CACIL,QAAS,uBACTC,QAAS,uBACTC,QAAS,uBACTC,KAAM,sBACNC,OAAQ,sBACRC,MAAO,sBAEX,CACIL,QAAS,0BACTC,QAAS,iCACTC,QAAS,0BACTC,KAAM,uBACNC,OAAQ,yBACRC,MAAO,yBAEX,CACIL,QAAS,sBACTC,QAAS,sBACTC,QAAS,sBACTC,KAAM,mBACNC,OAAQ,qBACRC,MAAO,sBAGf,IAAIC,EAAS,EACb,MAAMC,EAAMxG,SACZ,IAAK,IAAIjd,EAAI,EAAGA,EAAIijB,EAAK/iB,SAAUF,EAC/B,QAAoC,IAAzByjB,EAAIR,EAAKjjB,GAAGkjB,SAA0B,CAC7CM,EAASxjB,EACT,KACJ,CAEJ,MAAMgjB,EACF,cAAOG,GACH,OAAOM,EAAIR,EAAKO,GAAQL,QAC5B,CACA,cAAOD,GACH,OAAOO,EAAIR,EAAKO,GAAQN,QAC5B,CACA,qBAAOQ,GACH,OAAgC,OAAzBV,EAAWG,SACtB,CACA,YAAOQ,CAAMC,GACTA,EAAKX,EAAKO,GAAQJ,UACtB,CACA,WAAOC,GACHI,EAAIR,EAAKO,GAAQH,OACrB,CACA,eAAOQ,CAASC,GACZ,OAAOC,OAAOxI,iBAAiB0H,EAAKO,GAAQF,OAAQQ,EACxD,CACA,qBAAOE,CAAeF,GAClBC,OAAOvI,oBAAoByH,EAAKO,GAAQF,OAAQQ,EACpD,CACA,cAAOG,CAAQH,GACX,OAAOC,OAAOxI,iBAAiB0H,EAAKO,GAAQD,MAAOO,EACvD,EAEJtoB,EAAQwnB,WAAaA,+BCtErBtE,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ0oB,KAAO1oB,EAAQ2oB,gBAAa,EACpC,MAAMC,EAAe,EAAQ,MACvBC,EAAO,EAAQ,MACfC,EAAW,EAAQ,MACnBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAW,EAAQ,MACnBC,EAAa,EAAQ,MACrBC,EAAgB,EAAQ,MACxBC,EAAY,EAAQ,MACpBC,EAAiB,EAAQ,MACzBC,EAAa,EAAQ,MACrBC,EAAa,EAAQ,MACrBC,EAAe,EAAQ,MAC7B,IAAIb,GACJ,SAAWA,GACPA,EAAWA,EAAiB,KAAI,GAAK,OACrCA,EAAWA,EAAmB,OAAI,GAAK,QAC1C,CAHD,CAGGA,IAAe3oB,EAAQ2oB,WAAaA,EAAa,CAAC,IACrD,MAAMD,EACF,WAAOhC,CAAK+C,GAER,IADeL,EAAUM,QAAQC,oBACrBC,WACR,MAAO,CACHC,OAAQ,QACRC,QAAS,qBAGjB,MAAMC,EAAStI,SAASuI,cAAc,UACtC,IAAKD,EACD,MAAO,CACHF,OAAQ,QACRC,QAAS,sCAGjB,MAAM7L,EAAUmL,EAAUM,QAAQhD,KAAKqD,GACvC,IAAK9L,EACD,MAAO,CACH4L,OAAQ,QACRC,QAAS,sCAGjB,MAAMG,EAAWX,EAAWY,SAASxD,KAAKzI,GAC1C,IAAKgM,EACD,MAAO,CACHJ,OAAQ,QACRC,QAAS,iCAGjB,MAAMK,EAAaX,EAAaY,WAAW1D,KAAKzI,GAChD,IAAKkM,EACD,MAAO,CACHN,OAAQ,QACRC,QAAS,oCAGjB,MAAMO,EAAWd,EAAWe,SAAS5D,KAAKzI,GAC1C,IAAKoM,EACD,MAAO,CACHR,OAAQ,QACRC,QAAS,kCAWjB,MAAO,CACHD,OAAQ,UACRU,KAVS,IAAI7B,EAAK,CAClBqB,SACAN,SACAxL,UACAgM,WACAE,aACAE,aAMR,CACA,WAAA3M,CAAYiJ,GACR3I,KAAKwM,UAAY,EACjBxM,KAAKyM,UAAW,EAChBzM,KAAK0M,SAAW,EAChB1M,KAAK2M,UAAY,EACjB3M,KAAK4M,SAAW,EAAI,GACpB5M,KAAK6M,MAAQ,GACb7M,KAAK8M,eAAgB,EACrB9M,KAAK+M,MAAQ,IAAI/B,EAAQgC,MACzBhN,KAAKiN,MAAQ,IAAIlC,EAAQmC,MACzBlN,KAAKmN,SAAW,IAAIjC,EAAWkC,SAC/BpN,KAAKmI,SAAW,GAChBnI,KAAKqN,UAAaC,IAKd,GAJIA,GAAUA,EAAOC,SACjBvN,KAAKwN,aAAaF,EAAOC,OAAO1J,MAChC7D,KAAKyN,WAAW9C,EAAW+C,UAE1BJ,EAAOK,MAAQL,EAAOK,IAAI9J,KAC3B,OAEJ,MAAM8J,EAAML,EAAOK,IAAI9J,KACjB0E,EAAQ+E,EAAO/E,MACrB,IAAIqF,GAAa,EACjBrF,EAAMlR,SAAQwW,IACVD,EAAaA,GAAcC,EAAIC,QAAQ,IAEvCF,GACArF,EAAMlR,SAAQwW,GAAQA,EAAIhK,KAAO8J,EAAIpF,MAAMnI,KAAKyN,EAAIhK,MAAQ,IAEhEqB,OAAO6I,QAAQT,EAAO9E,SAASnR,SAAQ,EAAE2M,EAAMgK,MACvCA,EAAKnK,OACL8J,EAAInF,QAAQxE,GAAQgK,EAAKnK,KAC7B,IAEAyJ,EAAOtE,OAAOtiB,OAAS,GACvB4mB,EAAOtE,OAAO3R,SAAQ4W,IACdA,EAAMpK,MACN7D,KAAKgJ,OAAO5I,KAAK6N,EAAMpK,KAC3B,IAGR7D,KAAKkO,UAAUP,GACf3N,KAAKmO,OAAOC,KAAK,OAAQd,EAAO,EAEpCtN,KAAKqO,KAAO,KACRC,sBAAsBtO,KAAKqO,MAC3B,MAAMtC,EAAS/L,KAAK+L,OACdwC,EAASxC,EAAOyC,cACtB,GAAID,EAAQ,CACR,MAAME,EAAKF,EAAOG,YACZC,EAAKJ,EAAOK,aACd7C,EAAOxgB,QAAUkjB,GAAM1C,EAAOvgB,SAAWmjB,IACzC5C,EAAOxgB,MAAQkjB,EACf1C,EAAOvgB,OAASmjB,EAChB3O,KAAK6O,OAAO9d,OAASgb,EAAO2C,YAAc3C,EAAO6C,aACjD5O,KAAK6O,OAAOC,yBACZ9O,KAAKC,QAAQ8O,GAAGC,SAAS,EAAG,EAAGhP,KAAKC,QAAQ8O,GAAGE,mBAAoBjP,KAAKC,QAAQ8O,GAAGG,sBAEnFnD,EAAO2C,cAAgB3C,EAAOxgB,OAC9BwgB,EAAO6C,eAAiB7C,EAAOvgB,SAC/BugB,EAAOxgB,MAAQwgB,EAAO2C,YACtB3C,EAAOvgB,OAASugB,EAAO6C,aACvB5O,KAAK6O,OAAO9d,OAASgb,EAAO2C,YAAc3C,EAAO6C,aACjD5O,KAAK6O,OAAOC,yBACZ9O,KAAKC,QAAQ8O,GAAGC,SAAS,EAAG,EAAGhP,KAAKC,QAAQ8O,GAAGE,mBAAoBjP,KAAKC,QAAQ8O,GAAGG,qBAE3F,CACA,MAAMC,EAAWtE,EAAKuE,MAAQ,IACxBC,EAAKF,EAAWnP,KAAK0M,SAE3B,IADA1M,KAAK2M,WAAa0C,EACXrP,KAAK2M,UAAY3M,KAAK4M,UACzB5M,KAAKsP,OAAOtP,KAAK4M,UACjB5M,KAAK2M,WAAa3M,KAAK4M,SAE3B5M,KAAKiM,SAASoC,OACO,KAAjBrO,KAAKuP,UACLvP,KAAKqM,SAASgC,KAAKrO,KAAK6O,QACxB7O,KAAKmM,WAAWkC,KAAKrO,KAAK6O,OAAQ7O,KAAKmI,WAE3CnI,KAAK0M,SAAWyC,CAAQ,EAE5BnP,KAAKwP,aAAgBjR,IACjB,MAAMwO,EAAQxO,EAAEkR,QAAQzB,KAAK,GACzBjB,IACA/M,KAAK+M,MAAM2C,SAAU,EACrB1P,KAAK+M,MAAM4C,SAAS,GAAK5C,EAAM6C,QAC/B5P,KAAK+M,MAAM4C,SAAS,GAAK5C,EAAM8C,QACnC,EAEJ7P,KAAK8P,WAAa,KACd9P,KAAK+M,MAAM2C,SAAU,EACrB1P,KAAK+M,MAAMgD,MAAM,GAAK,EACtB/P,KAAK+M,MAAMgD,MAAM,GAAK,CAAC,EAE3B/P,KAAKgQ,YAAezR,IAChB,MAAMwO,EAAQxO,EAAEkR,QAAQzB,KAAK,GACzBjB,GAAS/M,KAAK+M,MAAM2C,UACpB1P,KAAK+M,MAAMgD,MAAM,GACjB/P,KAAK+M,MAAMgD,MAAM,GAAKhD,EAAM6C,QAAU5P,KAAK+M,MAAM4C,SAAS,GAC1D3P,KAAK+M,MAAMgD,MAAM,GAAKhD,EAAM8C,QAAU7P,KAAK+M,MAAM4C,SAAS,GAC1D3P,KAAK+M,MAAM4C,SAAS,GAAK5C,EAAM6C,QAC/B5P,KAAK+M,MAAM4C,SAAS,GAAK5C,EAAM8C,QACnC,EAEJ7P,KAAKiQ,YAAe1R,IACZyB,KAAK8M,gBACL9M,KAAKiN,MAAM8C,MAAM,GAAmB,GAAdxR,EAAE2R,UACxBlQ,KAAKiN,MAAM8C,MAAM,GAAmB,GAAdxR,EAAE4R,UACxBnQ,KAAKiN,MAAM0C,SAAS,GAAKpR,EAAE6R,MAC3BpQ,KAAKiN,MAAM0C,SAAS,GAAKpR,EAAE8R,MAC/B,EAEJrQ,KAAKsQ,QAAW/R,IACZyB,KAAKmN,SAASoD,KAAKhS,EAAEiS,OAAS,GAC1BxQ,KAAK8M,gBACLvO,EAAEkS,kBACK,IAIfzQ,KAAK0Q,MAASnS,IACVyB,KAAKmN,SAASoD,KAAKhS,EAAEiS,OAAS,GAC1BxQ,KAAK8M,gBACLvO,EAAEkS,kBACK,IAIfzQ,KAAK2Q,mBAAqB,KACtB,GAAIlN,SAASmN,OAAQ,CACjB,GAAI5Q,KAAKyM,SACL,OAEJzM,KAAKwM,UAAY3B,EAAKuE,MAAQ,IAC9BpP,KAAKyM,UAAW,CACpB,KACK,CACD,IAAKzM,KAAKyM,SACN,OAEJzM,KAAK0M,SAAW7B,EAAKuE,MAAQ,IAAOpP,KAAKwM,UAAYxM,KAAK0M,SAC1D1M,KAAKyM,UAAW,CACpB,GAEJzM,KAAKgJ,OAAS,GACdhJ,KAAK6Q,YAAc,IAAI1F,EAAc2F,YACrC9Q,KAAKyL,OAAS9C,EAAO8C,OACrBzL,KAAKsN,OAAS,IAAIxC,EAASiG,OAAO/Q,KAAKyL,QACvCzL,KAAKsN,OAAOa,OAAO6C,GAAG,UAAWhR,KAAKqN,WACtC5J,SAAS1B,iBAAiB,aAAc/B,KAAKwP,cAAc,GAC3D/L,SAAS1B,iBAAiB,WAAY/B,KAAK8P,YAAY,GACvDrM,SAAS1B,iBAAiB,cAAe/B,KAAK8P,YAAY,GAC1DrM,SAAS1B,iBAAiB,YAAa/B,KAAKgQ,aAAa,GACzDvM,SAAS1B,iBAAiB,YAAa/B,KAAKiQ,aAAa,GACzD1F,OAAOxI,iBAAiB,UAAW/B,KAAKsQ,SACxC/F,OAAOxI,iBAAiB,QAAS/B,KAAK0Q,OACtCnG,OAAOxI,iBAAiB,mBAAoB/B,KAAK2Q,oBACjD3Q,KAAK+L,OAASpD,EAAOoD,OACrB/L,KAAK6O,OAAS5D,EAASgG,OAAOvI,KAAK1I,KAAK+L,OAAOxgB,MAAQyU,KAAK+L,OAAOvgB,QACnEwU,KAAKC,QAAU0I,EAAO1I,QACtBD,KAAKiM,SAAWtD,EAAOsD,SACvBjM,KAAKmM,WAAaxD,EAAOwD,WACzBnM,KAAKqM,SAAW1D,EAAO0D,SACvBrM,KAAKkR,KAAOvG,EAAWwG,KACvBnR,KAAKoR,OAAS,IAAI/F,EAAegG,aAAarR,MAC9CA,KAAKmO,QAAS,EAAIvD,EAAa0G,oBAC/BtR,KAAKuP,QAAU,EACnB,CACA,SAAAgC,GACI,OAAOvR,KAAK+L,MAChB,CACA,IAAAyF,CAAKxN,GACDhE,KAAKmO,OAAOC,KAAK,aACjBpO,KAAKsN,OAAOkE,KAAKxN,EACrB,CACA,SAAAkK,CAAUP,GACN,GAAI3N,KAAKuP,QAAQ1N,gBAAkB8L,EAAI3J,KAAKnC,cACxC,OAEJ7B,KAAKuP,QAAU5B,EAAI3J,KACnBhE,KAAKmM,WAAW+B,UAAUP,GAC1B3N,KAAKqM,SAAS6B,UAAUP,GACxB3N,KAAKmI,SAAWwF,EAAIxF,SACpB,MAAMsJ,EAAQ9D,EAAIxF,SAASuJ,MAAKnT,GAAwB,sBAAnBA,EAAa,YAC9CkT,GACAzR,KAAK6O,OAAOc,SAAS,GAAK8B,EAAME,OAAO,GACvC3R,KAAK6O,OAAOc,SAAS,GAAK8B,EAAME,OAAO,GACvC3R,KAAK6O,OAAOc,SAAS,GAAK8B,EAAME,OAAO,KAGvC3R,KAAK6O,OAAOc,SAAS,GAAK,EAC1B3P,KAAK6O,OAAOc,SAAS,GAAK,EAC1B3P,KAAK6O,OAAOc,SAAS,GAAK,GAE9B3P,KAAK6O,OAAO+C,SAAS,GAAK,EAC1B5R,KAAK6O,OAAO+C,SAAS,GAAK,EAC1B5R,KAAK6O,OAAO+C,SAAS,GAAK,CAC9B,CACA,YAAApE,CAAaD,GACTvN,KAAKmO,OAAOC,KAAK,kBAAmBpO,KAAMuN,GAC1CvN,KAAKoR,OAAO5D,aAAaD,GACzBvN,KAAKmO,OAAOC,KAAK,mBAAoBpO,KAAMuN,EAC/C,CACA,UAAAE,CAAWyD,GACPlR,KAAKkR,KAAOA,EACZlR,KAAKmO,OAAOC,KAAK,aAAc8C,EACnC,CACA,QAAAW,CAAShF,GACL7M,KAAK6M,MAAQA,EACb7M,KAAKmO,OAAOC,KAAK,cAAevB,EACpC,CACA,QAAAiF,GACI,OAAO9R,KAAK6M,KAChB,CACA,MAAAyC,CAAOD,GACHrP,KAAKmO,OAAOC,KAAK,YAAapO,MAC9B,MAAM6O,EAAS7O,KAAK6O,OACd1B,EAAWnN,KAAKmN,SAChBF,EAAQjN,KAAKiN,MACbF,EAAQ/M,KAAK+M,MACnB,GAAI/M,KAAKkR,OAASvG,EAAW+C,OACzB1N,KAAKoR,OAAO9B,OAAOD,QAElB,GAAIrP,KAAKkR,OAASvG,EAAWwG,KAAM,CAChCnR,KAAK+M,MAAM2C,SACXb,EAAO+C,SAAS,GAAKlvB,KAAK2R,IAAI3R,KAAKW,IAAIwrB,EAAO+C,SAAS,GAAK7E,EAAMgD,MAAM,GAAK,KAAMrtB,KAAKK,GAAK,GAAIL,KAAKK,GAAK,GAC3G8rB,EAAO+C,SAAS,IAAM7E,EAAMgD,MAAM,GAAK,MAGvClB,EAAO+C,SAAS,GAAKlvB,KAAK2R,IAAI3R,KAAKW,IAAIwrB,EAAO+C,SAAS,GAAK3E,EAAM8C,MAAM,GAAK,KAAMrtB,KAAKK,GAAK,GAAIL,KAAKK,GAAK,GAC3G8rB,EAAO+C,SAAS,IAAM3E,EAAM8C,MAAM,GAAK,KAE3C,MACMgC,EADQ,IACK1C,EACb2C,EAAQ9G,EAAWkC,SAAS6E,KAAKC,EACjCC,EAAQjH,EAAWkC,SAAS6E,KAAKjjB,EACjCojB,EAAQlH,EAAWkC,SAAS6E,KAAKna,EACjCua,EAAQnH,EAAWkC,SAAS6E,KAAKjsB,EACjCssB,EAAUpH,EAAWkC,SAAS6E,KAAKja,EACnCua,EAAQrH,EAAWkC,SAAS6E,KAAKO,MACnCrF,EAASoD,KAAKyB,KAAW7E,EAASoD,KAAK4B,KACnChF,EAASoD,KAAKyB,IACdnD,EAAOc,SAAS,IAAMjtB,KAAK0C,IAAIypB,EAAO+C,SAAS,GAAKlvB,KAAKK,GAAK,GAAKgvB,EACnElD,EAAOc,SAAS,IAAMjtB,KAAKwC,IAAI2pB,EAAO+C,SAAS,GAAKlvB,KAAKK,GAAK,GAAKgvB,GAE9D5E,EAASoD,KAAK4B,KACnBtD,EAAOc,SAAS,IAAMjtB,KAAK0C,IAAIypB,EAAO+C,SAAS,GAAKlvB,KAAKK,GAAK,GAAKgvB,EACnElD,EAAOc,SAAS,IAAMjtB,KAAKwC,IAAI2pB,EAAO+C,SAAS,GAAKlvB,KAAKK,GAAK,GAAKgvB,IAGvE5E,EAASoD,KAAK6B,KAAWjF,EAASoD,KAAK8B,KACnClF,EAASoD,KAAK6B,IACdvD,EAAOc,SAAS,IAAMjtB,KAAK0C,IAAIypB,EAAO+C,SAAS,IAAMG,EACrDlD,EAAOc,SAAS,IAAMjtB,KAAKwC,IAAI2pB,EAAO+C,SAAS,IAAMG,GAEhD5E,EAASoD,KAAK8B,KACnBxD,EAAOc,SAAS,IAAMjtB,KAAK0C,IAAIypB,EAAO+C,SAAS,IAAMG,EACrDlD,EAAOc,SAAS,IAAMjtB,KAAKwC,IAAI2pB,EAAO+C,SAAS,IAAMG,IAGzD5E,EAASoD,KAAKgC,KAAWpF,EAASoD,KAAK+B,KACnCnF,EAASoD,KAAKgC,GACd1D,EAAOc,SAAS,IAAMoC,EAEjB5E,EAASoD,KAAK+B,KACnBzD,EAAOc,SAAS,IAAMoC,GAGlC,CACA9E,EAAM8C,MAAM,GAAK,EACjB9C,EAAM8C,MAAM,GAAK,EACjB/P,KAAKmO,OAAOC,KAAK,aAAcpO,KACnC,EAEJhe,EAAQ0oB,KAAOA,+BC/VfxF,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQivB,YAAS,EACjB,MAAMwB,EAAc,EAAQ,MAC5B,MAAMxB,EACF,WAAOvI,CAAK3X,GACR,OAAO,IAAIkgB,EAAOlgB,EACtB,CACA,WAAA2O,CAAY3O,GACRiP,KAAK0S,iBAAmBD,EAAYE,KAAKrvB,SACzC0c,KAAK1O,IAAMmhB,EAAYG,SAAS5vB,SAAS,IACzCgd,KAAKxP,KAAO,EACZwP,KAAKvP,IAAM,KACXuP,KAAK6S,WAAaJ,EAAYE,KAAKrvB,SACnC0c,KAAK2P,SAAW8C,EAAYK,KAAKxvB,SACjC0c,KAAK4R,SAAWa,EAAYK,KAAKxvB,SACjC0c,KAAKjP,OAASA,EACdiP,KAAK8O,wBACT,CACA,sBAAAA,GACI2D,EAAYE,KAAKxhB,YAAY6O,KAAK0S,iBAAkB1S,KAAK1O,IAAK0O,KAAKjP,OAAQiP,KAAKxP,KAAMwP,KAAKvP,IAC/F,CACA,gBAAAsiB,GACIN,EAAYE,KAAKjvB,SAASsc,KAAK6S,YAC/BJ,EAAYE,KAAKlmB,QAAQuT,KAAK6S,WAAY7S,KAAK6S,WAAY7S,KAAK4R,SAAS,GAAKlvB,KAAKK,GAAK,GACxF0vB,EAAYE,KAAKhmB,QAAQqT,KAAK6S,WAAY7S,KAAK6S,WAAYnwB,KAAKK,GAAK,EAAIid,KAAK4R,SAAS,IACvFa,EAAYE,KAAKhrB,UAAUqY,KAAK6S,WAAY7S,KAAK6S,WAAY,EACxD7S,KAAK2P,SAAS,IACd3P,KAAK2P,SAAS,IACd3P,KAAK2P,SAAS,IAEvB,EAEJ3tB,EAAQivB,OAASA,6BC9BjB,IAAI+B,EAFJ9N,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ0pB,QAAU1pB,EAAQgxB,gBAAa,EAEvC,SAAWA,GACPA,EAAWA,EAAmB,OAAI,GAAK,SACvCA,EAAWA,EAAqB,SAAI,GAAK,UAC5C,CAHD,CAGGA,IAAehxB,EAAQgxB,WAAaA,EAAa,CAAC,IACrD,MAAMtH,EACF,WAAOhD,CAAKqD,GACR,MAAMgD,EAAKhD,EAAOkH,WAAW,QAAS,CAClCC,OAAO,IAEX,OAAKnE,EAIE,IAAIrD,EAAQqD,IAHfoE,QAAQpJ,MAAM,+BACP,KAGf,CACA,wBAAO4B,GACH,MAAMyH,EACW,8CADXA,EAEO,oDAGb,IADY7I,OACH8I,sBACL,MAAO,CACHzH,YAAY,EACZE,QAASsH,GAGjB,MAAMjuB,EAAIse,SAASuI,cAAc,UACjC,IAEI,OADY7mB,EAAE8tB,WAAW,UAAY9tB,EAAE8tB,WAAW,sBAEvC,CACHrH,YAAY,EACZE,QAAS,IAIN,CACHF,YAAY,EACZE,QAASsH,EAGrB,CACA,MAAO7U,GACH,MAAO,CACHqN,YAAY,EACZE,QAASsH,EAEjB,CACJ,CACA,WAAA1T,CAAYqP,GACR/O,KAAK+O,GAAKA,CACd,CACA,aAAAuE,CAAc3K,GACV,MAAMoG,EAAK/O,KAAK+O,GAChB,IAAIwE,EAAUxE,EAAGuE,gBACjB,IAAKC,EAED,OADAJ,QAAQpJ,MAAM,kCACP,KAEX,MAAMyJ,EAAexT,KAAKyT,aAAa,CACnC5M,OAAQ8B,EAAO+K,gBACf7wB,KAAMmwB,EAAWW,SAErB,IAAKH,EAED,OADAL,QAAQpJ,MAAM,mCACP,KAEX,MAAM6J,EAAiB5T,KAAKyT,aAAa,CACrC5M,OAAQ8B,EAAOkL,kBACfhxB,KAAMmwB,EAAWc,WAErB,IAAKF,EAED,OADAT,QAAQpJ,MAAM,qCACP,KAMX,GAJAgF,EAAGgF,aAAaR,EAASC,GACzBzE,EAAGgF,aAAaR,EAASK,GACzB7E,EAAGiF,YAAYT,GACfxE,EAAGkF,gBAAgBV,IACdxE,EAAGmF,oBAAoBX,EAASxE,EAAGoF,aAAc,CAClDpF,EAAGqF,cAAcb,GACjBxE,EAAGsF,aAAab,GAChBzE,EAAGsF,aAAaT,GAChB,MAAMU,EAASvF,EAAGwF,kBAAkBhB,GAEpC,OADAJ,QAAQpJ,MAAM,gCAAgCuK,KACvC,IACX,CACA,IAAKvF,EAAGmF,oBAAoBX,EAASxE,EAAGyF,iBAAkB,CACtDzF,EAAGqF,cAAcb,GACjBxE,EAAGsF,aAAab,GAChBzE,EAAGsF,aAAaT,GAChB,MAAMU,EAASvF,EAAGwF,kBAAkBhB,GAEpC,OADAJ,QAAQpJ,MAAM,gCAAgCuK,KACvC,IACX,CACAvF,EAAG0F,WAAWlB,GACd,MAAMxP,EAAa,CAAC,EACpB,IAAK,IAAIvd,EAAI,EAAGA,EAAImiB,EAAO+L,eAAehuB,SAAUF,EAAG,CACnD,MAAMwd,EAAO2E,EAAO+L,eAAeluB,GAC7BmuB,EAAO5F,EAAG6F,kBAAkBrB,EAASvP,GAC3C,IAAc,IAAV2Q,EAGA,OAFAxB,QAAQpJ,MAAM,iDAAiD/F,MAC/D+K,EAAGqF,cAAcb,GACV,KAEXxP,EAAWC,GAAQ2Q,CACvB,CACA,MAAME,EAAW,CAAC,EAClB,IAAK,IAAIruB,EAAI,EAAGA,EAAImiB,EAAOmM,aAAapuB,SAAUF,EAAG,CACjD,MAAMwd,EAAO2E,EAAOmM,aAAatuB,GAC3BuuB,EAAUhG,EAAGiG,mBAAmBzB,EAASvP,GAC/C,GAAgB,OAAZ+Q,EAGA,OAFA5B,QAAQpJ,MAAM,mDAAmD/F,MACjE+K,EAAGqF,cAAcb,GACV,KAEXsB,EAAS7Q,GAAQ+Q,CACrB,CACA,MAAO,CACHE,OAAQ1B,EACRxP,aACA8Q,WAER,CACA,YAAApB,CAAa9K,GACT,MAAMoG,EAAK/O,KAAK+O,GACVmG,EAASvM,EAAO9lB,OAASmwB,EAAWW,OACpC5E,EAAG0E,aAAa1E,EAAGoG,eACnBpG,EAAG0E,aAAa1E,EAAGqG,iBACzB,OAAKF,GAILnG,EAAGsG,aAAaH,EAAQvM,EAAO9B,QAC/BkI,EAAGuG,cAAcJ,GACZnG,EAAGwG,mBAAmBL,EAAQnG,EAAGyG,gBAK/BN,GAJH/B,QAAQpJ,MAAMgF,EAAG0G,iBAAiBP,IAClCnG,EAAGsF,aAAaa,GACT,QARP/B,QAAQpJ,MAAM,mCACP,KAUf,CACA,sBAAA2L,GACI,OAAQ1V,KAAK+O,GAAG4G,aAAa,mCACzB3V,KAAK+O,GAAG4G,aAAa,uCACrB3V,KAAK+O,GAAG4G,aAAa,wCAC7B,CACA,gBAAAC,CAAiBC,GACb,OAAO7V,KAAK+O,GAAG+G,aAAaD,EAAUE,+BAC1C,EAEJ/zB,EAAQ0pB,QAAUA,6BC3JlBxG,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQkqB,cAAW,EACnB,MAAMA,EACF,WAAOxD,CAAKzI,GACR,MAAM8O,EAAK9O,EAAQ8O,GASnB,OARAA,EAAGiH,WAAW,EAAK,EAAK,EAAK,GAC7BjH,EAAGkH,WAAW,GACdlH,EAAGmH,OAAOnH,EAAGoH,YACbpH,EAAGqH,UAAUrH,EAAGsH,QAChBtH,EAAGmH,OAAOnH,EAAGuH,OACbvH,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAG0H,qBAC9B1H,EAAGmH,OAAOnH,EAAG2H,WACb3H,EAAG4H,SAAS5H,EAAG6H,OACR,IAAI1K,EAAS,CAAEjM,WAC1B,CACA,WAAAP,CAAYiJ,GACR3I,KAAKqO,KAAO,KACR,MAAMU,EAAK/O,KAAKC,QAAQ8O,GACxBA,EAAG8H,MAAM9H,EAAG+H,iBAAmB/H,EAAGgI,iBAAiB,EAEvD/W,KAAKC,QAAU0I,EAAO1I,OAC1B,EAEJje,EAAQkqB,SAAWA,+BCvBnBhH,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQsqB,cAAW,EACnB,MAAM0K,EAAc,EAAQ,MAC5B,MAAM1K,EACF,WAAO5D,CAAKzI,GACR,MAAMiV,EAAS8B,EAAYC,UAAUvO,KAAKzI,GAC1C,OAAKiV,EAIE,IAAI5I,EAAS,CAAErM,UAASiV,YAH3B/B,QAAQpJ,MAAM,eACP,KAGf,CACA,WAAArK,CAAYiJ,GACR3I,KAAKkX,aAAe,KACpBlX,KAAKmX,YAAc,KACnBnX,KAAKoX,QAAU,KACfpX,KAAKqX,SAAU,EACfrX,KAAKC,QAAU0I,EAAO1I,QACtBD,KAAKkV,OAASvM,EAAOuM,MACzB,CACA,SAAAhH,CAAUoJ,GACN,GAAyB,IAArBA,EAAI/O,MAAM7hB,OAEV,YADAsZ,KAAKqX,SAAU,GAGnB,MAAMtI,EAAK/O,KAAKC,QAAQ8O,GAClBmI,EAAenI,EAAGwI,eAClBJ,EAAcpI,EAAGwI,eACjBH,EAAUrI,EAAGyI,gBACnB,IAAKN,IAAiBC,IAAgBC,EAClC,MAAM,IAAIxR,MAAM,mBAEpB,MAAM6R,EAAU,IAAIlS,WAAW,CAC3B,EAAG,EAAG,EAAG,EAAG,EAAG,EACf,EAAG,EAAG,EAAG,EAAG,EAAG,EACf,EAAG,EAAG,GAAI,EAAG,GAAI,GACjB,GAAI,GAAI,GAAI,GAAI,GAAI,GACpB,GAAI,GAAI,GAAI,GAAI,GAAI,GACpB,GAAI,GAAI,GAAI,GAAI,GAAI,KAElBmS,EAAW,IAAIn1B,aAAa,EAC7B,GAAM,EAAK,EAAK,KAAO,KACxB,GAAM,EAAK,EAAK,KAAO,KACvB,EAAK,EAAK,EAAK,KAAO,MACrB,EAAK,EAAK,EAAK,KAAO,MACtB,GAAM,GAAM,EAAK,KAAO,MACxB,EAAK,GAAM,EAAK,KAAO,KACxB,EAAK,GAAM,EAAK,KAAO,KACvB,GAAM,GAAM,EAAK,KAAO,MACvB,EAAK,GAAM,EAAK,KAAO,MACvB,EAAK,EAAK,EAAK,KAAO,KACvB,EAAK,EAAK,EAAK,KAAO,KACtB,EAAK,GAAM,EAAK,KAAO,MACtB,GAAM,GAAM,EAAK,KAAO,KACzB,GAAM,GAAM,EAAK,KAAO,KACxB,GAAM,EAAK,EAAK,KAAO,MACtB,GAAM,EAAK,EAAK,KAAO,KACxB,GAAM,GAAM,EAAK,KAAO,KACxB,EAAK,GAAM,EAAK,KAAO,KACvB,EAAK,EAAK,EAAK,KAAO,KACtB,GAAM,EAAK,EAAK,KAAO,MACtB,GAAM,GAAM,EAAK,KAAO,MACxB,GAAM,EAAK,EAAK,KAAO,MACvB,EAAK,EAAK,EAAK,KAAO,MACtB,EAAK,GAAM,EAAK,KAAO,MAC1BorB,KAAI,CAAC1qB,EAAGuD,IAAQA,EAAI,EAAK,EAAS,KAAJvD,EAAWA,KAC3C8rB,EAAG4I,WAAW5I,EAAG6I,aAAcV,GAC/BnI,EAAG8I,WAAW9I,EAAG6I,aAAcF,EAAU3I,EAAG+I,aAC5C/I,EAAGgJ,wBAAwB,GAC3BhJ,EAAG4I,WAAW5I,EAAGiJ,qBAAsBb,GACvCpI,EAAG8I,WAAW9I,EAAGiJ,qBAAsBP,EAAS1I,EAAG+I,aACnD,MAAM/L,EAAStI,SAASuI,cAAc,UACtCD,EAAOxgB,MAAQ,IACfwgB,EAAOvgB,OAAS,KAChB,MAAMysB,EAAMlM,EAAOkH,WAAW,MAC9B,IAAKgF,EACD,MAAM,IAAIrS,MAAM,gBAEpB,MAAMsS,EAAS,CACXzlB,GAAI,CAAC,EAAG,GACR0lB,GAAI,CAAC,EAAG,KACRC,GAAI,CAAC,EAAG,KACRC,GAAI,CAAC,IAAK,GACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,MAEdjB,EAAI/O,MAAMlR,SAASwW,IACf,MAAM2K,EAAM/U,SAASuI,cAAc,UAC7ByM,EAAQD,EAAIvF,WAAW,MAC7B,IAAKwF,EACD,MAAM,IAAI7S,MAAM,kBAEpB4S,EAAIjtB,MAAQsiB,EAAItiB,MAChBitB,EAAIhtB,OAASqiB,EAAIriB,OACjB,MAAMktB,EAAYD,EAAME,aAAa,EAAG,EAAGH,EAAIjtB,MAAOitB,EAAIhtB,QAC1D,IAAK,IAAIhF,EAAI,EAAGA,EAAIqnB,EAAIhK,KAAKnd,SAAUF,EACnCkyB,EAAU7U,KAAKrd,GAAKqnB,EAAIhK,KAAKrd,GAEjCiyB,EAAMG,aAAaF,EAAW,EAAG,GACjC,MAAMG,EAAOhL,EAAI7J,KAAKlC,OAAO,GACvB3c,EAAI+yB,EAAOW,GAAQX,EAAOW,GAAQ,GACxC,IAAKZ,EACD,MAAM,IAAIrS,MAAM,kBAEpBqS,EAAIa,UAAUN,EAAKrzB,EAAE,GAAIA,EAAE,GAAG,IAElC,MAAM4zB,EAAYd,EAAIU,aAAa,EAAG,EAAG,IAAK,MAAM9U,KACpDkL,EAAGiK,YAAYjK,EAAGkK,WAAY7B,GAC9BrI,EAAGmK,WAAWnK,EAAGkK,WAAY,EAAGlK,EAAGoK,KAAM,IAAK,KAAM,EAAGpK,EAAGoK,KAAMpK,EAAGqK,cAAe,IAAI7T,WAAWwT,IACjGhK,EAAGsK,eAAetK,EAAGkK,YACrBlK,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAGwK,eAAgBxK,EAAGyK,QACtDzK,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG0K,eAAgB1K,EAAGyK,QACtDzK,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG2K,mBAAoB3K,EAAG4K,sBAC1D5K,EAAG6K,cAAc7K,EAAGkK,WAAYlK,EAAG8K,mBAAoB9K,EAAG+K,QAC1D,MAAMC,EAAa/Z,KAAKC,QAAQyV,yBAC5BqE,GACAhL,EAAGuK,cAAcvK,EAAGkK,WAAYc,EAAWC,2BAA4Bha,KAAKC,QAAQ2V,iBAAiBmE,IAEzG/Z,KAAKkX,aAAeA,EACpBlX,KAAKmX,YAAcA,EACnBnX,KAAKoX,QAAUA,EACfpX,KAAKqX,SAAU,CACnB,CACA,IAAAhJ,CAAKQ,GACD,IAAK7O,KAAKqX,QACN,OAEJ,MAAMtI,EAAK/O,KAAKC,QAAQ8O,GAClBmG,EAASlV,KAAKkV,OACpBA,EAAOT,WAAW1F,GAClBA,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoX,SACnCrI,EAAG4I,WAAW5I,EAAG6I,aAAc5X,KAAKkX,cACpCnI,EAAG4I,WAAW5I,EAAGiJ,qBAAsBhY,KAAKmX,aAC5CjC,EAAO+E,oBAAoBlL,GAC3BmG,EAAOgF,wBAAwBnL,GAC/BmG,EAAOiF,WAAWpL,EAAI,GACtB,MAAM1lB,EAAIwlB,EAAOc,SAAS,GACpBppB,EAAIsoB,EAAOc,SAAS,GACpBlmB,EAAIolB,EAAOc,SAAS,GAC1Bd,EAAOc,SAAS,GAAK,EACrBd,EAAOc,SAAS,GAAK,EACrBd,EAAOc,SAAS,GAAK,EACrBd,EAAOkE,mBACPlE,EAAOc,SAAS,GAAKtmB,EACrBwlB,EAAOc,SAAS,GAAKppB,EACrBsoB,EAAOc,SAAS,GAAKlmB,EACrByrB,EAAOkF,cAAcrL,EAAIF,EAAOgE,YAChCqC,EAAOmF,oBAAoBtL,EAAIF,EAAO6D,kBACtC3D,EAAGuL,aAAavL,EAAGwL,UAAW,GAAIxL,EAAGqK,cAAe,GACpDrK,EAAG8H,MAAM9H,EAAGgI,iBAChB,EAEJ/0B,EAAQsqB,SAAWA,6BCxJnBpH,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQi1B,eAAY,EA6BpB,MAAMA,EACF,WAAOvO,CAAKzI,GACR,MAEMsT,EAAUtT,EAAQqT,cAAc,CAClCI,gBArBM,iTAsBNG,kBAlCQ,qOAmCRa,eALmB,CAAC,WAAY,YAMhCI,aALiB,CAAC,aAAc,mBAAoB,aAOxD,OAAKvB,EAIE,IAAI0D,EAAU1D,IAHjBJ,QAAQpJ,MAAM,uCACP,KAGf,CACA,WAAArK,CAAY6T,GACRvT,KAAKuT,QAAUA,EAAQ0B,OACvBjV,KAAKwa,UAAYjH,EAAQxP,WAAqB,SAC9C/D,KAAKya,UAAYlH,EAAQxP,WAAqB,SAC9C/D,KAAK0a,QAAUnH,EAAQsB,SAAqB,WAC5C7U,KAAK2a,cAAgBpH,EAAQsB,SAA2B,iBACxD7U,KAAK4a,SAAWrH,EAAQsB,SAAkB,OAC9C,CACA,UAAAJ,CAAW1F,GACPA,EAAG0F,WAAWzU,KAAKuT,QACvB,CACA,aAAA6G,CAAcrL,EAAI8L,GACd9L,EAAG+L,iBAAiB9a,KAAK0a,SAAS,EAAOG,EAC7C,CACA,mBAAAR,CAAoBtL,EAAI8L,GACpB9L,EAAG+L,iBAAiB9a,KAAK2a,eAAe,EAAOE,EACnD,CACA,UAAAV,CAAWpL,EAAIxM,GACXwM,EAAGgM,UAAU/a,KAAK4a,SAAUrY,EAChC,CACA,mBAAA0X,CAAoBlL,GAChBA,EAAGgJ,wBAAwB/X,KAAKwa,WAChCzL,EAAGgJ,wBAAwB/X,KAAKya,UACpC,CACA,uBAAAP,CAAwBnL,GACpBA,EAAGiM,oBAAoBhb,KAAKwa,UAAW,EAAGzL,EAAGkM,OAAO,EAAO,GAAO,GAClElM,EAAGiM,oBAAoBhb,KAAKya,UAAW,EAAG1L,EAAGkM,OAAO,EAAO,GAAO,GACtE,EAEJj5B,EAAQi1B,UAAYA,6BC3EpB/R,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQk5B,eAAiBl5B,EAAQm5B,aAAen5B,EAAQo5B,mBAAgB,EA2BxEp5B,EAAQo5B,cA1Bc,CAACC,EAAQ9vB,EAAOC,EAAQ8vB,EAAUC,KACpD,MAAMxP,EAAStI,SAASuI,cAAc,UAChCiM,EAAMlM,EAAOkH,WAAW,MAC9B,IAAKgF,EACD,MAAM,IAAIrS,MAAM,kBAEpBmG,EAAOxgB,MAAQA,EACfwgB,EAAOvgB,OAASA,EAChB,MAAMgwB,EAAK/X,SAASuI,cAAc,UAC5ByP,EAAOD,EAAGvI,WAAW,MAC3B,IAAKwI,EACD,MAAM,IAAI7V,MAAM,kBAEpB4V,EAAGjwB,MAAQ+vB,EACXE,EAAGhwB,OAAS+vB,EACZ,MAAMG,EAAMzD,EAAI0D,gBAAgBpwB,EAAOC,GACvC,IAAK,IAAIhF,EAAI,EAAGo1B,EAAOrwB,EAAQC,EAAS,EAAGhF,EAAIo1B,EAAMp1B,GAAK,EACtDk1B,EAAI7X,KAAKrd,GAAK60B,EAAO70B,GACrBk1B,EAAI7X,KAAKrd,EAAI,GAAK60B,EAAO70B,EAAI,GAC7Bk1B,EAAI7X,KAAKrd,EAAI,GAAK60B,EAAO70B,EAAI,GAC7Bk1B,EAAI7X,KAAKrd,EAAI,GAAK60B,EAAO70B,EAAI,GAIjC,OAFAyxB,EAAIW,aAAa8C,EAAK,EAAG,GACzBD,EAAK3C,UAAU/M,EAAQ,EAAG,EAAGuP,EAAUC,GAChC,IAAIhW,WAAWkW,EAAK9C,aAAa,EAAG,EAAG2C,EAAUC,GAAW1X,KAAK,EAI5E7hB,EAAQm5B,aADc7c,GAAwB,IAAjBA,EAAKA,EAAI,GAStCtc,EAAQk5B,eAPgB5c,MAClBA,EACF,IAAK,IAAI9X,EAAI,EAAGA,EAAI,GAAIA,IAAM,EAC1B8X,GAASA,GAAK9X,EAElB,OAAO8X,EAAI,CAAC,+BCpChB4G,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQoqB,gBAAa,EACrB,MAAMqG,EAAc,EAAQ,MACtBoJ,EAAgB,EAAQ,MACxBC,EAAoB,EAAQ,MAC5BC,EAAW,EAAQ,MACnBC,EAAS,EAAQ,MACvB,MAAM5P,EACF,WAAO1D,CAAKzI,GACR,MAAMiV,EAAS2G,EAAcI,WAAWvT,KAAKzI,GAC7C,IAAKiV,EAED,OADA/B,QAAQpJ,MAAM,6BACP,KAEXmL,EAAOT,WAAWxU,EAAQ8O,IAC1B,MAAMzJ,EAASrF,EAAQ8O,GAAGwI,eAC1B,OAAKjS,EAIE,IAAI8G,EAAW,CAAE9G,SAAQrF,UAASiV,YAHrC/B,QAAQpJ,MAAM,iCACP,KAGf,CACA,WAAArK,CAAYiJ,GACR3I,KAAKkc,YAAczJ,EAAYE,KAAKrvB,SACpC0c,KAAKmc,UAAY,CACbz1B,OAAQ,EACRmd,KAAM,IAAIthB,aAAa,GACvB8lB,OAAQ,IAEZrI,KAAKsX,IAAM,KACXtX,KAAKoI,SAAW,GAChBpI,KAAKwI,QAAU,CAAC,EAChBxI,KAAKsI,SAAW,KAChBtI,KAAKsF,OAASqD,EAAOrD,OACrBtF,KAAKC,QAAU0I,EAAO1I,QACtBD,KAAKkV,OAASvM,EAAOuM,MACzB,CACA,SAAAhH,CAAUoJ,GACNtX,KAAKoc,WAAW9E,GAChBtX,KAAKqc,aAAa/E,GAClBtX,KAAKsc,mBAAmBhF,GACxBtX,KAAKuc,aAAajF,GAClBtX,KAAKsX,IAAMA,CACf,CACA,UAAA8E,CAAW9E,GACP,MAAMvI,EAAK/O,KAAKC,QAAQ8O,GAClB1G,EAASiP,EAAIjP,OACbmU,EAAqB,CACvB,aACA,OACA,OACA,OACA,SACA,YACA,OACA,UACA,MACA,OAEJ,IAAIZ,EAAO,EACX,IAAK,IAAIp1B,EAAI,EAAGA,EAAI6hB,EAAO3hB,SAAUF,EAAG,CACpC,MAAMi2B,EAAQpU,EAAO7hB,GACrB,IAAK,IAAIoU,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMwc,EAAUE,EAAIlP,SAASqU,EAAMC,MAAM9hB,GAAG+hB,cACxCH,EAAmBlZ,QAAQ8T,EAAQpT,OAAS,IAGhD4X,GAAQa,EAAMC,MAAM9hB,GAAG0K,OAAO5e,OAClC,CACJ,CACAk1B,GAAQ,GACR,MAAMO,EAAY,CACdz1B,OAAQk1B,EACR/X,KAAM,IAAIthB,aAAaq5B,GACvBvT,OAAQ,IAEZ,IAAIuU,EAAgB,EACpB,IAAK,IAAIp2B,EAAI,EAAGA,EAAI8wB,EAAIjP,OAAO3hB,SAAUF,EAAG,CACxC,MAAMi2B,EAAQnF,EAAIjP,OAAO7hB,GACnBq2B,EAAY,CACdlL,OAAQ8K,EAAM9K,OACdpa,OAAQqlB,EACRl2B,OAAQ,EACRo2B,eAAe,EACfJ,MAAO,IAEX,IAAK,IAAI9hB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMwc,EAAUE,EAAIlP,SAASqU,EAAMC,MAAM9hB,GAAG+hB,cAC5C,GAAIH,EAAmBlZ,QAAQ8T,EAAQpT,OAAS,EAC5C,SAEJ,MAAM+Y,EAAW,CACbxlB,OAAQqlB,EACRl2B,OAAQ,EACRi2B,cAAe,GAEnB,IAAK,IAAI9hB,EAAI,EAAGA,EAAI4hB,EAAMC,MAAM9hB,GAAG0K,OAAO5e,SAAUmU,EAChDshB,EAAUtY,KAAK+Y,KAAmBH,EAAMC,MAAM9hB,GAAG0K,OAAOzK,GAEvDgiB,EAAUC,eAC2C,MAAtDxF,EAAIlP,SAASqU,EAAMC,MAAM9hB,GAAG+hB,cAAc3Y,KAAK,KAC/C6Y,EAAUC,eAAgB,GAE9BC,EAASJ,aAAeF,EAAMC,MAAM9hB,GAAG+hB,aACvCI,EAASr2B,OAASk2B,EAAgBG,EAASxlB,OAC3CslB,EAAUH,MAAMtc,KAAK2c,EACzB,CACAF,EAAUn2B,OAASk2B,EAAgBC,EAAUtlB,OAC7C4kB,EAAU9T,OAAOjI,KAAKyc,EAC1B,CACAV,EAAU9T,OAAOjI,KAAK,CAClBuR,OAAQ,CAAC,EAAG,EAAG,GACfpa,OAAQqlB,EACRl2B,OAAQ,EACRo2B,eAAe,EACfJ,MAAO,CACH,CACInlB,OAAQqlB,EACRl2B,OAAQ,EACRi2B,aAAc,MAI1BR,EAAUtY,KAAK+Y,MAAoB,GACnCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,MAAoB,GACnCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,GAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,GAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,MAAoB,GACnCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,GAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,MAAoB,GACnCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,MAAoB,GACnCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,GAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,MAAoB,GACnCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,GAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,GAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCT,EAAUtY,KAAK+Y,KAAmB,EAClCA,EAAgB,EAChB,MAAMI,EAAkB,CACpBnZ,KAAM,IAAIthB,aAAa45B,EAAUtY,MACjCnd,OAAQy1B,EAAUz1B,OAClB2hB,OAAQ8T,EAAU9T,OAAOsF,KAAI8O,IAAS,CAClC9K,OAAQ,IAAI8K,EAAM9K,QAClBpa,OAAQklB,EAAMllB,OACd7Q,OAAQ+1B,EAAM/1B,OACdo2B,cAAeL,EAAMK,cACrBJ,MAAOD,EAAMC,MAAM/O,KAAIsP,IAAQ,CAC3B1lB,OAAQ0lB,EAAK1lB,OACb7Q,OAAQu2B,EAAKv2B,OACbi2B,aAAcM,EAAKN,sBAI/B,IAAK,IAAIn2B,EAAI,EAAGA,EAAIw2B,EAAgB3U,OAAO3hB,SAAUF,EAAG,CACpD,MAAMi2B,EAAQO,EAAgB3U,OAAO7hB,GACrCi2B,EAAMC,MAAMlc,MAAK,CAACvd,EAAGE,IAAMF,EAAE05B,aAAex5B,EAAEw5B,eAC9C,IAAK,IAAI/hB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACnBsiB,EAAYN,EAClB,IAAK,IAAI/hB,EAAI,EAAGA,EAAIoiB,EAAKv2B,SAAUmU,EAC/BmiB,EAAgBnZ,KAAK+Y,GAAiBT,EAAUtY,KAAKoZ,EAAK1lB,OAASsD,GACnE+hB,GAAiB,EAErBK,EAAK1lB,OAAS2lB,CAClB,CACA,MAAMC,EAAW,GACjB,IAAIC,GAAuB,EAC3B,IAAK,IAAIxiB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACrBqiB,EAAKN,eAAiBS,EACtBD,EAASA,EAASz2B,OAAS,GAAGA,QAAUu2B,EAAKv2B,QAG7Cy2B,EAAS/c,KAAK,CACV7I,OAAQ0lB,EAAK1lB,OACb7Q,OAAQu2B,EAAKv2B,OACbi2B,aAAcM,EAAKN,eAEvBS,EAAsBH,EAAKN,aAEnC,CACAF,EAAMC,MAAQS,CAClB,CACAnd,KAAKmc,UAAYa,EACjBjO,EAAG4I,WAAW5I,EAAG6I,aAAc5X,KAAKsF,QACpCyJ,EAAG8I,WAAW9I,EAAG6I,aAAc5X,KAAKmc,UAAUtY,KAAMkL,EAAG+I,YAC3D,CACA,YAAAuE,CAAa/E,GACT,MAAMvI,EAAK/O,KAAKC,QAAQ8O,GACxB,IAAK,IAAIvoB,EAAI,EAAGA,EAAI8wB,EAAIlP,SAAS1hB,SAAUF,EAAG,CAC1C,MAAM62B,EAAYtO,EAAGyI,gBACrB,IAAK6F,EACD,MAAM,IAAIzX,MAAM,eAEpB,MAAMwR,EAAUE,EAAIlP,SAAS5hB,GAC7B,KAAK,EAAIw1B,EAAOb,cAAc/D,EAAQ7rB,UAAW,EAAIywB,EAAOb,cAAc/D,EAAQ5rB,QAAS,CACvF,MAAM9B,EAAI0tB,EAAQ7rB,MACZiT,EAAI4Y,EAAQ5rB,OACZ8xB,GAAK,EAAItB,EAAOd,gBAAgB9D,EAAQ7rB,OACxCgyB,GAAK,EAAIvB,EAAOd,gBAAgB9D,EAAQ5rB,QAC9C4rB,EAAQvT,MAAO,EAAImY,EAAOZ,eAAehE,EAAQvT,KAAMna,EAAG8U,EAAG8e,EAAIC,GACjEnG,EAAQ7rB,MAAQ+xB,EAChBlG,EAAQ5rB,OAAS+xB,CACrB,CACAxO,EAAGiK,YAAYjK,EAAGkK,WAAYoE,GAC9BtO,EAAGmK,WAAWnK,EAAGkK,WAAY,EAAGlK,EAAGoK,KAAM/B,EAAQ7rB,MAAO6rB,EAAQ5rB,OAAQ,EAAGujB,EAAGoK,KAAMpK,EAAGqK,cAAehC,EAAQvT,MAC9GkL,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG8K,mBAAoB9K,EAAG+K,QAC1D/K,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG2K,mBAAoB3K,EAAG4K,sBAC1D5K,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAGwK,eAAgBxK,EAAGyK,QACtDzK,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG0K,eAAgB1K,EAAGyK,QACtDzK,EAAGsK,eAAetK,EAAGkK,YACrB,MAAMc,EAAa/Z,KAAKC,QAAQyV,yBAC5BqE,GACAhL,EAAGuK,cAAcvK,EAAGkK,WAAYc,EAAWC,2BAA4Bha,KAAKC,QAAQ2V,iBAAiBmE,IAEzG/Z,KAAKoI,SAAShI,KAAK,CACf4D,KAAMoT,EAAQpT,KACdzY,MAAO6rB,EAAQ7rB,MACfC,OAAQ4rB,EAAQ5rB,OAChBqY,KAAMuT,EAAQvT,KACdoR,OAAQoI,GAEhB,CACJ,CACA,kBAAAf,CAAmBhF,GACf,MAAMvI,EAAK/O,KAAKC,QAAQ8O,GACxB,IAAK,MAAO/K,EAAMwZ,KAAWtY,OAAO6I,QAAQuJ,EAAI9O,SAAU,CACtD,MAAM6U,EAAYtO,EAAGyI,gBACrB,IAAK6F,EACD,MAAM,IAAIzX,MAAM,eAEpB,MAAMwR,EAAUoG,EAAOC,OAAO,GAC9B,KAAK,EAAIzB,EAAOb,cAAc/D,EAAQ7rB,UAAW,EAAIywB,EAAOb,cAAc/D,EAAQ5rB,QAAS,CACvF,MAAM9B,EAAI0tB,EAAQ7rB,MACZiT,EAAI4Y,EAAQ5rB,OACZ8xB,GAAK,EAAItB,EAAOd,gBAAgB9D,EAAQ7rB,OACxCgyB,GAAK,EAAIvB,EAAOd,gBAAgB9D,EAAQ5rB,QAC9C4rB,EAAQvT,MAAO,EAAImY,EAAOZ,eAAehE,EAAQvT,KAAMna,EAAG8U,EAAG8e,EAAIC,GACjEnG,EAAQ7rB,MAAQ+xB,EAChBlG,EAAQ5rB,OAAS+xB,CACrB,CACAxO,EAAGiK,YAAYjK,EAAGkK,WAAYoE,GAC9BtO,EAAGmK,WAAWnK,EAAGkK,WAAY,EAAGlK,EAAGoK,KAAM/B,EAAQ7rB,MAAO6rB,EAAQ5rB,OAAQ,EAAGujB,EAAGoK,KAAMpK,EAAGqK,cAAehC,EAAQvT,MAC9GkL,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG8K,mBAAoB9K,EAAG+K,QAC1D/K,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG2K,mBAAoB3K,EAAG4K,sBAC1D5K,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAGwK,eAAgBxK,EAAGyK,QACtDzK,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG0K,eAAgB1K,EAAGyK,QACtDzK,EAAGsK,eAAetK,EAAGkK,YACrB,MAAMc,EAAa/Z,KAAKC,QAAQyV,yBAC5BqE,GACAhL,EAAGuK,cAAcvK,EAAGkK,WAAYc,EAAWC,2BAA4Bha,KAAKC,QAAQ2V,iBAAiBmE,IAEzG/Z,KAAKoI,SAAShI,KAAK,CACf4D,KAAMA,EACNzY,MAAO6rB,EAAQ7rB,MACfC,OAAQ4rB,EAAQ5rB,OAChBqY,KAAMuT,EAAQvT,KACdoR,OAAQoI,IAEZrd,KAAKwI,QAAQxE,GAAQwZ,CACzB,CACJ,CACA,YAAAjB,CAAajF,GACT,MAAMvI,EAAK/O,KAAKC,QAAQ8O,GAClB2O,EAAa3O,EAAGyI,gBACtB,IAAKkG,EACD,MAAM,IAAI9X,MAAM,eAEpBmJ,EAAGiK,YAAYjK,EAAGkK,WAAYyE,GAC9B3O,EAAGmK,WAAWnK,EAAGkK,WAAY,EAAGlK,EAAGoK,KAAM7B,EAAIhP,SAAS/c,MAAO+rB,EAAIhP,SAAS9c,OAAQ,EAAGujB,EAAGoK,KAAMpK,EAAGqK,cAAe9B,EAAIhP,SAASzE,MAC7HkL,EAAGsK,eAAetK,EAAGkK,YACrBlK,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG8K,mBAAoB9K,EAAG+K,QAC1D/K,EAAGuK,cAAcvK,EAAGkK,WAAYlK,EAAG2K,mBAAoB3K,EAAG4K,sBAC1D3Z,KAAKsI,SAAW,CACZzE,KAAMyT,EAAIhP,SAASzE,KACnBoR,OAAQyI,EAEhB,CACA,IAAArP,CAAKQ,EAAQ1G,GACT,IAAKnI,KAAKsX,MAAQtX,KAAKsI,SACnB,OAEJ,MAAMyG,EAAK/O,KAAKC,QAAQ8O,GAClBmG,EAASlV,KAAKkV,OACpBA,EAAOT,WAAW1F,GAClBF,EAAOC,yBACPD,EAAOkE,mBACPmC,EAAOkF,cAAcrL,EAAIF,EAAOgE,YAChCqC,EAAOmF,oBAAoBtL,EAAIF,EAAO6D,kBACtC3D,EAAG4I,WAAW5I,EAAG6I,aAAc5X,KAAKsF,QACpC4P,EAAO+E,oBAAoBlL,GAC3BmG,EAAOgF,wBAAwBnL,GAC/BmG,EAAOiF,WAAWpL,EAAI,GACtBmG,EAAOyI,YAAY5O,EAAI,GACvBA,EAAG6O,cAAc7O,EAAG8O,UACpB9O,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKsI,SAAS2M,QAC5ClG,EAAG6O,cAAc7O,EAAG+O,UACpB,MAAMC,EAAiB,GACjBC,EAAsB,GAC5B,IAAK,IAAIx3B,EAAI,EAAGA,EAAI2hB,EAASzhB,SAAUF,EAAG,CACtC,MAAM+X,EAAI4J,EAAS3hB,GACnB,GAAI+X,EAAEke,MACF,GAAKle,EAAE0f,YACH1f,EAAE0f,YAAcnC,EAAkBoC,WAAWC,QAC7C5f,EAAE0f,YAAcnC,EAAkBoC,WAAWE,MAcxC7f,EAAE0f,WAAcnC,EAAkBoC,WAAWG,SAClDL,EAAoB5d,KAAK7B,OAf2B,CACpD,GAAmB,MAAfA,EAAEke,MAAM,GAAY,CAEpB,GADczc,KAAKmc,UAAU9T,OAAOiW,SAAS/f,EAAEke,MAAM8B,OAAO,KAClDzB,cAAe,CACrBkB,EAAoB5d,KAAK7B,GACzB,QACJ,CACJ,MACK,GAAIA,EAAEke,MAAMnZ,QAAQ,SAAW,EAAG,CACnC0a,EAAoB5d,KAAK7B,GACzB,QACJ,CACAwf,EAAe3d,KAAK7B,EACxB,CAQR,CACA2W,EAAOsJ,WAAWzP,EAAI,GACtB/O,KAAKye,mBACLze,KAAK0e,qBAAqB7P,EAAQkP,GAC9BC,EAAoBt3B,SACpBqoB,EAAG4P,WAAU,GACb3e,KAAK4e,0BAA0BZ,EAAqBnP,GACpDE,EAAG4P,WAAU,GAErB,CACA,gBAAAF,GACI,MAAMhC,EAAQzc,KAAKmc,UAAU9T,OAAO,GAC9B0G,EAAK/O,KAAKC,QAAQ8O,GACxB0D,EAAYE,KAAKjvB,SAASsc,KAAKkc,aAC/Blc,KAAKkV,OAAO2J,eAAe9P,EAAI/O,KAAKkc,aACpC,IAAK,IAAIthB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACJ,CACA,oBAAAg4B,CAAqB7P,EAAQ1G,GACzB,MAAM4G,EAAK/O,KAAKC,QAAQ8O,GAClBmG,EAASlV,KAAKkV,OACd6J,EAAM/e,KAAKkc,YACjB,IAAK,IAAI11B,EAAI,EAAGA,EAAI2hB,EAASzhB,SAAUF,EAAG,CACtC,MAAMw4B,EAAS7W,EAAS3hB,GAClBy4B,EAAaX,SAASU,EAAOvC,MAAM8B,OAAO,IAC1C9B,EAAQzc,KAAKmc,UAAU9T,OAAO4W,GACpC,GAAIxC,EAAO,CACP,MAAMyC,EAASF,EAAOE,QAAU,CAAC,EAAG,EAAG,GACjCvN,EAASqN,EAAOrN,OAChBc,EAAYK,KAAKnvB,WAAWq7B,EAAOrN,OAAO,GAAIqN,EAAOrN,OAAO,GAAIqN,EAAOrN,OAAO,IAC9Ec,EAAYK,KAAKxvB,SACjB67B,EAAc,IAAI58B,aAAak6B,EAAM9K,QAC3Cc,EAAYK,KAAK5sB,IAAIyrB,EAAQA,EAAQwN,GACrC1M,EAAYE,KAAKjvB,SAASq7B,GAC1BtM,EAAYE,KAAKhrB,UAAUo3B,EAAKA,EAAKpN,GACrCc,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,KAC3D0vB,EAAYE,KAAKlmB,QAAQuT,KAAKkc,YAAalc,KAAKkc,YAAcgD,EAAO,GAAKx8B,KAAKK,GAAM,KACrFmyB,EAAO2J,eAAe9P,EAAI/O,KAAKkc,aAC/B,IAAK,IAAIthB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACJ,MACK,GAAIs4B,EAAOvC,MAAMnZ,QAAQ,SAAW,EAAG,CACxC,MAAM8T,EAAUpX,KAAKoI,SAASsJ,MAAKzuB,GAAKA,EAAE+gB,OAASgb,EAAOvC,QACpDe,EAASxd,KAAKwI,QAAQwW,EAAOvC,OACnC,GAAIrF,GAAWoG,EAAQ,CACnB,MAAM7L,EAASqN,EAAOrN,OAChBc,EAAYK,KAAKnvB,WAAWq7B,EAAOrN,OAAO,GAAIqN,EAAOrN,OAAO,GAAIqN,EAAOrN,OAAO,IAC9Ec,EAAYK,KAAKxvB,SACjB+B,EAAQotB,EAAYK,KAAKnvB,WAAWyzB,EAAQ7rB,MAAO,EAAG6rB,EAAQ5rB,QAC9D0zB,EAASF,EAAOE,OAChBzM,EAAYK,KAAKnvB,WAAWq7B,EAAOE,OAAO,GAAIF,EAAOE,OAAO,GAAIF,EAAOE,OAAO,IAC9EzM,EAAYK,KAAKxvB,SAIvB,OAHAmvB,EAAYK,KAAKztB,MAAMA,EAAOA,EAAO25B,EAAO35B,OAAS,GACrDotB,EAAYE,KAAKjvB,SAASq7B,GAC1BtM,EAAYE,KAAKhrB,UAAUo3B,EAAKA,EAAKpN,GAC7B6L,EAAO4B,OAAOv8B,MAClB,KAAKk5B,EAASsD,WAAWC,oBAIzB,KAAKvD,EAASsD,WAAWE,eACrB9M,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAKlQ,EAAO+C,SAAS,GAAKlvB,KAAKK,GAAK,GAClE,MAEJ,KAAKg5B,EAASsD,WAAWG,YACrB/M,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAKr8B,KAAK+W,MAAMkY,EAAO,GAAK9C,EAAOc,SAAS,GAAIgC,EAAO,GAAK9C,EAAOc,SAAS,IACtGjtB,KAAKK,GAAK,GACd0vB,EAAYE,KAAKlmB,QAAQsyB,EAAKA,EAAKr8B,KAAK+W,MAAMoV,EAAOc,SAAS,GAAKgC,EAAO,GAAIjvB,KAAKiE,KAAKjE,KAAKiX,IAAIkV,EAAOc,SAAS,GAAKgC,EAAO,GAAI,GAC7HjvB,KAAKiX,IAAIkV,EAAOc,SAAS,GAAKgC,EAAO,GAAI,MAC7C,MAEJ,KAAKoK,EAASsD,WAAWI,SACrBhN,EAAYE,KAAKjmB,QAAQqyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE0vB,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE0vB,EAAYE,KAAKlmB,QAAQsyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,GAAK,GAC3E,MAEJ,KAAKg5B,EAASsD,WAAWK,qBACrBjN,EAAYE,KAAKjmB,QAAQqyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE0vB,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE,MAEJ,QACI,MAAM,IAAI6iB,MAAM,uBAGxB6M,EAAYE,KAAKttB,MAAM05B,EAAKA,EAAK15B,GACjC6vB,EAAO2J,eAAe9P,EAAIgQ,GAC1B7J,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAElD,OADmBX,EAAOf,YAAcnC,EAAkBoC,WAAWC,QAEjE,KAAKrC,EAAkBoC,WAAWC,OAC9BjJ,EAAOsJ,WAAWzP,EAAI,GACtBA,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACP,MAEJ,KAAKukB,EAAkBoC,WAAW0B,MAOlC,KAAK9D,EAAkBoC,WAAW2B,QAC9B3K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACP,MAEJ,KAAKukB,EAAkBoC,WAAW4B,KAC9B/Q,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAGgR,WAC9B7K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACPwX,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAG0H,qBAC9B,MAEJ,KAAKqF,EAAkBoC,WAAWE,MAC9BlJ,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACP,MAEJ,KAAKukB,EAAkBoC,WAAWG,SAC9BtP,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAGgR,WAC9B7K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACPwX,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAG0H,qBAI1C,CACJ,CACJ,CACJ,CACA,yBAAAmI,CAA0BzW,EAAU0G,GAChC,MAAME,EAAK/O,KAAKC,QAAQ8O,GAClBmG,EAASlV,KAAKkV,OACd6J,EAAM/e,KAAKkc,YACX8D,EAAkB7X,EACnBwF,KAAI,CAACpP,EAAG/X,KAAM,CACfsgB,MAAOtgB,EACPgO,SAAUie,EAAYK,KAAK5b,KAAK2X,EAAOc,SAAUpR,EAAEoT,QAAU,CAAC,EAAG,EAAG,QAEnEnR,MAAK,CAACvd,EAAGE,IAAMF,EAAEuR,SAAWrR,EAAEqR,WACnC,IAAK,IAAIhO,EAAI,EAAGA,EAAIw5B,EAAgBt5B,SAAUF,EAAG,CAC7C,MAAMw4B,EAAS7W,EAAS6X,EAAgBx5B,GAAGsgB,OACrCmY,EAAaX,SAASU,EAAOvC,MAAM8B,OAAO,IAC1C9B,EAAQzc,KAAKmc,UAAU9T,OAAO4W,GACpC,GAAIxC,EAAO,CACP,MAAMyC,EAASF,EAAOE,QAAU,CAAC,EAAG,EAAG,GACjCvN,EAASqN,EAAOrN,QAAU,CAAC,EAAG,EAAG,GACvCA,EAAO,IAAM8K,EAAM9K,OAAO,GAC1BA,EAAO,IAAM8K,EAAM9K,OAAO,GAC1BA,EAAO,IAAM8K,EAAM9K,OAAO,GAC1Bc,EAAYE,KAAKjvB,SAASq7B,GAC1BtM,EAAYE,KAAKhrB,UAAUo3B,EAAKA,EAAKpN,GACrCc,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,KAC3D0vB,EAAYE,KAAKlmB,QAAQuT,KAAKkc,YAAalc,KAAKkc,YAAcgD,EAAO,GAAKx8B,KAAKK,GAAM,KACrFmyB,EAAO2J,eAAe9P,EAAI/O,KAAKkc,aAE/B,OADmB8C,EAAOf,YAAcnC,EAAkBoC,WAAWC,QAEjE,KAAKrC,EAAkBoC,WAAWC,OAC9BjJ,EAAOsJ,WAAWzP,EAAI,GACtB,IAAK,IAAInU,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACA,MAEJ,KAAKo1B,EAAkBoC,WAAW0B,MAC9B1K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD,IAAK,IAAI/kB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACA,MAEJ,KAAKo1B,EAAkBoC,WAAW2B,QAC9B3K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD,IAAK,IAAI/kB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACA,MAEJ,KAAKo1B,EAAkBoC,WAAW4B,KAC9B5K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD,IAAK,IAAI/kB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACA,MAEJ,KAAKo1B,EAAkBoC,WAAWE,MAC9BlJ,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD,IAAK,IAAI/kB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACA,MAEJ,KAAKo1B,EAAkBoC,WAAWG,SAC9BtP,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAGgR,WAC9B7K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD,IAAK,IAAI/kB,EAAI,EAAGA,EAAI6hB,EAAMC,MAAMh2B,SAAUkU,EAAG,CACzC,MAAMqiB,EAAOR,EAAMC,MAAM9hB,GACzBmU,EAAGiK,YAAYjK,EAAGkK,WAAYjZ,KAAKoI,SAAS6U,EAAKN,cAAc1H,QAC/DlG,EAAG+P,WAAW/P,EAAGwL,UAAW0C,EAAK1lB,OAAS,EAAG0lB,EAAKv2B,OAAS,EAC/D,CACAqoB,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAG0H,qBAI1C,MACK,GAAIuI,EAAOvC,MAAMnZ,QAAQ,SAAW,EAAG,CACxC,MAAM8T,EAAUpX,KAAKoI,SAASsJ,MAAKzuB,GAAKA,EAAE+gB,OAASgb,EAAOvC,QACpDe,EAASxd,KAAKwI,QAAQwW,EAAOvC,OACnC,GAAIrF,GAAWoG,EAAQ,CACnB,MAAM7L,EAASqN,EAAOrN,OAChBc,EAAYK,KAAKnvB,WAAWq7B,EAAOrN,OAAO,GAAIqN,EAAOrN,OAAO,GAAIqN,EAAOrN,OAAO,IAC9Ec,EAAYK,KAAKxvB,SACjB+B,EAAQotB,EAAYK,KAAKnvB,WAAWyzB,EAAQ7rB,MAAO,EAAG6rB,EAAQ5rB,QAC9D0zB,EAASF,EAAOE,OAChBzM,EAAYK,KAAKnvB,WAAWq7B,EAAOE,OAAO,GAAIF,EAAOE,OAAO,GAAIF,EAAOE,OAAO,IAC9EzM,EAAYK,KAAKxvB,SAIvB,OAHAmvB,EAAYK,KAAKztB,MAAMA,EAAOA,EAAO25B,EAAO35B,OAAS,GACrDotB,EAAYE,KAAKjvB,SAASq7B,GAC1BtM,EAAYE,KAAKhrB,UAAUo3B,EAAKA,EAAKpN,GAC7B6L,EAAO4B,OAAOv8B,MAClB,KAAKk5B,EAASsD,WAAWC,oBAIzB,KAAKvD,EAASsD,WAAWE,eACrB9M,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAKlQ,EAAO+C,SAAS,GAAKlvB,KAAKK,GAAK,GAClE,MAEJ,KAAKg5B,EAASsD,WAAWG,YACrB/M,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAKr8B,KAAK+W,MAAMkY,EAAO,GAAK9C,EAAOc,SAAS,GAAIgC,EAAO,GAAK9C,EAAOc,SAAS,IACtGjtB,KAAKK,GAAK,GACd0vB,EAAYE,KAAKlmB,QAAQsyB,EAAKA,EAAKr8B,KAAK+W,MAAMoV,EAAOc,SAAS,GAAKgC,EAAO,GAAIjvB,KAAKiE,KAAKjE,KAAKiX,IAAIkV,EAAOc,SAAS,GAAKgC,EAAO,GAAI,GAC7HjvB,KAAKiX,IAAIkV,EAAOc,SAAS,GAAKgC,EAAO,GAAI,MAC7C,MAEJ,KAAKoK,EAASsD,WAAWI,SACrBhN,EAAYE,KAAKjmB,QAAQqyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE0vB,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE0vB,EAAYE,KAAKlmB,QAAQsyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,GAAK,GAC3E,MAEJ,KAAKg5B,EAASsD,WAAWK,qBACrBjN,EAAYE,KAAKjmB,QAAQqyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE0vB,EAAYE,KAAKhmB,QAAQoyB,EAAKA,EAAMG,EAAO,GAAKx8B,KAAKK,GAAM,IAAML,KAAKK,IACtE,MAEJ,QACI,MAAM,IAAI6iB,MAAM,uBAGxB6M,EAAYE,KAAKttB,MAAM05B,EAAKA,EAAK15B,GACjC6vB,EAAO2J,eAAe9P,EAAIgQ,GAC1B7J,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAElD,OADmBX,EAAOf,YAAcnC,EAAkBoC,WAAWC,QAEjE,KAAKrC,EAAkBoC,WAAWC,OAC9BjJ,EAAOsJ,WAAWzP,EAAI,GACtBA,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACP,MAEJ,KAAKukB,EAAkBoC,WAAW0B,MAOlC,KAAK9D,EAAkBoC,WAAW2B,QAC9B3K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACP,MAEJ,KAAKukB,EAAkBoC,WAAW4B,KAC9B/Q,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAGgR,WAC9B7K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACPwX,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAG0H,qBAC9B,MAEJ,KAAKqF,EAAkBoC,WAAWE,MAC9BlJ,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACP,MAEJ,KAAKukB,EAAkBoC,WAAWG,SAC9BtP,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAGgR,WAC9B7K,EAAOsJ,WAAWzP,GAAKiQ,EAAOW,WAAa,KAAO,KAClD5Q,EAAGiK,YAAYjK,EAAGkK,WAAY7B,EAAQnC,QACtClG,EAAG+P,WAAW/P,EAAGwL,UAAWva,KAAKmc,UAAU9T,OAAOrI,KAAKmc,UAAU9T,OAAO3hB,OAAS,GAAG6Q,OAChF,EAAG,GACPwX,EAAGwH,UAAUxH,EAAGyH,UAAWzH,EAAG0H,qBAI1C,CACJ,CACJ,CACJ,EAEJz0B,EAAQoqB,WAAaA,6BChrBrBlH,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQi6B,gBAAa,EAuCrB,MAAMA,EACF,WAAOvT,CAAKzI,GACR,MASMsT,EAAUtT,EAAQqT,cAAc,CAClCI,gBAjCM,obAkCNG,kBAnDQ,0ZAoDRa,eAZmB,CAAC,WAAY,WAAY,aAa5CI,aAZiB,CACjB,cACA,aACA,mBACA,UACA,WACA,aAQJ,OAAKvB,EAIE,IAAI0I,EAAW1I,IAHlBJ,QAAQpJ,MAAM,uCACP,KAGf,CACA,WAAArK,CAAY6T,GACRvT,KAAKuT,QAAUA,EAAQ0B,OACvBjV,KAAKwa,UAAYjH,EAAQxP,WAAqB,SAC9C/D,KAAKya,UAAYlH,EAAQxP,WAAqB,SAC9C/D,KAAKigB,WAAa1M,EAAQxP,WAAsB,UAChD/D,KAAKkgB,SAAW3M,EAAQsB,SAAsB,YAC9C7U,KAAK0a,QAAUnH,EAAQsB,SAAqB,WAC5C7U,KAAK2a,cAAgBpH,EAAQsB,SAA2B,iBACxD7U,KAAK4a,SAAWrH,EAAQsB,SAAkB,QAC1C7U,KAAKmgB,UAAY5M,EAAQsB,SAAmB,SAC5C7U,KAAKogB,SAAW7M,EAAQsB,SAAkB,OAC9C,CACA,UAAAJ,CAAW1F,GACPA,EAAG0F,WAAWzU,KAAKuT,QACvB,CACA,cAAAsL,CAAe9P,EAAI8L,GACf9L,EAAG+L,iBAAiB9a,KAAKkgB,UAAU,EAAOrF,EAC9C,CACA,aAAAT,CAAcrL,EAAI8L,GACd9L,EAAG+L,iBAAiB9a,KAAK0a,SAAS,EAAOG,EAC7C,CACA,mBAAAR,CAAoBtL,EAAI8L,GACpB9L,EAAG+L,iBAAiB9a,KAAK2a,eAAe,EAAOE,EACnD,CACA,UAAAV,CAAWpL,EAAIxM,GACXwM,EAAGgM,UAAU/a,KAAK4a,SAAUrY,EAChC,CACA,WAAAob,CAAY5O,EAAI/H,GACZ+H,EAAGgM,UAAU/a,KAAKmgB,UAAWnZ,EACjC,CACA,UAAAwX,CAAWzP,EAAI/H,GACX+H,EAAGsR,UAAUrgB,KAAKogB,SAAUpZ,EAChC,CACA,mBAAAiT,CAAoBlL,GAChBA,EAAGgJ,wBAAwB/X,KAAKwa,WAChCzL,EAAGgJ,wBAAwB/X,KAAKya,WAChC1L,EAAGgJ,wBAAwB/X,KAAKigB,WACpC,CACA,uBAAA/F,CAAwBnL,GACpBA,EAAGiM,oBAAoBhb,KAAKwa,UAAW,EAAGzL,EAAGkM,OAAO,EAAO,GAAO,GAClElM,EAAGiM,oBAAoBhb,KAAKya,UAAW,EAAG1L,EAAGkM,OAAO,EAAO,GAAO,IAClElM,EAAGiM,oBAAoBhb,KAAKigB,WAAY,EAAGlR,EAAGkM,OAAO,EAAO,GAAO,GACvE,EAEJj5B,EAAQi6B,WAAaA,6BC3GrB/W,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQorB,cAAW,EACnB,MAAMA,EACF,WAAA1N,GACIM,KAAKuQ,KAAO,IAAIhL,WAAW,KAC3B,IAAK,IAAI/e,EAAI,EAAGA,EAAI,MAAOA,EACvBwZ,KAAKuQ,KAAK,GAAK,CAEvB,EAEJvuB,EAAQorB,SAAWA,EACnB,SAAWA,GACP,IAAI6E,GACJ,SAAWA,GACPA,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAQ,EAAI,IAAIqO,WAAW,IAAM,IACtCrO,EAAKA,EAAW,KAAI,IAAM,OAC1BA,EAAKA,EAAU,IAAI,IAAM,MACzBA,EAAKA,EAAY,MAAI,IAAM,OAC9B,CA9BD,CA8BGA,EAAO7E,EAAS6E,OAAS7E,EAAS6E,KAAO,CAAC,GAChD,CAjCD,CAiCG7E,IAAaprB,EAAQorB,SAAWA,EAAW,CAAC,iCC5C/ClI,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQkrB,WAAQ,EAChB,MAAMuF,EAAc,EAAQ,MAU5BzwB,EAAQkrB,MATR,MACI,WAAAxN,GACIM,KAAKugB,OAAQ,EACbvgB,KAAKwgB,WAAY,EACjBxgB,KAAKygB,YAAa,EAClBzgB,KAAK2P,SAAW8C,EAAYiO,KAAKp9B,SACjC0c,KAAK+P,MAAQ0C,EAAYiO,KAAKp9B,QAClC,gCCVJ4hB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQgrB,WAAQ,EAChB,MAAMyF,EAAc,EAAQ,MAQ5BzwB,EAAQgrB,MAPR,MACI,WAAAtN,GACIM,KAAK0P,SAAU,EACf1P,KAAK2P,SAAW8C,EAAYiO,KAAKp9B,SACjC0c,KAAK+P,MAAQ0C,EAAYiO,KAAKp9B,QAClC,sCCRJ,IAAIq9B,EAAa3gB,MAAQA,KAAK2gB,WAAc,SAAUC,EAASC,EAAYxgB,EAAGygB,GAE1E,OAAO,IAAKzgB,IAAMA,EAAIwE,WAAU,SAAUG,EAAS+b,GAC/C,SAASC,EAAUze,GAAS,IAAM0e,EAAKH,EAAUI,KAAK3e,GAAS,CAAE,MAAOhE,GAAKwiB,EAAOxiB,EAAI,CAAE,CAC1F,SAAS4iB,EAAS5e,GAAS,IAAM0e,EAAKH,EAAiB,MAAEve,GAAS,CAAE,MAAOhE,GAAKwiB,EAAOxiB,EAAI,CAAE,CAC7F,SAAS0iB,EAAKG,GAJlB,IAAe7e,EAIa6e,EAAOC,KAAOrc,EAAQoc,EAAO7e,QAJ1CA,EAIyD6e,EAAO7e,MAJhDA,aAAiBlC,EAAIkC,EAAQ,IAAIlC,GAAE,SAAU2E,GAAWA,EAAQzC,EAAQ,KAIjBuC,KAAKkc,EAAWG,EAAW,CAC7GF,GAAMH,EAAYA,EAAU9Y,MAAM4Y,EAASC,GAAc,KAAKK,OAClE,GACJ,EACAhc,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ+uB,YAAS,EACjB,MAAMnG,EAAe,EAAQ,MACvB0W,EAAU,EAAQ,MAClBtF,EAAS,EAAQ,MACjBuF,EAAQ,EAAQ,MAChBC,EAAQ,EAAQ,KAChBC,EAAW,EAAQ,MACnB1F,EAAW,EAAQ,MACnB2F,EAAQ,EAAQ,MAChBC,EAAc,EAAQ,MAC5B,IAAIC,GACJ,SAAWA,GACPA,EAAeA,EAAwB,QAAI,GAAK,UAChDA,EAAeA,EAAwB,QAAI,GAAK,UAChDA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAqB,KAAI,GAAK,MAChD,CALD,CAKGA,IAAmBA,EAAiB,CAAC,IACxC,MAAMC,EACF,WAAAniB,CAAYsE,GACRhE,KAAKgE,KAAOA,EACZhE,KAAK8hB,SAAW,EAChB9hB,KAAK6L,OAAS+V,EAAeG,QAC7B/hB,KAAK6D,KAAO,IAChB,CACA,SAAAme,GACI,OAAOhiB,KAAK6L,SAAW+V,EAAeG,OAC1C,CACA,IAAAE,GACIjiB,KAAK6L,OAAS+V,EAAeM,OACjC,CACA,SAAAC,GACI,OAAOniB,KAAK6L,SAAW+V,EAAeM,OAC1C,CACA,KAAAnY,GACI/J,KAAK6L,OAAS+V,EAAehc,KACjC,CACA,OAAAwc,GACI,OAAOpiB,KAAK6L,SAAW+V,EAAehc,KAC1C,CACA,IAAAyb,CAAKxd,GACD7D,KAAK6L,OAAS+V,EAAeS,KAC7BriB,KAAK6D,KAAOA,CAChB,CACA,MAAAiK,GACI,OAAO9N,KAAK6L,SAAW+V,EAAeS,IAC1C,EAEJ,MAAMC,UAAuBT,EACzB,WAAAniB,GACI6iB,SAAS97B,WACTuZ,KAAKnd,KAAO,QAChB,EAEJ,MAAM2/B,UAAoBX,EACtB,WAAAniB,GACI6iB,SAAS97B,WACTuZ,KAAKnd,KAAO,KAChB,EAEJ,MAAM4/B,UAAoBZ,EACtB,WAAAniB,GACI6iB,SAAS97B,WACTuZ,KAAKnd,KAAO,KAChB,EAEJ,MAAM6/B,UAAoBb,EACtB,WAAAniB,GACI6iB,SAAS97B,WACTuZ,KAAKnd,KAAO,KAChB,EAEJ,MAAM8/B,UAAsBd,EACxB,WAAAniB,GACI6iB,SAAS97B,WACTuZ,KAAKnd,KAAO,OAChB,EAEJ,MAAM+/B,UAAuBf,EACzB,WAAAniB,GACI6iB,SAAS97B,WACTuZ,KAAKnd,KAAO,QAChB,EAgSJb,EAAQ+uB,OA9RR,MACI,WAAArR,CAAY+L,GACRzL,KAAKwI,QAAU,CAAC,EAChBxI,KAAKyL,OAASA,EACdzL,KAAKuN,YAASsV,EACd7iB,KAAK2N,SAAMkV,EACX7iB,KAAKuI,MAAQ,GACbvI,KAAK+I,KAAO,GACZ/I,KAAKgJ,OAAS,GACdhJ,KAAKmO,QAAS,EAAIvD,EAAa0G,oBAC/BtR,KAAKmO,OAAO6C,GAAG,SAAU8R,IACrB3P,QAAQpJ,MAAM+Y,EAAI,GAE1B,CACA,KAAAjM,GACI7W,KAAKuN,YAASsV,EACd7iB,KAAK2N,SAAMkV,EACX7iB,KAAKuI,MAAM7hB,OAAS,EACpBsZ,KAAK+I,KAAKriB,OAAS,EACnBsZ,KAAKgJ,OAAOtiB,OAAS,EACrBsZ,KAAKwI,QAAU,CAAC,CACpB,CACA,WAAAua,GACI,GAAI/iB,KAAKuN,SAAWvN,KAAKuN,OAAOO,SAC5B,OAEJ,GAAI9N,KAAK2N,MAAQ3N,KAAK2N,IAAIG,SACtB,OAEJ,IAAK,IAAItnB,EAAI,EAAGA,EAAIwZ,KAAKuI,MAAM7hB,SAAUF,EACrC,GAAIwZ,KAAKuI,MAAM/hB,GAAGw7B,YACd,OAGR,IAAK,IAAIx7B,EAAI,EAAGA,EAAIwZ,KAAK+I,KAAKriB,SAAUF,EACpC,GAAIwZ,KAAK+I,KAAKviB,GAAGw7B,YACb,OAGR,IAAK,IAAIx7B,EAAI,EAAGA,EAAIwZ,KAAKgJ,OAAOtiB,SAAUF,EACtC,GAAIwZ,KAAKgJ,OAAOxiB,GAAGw7B,YACf,OAGR,MAAMxZ,EAAUtD,OAAO6I,QAAQ/N,KAAKwI,SACpC,IAAK,IAAIhiB,EAAI,EAAGA,EAAIgiB,EAAQ9hB,SAAUF,EAClC,GAAIgiB,EAAQhiB,GAAG,GAAGw7B,YACd,OAGRhiB,KAAKmO,OAAOC,KAAK,UAAWpO,KAChC,CACA,IAAAwR,CAAKxN,GACD,MAAM6R,GAAY,EAAImG,EAAOgH,SAAShf,GACpB,SAAd6R,GAAsC,SAAdA,EACxB7V,KAAKijB,WAAWjf,GAEG,SAAd6R,EACL7V,KAAKkjB,QAAQlf,GAGbhE,KAAKmO,OAAOC,KAAK,QAAS,yBAA0BpK,EAE5D,CACA,UAAAif,CAAWjf,GACP,OAAO2c,EAAU3gB,UAAM,OAAQ,GAAQ,YACnCA,KAAKuN,OAAS,IAAI+U,EAAete,GACjChE,KAAKmO,OAAOC,KAAK,YAAapO,KAAKuN,QACnC,MAMM4V,EAAanjB,KAAKyL,OAAOtC,iBACzB7D,QAAe,EAAIoc,EAAM0B,KAAK,GAAGD,KAAcnf,IAAQ,CACzDqf,OAAQ,MACRC,UAAU,EACVC,iBAVqB,CAACC,EAAI1B,KACtB9hB,KAAKuN,SACLvN,KAAKuN,OAAOuU,SAAWA,GAE3B9hB,KAAKmO,OAAOC,KAAK,WAAYpO,KAAKuN,OAAO,IAO1CkW,OAAOX,IACF9iB,KAAKuN,QACLvN,KAAKuN,OAAOxD,QAEhB/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAK9iB,KAAKuN,OAAO,IAE/C,GAAIvN,KAAKuN,OAAO6U,UACZ,OAEJ,MAAM7U,QAAekU,EAASiC,OAAOC,gBAAgBre,GACrDtF,KAAKuN,OAAO8T,KAAK9T,GACjBvN,KAAKmO,OAAOC,KAAK,OAAQpO,KAAKuN,QAC9BvN,KAAK+iB,aACT,GACJ,CACA,OAAAG,CAAQlf,GACJ,OAAO2c,EAAU3gB,UAAM,OAAQ,GAAQ,YACnCA,KAAK2N,IAAM,IAAI6U,EAAYxe,GAC3BhE,KAAKmO,OAAOC,KAAK,YAAapO,KAAK2N,KACnC,MAMMiW,EAAW5jB,KAAKyL,OAAOrC,cACvB9D,QAAe,EAAIoc,EAAM0B,KAAK,GAAGQ,KAAY5f,IAAQ,CACvDqf,OAAQ,MACRC,UAAU,EACVC,iBAVqB,CAACC,EAAI1B,KACtB9hB,KAAK2N,MACL3N,KAAK2N,IAAImU,SAAWA,GAExB9hB,KAAKmO,OAAOC,KAAK,WAAYpO,KAAK2N,IAAI,IAOvC8V,OAAMX,IACD9iB,KAAK2N,KACL3N,KAAK2N,IAAI5D,QAEb/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAK9iB,KAAK2N,IAAI,IAE5C,GAAI3N,KAAK2N,IAAIyU,UACT,OAEJ,MAAMzU,QAAYgU,EAAYkC,UAAUC,MAAM9f,EAAMsB,GACpDtF,KAAK2N,IAAI0T,KAAK1T,GACdA,EAAIxF,SACCwF,KAAKpP,IACN,GAAuB,iBAAZA,EAAEke,OAAsBle,EAAEke,MAAMnZ,QAAQ,SAAW,EAC1D,OAAO/E,EAAEke,KAEG,IAEfsH,QAAO,CAAC9gC,EAAG+gC,EAAKC,IAAQhhC,GAAKghC,EAAI3gB,QAAQrgB,KAAO+gC,IAChD3sB,SAAQpU,GAAKA,GAAK+c,KAAKkkB,WAAWjhC,KACvC,MAAMkhC,EAAUxW,EAAIxF,SAAS,GAAGgc,QAChC,GAAIA,EAAS,CACK,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACvCxW,KAAI1qB,GAAK,GAAGkhC,IAAUlhC,MAAKoU,SAAQpU,GAAK+c,KAAKokB,QAAQnhC,IAC/D,CACA,GAAI0qB,EAAIvF,SAASsJ,MAAKzuB,GAAKA,EAAEohC,aAAa,CACtC,MACMC,EADO3W,EAAIxF,SAAS,GAAGoc,IACJ5W,KAAKjkB,GAAMsW,KAAKwkB,QAAQ96B,WAC3Cmb,QAAQ4f,IAAIH,EACtB,CACAtkB,KAAKmO,OAAOC,KAAK,OAAQpO,KAAK2N,KAC9B3N,KAAK+iB,aACT,GACJ,CACA,UAAAmB,CAAWlgB,GACP,OAAO2c,EAAU3gB,UAAM,OAAQ,GAAQ,YACnC,MAAMgO,EAAO,IAAI4U,EAAe5e,GAChChE,KAAKwI,QAAQxE,GAAQgK,EACrBhO,KAAKmO,OAAOC,KAAK,YAAaJ,GAC9B,MAIM1I,QAAe,EAAIoc,EAAM0B,KAAK,GAAGpjB,KAAKyL,OAAOvC,iBAAiBlF,IAAQ,CACxEqf,OAAQ,MACRC,UAAU,EACVC,iBAPqB,CAACC,EAAI1B,KAC1B9T,EAAK8T,SAAWA,EAChB9hB,KAAKmO,OAAOC,KAAK,WAAYJ,EAAK,IAMnCyV,OAAOX,IACN9U,EAAKjE,QACL/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAK9U,GAC/BhO,KAAK+iB,aAAa,IAEtB,IAAI/U,EAAKoU,UAGT,IACI,MAAM5E,EAASzB,EAAS2I,OAAOZ,MAAMxe,GACrC0I,EAAKqT,KAAK7D,GACVxd,KAAKmO,OAAOC,KAAK,OAAQJ,GACzBhO,KAAK+iB,aACT,CACA,MAAOhZ,GACHoJ,QAAQzZ,IAAIqQ,EAChB,CACJ,GACJ,CACA,OAAAqa,CAAQpgB,GACJ,OAAO2c,EAAU3gB,UAAM,OAAQ,GAAQ,YACnC,MAAMgO,EAAO,IAAIyU,EAAYze,GAC7BhE,KAAKuI,MAAMnI,KAAK4N,GAChBhO,KAAKmO,OAAOC,KAAK,YAAaJ,GAC9B,MAIM2W,EAAY3kB,KAAKyL,OAAOnC,eACxBhE,QAAe,EAAIoc,EAAM0B,KAAK,GAAGuB,KAAa3gB,QAAY,CAC5Dqf,OAAQ,MACRC,UAAU,EACVC,iBARqB,CAACC,EAAI1B,KAC1B9T,EAAK8T,SAAWA,EAChB9hB,KAAKmO,OAAOC,KAAK,WAAYJ,EAAK,IAOnCyV,OAAOX,IACN9U,EAAKjE,QACL/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAK9U,GAC/BhO,KAAK+iB,aAAa,IAEtB,GAAI/U,EAAKoU,UACL,OAEJ,MAAMwC,EAAWrD,EAAMsD,IAAIf,MAAMxe,EAAQtB,GACzCgK,EAAKqT,KAAKuD,GACV5kB,KAAKmO,OAAOC,KAAK,OAAQJ,GACzBhO,KAAK+iB,aACT,GACJ,CACA,OAAAyB,CAAQxgB,GACJ,OAAO2c,EAAU3gB,UAAM,OAAQ,GAAQ,YACnC,MAAM8kB,EAAU,IAAIpC,EAAY1e,GAChChE,KAAK+I,KAAK3I,KAAK0kB,GACf9kB,KAAKmO,OAAOC,KAAK,YAAa0W,GAC9B,MAIMC,EAAW/kB,KAAKyL,OAAOpC,cACvB/D,QAAe,EAAIoc,EAAM0B,KAAK,GAAG2B,KAAY/gB,IAAQ,CACvDqf,OAAQ,MACRC,UAAU,EACVC,iBARqB,CAACC,EAAI1B,KAC1BgD,EAAQhD,SAAWA,EACnB9hB,KAAKmO,OAAOC,KAAK,WAAY0W,EAAQ,IAOtCrB,OAAOX,IACNgC,EAAQ/a,QACR/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAKgC,GAC/B9kB,KAAK+iB,aAAa,IAEtB,GAAI+B,EAAQ1C,UACR,OAEJ,MAAMmC,QAAY/C,EAAMwD,IAAIlB,MAAMxe,GAElC,GADAwf,EAAQzD,KAAKkD,IACRvkB,KAAK2N,MAAQ3N,KAAK2N,IAAI9J,KACvB,OAEJ,MAAM8J,EAAM3N,KAAK2N,IAAI9J,KAErB0gB,EAAIxW,QAAQ1W,SAAQ4tB,IACG,YAAfA,EAAMpiC,MAGV8qB,EAAIvF,SAAS/Q,SAAQ+f,IALb,IAACn0B,EAAGE,EAAHF,EAMGgiC,EAAMjhB,KANN7gB,EAMYi0B,EAAQpT,KANd/gB,EAAE4e,gBAAkB1e,EAAE0e,gBAOhCuV,EAAQ7rB,MAAQ05B,EAAM15B,MACtB6rB,EAAQ5rB,OAASy5B,EAAMz5B,OACvB4rB,EAAQvT,KAAOohB,EAAMphB,KACzB,GACF,IAEN7D,KAAKmO,OAAOC,KAAK,OAAQ0W,GACzB9kB,KAAK+iB,aACT,GACJ,CACA,SAAAmC,CAAUlhB,EAAM8C,GACZ,OAAO6Z,EAAU3gB,UAAM,OAAQ,GAAQ,YACnC,MAAMiO,EAAQ,IAAI0U,EAAc3e,GAChChE,KAAKgJ,OAAO5I,KAAK6N,GACjBjO,KAAKmO,OAAOC,KAAK,YAAaH,GAC9B,MAIMkX,EAAanlB,KAAKyL,OAAOlC,gBACzBjE,QAAe,EAAIoc,EAAM0B,KAAK,GAAG+B,KAAcnhB,IAAQ,CACzDqf,OAAQ,MACRC,UAAU,EACVC,iBARqB,CAACC,EAAI1B,KAC1B7T,EAAM6T,SAAWA,EACjB9hB,KAAKmO,OAAOC,KAAK,WAAYH,EAAM,IAOpCwV,OAAOX,IACN7U,EAAMlE,QACN/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAK7U,GAC/BjO,KAAK+iB,aAAa,IAEtB,GAAI9U,EAAMmU,UACN,OAEJ,MAAMve,QAAayd,EAAQ8D,MAAM9hC,OAAOgiB,GAAQme,OAAOX,IACnD7U,EAAMlE,QACN/J,KAAKmO,OAAOC,KAAK,QAAS0U,EAAK7U,GAC/BjO,KAAK+iB,aAAa,IAEjBlf,IAAQoK,EAAMmU,YAGnBve,EAAKiD,MAAQA,EACbjD,EAAKG,KAAOA,EACZiK,EAAMoT,KAAKxd,GACX7D,KAAKmO,OAAOC,KAAK,OAAQH,GACzBjO,KAAK+iB,cACT,GACJ,8BCvXJ,IAAIsC,EAKAC,EAKAC,EAKAC,EAKAC,EAQAC,EAKAC,EAKAC,EA+BAC,EASAC,EAKAC,EAaAC,EAYAC,EAQAC,EAoBAhI,EA1IJhZ,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQmkC,gBAAkBnkC,EAAQk8B,WAAal8B,EAAQkkC,aAAelkC,EAAQikC,eAAiBjkC,EAAQgkC,kBAAoBhkC,EAAQ+jC,6BAA+B/jC,EAAQ8jC,uBAAyB9jC,EAAQ6jC,yBAA2B7jC,EAAQ4jC,qBAAuB5jC,EAAQ2jC,6BAA+B3jC,EAAQ0jC,iCAAmC1jC,EAAQyjC,yBAA2BzjC,EAAQwjC,sBAAwBxjC,EAAQujC,kBAAoBvjC,EAAQsjC,oBAAsBtjC,EAAQqjC,yBAAsB,EAElf,SAAWA,GACPA,EAAoBA,EAAwB,GAAI,GAAK,KACrDA,EAAoBA,EAAyB,IAAI,GAAK,KACzD,CAHD,CAGGA,IAAwBrjC,EAAQqjC,oBAAsBA,EAAsB,CAAC,IAEhF,SAAWC,GACPA,EAAoBA,EAAwB,GAAI,GAAK,KACrDA,EAAoBA,EAAyB,IAAI,GAAK,KACzD,CAHD,CAGGA,IAAwBtjC,EAAQsjC,oBAAsBA,EAAsB,CAAC,IAEhF,SAAWC,GACPA,EAAkBA,EAAsB,GAAI,GAAK,KACjDA,EAAkBA,EAAuB,IAAI,GAAK,KACrD,CAHD,CAGGA,IAAsBvjC,EAAQujC,kBAAoBA,EAAoB,CAAC,IAE1E,SAAWC,GACPA,EAAsBA,EAAqC,cAAI,GAAK,gBACpEA,EAAsBA,EAAiC,UAAI,GAAK,WACnE,CAHD,CAGGA,IAA0BxjC,EAAQwjC,sBAAwBA,EAAwB,CAAC,IAEtF,SAAWC,GACPA,EAAyBA,EAA6B,GAAI,GAAK,KAC/DA,EAAyBA,EAA+B,KAAI,GAAK,OACjEA,EAAyBA,EAA8B,IAAI,GAAK,MAChEA,EAAyBA,EAAwC,cAAI,GAAK,gBAC1EA,EAAyBA,EAAwC,cAAI,GAAK,eAC7E,CAND,CAMGA,IAA6BzjC,EAAQyjC,yBAA2BA,EAA2B,CAAC,IAE/F,SAAWC,GACPA,EAAiCA,EAA4C,UAAI,GAAK,YACtFA,EAAiCA,EAAyC,OAAI,GAAK,QACtF,CAHD,CAGGA,IAAqC1jC,EAAQ0jC,iCAAmCA,EAAmC,CAAC,IAEvH,SAAWC,GACPA,EAA6BA,EAAyC,WAAI,GAAK,aAC/EA,EAA6BA,EAA0C,YAAI,GAAK,aACnF,CAHD,CAGGA,IAAiC3jC,EAAQ2jC,6BAA+BA,EAA+B,CAAC,IAE3G,SAAWC,GACPA,EAAqBA,EAA2B,KAAI,GAAK,OACzDA,EAAqBA,EAAkC,YAAI,GAAK,cAChEA,EAAqBA,EAAiC,WAAI,GAAK,aAC/DA,EAAqBA,EAA8B,QAAI,GAAK,UAC5DA,EAAqBA,EAAiC,WAAI,GAAK,aAC/DA,EAAqBA,EAA6B,OAAI,GAAK,SAC3DA,EAAqBA,EAAkC,YAAI,GAAK,cAChEA,EAAqBA,EAAgC,UAAI,GAAK,YAC9DA,EAAqBA,EAA4B,MAAI,GAAK,QAC1DA,EAAqBA,EAAiC,WAAI,GAAK,aAC/DA,EAAqBA,EAAqC,eAAI,IAAM,iBACpEA,EAAqBA,EAAiC,WAAI,IAAM,aAChEA,EAAqBA,EAAsC,gBAAI,IAAM,kBACrEA,EAAqBA,EAAkC,YAAI,IAAM,cACjEA,EAAqBA,EAAmC,aAAI,IAAM,eAClEA,EAAqBA,EAA+B,SAAI,IAAM,WAC9DA,EAAqBA,EAAgC,UAAI,IAAM,YAC/DA,EAAqBA,EAAoC,cAAI,IAAM,gBACnEA,EAAqBA,EAAqC,eAAI,IAAM,iBACpEA,EAAqBA,EAA0C,oBAAI,IAAM,sBACzEA,EAAqBA,EAAsC,gBAAI,IAAM,kBACrEA,EAAqBA,EAAkC,YAAI,IAAM,cACjEA,EAAqBA,EAAsC,gBAAI,IAAM,kBACrEA,EAAqBA,EAAwC,kBAAI,IAAM,oBACvEA,EAAqBA,EAA4B,MAAI,IAAM,QAC3DA,EAAqBA,EAA8B,QAAI,IAAM,UAC7DA,EAAqBA,EAA8B,QAAI,IAAM,UAC7DA,EAAqBA,EAA8B,QAAI,IAAM,SAChE,CA7BD,CA6BGA,IAAyB5jC,EAAQ4jC,qBAAuBA,EAAuB,CAAC,IAEnF,SAAWC,GACPA,EAAyBA,EAAyC,eAAI,GAAK,iBAC3EA,EAAyBA,EAAsC,YAAI,GAAK,cACxEA,EAAyBA,EAAuC,aAAI,GAAK,eACzEA,EAAyBA,EAAsC,YAAI,GAAK,cACxEA,EAAyBA,EAAsC,YAAI,IAAM,cACzEA,EAAyBA,EAAqC,WAAI,IAAM,YAC3E,CAPD,CAOGA,IAA6B7jC,EAAQ6jC,yBAA2BA,EAA2B,CAAC,IAE/F,SAAWC,GACPA,EAAuBA,EAAqC,aAAI,GAAK,eACrEA,EAAuBA,EAAgC,QAAI,GAAK,SACnE,CAHD,CAGGA,IAA2B9jC,EAAQ8jC,uBAAyBA,EAAyB,CAAC,IAEzF,SAAWC,GACPA,EAA6BA,EAAwC,UAAI,GAAK,YAC9EA,EAA6BA,EAAmD,qBAAI,GAAK,uBACzFA,EAA6BA,EAAyC,WAAI,GAAK,aAC/EA,EAA6BA,EAAkD,oBAAI,GAAK,sBACxFA,EAA6BA,EAAoC,MAAI,GAAK,QAC1EA,EAA6BA,EAAwC,UAAI,GAAK,YAC9EA,EAA6BA,EAAyC,WAAI,GAAK,aAC/EA,EAA6BA,EAAyC,WAAI,GAAK,aAC/EA,EAA6BA,EAAqD,uBAAI,IAAM,yBAC5FA,EAA6BA,EAAmD,qBAAI,IAAM,sBAC7F,CAXD,CAWGA,IAAiC/jC,EAAQ+jC,6BAA+BA,EAA+B,CAAC,IAE3G,SAAWC,GACPA,EAAkBA,EAA2B,QAAI,GAAK,UACtDA,EAAkBA,EAA0B,OAAI,GAAK,SACrDA,EAAkBA,EAAgC,aAAI,GAAK,eAC3DA,EAAkBA,EAAwB,KAAI,GAAK,OACnDA,EAAkBA,EAA+B,YAAI,IAAM,cAC3DA,EAAkBA,EAA6B,UAAI,IAAM,YACzDA,EAAkBA,EAA4B,SAAI,IAAM,WACxDA,EAAkBA,EAA6B,UAAI,KAAO,YAC1DA,EAAkBA,EAA2B,QAAI,KAAO,SAC3D,CAVD,CAUGA,IAAsBhkC,EAAQgkC,kBAAoBA,EAAoB,CAAC,IAE1E,SAAWC,GACPA,EAAeA,EAAuB,OAAI,GAAK,SAC/CA,EAAeA,EAA4B,YAAI,GAAK,cACpDA,EAAeA,EAAiC,iBAAI,GAAK,mBACzDA,EAAeA,EAAkC,kBAAI,GAAK,oBAC1DA,EAAeA,EAAiC,iBAAI,GAAK,kBAC5D,CAND,CAMGA,IAAmBjkC,EAAQikC,eAAiBA,EAAiB,CAAC,IAEjE,SAAWC,GACPA,EAAaA,EAAqB,OAAI,GAAK,SAC3CA,EAAaA,EAAwB,UAAI,GAAK,YAC9CA,EAAaA,EAAwB,UAAI,GAAK,YAC9CA,EAAaA,EAA4B,cAAI,GAAK,gBAClDA,EAAaA,EAA4B,cAAI,GAAK,gBAClDA,EAAaA,EAA2B,aAAI,GAAK,eACjDA,EAAaA,EAA2B,aAAI,GAAK,eACjDA,EAAaA,EAA8B,gBAAI,GAAK,kBACpDA,EAAaA,EAA8B,gBAAI,GAAK,kBACpDA,EAAaA,EAAyB,WAAI,GAAK,aAC/CA,EAAaA,EAAyB,WAAI,IAAM,aAChDA,EAAaA,EAA2B,aAAI,IAAM,eAClDA,EAAaA,EAA0B,YAAI,IAAM,cACjDA,EAAaA,EAA0B,YAAI,IAAM,cACjDA,EAAaA,EAA2B,aAAI,IAAM,eAClDA,EAAaA,EAA4B,cAAI,IAAM,gBACnDA,EAAaA,EAA8B,gBAAI,IAAM,iBACxD,CAlBD,CAkBGA,IAAiBlkC,EAAQkkC,aAAeA,EAAe,CAAC,IAE3D,SAAWhI,GACPA,EAAWA,EAAmB,OAAI,GAAK,SACvCA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAoB,QAAI,GAAK,UACxCA,EAAWA,EAAiB,KAAI,GAAK,OACrCA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAqB,SAAI,GAAK,UAC5C,CAPD,CAOGA,IAAel8B,EAAQk8B,WAAaA,EAAa,CAAC,IACrD,MAAMkI,EAAoBnjC,GAAMA,EAAEojC,MAAM,KAAK1Y,KAAIxqB,GAAKmjC,WAAWnjC,KAC3DojC,EAAU,CACZC,WAAajoB,IAAM,CACfkoB,UAAW,aACXlC,IAAKhmB,EAAEgmB,IACF8B,MAAM,KACNtC,QAAQ9gC,GAAMA,EAAEyD,SAChBinB,KAAKjkB,GAAMA,EAAEkY,QAAQ,MAAO,OACjC8kB,WAAYpI,SAAS/f,EAAEmoB,YACvBvC,QAAS5lB,EAAE4lB,QACXwC,SAAUL,WAAW/nB,EAAEqoB,WAAa,KACpC9a,QAASvN,EAAEuN,SAAW,GACtB9C,OAAQsV,SAAS/f,EAAEyK,SAAW,EAC9B6d,MAAOvI,SAAS/f,EAAEsoB,QAAU,EAC5BC,WAAYR,WAAW/nB,EAAEwoB,aAAe,EACxCC,UAAW1I,SAAS/f,EAAE0oB,YAAc,EACpCC,QAAS5I,SAAS/f,EAAE4oB,UAAY,EAChCC,YAAa9I,SAAS/f,EAAE8oB,cAAgB,EACxCC,UAAWhJ,SAAS/f,EAAEgpB,YAAc,IAExCC,oBAAsBjpB,IAAM,CACxBkoB,UAAW,sBACXgB,WAAYnJ,SAAS/f,EAAEkpB,YACvBC,YAAanpB,EAAEmpB,YACfC,UAAWppB,EAAEopB,WAAa,GAC1BC,WAAYtJ,SAAS/f,EAAEqpB,aAAe,IACtCC,WAAYvJ,SAAS/f,EAAEspB,aAAe,EACtCC,UAAWxJ,SAAS/f,EAAEupB,YAAc,EACpCC,kBAAmBzJ,SAAS/f,EAAEwpB,oBAAsB,IAExDC,gBAAkBzpB,IAAM,CACpBkoB,UAAW,kBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BsW,WAAY1pB,EAAE2pB,WACdpc,QAASvN,EAAEuN,QACXqc,OAAQ7J,SAAS/f,EAAE4pB,SAAW,GAC9BC,OAAQ9J,SAAS/f,EAAE6pB,SAAW,EAC9BC,YAAa/J,SAAS/f,EAAE+pB,WAAa,EACrCC,OAAQjK,SAAS/f,EAAEiqB,QACnBC,QAASnK,SAAS/f,EAAEmqB,SACpBC,MAAOrK,SAAS/f,EAAEoqB,OAClBC,WAAYtK,SAAS/f,EAAEsqB,YACvBC,OAAQxK,SAAS/f,EAAEwqB,QACnBC,SAAU1K,SAAS/f,EAAE0qB,UACrBC,QAAS5K,SAAS/f,EAAE4qB,SACpBC,QAAS9K,SAAS/f,EAAE8qB,SACpBC,YAAahL,SAAS/f,EAAEgrB,aACxBC,aAAclL,SAAS/f,EAAEkrB,cACzBC,QAASpL,SAAS/f,EAAEorB,SACpBC,WAAYtL,SAAS/f,EAAEkpB,cAE3BoC,SAAWtrB,IAAM,CACbkoB,UAAW,WACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhCwC,WAAa1rB,IAAM,CACfkoB,UAAW,aACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhCyC,YAAc3rB,IAAM,CAChBkoB,UAAW,cACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhC0C,aAAe5rB,IAAM,CACjBkoB,UAAW,eACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhC2C,gBAAkB7rB,IAAM,CACpBkoB,UAAW,kBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhC4C,cAAgB9rB,IAAM,CAClBkoB,UAAW,gBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhC6C,cAAgB/rB,IAAM,CAClBkoB,UAAW,gBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhC8C,eAAiBhsB,IAAM,CACnBkoB,UAAW,iBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhC+C,aAAejsB,IAAM,CACjBkoB,UAAW,eACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,YAAc,GAC5B4B,MAAOxL,SAAS/f,EAAEurB,QAAU,EAC5BC,WAAYxrB,EAAEyrB,YAAc,GAC5BJ,WAAYrrB,EAAEkpB,YAAc,IAEhCgD,cAAgBlsB,IAAM,CAClBkoB,UAAW,gBACX/yB,OAAQ6K,EAAE7K,OACVg3B,OAAQnsB,EAAEmsB,OACVC,aAAcrM,SAAS/f,EAAEqsB,WAAa,EACtCC,WAAYvM,SAAS/f,EAAE0f,aAAe,EACtC6M,cAAexM,SAAS/f,EAAEohB,YAAc,IACxCoL,YAAa3E,EAAiB7nB,EAAEysB,aAAe,SAC/CC,eAAgB3M,SAAS/f,EAAE2sB,kBAAoB,EAC/CC,YAAa5sB,EAAE6sB,aACfxB,WAAYtL,SAAS/f,EAAEkpB,aAAe,IAE1C4D,OAAS9sB,IAAM,CACXkoB,UAAW,SACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3B+I,WAAY1pB,EAAE2pB,WACdzL,MAAOle,EAAEke,MACT6O,SAAU/sB,EAAE+sB,UAAY,GACxBX,aAAcrM,SAAS/f,EAAEqsB,WAAa,EACtCC,WAAYvM,SAAS/f,EAAE0f,aAAe,EACtC6M,cAAexM,SAAS/f,EAAEohB,YAAc,IACxCoL,YAAa3E,EAAiB7nB,EAAEysB,aAAe,WAEnDO,cAAgBhtB,IAAM,CAClBkoB,UAAW,gBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3B+I,WAAY1pB,EAAE2pB,WACdzL,MAAOle,EAAEke,MACT+O,UAAWlN,SAAS/f,EAAEitB,WAAa,MACnCb,aAAcrM,SAAS/f,EAAEqsB,WAAa,EACtCC,WAAYvM,SAAS/f,EAAE0f,aAAe,EACtC6M,cAAexM,SAAS/f,EAAEohB,YAAc,IACxCoL,YAAa3E,EAAiB7nB,EAAEysB,aAAe,WAEnDS,eAAiBltB,IAAM,CACnBkoB,UAAW,gBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3BxrB,OAAQ6K,EAAE7K,OACVu0B,WAAY1pB,EAAE2pB,WACdwD,cAAentB,EAAEotB,eAAiB,GAClCC,iBAAkBtN,SAAS/f,EAAEstB,mBAAqB,EAClDpP,MAAOle,EAAEke,MACT6O,SAAU/sB,EAAE+sB,SACZX,aAAcrM,SAAS/f,EAAEqsB,WAAa,EACtCC,WAAYvM,SAAS/f,EAAE0f,aAAe,EACtC6M,cAAexM,SAAS/f,EAAEohB,YAAc,IACxCoL,YAAa3E,EAAiB7nB,EAAEysB,aAAe,WAEnDc,iBAAmBvtB,IAAM,CACrBkoB,UAAW,kBACX9U,OAAQyU,EAAiB7nB,EAAEoT,QAC3BuN,OAAQkH,EAAiB7nB,EAAE2gB,QAC3B+I,WAAY1pB,EAAE2pB,WACdzL,MAAOle,EAAEke,MACT+O,UAAWlN,SAAS/f,EAAEitB,YAAc,GACpCnmC,MAAOihC,WAAW/nB,EAAElZ,QAAU,EAC9BslC,aAAcrM,SAAS/f,EAAEqsB,WAAa,EACtCC,WAAYvM,SAAS/f,EAAE0f,aAAe,EACtC6M,cAAexM,SAAS/f,EAAEohB,YAAc,IACxCoL,YAAa3E,EAAiB7nB,EAAEysB,aAAe,WAEnDe,SAAWxtB,IAAM,CACbkoB,UAAW,WACXkE,aAAcrM,SAAS/f,EAAEqsB,WAAa,EACtCC,WAAYvM,SAAS/f,EAAE0f,aAAe,EACtC6M,cAAexM,SAAS/f,EAAEohB,YAAc,IACxCoL,YAAa3E,EAAiB7nB,EAAEysB,aAAe,SAC/CgB,OAAQ1F,WAAW/nB,EAAE0tB,SAAW,IAChCC,KAAM5N,SAAS/f,EAAE2tB,OAAS,EAC1BC,UAAW7N,SAAS/f,EAAE6tB,YAAc,GACpCC,eAAgB/N,SAAS/f,EAAE+tB,iBAAmB,EAC9ClV,QAAS7Y,EAAE6Y,SAAW,wBACtBmV,cAAejO,SAAS/f,EAAEiuB,gBAAkB,GAC5CC,UAAWnO,SAAS/f,EAAEitB,YAAc,EACpCkB,WAAYpO,SAAS/f,EAAEouB,aAAe,EACtCC,WAAYtO,SAAS/f,EAAEsuB,aAAe,EACtCC,OAAQxO,SAAS/f,EAAEuuB,SAAW,EAC9BlD,WAAYtL,SAAS/f,EAAEkpB,eA4B/BzlC,EAAQmkC,gBAzBR,MACI,YAAOrC,CAAM3b,GACT,MAAM8b,EAAM,GACZ,IAAK,IAAIz9B,EAAI,EAAGA,EAAI2hB,EAASzhB,SAAUF,EAAG,CACtC,MAAM+X,EAAI4J,EAAS3hB,GACd+X,EAAEkoB,WACHxC,EAAI7jB,KAAK,CACLqmB,UAAW,IACX5iB,KAAMtF,IAGVgoB,EAAQhoB,EAAEkoB,WACVxC,EAAI7jB,KAAKmmB,EAAQhoB,EAAEkoB,WAAWloB,IAG9B0lB,EAAI7jB,KAAK,CACLqmB,UAAW,IACXsG,kBAAmBxuB,EAAEkoB,UACrB5iB,KAAMtF,GAGlB,CACA,OAAO0lB,CACX,8BC1YJ/e,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQgrC,uBAAoB,EAC5B,MAAMA,EACF,WAAOtkB,CAAKJ,GACR,OAAO,IAAI0kB,EAAkB1kB,EACjC,CACA,WAAA5I,CAAY4I,GACRtI,KAAKitB,MAAQ,IAAIC,YAAYF,EAAkBG,cAC/CntB,KAAKsI,SAAWA,EAChBtI,KAAKoX,QAAU,IAAI7R,WAAWynB,EAAkBG,aAAeH,EAAkBG,aAAe,GAChGntB,KAAKoX,QAAQpX,KAAKoX,QAAQ1wB,OAAS,GAAK,IACxCsZ,KAAKoX,QAAQpX,KAAKoX,QAAQ1wB,OAAS,GAAK,IACxCsZ,KAAKoX,QAAQpX,KAAKoX,QAAQ1wB,OAAS,GAAK,IACxCsZ,KAAKoX,QAAQpX,KAAKoX,QAAQ1wB,OAAS,GAAK,GAC5C,CACA,UAAA0mC,GACI,OAAOptB,KAAKoX,OAChB,CACA,WAAAiW,CAAYC,EAAUC,EAASh2B,GAC3B,MAAMqkB,EAAO5b,KAAKwtB,cAAcF,GAC1BG,EAAOztB,KAAK0tB,aAAan2B,EAAQqkB,EAAKrwB,MAAOqwB,EAAKpwB,QACxD,GAAIiiC,EACA,IAAK,IAAIjnC,EAAI,EAAGA,EAAI8mC,EAAS5mC,OAAS,IAAKF,EAAG,CAC1C,IAAImnC,EAAKL,EAAa,EAAJ9mC,GAAS+mC,EAAQtoC,EAAE,GACjCqoC,EAAa,EAAJ9mC,EAAQ,GAAK+mC,EAAQtoC,EAAE,GAChCqoC,EAAa,EAAJ9mC,EAAQ,GAAK+mC,EAAQtoC,EAAE,GAChCsoC,EAAQK,OACRhS,EAAKiS,KACTF,GAAe,GAATF,EAAKpkC,EAAS,EACpBskC,GAAuC,GAAjCX,EAAkBG,aACxB,IAAIW,EAAKR,EAAa,EAAJ9mC,GAAS+mC,EAAQhhC,EAAE,GACjC+gC,EAAa,EAAJ9mC,EAAQ,GAAK+mC,EAAQhhC,EAAE,GAChC+gC,EAAa,EAAJ9mC,EAAQ,GAAK+mC,EAAQhhC,EAAE,GAChCghC,EAAQQ,OACRnS,EAAKoS,KACTF,GAAe,GAATL,EAAKlnC,EAAS,EACpBunC,GAAuC,GAAjCd,EAAkBG,aACxBG,EAAa,EAAJ9mC,EAAQ,GAAKmnC,EACtBL,EAAa,EAAJ9mC,EAAQ,GAAKsnC,CAC1B,CAER,CACA,aAAAN,CAAcF,GACV,IAAIO,EAAOnrC,KAAK0R,MAAMk5B,EAAS,IAC3BU,EAAOtrC,KAAK0R,MAAMk5B,EAAS,IAC3BW,EAAOvrC,KAAK0R,MAAMk5B,EAAS,IAC3BY,EAAOxrC,KAAK0R,MAAMk5B,EAAS,IAC/B,IAAK,IAAI9mC,EAAI,EAAGA,EAAI8mC,EAAS5mC,OAAS,IAAKF,EACnC9D,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,IAAMqnC,IAClCA,EAAOnrC,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,KAEnC9D,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,IAAMwnC,IAClCA,EAAOtrC,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,KAEnC9D,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,IAAMynC,IAClCA,EAAOvrC,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,KAEnC9D,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,IAAM0nC,IAClCA,EAAOxrC,KAAK0R,MAAMk5B,EAAa,EAAJ9mC,EAAQ,KAG3C,MAAO,CACH+E,MAAO7I,KAAKyR,KAAK85B,EAAO,IAAMvrC,KAAK0R,MAAMy5B,EAAO,IAAM,EACtDriC,OAAQ9I,KAAKyR,KAAK+5B,EAAO,IAAMxrC,KAAK0R,MAAM45B,EAAO,IAAM,EACvDH,KAAMnrC,KAAK0R,MAAMy5B,GACjBG,KAAMtrC,KAAK0R,MAAM45B,GAEzB,CACA,YAAAN,CAAan2B,EAAQhM,EAAOC,GACxB,GAAIA,GAAU,GAAKD,GAAS,EACxB,OAAO,KAEX,MAAM0hC,EAAQjtB,KAAKmuB,cAAc5iC,EAAOC,GACxC,GAAIyhC,EAAO,CACP,MAAM39B,EAAI,CAAC29B,EAAM5jC,EAAG4jC,EAAM1mC,GACpBtB,EAAI,CAACsG,EAAOC,GACZ1E,EAAI,CAACkmC,EAAkBG,aAAcH,EAAkBG,cACvD31B,EAAQjM,EAAQC,EACtB,IAAK,IAAIhF,EAAI,EAAGA,EAAIgR,IAAShR,EAAG,CAC5B,MAAMkQ,EAAIpH,EAAE,GAAKxI,EAAE,GAAKwI,EAAE,GAAKxI,EAAE,GAAKpE,KAAK0R,MAAM5N,EAAIvB,EAAE,IAAOuB,EAAIvB,EAAE,GACpE+a,KAAKoX,QAAY,EAAJ1gB,GAAShU,KAAK2R,IAAI,IAAqC,EAAhC2L,KAAKsI,SAAS/Q,EAAa,EAAJ/Q,IAC3DwZ,KAAKoX,QAAY,EAAJ1gB,EAAQ,GAAKhU,KAAK2R,IAAI,IAAyC,EAApC2L,KAAKsI,SAAS/Q,EAAa,EAAJ/Q,EAAQ,IACvEwZ,KAAKoX,QAAY,EAAJ1gB,EAAQ,GAAKhU,KAAK2R,IAAI,IAAyC,EAApC2L,KAAKsI,SAAS/Q,EAAa,EAAJ/Q,EAAQ,IACvEwZ,KAAKoX,QAAY,EAAJ1gB,EAAQ,GAAK,GAC9B,CACJ,CACA,OAAOu2B,CACX,CACA,aAAAkB,CAAczkC,EAAG8U,GACb,IAAInV,EAAI,EACJ9C,EAAI,EACJ6nC,EAAapB,EAAkBG,aACnC,IAAK,IAAI3mC,EAAI,EAAGA,EAAIwZ,KAAKitB,MAAMvmC,OAASgD,IAAKlD,EAAG,CAC5C,IACIoU,EADAyzB,EAAkB,EAEtB,IAAKzzB,EAAI,EAAGA,EAAIlR,KACRsW,KAAKitB,MAAMzmC,EAAIoU,IAAMwzB,KADRxzB,EAIboF,KAAKitB,MAAMzmC,EAAIoU,GAAKyzB,IACpBA,EAAkBruB,KAAKitB,MAAMzmC,EAAIoU,IAGrCA,IAAMlR,IACNL,EAAI7C,EACJD,EAAI6nC,EAAaC,EAEzB,CACA,GAAID,EAAa5vB,EAAIwuB,EAAkBG,aACnC,OAAO,KAEX,IAAK,IAAI3mC,EAAI,EAAGA,EAAIkD,IAAKlD,EACrBwZ,KAAKitB,MAAM5jC,EAAI7C,GAAK4nC,EAAa5vB,EAErC,MAAO,CAAEnV,IAAG9C,IAChB,EAEJvE,EAAQgrC,kBAAoBA,EAC5BA,EAAkBG,aAAe,kCCtHjCjoB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ6hC,UAAY7hC,EAAQssC,kBAAe,EAC3CtsC,EAAQusC,YAAcA,EACtB,MAAMvS,EAAS,EAAQ,MACjBwS,EAAQ,EAAQ,MAChBC,EAAQ,EAAQ,MAChBC,EAAW,EAAQ,MACnBC,EAAsB,EAAQ,MAC9BC,EAAS,EAAQ,MACvB,SAASL,EAAYlmB,EAAQqU,EAAOmS,EAAOC,EAAWpX,EAAU6V,EAASnlB,EAAUE,GAC/E,MAAMymB,EAAe,GACrB,IAAK,IAAIvoC,EAAI,EAAGA,EAAI6hB,EAAO3hB,SAAUF,EAAG,CACpC,MAAMi2B,EAAQpU,EAAO7hB,GACfwoC,EAAS,GACTzpC,EAAK,IAAIhD,aAAa,GACtBiD,EAAK,IAAIjD,aAAa,GACtBgW,EAAK,IAAIhW,aAAa,GACtB0sC,EAAM,IAAI1sC,aAAa,GACvB2sC,EAAM,IAAI3sC,aAAa,GACvB4sC,EAAM,IAAI5sC,aAAa,GACvB6sC,EAAO,IAAI7sC,aAAa,GACxB8sC,EAAO,IAAI9sC,aAAa,GACxB+sC,EAAO,IAAI/sC,aAAa,GAC9B,IAAIovB,EAAe,IAANnrB,EACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAAGmnB,KAAI,CAAC/O,EAAGpY,KAAOi2B,EAAM8S,KAAK/oC,GAAKi2B,EAAM+S,KAAKhpC,IAAM,EAAIi2B,EAAM+S,KAAKhpC,KAC/E,IAAK,IAAIA,EAAIi2B,EAAMgT,UAAWjpC,EAAIi2B,EAAMgT,UAAYhT,EAAMiT,YAAalpC,EAAG,CACtE,MAAM8mC,EAAW,CACbhoB,OAAQ,IAAI/iB,aAAwC,IAA1Bm6B,EAAMl2B,GAAGmpC,UAAY,IAC/ChT,cAAe,GAEbiT,EAAcrC,EAAQ7Q,EAAMl2B,GAAGqpC,aAC/BC,EAAc1nB,EAASwnB,EAAYjT,cACnCoT,EAAgBjB,EAAUhtB,MAAM4a,EAAMl2B,GAAGwpC,UAAWtT,EAAMl2B,GAAGwpC,UAAYtT,EAAMl2B,GAAGmpC,WAClFM,EAAQpB,EAAMnsC,KAAKU,IAAI2sC,EAAc,KAAKA,EAAc,GAAK,EAAI,EAAI,GAC3ExqC,EAAG,GAAKmyB,EAASuY,GAAO,GACxB1qC,EAAG,GAAKmyB,EAASuY,GAAO,GACxB1qC,EAAG,GAAKmyB,EAASuY,GAAO,GACxBhB,EAAI,GACA1pC,EAAG,GAAKqqC,EAAY3qC,EAAE,GAClBM,EAAG,GAAKqqC,EAAY3qC,EAAE,GACtBM,EAAG,GAAKqqC,EAAY3qC,EAAE,GACtB2qC,EAAYhC,OACpBqB,EAAI,GACA1pC,EAAG,GAAKqqC,EAAYrjC,EAAE,GAClBhH,EAAG,GAAKqqC,EAAYrjC,EAAE,GACtBhH,EAAG,GAAKqqC,EAAYrjC,EAAE,GACtBqjC,EAAY7B,OACpBqB,EAAK,GAAK,EACVA,EAAK,GAAK,EACV,MAAMc,EAAQrB,EAAMnsC,KAAKU,IAAI2sC,EAAc,KAAKA,EAAc,GAAK,EAAI,EAAI,GAC3EvqC,EAAG,GAAKkyB,EAASwY,GAAO,GACxB1qC,EAAG,GAAKkyB,EAASwY,GAAO,GACxB1qC,EAAG,GAAKkyB,EAASwY,GAAO,GACxBhB,EAAI,GACA1pC,EAAG,GAAKoqC,EAAY3qC,EAAE,GAClBO,EAAG,GAAKoqC,EAAY3qC,EAAE,GACtBO,EAAG,GAAKoqC,EAAY3qC,EAAE,GACtB2qC,EAAYhC,OACpBsB,EAAI,GACA1pC,EAAG,GAAKoqC,EAAYrjC,EAAE,GAClB/G,EAAG,GAAKoqC,EAAYrjC,EAAE,GACtB/G,EAAG,GAAKoqC,EAAYrjC,EAAE,GACtBqjC,EAAY7B,OACpBsB,EAAK,GAAK,EACVA,EAAK,GAAK,KACV,IAAIc,EAAY,EAChB,IAAK,IAAIv1B,EAAI,EAAGA,EAAI8hB,EAAMl2B,GAAGmpC,YAAa/0B,EAAG,CACzC,MAAMw1B,EAAQvB,EAAMnsC,KAAKU,IAAI2sC,EAAcn1B,KAAKm1B,EAAcn1B,GAAK,EAAI,EAAI,GAC3ErC,EAAG,GAAKmf,EAAS0Y,GAAO,GACxB73B,EAAG,GAAKmf,EAAS0Y,GAAO,GACxB73B,EAAG,GAAKmf,EAAS0Y,GAAO,GACxBjB,EAAI,GACA52B,EAAG,GAAKq3B,EAAY3qC,EAAE,GAClBsT,EAAG,GAAKq3B,EAAY3qC,EAAE,GACtBsT,EAAG,GAAKq3B,EAAY3qC,EAAE,GACtB2qC,EAAYhC,OACpBuB,EAAI,GACA52B,EAAG,GAAKq3B,EAAYrjC,EAAE,GAClBgM,EAAG,GAAKq3B,EAAYrjC,EAAE,GACtBgM,EAAG,GAAKq3B,EAAYrjC,EAAE,GACtBqjC,EAAY7B,OACpBuB,EAAK,GAAK,KACVA,EAAK,GAAK,KACVhC,EAAShoB,OAAO6qB,KAAe5qC,EAAG,GAClC+nC,EAAShoB,OAAO6qB,KAAe5qC,EAAG,GAClC+nC,EAAShoB,OAAO6qB,KAAe5qC,EAAG,GAClC+nC,EAAShoB,OAAO6qB,KAAelB,EAAI,GACnC3B,EAAShoB,OAAO6qB,KAAelB,EAAI,GACnC3B,EAAShoB,OAAO6qB,KAAef,EAAK,GACpC9B,EAAShoB,OAAO6qB,KAAef,EAAK,GACpC9B,EAAShoB,OAAO6qB,KAAe3qC,EAAG,GAClC8nC,EAAShoB,OAAO6qB,KAAe3qC,EAAG,GAClC8nC,EAAShoB,OAAO6qB,KAAe3qC,EAAG,GAClC8nC,EAAShoB,OAAO6qB,KAAejB,EAAI,GACnC5B,EAAShoB,OAAO6qB,KAAejB,EAAI,GACnC5B,EAAShoB,OAAO6qB,KAAed,EAAK,GACpC/B,EAAShoB,OAAO6qB,KAAed,EAAK,GACpC/B,EAAShoB,OAAO6qB,KAAe53B,EAAG,GAClC+0B,EAAShoB,OAAO6qB,KAAe53B,EAAG,GAClC+0B,EAAShoB,OAAO6qB,KAAe53B,EAAG,GAClC+0B,EAAShoB,OAAO6qB,KAAehB,EAAI,GACnC7B,EAAShoB,OAAO6qB,KAAehB,EAAI,GACnC7B,EAAShoB,OAAO6qB,KAAeb,EAAK,GACpChC,EAAShoB,OAAO6qB,KAAeb,EAAK,GACpC9pC,EAAG,GAAK+S,EAAG,GACX/S,EAAG,GAAK+S,EAAG,GACX/S,EAAG,GAAK+S,EAAG,GACX22B,EAAI,GAAKC,EAAI,GACbD,EAAI,GAAKC,EAAI,GACbE,EAAK,GAAKC,EAAK,GACfD,EAAK,GAAKC,EAAK,EACnB,CAC0B,IAAtBM,EAAYS,QAAsC,QAAvBT,EAAYS,OACvC/nB,EAAS+kB,YAAYC,EAAShoB,OAAQsqB,EAAalT,EAAMl2B,GAAG8pC,gBAEhEhD,EAAS3Q,aAAeiT,EAAYjT,aACpC,IAAK,IAAI/hB,EAAI,EAAGA,EAAI0yB,EAAShoB,OAAO5e,OAAS,IAAKkU,EAC9C0yB,EAAShoB,OAAW,EAAJ1K,IAAU+W,EAAO,GACjC2b,EAAShoB,OAAW,EAAJ1K,EAAQ,IAAM+W,EAAO,GACrC2b,EAAShoB,OAAW,EAAJ1K,EAAQ,IAAM+W,EAAO,GACrC2b,EAAShoB,OAAW,EAAJ1K,EAAQ,IAAMk1B,EAAYvkC,MAC1C+hC,EAAShoB,OAAW,EAAJ1K,EAAQ,IAAMk1B,EAAYtkC,OAE9CwjC,EAAO5uB,KAAKktB,EAChB,CACAyB,EAAa3uB,KAAK,CACduR,SACA+K,MAAOsS,GAEf,CACA,OAAOD,CACX,CACA,IAAIT,GACJ,SAAWA,GACPA,EAAaA,EAAuB,SAAI,GAAK,WAC7CA,EAAaA,EAAqB,OAAI,GAAK,SAC3CA,EAAaA,EAAuB,SAAI,GAAK,WAC7CA,EAAaA,EAAuB,SAAI,GAAK,WAC7CA,EAAaA,EAAyB,WAAI,GAAK,aAC/CA,EAAaA,EAAoB,MAAI,GAAK,QAC1CA,EAAaA,EAAsB,QAAI,GAAK,UAC5CA,EAAaA,EAAoB,MAAI,GAAK,QAC1CA,EAAaA,EAAuB,SAAI,GAAK,WAC7CA,EAAaA,EAAwB,UAAI,GAAK,YAC9CA,EAAaA,EAAqB,OAAI,IAAM,SAC5CA,EAAaA,EAA2B,aAAI,IAAM,eAClDA,EAAaA,EAAoB,MAAI,IAAM,QAC3CA,EAAaA,EAAwB,UAAI,IAAM,YAC/CA,EAAaA,EAAqB,OAAI,IAAM,QAC/C,CAhBD,CAgBGA,IAAiBtsC,EAAQssC,aAAeA,EAAe,CAAC,IA8M3DtsC,EAAQ6hC,UA7MR,MACI,YAAOC,CAAM9f,EAAMsB,GACf,MAAM7P,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GAE9B,GAAgB,KADA7P,EAAE+6B,KAEd,MAAM,IAAI5qB,MAAM,uBAEpB,MAAM6qB,EAAQ,GACd,IAAK,IAAIjqC,EAAI,EAAGA,EAAI,KAAMA,EACtBiqC,EAAMrwB,KAAK,CACP7I,OAAQ9B,EAAE+6B,KACV9pC,OAAQ+O,EAAE+6B,OAGlB,MAAMroB,EAAWnI,KAAK0wB,aAAaj7B,EAAGg7B,EAAMnC,EAAaqC,UAAUp5B,OAAQk5B,EAAMnC,EAAaqC,UAAUjqC,QAClG0hB,EAAWpI,KAAKqc,aAAa5mB,EAAGg7B,EAAMnC,EAAasC,UAAUr5B,QAC7D8Q,EAASrI,KAAK6wB,WAAWp7B,EAAGg7B,EAAMnC,EAAawC,QAAQv5B,OAAQk5B,EAAMnC,EAAawC,QAAQpqC,QAC1Fg2B,EAAQ1c,KAAK+wB,UAAUt7B,EAAGg7B,EAAMnC,EAAa0C,OAAOz5B,OAAQk5B,EAAMnC,EAAa0C,OAAOtqC,QACtFmoC,EAAQ7uB,KAAKixB,UAAUx7B,EAAGg7B,EAAMnC,EAAa4C,OAAO35B,OAAQk5B,EAAMnC,EAAa4C,OAAOxqC,QACtFooC,EAAY9uB,KAAKmxB,cAAc17B,EAAGg7B,EAAMnC,EAAa8C,WAAW75B,OAAQk5B,EAAMnC,EAAa8C,WAAW1qC,QACtGgxB,EAAW1X,KAAKqxB,aAAa57B,EAAGg7B,EAAMnC,EAAagD,UAAU/5B,OAAQk5B,EAAMnC,EAAagD,UAAU5qC,QAClG6mC,EAAUvtB,KAAKuxB,YAAY97B,EAAGg7B,EAAMnC,EAAakD,SAASj6B,OAAQk5B,EAAMnC,EAAakD,SAAS9qC,QAC9F4hB,EAAWtI,KAAKuc,aAAa9mB,EAAGg7B,EAAMnC,EAAamD,UAAUl6B,OAAQk5B,EAAMnC,EAAamD,UAAU/qC,QAClGgrC,EAAiB/C,EAAoB3B,kBAAkBtkB,KAAKJ,GAC5DymB,EAAeR,EAAYlmB,EAAQqU,EAAOmS,EAAOC,EAAWpX,EAAU6V,EAASnlB,EAAUspB,GAC/F,OAAO,IAAIjD,EAAMvmB,IAAIlE,EAAMmE,EAAUC,EAAU2mB,EAAc,CACzDxjC,MAAOojC,EAAoB3B,kBAAkBG,aAC7C3hC,OAAQmjC,EAAoB3B,kBAAkBG,aAC9CtpB,KAAM6tB,EAAetE,cAE7B,CACA,gBAAO2D,CAAUt7B,EAAG8B,EAAQ7Q,GACxB+O,EAAEk8B,KAAKp6B,GACP,MAAMmlB,EAAQ,GACd,IAAK,IAAIl2B,EAAI,EAAGA,EAAIE,EAAS,KAAMF,EAC/Bk2B,EAAMtc,KAAK,CACPwxB,MAAOn8B,EAAEo8B,KACTC,UAAWr8B,EAAEo8B,KACb7B,UAAWv6B,EAAE+6B,KACbb,UAAWl6B,EAAEo8B,KACbhC,YAAap6B,EAAEo8B,KACfE,OAAQ,CAACt8B,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,MACnC1B,eAAgB76B,EAAE+6B,OAG1B,OAAO9T,CACX,CACA,iBAAOmU,CAAWp7B,EAAG8B,EAAQ7Q,GACzB+O,EAAEk8B,KAAKp6B,GACP,MAAM8Q,EAAS,GACf,IAAK,IAAI7hB,EAAI,EAAGA,EAAIE,EAAS,KAAMF,EAC/B6hB,EAAOjI,KAAK,CACRovB,KAAM,CAAC/5B,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACvBu+B,KAAM,CAAC95B,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACvB2gB,OAAQ,CAAClc,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACzBihC,UAAW,CAACx8B,EAAEjP,IAAKiP,EAAEjP,IAAKiP,EAAEjP,IAAKiP,EAAEjP,KACnC0rC,UAAWz8B,EAAEjP,IACbipC,UAAWh6B,EAAEjP,IACbkpC,UAAWj6B,EAAEjP,MAGrB,OAAO6hB,CACX,CACA,gBAAO4oB,CAAUx7B,EAAG8B,EAAQ7Q,GACxB+O,EAAEk8B,KAAKp6B,GACP,MAAMs3B,EAAQ,GACd,IAAK,IAAIroC,EAAI,EAAGA,EAAIE,EAAS,IAAKF,EAC9BqoC,EAAMzuB,KAAK,CAAC3K,EAAEo8B,KAAMp8B,EAAEo8B,OAE1B,OAAOhD,CACX,CACA,oBAAOsC,CAAc17B,EAAG8B,EAAQ7Q,GAC5B+O,EAAEk8B,KAAKp6B,GACP,MAAMu3B,EAAY,GAClB,IAAK,IAAItoC,EAAI,EAAGA,EAAIE,EAAS,IAAKF,EAC9BsoC,EAAU1uB,KAAK3K,EAAEjP,KAErB,OAAOsoC,CACX,CACA,mBAAOuC,CAAa57B,EAAG8B,EAAQ7Q,GAC3B+O,EAAEk8B,KAAKp6B,GACP,MAAMmgB,EAAW,GACjB,IAAK,IAAIlxB,EAAI,EAAGA,EAAIE,EAAS,KAAMF,EAC/BkxB,EAAStX,KAAK,CAAC3K,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,MAEnC,OAAO0mB,CACX,CACA,kBAAO6Z,CAAY97B,EAAG8B,EAAQ7Q,GAC1B+O,EAAEk8B,KAAKp6B,GACP,MAAMg2B,EAAU,GAChB,IAAK,IAAI/mC,EAAI,EAAGA,EAAIE,EAAS,KAAMF,EAC/B+mC,EAAQntB,KAAK,CACTnb,EAAG,CAACwQ,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACpB48B,OAAQn4B,EAAEzE,IACVzE,EAAG,CAACkJ,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACpB+8B,OAAQt4B,EAAEzE,IACV2rB,aAAclnB,EAAEjP,IAChB6pC,MAAO56B,EAAEjP,MAGjB,OAAO+mC,CACX,CACA,mBAAOhR,CAAa9mB,EAAG8B,EAAQ7Q,GAE3B,OADA+O,EAAEk8B,KAAKp6B,GACA9B,EAAE08B,KAAKzrC,EAAQgoC,EAAS0D,eAAeC,MAClD,CACA,sBAAOC,CAAgB78B,GACnB,MAAMuO,EAAOvO,EAAE88B,KAAK,IACdhnC,EAAQkK,EAAE+6B,KACVhlC,EAASiK,EAAE+6B,KACXnM,GAAc5uB,EAAE+6B,KACtB,GAAInM,EAAY,CACZ,MAAMxgB,EAAO,IAAI0B,WAAW,GAE5B,OADA1B,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAK,IACjC,CAAEG,OAAMzY,QAAOC,SAAQqY,OAAMwgB,aACxC,CACK,CACD5uB,EAAEwsB,KAAK,IACP,MAAMuQ,EAAajnC,EAAQC,EACrB6vB,EAAS5lB,EAAE08B,KAAKK,EAAY9D,EAAS0D,eAAeC,OAC1D58B,EAAEwsB,KAAWuQ,EAAa,GAAnB,IACP/8B,EAAEwsB,KAAK,GACP,MAAMwQ,EAAUh9B,EAAE08B,KAAK,IAAKzD,EAAS0D,eAAeC,OAIpD,MAAO,CAAEruB,OAAMzY,QAAOC,SAAQqY,KAHL,MAAZG,EAAK,IACZ,EAAI4qB,EAAO8D,4BAA4BrX,EAAQoX,IAC/C,EAAI7D,EAAO+D,eAAetX,EAAQoX,GACJpO,aACxC,CACJ,CACA,mBAAOhI,CAAa5mB,EAAG8B,GACnB9B,EAAEk8B,KAAKp6B,GACP,MAAMC,EAAQ/B,EAAE+6B,KACVoC,EAAU,GAChB,IAAK,IAAIpsC,EAAI,EAAGA,EAAIgR,IAAShR,EACzBosC,EAAQxyB,KAAK3K,EAAE+6B,MAEnB,MAAMpoB,EAAW,GACjB,IAAK,IAAI5hB,EAAI,EAAGA,EAAIgR,IAAShR,EACN,aAAfosC,EAAQpsC,GACR4hB,EAAShI,KAAK,CACV4D,KAAM,WACNzY,MAAO,EACPC,OAAQ,EACRqY,KAAM,IAAI0B,WAAW,CAAC,EAAG,IAAK,EAAG,MACjC8e,YAAY,KAIhB5uB,EAAEk8B,KAAKp6B,EAASq7B,EAAQpsC,IACxB4hB,EAAShI,KAAKJ,KAAKsyB,gBAAgB78B,KAG3C,OAAO2S,CACX,CACA,mBAAOsoB,CAAaj7B,EAAG8B,EAAQ7Q,GAC3B+O,EAAEk8B,KAAKp6B,GACP,MAAM4Q,GAAW,EAAIqmB,EAAMqE,KAAKp9B,EAAE88B,KAAK7rC,IACjCosC,EAAe,CACjB,SACA,SACA,iBACA,SACA,cACA,aAEEC,EAAe,CAAC,YAAa,aAAc,SAC3CC,EAAa7qB,EAAS,GAoC5B,MAnC6B,eAAzB6qB,EAAWvM,YACXuM,EAAWvW,MAAQ,KACnBuW,EAAWzO,IAAMyO,EAAWzO,KAAO,GACnCyO,EAAWzO,IAAMyO,EAAWzO,IACvB8B,MAAM,KACNtC,QAAQr6B,GAAMA,EAAEhD,SAChBinB,KAAKjkB,GAAMA,EAAEkY,QAAQ,MAAO,OAC5B+L,KAAKjkB,IAAM,EAAIsyB,EAAOiX,UAAUvpC,MAEzCye,EAAS9Q,SAAQkH,IACTA,EAAEke,aACyB,IAAhBle,EAAEohB,YACTphB,EAAEohB,UAAY,QAEU,IAAjBphB,EAAE0f,aACT1f,EAAE0f,WAAa,QAEO,IAAf1f,EAAEqsB,WACTrsB,EAAEqsB,SAAW,QAEY,IAAlBrsB,EAAEysB,cACTzsB,EAAEysB,YAAc,UAGxB8H,EAAaz7B,SAAQsd,IACbpW,EAAEoW,KACFpW,EAAEoW,GAAQpW,EAAEoW,GAAM0R,MAAM,KAAK1Y,KAAKroB,GAAM4tC,OAAO5M,WAAWhhC,KAC9D,IAEJytC,EAAa17B,SAAQsd,IACbpW,EAAEoW,KACFpW,EAAEoW,GAAQue,OAAO5M,WAAW/nB,EAAEoW,IAClC,GACF,IAECxM,CACX,gCClWJjD,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ0iC,OAAS1iC,EAAQmxC,eAAiBnxC,EAAQoxC,gBAAkBpxC,EAAQq9B,gBAAa,EACzF,MAAMqP,EAAW,EAAQ,MACnB1S,EAAS,EAAQ,MACvB,IAAIqD,EAQA+T,EAOAD,GAdJ,SAAW9T,GACPA,EAAWA,EAAgC,oBAAI,GAAK,sBACpDA,EAAWA,EAA2B,eAAI,GAAK,iBAC/CA,EAAWA,EAAwB,YAAI,GAAK,cAC5CA,EAAWA,EAAqB,SAAI,GAAK,WACzCA,EAAWA,EAAiC,qBAAI,GAAK,sBACxD,CAND,CAMGA,IAAer9B,EAAQq9B,WAAaA,EAAa,CAAC,IAErD,SAAW+T,GACPA,EAAgBA,EAA4B,WAAI,GAAK,aACrDA,EAAgBA,EAA8B,aAAI,GAAK,eACvDA,EAAgBA,EAAgC,eAAI,GAAK,iBACzDA,EAAgBA,EAA8B,aAAI,GAAK,cAC1D,CALD,CAKGA,IAAoBpxC,EAAQoxC,gBAAkBA,EAAkB,CAAC,IAEpE,SAAWD,GACPA,EAAeA,EAA6B,aAAI,GAAK,eACrDA,EAAeA,EAAuB,OAAI,GAAK,QAClD,CAHD,CAGGA,IAAmBnxC,EAAQmxC,eAAiBA,EAAiB,CAAC,IACjE,MAAMzO,EACF,WAAAhlB,CAAY0f,EAAQ3B,GAChBzd,KAAKof,OAASA,EACdpf,KAAKyd,OAASA,CAClB,CACA,YAAOqG,CAAMxe,GACT,MAAM7P,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GACxB8Z,EAAS,CACXiU,QAAS59B,EAAEjP,IACX3D,KAAM4S,EAAEjP,IACR8sC,UAAW79B,EAAEjP,IACbwlC,OAAQv2B,EAAEzE,IACVzF,MAAOkK,EAAEjP,IACTgF,OAAQiK,EAAEjP,IACV+sC,WAAY99B,EAAEjP,IACdgtC,WAAY/9B,EAAEzE,IACdyiC,SAAUh+B,EAAEjP,KAEVktC,EAAcj+B,EAAExQ,IAChBwtC,EAAUh9B,EAAE08B,KAAmB,EAAduB,EAAiBhF,EAAS0D,eAAeC,OAC1D5U,EAAS,GACf,IAAK,IAAIj3B,EAAI,EAAGA,EAAI44B,EAAOmU,aAAc/sC,EAAG,CACxC,MAAMmtC,EAAQ,CACVC,MAAOn+B,EAAEjP,IACTmpB,SAAU,CAACla,EAAEjP,IAAKiP,EAAEjP,KACpB+E,MAAOkK,EAAEjP,IACTgF,OAAQiK,EAAEjP,IACVqd,KAAM,IAAI0B,WAAW6Z,EAAO7zB,MAAQ6zB,EAAO5zB,OAAS,IAElD6vB,EAAS5lB,EAAE08B,KAAK/S,EAAO7zB,MAAQ6zB,EAAO5zB,OAAQkjC,EAAS0D,eAAeC,OACxEjT,EAAOkU,YAAcF,EAAgBS,aACrCF,EAAM9vB,MAAO,EAAImY,EAAO0W,4BAA4BrX,EAAQoX,GAG5DkB,EAAM9vB,MAAO,EAAImY,EAAO2W,eAAetX,EAAQoX,GAEnDhV,EAAOrd,KAAKuzB,EAChB,CACA,OAAO,IAAIjP,EAAOtF,EAAQ3B,EAC9B,EAEJz7B,EAAQ0iC,OAASA,+BCjEjBxf,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ6iC,SAAM,EACd,MAAM6J,EAAW,EAAQ,MACzB,MAAM7J,EACF,WAAAnlB,CAAYsE,EAAMzY,EAAOC,EAAQqY,GAC7B7D,KAAKgE,KAAOA,EACZhE,KAAKzU,MAAQA,EACbyU,KAAKxU,OAASA,EACdwU,KAAK6D,KAAOA,CAChB,CACA,YAAOigB,CAAMxe,EAAQtB,GACjB,IAAIvO,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GACxB8Z,EAAS,CACT0U,SAAUr+B,EAAEu8B,KACZ+B,aAAct+B,EAAEu8B,KAChBgC,UAAWv+B,EAAEu8B,KACbiC,SAAU,CACNC,gBAAiBz+B,EAAEo8B,KACnBnrC,OAAQ+O,EAAEo8B,KACVjW,KAAMnmB,EAAEu8B,MAEZmC,MAAO,CACHC,QAAS3+B,EAAEo8B,KACXwC,QAAS5+B,EAAEo8B,KACXtmC,MAAOkK,EAAEo8B,KACTrmC,OAAQiK,EAAEo8B,KACVyC,MAAO7+B,EAAEu8B,KACTuC,WAAY9+B,EAAEu8B,OAMtB,GAHI5S,EAAO0U,UACPr+B,EAAE08B,KAAK/S,EAAO0U,SAAUpF,EAAS0D,eAAeC,OAEhDjT,EAAO2U,aACP,MAAM,IAAInuB,MAAM,mBAEpB,IAGI8S,EAHAhvB,EAAI01B,EAAO+U,MAAM5oC,MACjBiT,EAAI4gB,EAAO+U,MAAM3oC,OACjBgnC,EAAa9oC,EAAI8U,EAErB,GAAyB,IAArB4gB,EAAO4U,UAAoB,CAC3B,IAAIQ,EAAahC,EAAapT,EAAO+U,MAAMG,MAAS,EAEpD,GADA5b,EAAYjjB,EAAE08B,KAAKqC,EAAW9F,EAAS0D,eAAeC,OAC3B,KAAvBjT,EAAO+U,MAAMG,MAAc,CAC3B,IAAIG,EAAO,IAAIlvB,WAAwB,EAAbitB,GAC1B,IAAK,IAAIhsC,EAAI,EAAGA,EAAIgY,IAAKhY,EACrB,IAAK,IAAIoU,EAAI,EAAGA,EAAIlR,IAAKkR,EAAG,CACxB,IAAI85B,GAAOl2B,EAAI,EAAIhY,GAAKkD,EAAIkR,EAC5B65B,EAAW,EAANC,GAAWhc,EAAwB,GAAblyB,EAAIkD,EAAIkR,GAAS,GAC5C65B,EAAW,EAANC,EAAU,GAAKhc,EAAwB,GAAblyB,EAAIkD,EAAIkR,GAAS,GAChD65B,EAAW,EAANC,EAAU,GAAKhc,EAAwB,GAAblyB,EAAIkD,EAAIkR,IACvC65B,EAAW,EAANC,EAAU,GAAK,GACxB,CAEJhc,EAAY+b,CAChB,MACK,GAA2B,KAAvBrV,EAAO+U,MAAMG,MAAc,CAChC,IAAIG,EAAO,IAAIlvB,WAAwB,EAAbitB,GAC1B,IAAK,IAAIhsC,EAAI,EAAGA,EAAIgY,IAAKhY,EACrB,IAAK,IAAIoU,EAAI,EAAGA,EAAIlR,IAAKkR,EAAG,CACxB,IAAI85B,GAAOl2B,EAAI,EAAIhY,GAAKkD,EAAIkR,EAC5B65B,EAAW,EAANC,GAAWhc,EAAwB,GAAblyB,EAAIkD,EAAIkR,GAAS,GAC5C65B,EAAW,EAANC,EAAU,GAAKhc,EAAwB,GAAblyB,EAAIkD,EAAIkR,GAAS,GAChD65B,EAAW,EAANC,EAAU,GAAKhc,EAAwB,GAAblyB,EAAIkD,EAAIkR,IACvC65B,EAAW,EAANC,EAAU,GAAK,GACxB,CAEJhc,EAAY+b,CAChB,CACJ,MACK,GAAyB,KAArBrV,EAAO4U,YACZtb,EAAY,IAAInT,WAAwB,EAAbitB,GACA,KAAvBpT,EAAO+U,MAAMG,OACb,IAAK,IAAI9tC,EAAI,EAAGA,EAAIgY,IAAKhY,EACrB,IAAK,IAAIoU,EAAI,EAAGA,EAAIlR,GAAI,CACpB,IAAIirC,EAAWl/B,EAAEu8B,KACjB,GAAe,IAAX2C,EAAiB,CACjBA,EAA+B,GAAR,IAAXA,GACZ,IAAIC,EAAKn/B,EAAEu8B,KACP6C,EAAKp/B,EAAEu8B,KACP8C,EAAKr/B,EAAEu8B,KACX,KAAOp3B,EAAIlR,GAAKirC,GAAU,CACtB,IAAID,GAAOl2B,EAAI,EAAIhY,GAAKkD,EAAIkR,EAC5B8d,EAAgB,EAANgc,GAAWI,EACrBpc,EAAgB,EAANgc,EAAU,GAAKG,EACzBnc,EAAgB,EAANgc,EAAU,GAAKE,EACzBlc,EAAgB,EAANgc,EAAU,GAAK,MACvB95B,IACA+5B,CACN,CACJ,MAGI,IADAA,EAA+B,GAAR,IAAXA,GACL/5B,EAAIlR,GAAKirC,GAAU,CACtB,IAAID,GAAOl2B,EAAI,EAAIhY,GAAKkD,EAAIkR,EAC5B8d,EAAgB,EAANgc,EAAU,GAAKj/B,EAAEu8B,KAC3BtZ,EAAgB,EAANgc,EAAU,GAAKj/B,EAAEu8B,KAC3BtZ,EAAgB,EAANgc,GAAWj/B,EAAEu8B,KACvBtZ,EAAgB,EAANgc,EAAU,GAAK,MACvB95B,IACA+5B,CACN,CAER,CAIZ,OAAO,IAAI9P,EAAI7gB,EAAMob,EAAO+U,MAAM5oC,MAAO6zB,EAAO+U,MAAM3oC,OAAQktB,EAClE,EAEJ12B,EAAQ6iC,IAAMA,6BC9Gd3f,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ2wC,cAER,SAAuBtX,EAAQoX,GAC3B,MAAMsC,EAAO,IAAIxvB,WAA2B,EAAhB8V,EAAO30B,QAC7B8F,EAAM6uB,EAAO30B,OACnB,IAAK,IAAIF,EAAI,EAAGA,EAAIgG,IAAOhG,EACvBuuC,EAAS,EAAJvuC,GAASisC,EAAoB,EAAZpX,EAAO70B,IAC7BuuC,EAAS,EAAJvuC,EAAQ,GAAKisC,EAAoB,EAAZpX,EAAO70B,GAAS,GAC1CuuC,EAAS,EAAJvuC,EAAQ,GAAKisC,EAAoB,EAAZpX,EAAO70B,GAAS,GAC1CuuC,EAAS,EAAJvuC,EAAQ,GAAK,IAEtB,OAAOuuC,CACX,EAXA/yC,EAAQ0wC,2BAYR,SAAoCrX,EAAQoX,GACxC,MAAMsC,EAAO,IAAIxvB,WAA2B,EAAhB8V,EAAO30B,QAC7B8F,EAAM6uB,EAAO30B,OACnB,IAAK,IAAIF,EAAI,EAAGA,EAAIgG,IAAOhG,EACL,MAAd60B,EAAO70B,GACPuuC,EAAS,EAAJvuC,EAAQ,GAAK,GAGlBuuC,EAAS,EAAJvuC,GAASisC,EAAoB,EAAZpX,EAAO70B,IAC7BuuC,EAAS,EAAJvuC,EAAQ,GAAKisC,EAAoB,EAAZpX,EAAO70B,GAAS,GAC1CuuC,EAAS,EAAJvuC,EAAQ,GAAKisC,EAAoB,EAAZpX,EAAO70B,GAAS,GAC1CuuC,EAAS,EAAJvuC,EAAQ,GAAK,KAG1B,OAAOuuC,CACX,6BC7BA7vB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ6wC,IACR,SAAamC,GACT,IAAIvyB,EAAQ,EACRvD,EAAM,GACN8H,EAAM,GACV,MAAMiuB,EAAU,GAChB,IAAK,IAAIzuC,EAAI,EAAGA,EAAIwuC,EAAMtuC,SAAUF,EAAG,CACnC,MAAMrB,EAAI6vC,EAAMxuC,GAChB,OAAQic,GACJ,KAAK,EACD,GAAI,KAAKhB,KAAKtc,GACV,SAEC,GAAU,MAANA,EAKL,MAAO,GAJP8vC,EAAQ70B,KAAK,CAAC,GACdqC,EAAQ,EAKZ,MAEJ,KAAK,EACD,GAAI,KAAKhB,KAAKtc,GACV,SAEC,GAAU,MAANA,EACLsd,EAAQ,MAEP,IAAU,MAANtd,EAKL,MAAO,GAJP+Z,EAAM,GACNuD,EAAQ,CAIZ,CACA,MAEJ,KAAK,EACS,MAANtd,EACAsd,EAAQ,EAGRvD,GAAO/Z,EAEX,MAEJ,KAAK,EACD,GAAI,KAAKsc,KAAKtc,GACV,SAEW,MAANA,IACL6hB,EAAM,GACNvE,EAAQ,GAEZ,MAEJ,KAAK,EACS,MAANtd,GACA8vC,EAAQA,EAAQvuC,OAAS,GAAGwY,GAAO8H,EACnCvE,EAAQ,GAGRuE,GAAO7hB,EAKvB,CACA,OAAO8vC,CACX,8BCvEA/vB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQgjC,SAAM,EACd,MAAM0J,EAAW,EAAQ,MACnB1S,EAAS,EAAQ,MAmFvB,SAASkZ,EAAWz/B,EAAG0/B,GAEnB,OADA1/B,EAAEk8B,KAAKwD,EAAS59B,QACR49B,EAAStyC,MACb,KAAK,GACD,OAtFZ,SAAoB4S,GAChB,MAAMuO,EAAOvO,EAAE88B,KAAK,IACdhnC,EAAQkK,EAAE+6B,KACVhlC,EAASiK,EAAE+6B,KACjB/6B,EAAEwsB,KAAK,IACP,MAAMuQ,EAAajnC,EAAQC,EACrB6vB,EAAS5lB,EAAE08B,KAAKK,EAAY9D,EAAS0D,eAAeC,OAC1D58B,EAAEwsB,KAAWuQ,EAAa,GAAnB,IACP/8B,EAAEwsB,KAAK,GACP,MAAMwQ,EAAUh9B,EAAE08B,KAAK,IAAKzD,EAAS0D,eAAeC,OAIpD,MAAO,CACHxvC,KAAM,QACNmhB,OACAzY,QACAC,SACAqY,KARqB,MAAZG,EAAK,IACZ,EAAIgY,EAAO0W,4BAA4BrX,EAAQoX,IAC/C,EAAIzW,EAAO2W,eAAetX,EAAQoX,GAQ5C,CAkEmB2C,CAAW3/B,GAEtB,KAAK,GACD,MApEO,EAAC4/B,EAAIF,KAAa,CACjCtyC,KAAM,QACNmhB,KAAMmxB,EAASnxB,OAkEAsxB,CAAW7/B,EAAG0/B,GAEzB,KAAK,GACD,OAnEZ,SAAsB1/B,GAClB,MAAMuO,EAAOvO,EAAE88B,KAAK,IACdhnC,EAAQkK,EAAE+6B,KACVhlC,EAASiK,EAAE+6B,KACjB/6B,EAAEwsB,KAAK,IACP,MAAMuQ,EAAajnC,EAAQC,EACrB6vB,EAAS5lB,EAAE08B,KAAKK,EAAY9D,EAAS0D,eAAeC,OAC1D58B,EAAEwsB,KAAWuQ,EAAa,GAAnB,IACP/8B,EAAEwsB,KAAK,GACP,MAAMwQ,EAAUh9B,EAAE08B,KAAK,IAAKzD,EAAS0D,eAAeC,OAIpD,MAAO,CACHxvC,KAAM,UACNmhB,OACAzY,QACAC,SACAqY,KARqB,MAAZG,EAAK,IACZ,EAAIgY,EAAO0W,4BAA4BrX,EAAQoX,IAC/C,EAAIzW,EAAO2W,eAAetX,EAAQoX,GAQ5C,CA+CmB8C,CAAa9/B,GAExB,KAAK,GACD,OAjDZ,SAAmBA,EAAG0/B,GAClB,MAAM5pC,EAAQkK,EAAE+6B,MAAQ,IAClBhlC,EAASiK,EAAE+6B,KACXgF,EAAW//B,EAAE+6B,KACbiF,EAAYhgC,EAAE+6B,KACdkF,EAAS,GACf,IAAK,IAAIlvC,EAAI,EAAGA,EAAI,MAAOA,EAAG,CAC1B,MAAMmvC,EAAclgC,EAAEo8B,KAChB+D,EAAangC,EAAEo8B,KACrB6D,EAAOt1B,KAAK,CACR/W,EAAGssC,EAAcpqC,EACjBhF,EAAI7D,KAAK0R,MAAMuhC,EAAcpqC,GAASkqC,EAAaA,EACnDlqC,MAAOqqC,EACPpqC,OAAQiqC,GAEhB,CACA,MAAMjD,EAAajnC,EAAQC,EACrB6vB,EAAS5lB,EAAE08B,KAAKK,EAAY9D,EAAS0D,eAAeC,OAC1D58B,EAAEwsB,KAAK,GACP,MAAMwQ,EAAUh9B,EAAE08B,KAAK,IAASzD,EAAS0D,eAAeC,OACxD,MAAO,CACHxvC,KAAM,OACNmhB,KAAMmxB,EAASnxB,KACfzY,QACAC,SACAgqC,WACAC,YACAC,SACA7xB,MAAM,EAAImY,EAAO0W,4BAA4BrX,EAAQoX,GAE7D,CAmBmBoD,CAAUpgC,EAAG0/B,GAExB,QACI,MArBS,EAAC1/B,EAAG0/B,KAAa,CAClCtyC,KAAM,UACNmhB,KAAMmxB,EAASnxB,KACfH,KAAMpO,EAAE08B,KAAKgD,EAASzuC,OAAQgoC,EAAS0D,eAAeC,SAkBvCyD,CAAargC,EAAG0/B,GAGnC,CACA,MAAMnQ,EACF,WAAAtlB,CAAYqO,GACR/N,KAAK+N,QAAUA,CACnB,CACA,YAAO+V,CAAMxe,GACT,MAAM7P,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GAE9B,GAAc,SADA7P,EAAE88B,KAAK,GAEjB,MAAM,IAAI3sB,MAAM,2BAEpB,MAAMmwB,EAAatgC,EAAE+6B,KACfwF,EAAkBvgC,EAAE+6B,KAC1B/6B,EAAEk8B,KAAKqE,GACP,MAAMC,EAAkB,GACxB,IAAK,IAAIzvC,EAAI,EAAGA,EAAIuvC,IAAcvvC,EAAG,CACjC,MAAMy+B,EAAQ,CACV1tB,OAAQ9B,EAAE+6B,KACV0F,WAAYzgC,EAAE+6B,KACd9pC,OAAQ+O,EAAE+6B,KACV3tC,KAAM4S,EAAEtS,IACRgzC,aAAc1gC,EAAEtS,IAChB6gB,KAAM,IAEVvO,EAAEwsB,KAAK,GACPgD,EAAMjhB,KAAOvO,EAAE88B,KAAK,IACpB0D,EAAgB71B,KAAK6kB,EACzB,CACA,MAAMlX,EAAUkoB,EAAgBtoB,KAAIpP,GAAK22B,EAAWz/B,EAAG8I,KACvD,OAAO,IAAIymB,EAAIjX,EACnB,EAEJ/rB,EAAQgjC,IAAMA,+BCzId9f,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQo0C,sBAAmB,EAC3B,MAAMC,EAAW,EAAQ,KACnBC,EAAc,EAAQ,KACtBC,EAAe,EAAQ,MACvBC,EAAU,EAAQ,MAClBC,EAAmB,EAAQ,MACjC,MAAML,UAAyBC,EAASK,UACpC,WAAAh3B,GACI6iB,SAAS97B,WACTuZ,KAAKyC,MAAQ,CACTyH,gBAAgB,GAEpBlK,KAAK22B,QAAU,KACPJ,EAAa/sB,WAAWU,iBACxBqsB,EAAa/sB,WAAWK,OAGxB0sB,EAAa/sB,WAAWW,MAAMnK,KAAKf,MAAMnd,KAC7C,EAEJke,KAAK42B,aAAe,KAChB52B,KAAK0E,SAAS,CACVwF,eAAgBqsB,EAAa/sB,WAAWU,kBAC1C,CAEV,CACA,iBAAAnH,GACIwzB,EAAa/sB,WAAWa,SAASrK,KAAK42B,aAC1C,CACA,oBAAAxyB,GACImyB,EAAa/sB,WAAWgB,eAAexK,KAAK42B,aAChD,CACA,MAAAv0B,GACI,OAAQ,EAAIg0B,EAAS73B,GAAG,MAAO,CAAEq4B,OAAO,EAAIP,EAAYQ,SAASL,EAAiBM,cAAcC,OAAQR,EAAQS,sBAAsBD,QAASL,QAAS32B,KAAK22B,SAAW32B,KAAKyC,MAAMyH,gBAAkB,EAAImsB,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBAC3R,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,wKAA4K,EAAIuvC,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBACnS,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,+JACrC,EAEJ9E,EAAQo0C,iBAAmBA,+BCvC3BlxB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQi1C,2BAAwB,EAChC,MAAMX,EAAc,EAAQ,KAC5Bt0C,EAAQi1C,uBAAwB,EAAIX,EAAYe,YAAY,CACxDL,OAAQ,CACJzrC,MAAO,OACP+rC,SAAU,OACV9rC,OAAQ,OACR+rC,QAAS,sCCRjBryB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQw1C,YAGR,SAAqBv4B,GACjB,OAAQ,EAAIo3B,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAcC,OAAQL,QAAS13B,EAAM03B,UAC1F,EAAIN,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBACtF,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,yDACzC,EANA,MAAMuvC,EAAW,EAAQ,KACnBI,EAAmB,EAAQ,mCCHjCvxB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQy1C,WAGR,SAAoBx4B,GAChB,OAAQ,EAAIo3B,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAcC,OAAQL,QAAS13B,EAAM03B,UAC1F,EAAIN,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBACtF,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,yBACzC,EANA,MAAMuvC,EAAW,EAAQ,KACnBI,EAAmB,EAAQ,mCCHjCvxB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ01C,oBAAiB,EACzB,MAAMrB,EAAW,EAAQ,KACnBC,EAAc,EAAQ,KACtBqB,EAAS,EAAQ,MACjBnB,EAAU,EAAQ,MAClBC,EAAmB,EAAQ,MACjC,MAAMiB,UAAuBrB,EAASK,UAClC,WAAAh3B,GACI6iB,SAAS97B,WACTuZ,KAAK43B,gBAAkB,KACf53B,KAAKf,MAAMsN,KAAK2E,OAASymB,EAAOhtB,WAAWwG,OAG/CnR,KAAKf,MAAMsN,KAAKkB,WAAWkqB,EAAOhtB,WAAWwG,MAC7CnR,KAAKf,MAAMsN,KAAK6E,OAAOymB,QAAO,EAElC73B,KAAK83B,kBAAoB,KACjB93B,KAAKf,MAAMsN,KAAK2E,OAASymB,EAAOhtB,WAAW+C,QAG/C1N,KAAKf,MAAMsN,KAAKkB,WAAWkqB,EAAOhtB,WAAW+C,OAAO,EAExD1N,KAAK+3B,WAAa,KACd/3B,KAAK0E,SAAS,CAAEszB,QAASh4B,KAAKyC,MAAMu1B,QAAS,CAErD,CACA,MAAA31B,GACI,MAAM41B,IAAcj4B,KAAKf,MAAMsN,KAAK6E,OAAO7D,OAC3C,OAAQ,EAAI8oB,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQ0B,oBAAoBC,WAChE,EAAI9B,EAAS73B,GAAG,MAAO,CAAEq4B,OAAO,EAAIP,EAAYQ,SAASL,EAAiBM,cAAcC,OAAQR,EAAQ0B,oBAAoBlB,QAASL,QAAS32B,KAAK+3B,aAC/I,EAAI1B,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,cACnE,EAAId,EAAS73B,GAAG,OAAQ,CAAE,YAAa,UAAW,YAAa,UAAW44B,KAAM,UAAWtwC,EAAG,qgCACtG,EAAIuvC,EAAS73B,GAAG,MAAO,CAAEq4B,MAAO72B,KAAKyC,MAAMu1B,OAASxB,EAAQ0B,oBAAoBE,SAAW5B,EAAQ0B,oBAAoBG,OACnH,EAAIhC,EAAS73B,GAAG,OAAQ,CAAEq4B,MAAOL,EAAQ0B,oBAAoBI,eAAiB,QAC9EL,GAAa,EAAI5B,EAAS73B,GAAG,OAAQ,CAAEq4B,MAAO72B,KAAKf,MAAMsN,KAAK2E,OAASymB,EAAOhtB,WAAW+C,OAC/E8oB,EAAQ0B,oBAAoBK,iBAC5B/B,EAAQ0B,oBAAoBM,SAAU7B,QAAS32B,KAAK83B,mBAAqB,WAAc,EAAIzB,EAAS73B,GAAG,OAAQ,OACzH,EAAI63B,EAAS73B,GAAG,OAAQ,CAAEq4B,MAAO72B,KAAKf,MAAMsN,KAAK2E,OAASymB,EAAOhtB,WAAWwG,KAClEqlB,EAAQ0B,oBAAoBK,iBAC5B/B,EAAQ0B,oBAAoBM,SAAU7B,QAAS32B,KAAK43B,iBAAmB,SAC7F,EAEJ51C,EAAQ01C,eAAiBA,+BC3CzBxyB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQk2C,yBAAsB,EAC9B,MAAM5B,EAAc,EAAQ,KAyB5Bt0C,EAAQk2C,qBAAsB,EAAI5B,EAAYe,YAAY,CACtDc,SAAU,CACNxoB,SAAU,YAEd0oB,KAAMnzB,OAAO+D,OAAO,CAAC,EA5BD,CACpBwvB,QAAS,OACT9oB,SAAU,WACVvf,KAAM,QACNE,OAAQ,OACRinC,QAAS,UACTmB,SAAU,OACVC,gBAAiB,qBACjBC,SAAU,SACVtB,SAAU,UAoBVc,SAAUlzB,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EA7BnB,CACpBwvB,QAAS,OACT9oB,SAAU,WACVvf,KAAM,QACNE,OAAQ,OACRinC,QAAS,UACTmB,SAAU,OACVC,gBAAiB,qBACjBC,SAAU,SACVtB,SAAU,UAoB8C,CAAEmB,QAAS,SACnEH,cAAe,CACXf,QAAS,UACTsB,aAAc,kBACdC,WAAY,QAEhBN,SAAUtzB,OAAO+D,OAAO,CAAC,EAxBD,CACxB8vB,OAAQ,UACRC,OAAQ,QACRzB,QAAS,MACT0B,MAAO,CACH,eAAgB,CACZC,UAAW,GAEf,UAAW,CACPP,gBAAiB,+BAgBzBJ,iBAAkBrzB,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EAzBvB,CACxB8vB,OAAQ,UACRC,OAAQ,QACRzB,QAAS,MACT0B,MAAO,CACH,eAAgB,CACZC,UAAW,GAEf,UAAW,CACPP,gBAAiB,+BAgB2C,CAAEA,gBAAiB,wCACvF3B,OAAQ,CACJzrC,MAAO,OACPC,OAAQ,OACR+rC,QAAS,sCC3CjBryB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQm3C,gBAKR,SAAyBl6B,GACrB,OAAQ,EAAIo3B,EAAS73B,GAAG,MAAO,CAAEq4B,OAAO,EAAIP,EAAYQ,SAASL,EAAiBM,cAAcC,OAAQR,EAAQ4C,qBAAqBpC,QAASL,QAAS13B,EAAM03B,UACzJ,EAAIN,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBACtF,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,oDACzC,EARA,MAAMuvC,EAAW,EAAQ,KACnBC,EAAc,EAAQ,KACtBE,EAAU,EAAQ,MAClBC,EAAmB,EAAQ,mCCLjCvxB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQo3C,0BAAuB,EAC/B,MAAM9C,EAAc,EAAQ,KAC5Bt0C,EAAQo3C,sBAAuB,EAAI9C,EAAYe,YAAY,CACvDL,OAAQ,CACJqC,UAAW,iDCLnBn0B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQs3C,cAGR,SAAuBr6B,GACnB,OAAQ,EAAIo3B,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAcC,OAAQL,QAAS13B,EAAM03B,UAC1F,EAAIN,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBACtF,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,oDACzC,EANA,MAAMuvC,EAAW,EAAQ,KACnBI,EAAmB,EAAQ,mCCHjCvxB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQu3C,aAKR,SAAsBt6B,GAClB,OAAQ,EAAIo3B,EAAS73B,GAAG,MAAO,CAAEq4B,OAAO,EAAIP,EAAYQ,SAASL,EAAiBM,cAAcC,OAAQR,EAAQ+C,aAAavC,QAASL,QAAS13B,EAAM03B,UACjJ,EAAIN,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8BC,QAAS,YAAaC,KAAM,iBACtF,EAAIf,EAAS73B,GAAG,OAAQ,CAAE1X,EAAG,8MACzC,EARA,MAAMuvC,EAAW,EAAQ,KACnBC,EAAc,EAAQ,KACtBE,EAAU,EAAQ,MAClBC,EAAmB,EAAQ,mCCLjCvxB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQu3C,kBAAe,EACvB,MAAMjD,EAAc,EAAQ,KAC5Bt0C,EAAQu3C,cAAe,EAAIjD,EAAYe,YAAY,CAC/CL,OAAQ,CACJzrC,MAAO,OACPC,OAAQ,OACR+rC,QAAS,MACTiC,YAAa,sCCRrBt0B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ+0C,mBAAgB,EACxB,MAAMT,EAAc,EAAQ,KAa5Bt0C,EAAQ+0C,eAAgB,EAAIT,EAAYe,YAAY,CAChDoC,SAAUv0B,OAAO+D,OAAO,CAAC,EAbD,CACxBywB,OAAQ,GACR/pB,SAAU,WACVpkB,MAAO,OACP+E,OAAQ,EACRinC,QAAS,SACToC,UAAW,aACXhB,gBAAiB,qBACjBiB,WAAY,OACZC,QAAS,EACTC,WAAY,iBAIZC,gBAAiB70B,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EAdtB,CACxBywB,OAAQ,GACR/pB,SAAU,WACVpkB,MAAO,OACP+E,OAAQ,EACRinC,QAAS,SACToC,UAAW,aACXhB,gBAAiB,qBACjBiB,WAAY,OACZC,QAAS,EACTC,WAAY,iBAIuD,CAAED,QAAS,IAC9EG,QAAS,CACLxuC,OAAQ,OACRitC,QAAS,OACTwB,eAAgB,gBAChBC,aAAc,MACdC,WAAY,UAEhBnD,OAAQ,CACJzrC,MAAO,OACPC,OAAQ,OACR+rC,QAAS,MACToC,UAAW,aACXZ,OAAQ,WAEZ3oC,KAAM,CACFqoC,QAAS,OACT0B,WAAY,SACZlB,MAAO,CACH,YAAa,CACTO,YAAa,SAIzBnpC,MAAO,CACHooC,QAAS,OACT0B,WAAY,SACZ5uC,MAAO,OACPC,OAAQ,OACRyuC,eAAgB,gDC9CxB/0B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQo4C,SAOR,SAAkBn7B,GACd,OAAQ,EAAIo3B,EAAS73B,GAAG,MAAO,CAAEq4B,OAAO,EAAIP,EAAYQ,SAAS73B,EAAM43B,MAAOL,EAAQ6D,cAAcZ,YAChG,EAAIpD,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAciD,UAC3D,EAAI3D,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAc3mC,QAC/D,EAAIimC,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAc1mC,QAC3D,EAAIgmC,EAAS73B,GAAG87B,EAAiB5C,eAAgB,CAAEnrB,KAAMtN,EAAMsN,QAC/D,EAAI8pB,EAAS73B,GAAG+7B,EAAmBnE,iBAAkB,CAAEoE,QAAQ,EAAO14C,KAAMmd,EAAMnd,SAClG,EAbA,MAAMu0C,EAAW,EAAQ,KACnBC,EAAc,EAAQ,KACtBE,EAAU,EAAQ,MAClBC,EAAmB,EAAQ,MAC3B6D,EAAmB,EAAQ,MAC3BC,EAAqB,EAAQ,mCCPnCr1B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQq4C,mBAAgB,EACxB,MAAM/D,EAAc,EAAQ,KAC5Bt0C,EAAQq4C,eAAgB,EAAI/D,EAAYe,YAAY,CAChDoC,SAAU,CACNjuC,OAAQ,uCCLhB0Z,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ+/B,aAAU,EAClB,MAAMsU,EAAW,EAAQ,KACnBG,EAAU,EAAQ,MAClBiE,EAAoB,CACtBltB,OAAQ,SACR+J,IAAK,MACLrJ,MAAO,SACPJ,IAAK,SACL2P,OAAQ,UACR+G,IAAK,QAET,MAAMxC,UAAgBsU,EAASK,UAC3B,WAAAh3B,GACI6iB,SAAS97B,WACTuZ,KAAKyC,MAAQ,CACTi4B,MAAO,CAAC,GAEZ16B,KAAK26B,WAAc3sB,IACf,MAAM0sB,EAAQ16B,KAAKyC,MAAMi4B,MAAM1sB,EAAKnrB,MAAQmd,KAAKyC,MAAMi4B,MAAM1sB,EAAKnrB,MAAQ,GAC1E,IAAK,IAAI2D,EAAI,EAAGA,EAAIk0C,EAAMh0C,SAAUF,EAChC,GAAIk0C,EAAMl0C,KAAOwnB,EACb,OAGR0sB,EAAMt6B,KAAK,CACP4D,KAAMgK,EAAKhK,KACX8d,SAAU,IAEd9hB,KAAK0E,SAAS,CACVg2B,MAAOx1B,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EAAGjJ,KAAKyC,MAAMi4B,OAAQ,CAAE,CAAC1sB,EAAKnrB,MAAO63C,KAC3E,EAEN16B,KAAK46B,eAAkB5sB,IACnB,IAAKhO,KAAKyC,MAAMi4B,MAAM1sB,EAAKnrB,MACvB,OAEJ,MAAM63C,EAAQ16B,KAAKyC,MAAMi4B,MAAM1sB,EAAKnrB,MACpC,IAAK,IAAI2D,EAAI,EAAGA,EAAIk0C,EAAMh0C,SAAUF,EAChC,GAAIk0C,EAAMl0C,GAAGwd,OAASgK,EAAKhK,KAAM,CAC7B02B,EAAMl0C,GAAGs7B,SAAW9T,EAAK8T,SACzB,KACJ,CAEJ9hB,KAAK4E,aAAa,CAE1B,CACA,iBAAA7B,GACI,MAAM83B,EAAe76B,KAAKf,MAAMsN,KAAKe,OAAOa,OAC5CnO,KAAK86B,aAAeD,EAAa7pB,GAAG,YAAahR,KAAK26B,YACtD36B,KAAK+6B,YAAcF,EAAa7pB,GAAG,WAAYhR,KAAK46B,eACxD,CACA,oBAAAx2B,GACIpE,KAAK86B,cAAgB96B,KAAK86B,eAC1B96B,KAAK+6B,aAAe/6B,KAAK+6B,aAC7B,CACA,UAAAC,CAAWh3B,EAAM8d,GACb9d,EAAOy2B,EAAkBz2B,GACzB,MAAM6H,EAASnpB,KAAK4R,MAAiB,IAAXwtB,GAAkB,IAC5C,IAAIp7B,EAAS,GAAKsd,EAAKtd,OAASmlB,EAAOnlB,OACnCA,EAAS,IACTA,EAAS,EAAImlB,EAAOnlB,QAGxB,MAAO,GAAGsd,IADGxhB,MAAMkE,GAAQu0C,KAAK,OACRpvB,GAC5B,CACA,MAAAxJ,GACI,OAAQ,EAAIg0B,EAAS73B,GAAG,MAAO,CAAEq4B,MAAO72B,KAAKf,MAAMi8B,QAAU1E,EAAQ2E,aAAaC,QAAU5E,EAAQ2E,aAAaE,gBAC7G,EAAIhF,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQ2E,aAAaG,UACjD,EAAIjF,EAAS73B,GAAG,MAAO,CAAE04B,MAAO,6BAA8B7tC,EAAG,MAAO9C,EAAG,MAAOgF,MAAO,OAAQC,OAAQ,OAAQ2rC,QAAS,YAAaoE,SAAU,aAC7I,EAAIlF,EAAS73B,GAAG,OAAQ,CAAE44B,KAAM,UAAW7rC,MAAO,OAAQzE,EAAG,qLACrE,EAAIuvC,EAAS73B,GAAG,KAAM,CAAEq4B,MAAOL,EAAQ2E,aAAazhC,KAAOwL,OAAO6I,QAAQ/N,KAAKyC,MAAMi4B,OAAO/sB,KAAI,EAAE3J,EAAM02B,MAAY,EAAIrE,EAAS73B,GAAG,KAAM,CAAEU,IAAK8E,EAAM6yB,MAAOL,EAAQ2E,aAAaK,SAAWx7B,KAAKg7B,WAAWh3B,EAAM02B,EAAMe,QAAO,CAACC,EAAMC,IAAQD,EAAOC,EAAI7Z,UAAU,GACjQ4Y,EAAMh0C,YAClB,EAEJ1E,EAAQ+/B,QAAUA,+BC3ElB7c,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQm5C,kBAAe,EACvB,MAAM7E,EAAc,EAAQ,KAS5Bt0C,EAAQm5C,cAAe,EAAI7E,EAAYe,YAAY,CAC/C+D,QAASl2B,OAAO+D,OAAO,CAAC,EATD,CACvB0G,SAAU,WACVpkB,MAAO,OACPC,OAAQ,OACRquC,QAAS,EACTC,WAAY,qCACZJ,OAAQ,KAIR2B,cAAen2B,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EAVrB,CACvB0G,SAAU,WACVpkB,MAAO,OACPC,OAAQ,OACRquC,QAAS,EACTC,WAAY,qCACZJ,OAAQ,KAIwD,CAAEG,QAAS,EAAGD,WAAY,OAAQF,OAAQ,IAC1G4B,QAAS,CACL3rB,SAAU,WACVvf,KAAM,MACNG,IAAK,MACLqrC,WAAY,QACZ1C,UAAW,QACX2C,UAAW,+BACXrwC,OAAQ,OACRD,MAAO,OACPuwC,eAAe,EAAIxF,EAAYyF,WAAW,CACtCC,KAAM,CAAE3C,UAAW,gBACnB4C,GAAI,CAAE5C,UAAW,qBAGzB3/B,IAAK,CACDiW,SAAU,WACVusB,WAAY,kBACZ3E,QAAS,OACT4E,WAAY,YACZnD,OAAQ,IACRzoC,IAAK,OACLF,MAAO,EACP+rC,YAAa,OACbC,UAAW,QAEfb,QAAS,CACL/C,QAAS,wCCxCjBvzB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQs6C,gBAAa,EACrB,MAAMjG,EAAW,EAAQ,KACnBkG,EAAS,EAAQ,KACjBC,EAAa,EAAQ,MACrBC,EAAkB,EAAQ,MAC1BC,EAAe,EAAQ,MACvBC,EAAgB,EAAQ,MACxBC,EAAiB,EAAQ,MACzBC,EAAkB,EAAQ,MAC1BC,EAAoB,EAAQ,MAC5BxC,EAAmB,EAAQ,MAC3BC,EAAqB,EAAQ,MAC7B9D,EAAmB,EAAQ,MACjC,MAAM6F,UAAmBjG,EAASK,UAC9B,WAAAh3B,GACI6iB,SAAS97B,WACTuZ,KAAK+8B,YAAc,KACf/8B,KAAKf,MAAMsN,KAAK6E,OAAO4rB,MAAM,EAEjCh9B,KAAKi9B,aAAe,KAChBj9B,KAAKf,MAAMsN,KAAK6E,OAAOymB,OAAO,EAElC73B,KAAKk9B,YAAc,KACfl9B,KAAKf,MAAMsN,KAAK6E,OAAO+rB,WAAW,EAEtCn9B,KAAKo9B,UAAY,KACbp9B,KAAKf,MAAMsN,KAAK6E,OAAOisB,SAAS,EAEpCr9B,KAAKs9B,cAAgB,KACjBt9B,KAAKf,MAAMsN,KAAKsE,YAAY0sB,YAAY,EAE5Cv9B,KAAKw9B,kBAAoB,KACrBx9B,KAAK4E,aAAa,CAE1B,CACA,iBAAA7B,GACI/C,KAAKy9B,QAAUz9B,KAAKf,MAAMsN,KAAK6E,OAAOjD,OAAO6C,GAAG,OAAQhR,KAAKw9B,mBAC7Dx9B,KAAK09B,SAAW19B,KAAKf,MAAMsN,KAAK6E,OAAOjD,OAAO6C,GAAG,QAAShR,KAAKw9B,mBAC/Dx9B,KAAK29B,QAAU39B,KAAKf,MAAMsN,KAAK6E,OAAOjD,OAAO6C,GAAG,OAAQhR,KAAKw9B,kBACjE,CACA,oBAAAp5B,GACIpE,KAAKy9B,SAAWz9B,KAAKy9B,UACrBz9B,KAAK09B,UAAY19B,KAAK09B,WACtB19B,KAAK29B,SAAW39B,KAAK29B,SACzB,CACA,MAAAt7B,GACI,MAAMkK,EAAOvM,KAAKf,MAAMsN,KAClB6E,EAAS7E,EAAK6E,OACdwsB,EAAUxsB,EAAOysB,UACjBC,EAAS1sB,EAAO3E,SACtB,OAAQ,EAAI4pB,EAAS73B,GAAG,MAAO,CAAEq4B,MAAO72B,KAAKf,MAAM43B,QAC/C,EAAIR,EAAS73B,GAAGg+B,EAAWuB,SAAU,CAAExxB,KAAMA,KAC7C,EAAI8pB,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAciD,UAC3D,EAAI3D,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAc3mC,OAC3D,EAAIimC,EAAS73B,GAAGs+B,EAAkB3D,gBAAiB,CAAExC,QAAS32B,KAAKk9B,cACnEY,IAAWF,GAAW,EAAIvH,EAAS73B,GAAGk+B,EAAajF,WAAY,CAAEd,QAAS32B,KAAK+8B,eAAmB,EAAI1G,EAAS73B,GAAGm+B,EAAcnF,YAAa,CAAEb,QAAS32B,KAAKi9B,gBAC7J,EAAI5G,EAAS73B,GAAGq+B,EAAgBvD,cAAe,CAAE3C,QAAS32B,KAAKo9B,aAC/D,EAAI/G,EAAS73B,GAAGo+B,EAAerD,aAAc,CAAE5C,QAAS32B,KAAKs9B,iBAC7D,EAAIjH,EAAS73B,GAAGi+B,EAAgBuB,cAAe,CAAEzxB,KAAMA,KACvD,EAAI8pB,EAAS73B,GAAG+9B,EAAO1xB,KAAM,CAAEuG,OAAQA,MAC3C,EAAIilB,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOJ,EAAiBM,cAAc1mC,QAC3D,EAAIgmC,EAAS73B,GAAG87B,EAAiB5C,eAAgB,CAAEnrB,KAAMA,KACzD,EAAI8pB,EAAS73B,GAAG+7B,EAAmBnE,iBAAkB,CAAEoE,QAAQ,EAAM14C,KAAMke,KAAKf,MAAMnd,SACtG,EAEJE,EAAQs6C,WAAaA,+BClErBp3B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQi8C,eAAY,EACpB,MAAM3H,EAAc,EAAQ,KAiC5Bt0C,EAAQi8C,WAAY,EAAI3H,EAAYe,YAAY,CAC5Cv1C,KAAMojB,OAAO+D,OAAO,CAAC,EAjCD,CACpB0G,SAAU,WACVuuB,MAAO,QACP3yC,MAAO,OACPC,OAAQ,OACRutC,OAAQ,OACRa,WAAY,SA4BZuE,YAAaj5B,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EAlCtB,CACpB0G,SAAU,WACVuuB,MAAO,QACP3yC,MAAO,OACPC,OAAQ,OACRutC,OAAQ,OACRa,WAAY,SA4B+C,CAAEb,OAAQ,YACrElsB,MAAO3H,OAAO+D,OAAO,CAAC,EA3BD,CACrB0G,SAAU,WACVpf,IAAK,OACLH,KAAM,IACNspC,OAAQ,GACRnC,QAAS,sBACToB,gBAAiB,qBACjBD,SAAU,OACVyD,WAAY,yCACZtC,QAAS,EACTC,WAAY,iBAkBZsE,aAAcl5B,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EA5BtB,CACrB0G,SAAU,WACVpf,IAAK,OACLH,KAAM,IACNspC,OAAQ,GACRnC,QAAS,sBACToB,gBAAiB,qBACjBD,SAAU,OACVyD,WAAY,yCACZtC,QAAS,EACTC,WAAY,iBAkBiD,CAAED,QAAS,IACxEJ,SAAUv0B,OAAO+D,OAAO,CAAC,EAjBD,CACxBywB,OAAQ,GACR/pB,SAAU,WACVpkB,MAAO,OACP+E,OAAQ,EACRinC,QAAS,SACToC,UAAW,aACXhB,gBAAiB,qBACjBiB,WAAY,OACZC,QAAS,EACTC,WAAY,iBAQZC,gBAAiB70B,OAAO+D,OAAO/D,OAAO+D,OAAO,CAAC,EAlBtB,CACxBywB,OAAQ,GACR/pB,SAAU,WACVpkB,MAAO,OACP+E,OAAQ,EACRinC,QAAS,SACToC,UAAW,aACXhB,gBAAiB,qBACjBiB,WAAY,OACZC,QAAS,EACTC,WAAY,iBAQuD,CAAED,QAAS,IAC9EwE,OAAQ,CACJ1uB,SAAU,WACVpf,IAAK,EACLH,KAAM,EACN7E,MAAO,OACPC,OAAQ,OACRkuC,OAAQ,mCChDhBx0B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQs8C,UAAO,EACf,MAAMjI,EAAW,EAAQ,KACnBkI,EAAY,EAAQ,MACpBC,EAAa,EAAQ,MACrBC,EAAe,EAAQ,MACvBlI,EAAe,EAAQ,MACvBoB,EAAS,EAAQ,MACjB+G,EAAe,EAAQ,MAC7B,MAAMJ,UAAajI,EAASK,UACxB,WAAAh3B,CAAYT,GACRsjB,MAAMtjB,GACNe,KAAKoK,KAAO,KACZpK,KAAKyoB,QAAU,EACfzoB,KAAK2+B,oBAAsB,KACnBl7B,SAASm7B,qBAAuB5+B,KAAKf,MAAMnd,KAC3Cke,KAAKf,MAAMsN,KAAKO,eAAgB,EAGhC9M,KAAKf,MAAMsN,KAAKO,eAAgB,CACpC,EAEJ9M,KAAK6+B,cAAiBtgC,IAClBA,EAAEkS,gBAAgB,EAEtBzQ,KAAK8+B,cAAgB,KACjB9+B,KAAK0E,SAAS,CAAEq6B,UAAU,GAAQ,EAEtC/+B,KAAKg/B,YAAezgC,IAChBA,EAAE0gC,kBACFj/B,KAAK0E,SAAS,CAAEq6B,UAAU,IAC1B/+B,KAAKk/B,WAAW,EAEpBl/B,KAAKm/B,UAAa5gC,IACd,IAAKyB,KAAKyC,MAAMs8B,SACZ,OAEJ,MAAMxyB,EAAOvM,KAAKf,MAAMsN,KACxB,OAAQhO,EAAEiS,OACN,KAAK,GACG+lB,EAAa/sB,WAAWU,iBACxBqsB,EAAa/sB,WAAWK,OAGxB0sB,EAAa/sB,WAAWW,MAAMnK,KAAKf,MAAMnd,MAE7Cke,KAAKk/B,YACL,MAEJ,KAAK,GACD3yB,EAAKsE,YAAY0sB,aACjBv9B,KAAKk/B,YACL,MAEJ,KAAK,GACD3yB,EAAKsE,YAAYuuB,UAAU7yB,EAAKsE,YAAYwuB,YAAc,KAC1Dr/B,KAAKk/B,YACL,MAEJ,KAAK,GACD3yB,EAAKsE,YAAYuuB,UAAU7yB,EAAKsE,YAAYwuB,YAAc,KAC1Dr/B,KAAKk/B,YACL,MAEJ,KAAK,GACL,KAAK,GACD3yB,EAAK6E,OAAOugB,KAAKplB,EAAK6E,OAAOkuB,YAAc,GAC3Ct/B,KAAKk/B,YACL,MAEJ,KAAK,GACL,KAAK,GACD3yB,EAAK6E,OAAOugB,KAAKplB,EAAK6E,OAAOkuB,YAAc,GAC3Ct/B,KAAKk/B,YACL,MAEJ,KAAK,GACL,KAAK,GACD,GAAIl/B,KAAKf,MAAMsN,KAAK2E,OAASymB,EAAOhtB,WAAW+C,OAC3C,QAECnB,EAAK6E,OAAOysB,WAAatxB,EAAK6E,OAAO3E,SACtCF,EAAK6E,OAAO4rB,OAGZzwB,EAAK6E,OAAOymB,QAIxB,EAEJ73B,KAAKu/B,aAAe,KAChBv/B,KAAK4E,aAAa,EAEtB5E,KAAKw/B,YAAc,KACfx/B,KAAK0E,SAAS,CAAEsd,WAAW,GAAO,EAEtChiB,KAAKy/B,UAAY,KACbz/B,KAAK0E,SAAS,CAAEsd,WAAW,GAAQ,EAEvChiB,KAAK0/B,cAAiB7yB,IAClB7M,KAAK0E,SAAS,CAAEmI,SAAQ,EAE5B7M,KAAK2/B,aAAe,KAChB3/B,KAAK0E,SAAS,CAAEk7B,aAAa,IAC7B5/B,KAAKk/B,WAAW,EAEpBl/B,KAAKiQ,YAAc,KACXjQ,KAAKyC,MAAMm9B,cAAgBrJ,EAAa/sB,WAAWU,kBACnDlK,KAAKk/B,WACT,EAEJl/B,KAAK6/B,aAAe,KAChB7/B,KAAK0E,SAAS,CACVk7B,aAAa,EACbE,WAAW,IAEfC,aAAa//B,KAAKyoB,SAClBzoB,KAAKyoB,QAAU,CAAC,EAEpBzoB,KAAKk/B,UAAY,KACRl/B,KAAKyC,MAAMq9B,WACZ9/B,KAAK0E,SAAS,CAAEo7B,WAAW,IAE/BC,aAAa//B,KAAKyoB,SAClBzoB,KAAKyoB,QAAUxjB,YAAW,KACtBjF,KAAK0E,SAAS,CAAEo7B,WAAW,IAC3B9/B,KAAKyoB,QAAU,CAAC,GACjB,IAAK,EAEZzoB,KAAKggC,cAAgB,KACjB,OAAQhgC,KAAKf,MAAMsN,KAAK2E,MACpB,KAAKymB,EAAOhtB,WAAW+C,OAAQ,CAC3B,MAAM0D,EAASpR,KAAKf,MAAMsN,KAAK6E,QAC1BA,EAAOysB,WAAazsB,EAAO3E,SAC5B2E,EAAO4rB,OAGP5rB,EAAOymB,QAEX,KACJ,CACA,KAAKF,EAAOhtB,WAAWwG,KACnBnR,KAAKf,MAAMnd,KAAKm+C,qBAGxB,EAEJjgC,KAAKkgC,iBAAmB,KAChB3J,EAAa/sB,WAAWU,iBACxBqsB,EAAa/sB,WAAWK,OAGxB0sB,EAAa/sB,WAAWW,MAAMnK,KAAKf,MAAMnd,KAC7C,EAEJke,KAAKyC,MAAQ,CACToK,MAAO5N,EAAMsN,KAAKM,MAClBkyB,UAAU,EACV/c,WAAW,EACX4d,aAAa,EACbE,WAAW,EAEnB,CACA,iBAAA/8B,GACI,IAAK/C,KAAKoK,KACN,OAEJ,MAAMmC,EAAOvM,KAAKf,MAAMsN,KAClBzqB,EAAOke,KAAKf,MAAMnd,KACxBke,KAAKoK,KAAK+1B,YAAY5zB,EAAKgF,aAC3BvR,KAAK86B,aAAevuB,EAAK4B,OAAO6C,GAAG,YAAahR,KAAKw/B,aACrDx/B,KAAKogC,QAAU7zB,EAAK4B,OAAO6C,GAAG,OAAQhR,KAAKy/B,WAC3Cz/B,KAAKqgC,cAAgB9zB,EAAK4B,OAAO6C,GAAG,aAAchR,KAAKu/B,cACvDv/B,KAAKsgC,eAAiB/zB,EAAK4B,OAAO6C,GAAG,cAAehR,KAAK0/B,eACzD59C,EAAKigB,iBAAiB,QAAS/B,KAAKg/B,aACpCz0B,OAAOxI,iBAAiB,QAAS/B,KAAK8+B,eACtCv0B,OAAOxI,iBAAiB,UAAW/B,KAAKm/B,WACxC17B,SAAS1B,iBAAiB,oBAAqB/B,KAAK2+B,qBAAqB,GACzE78C,EAAKigB,iBAAiB,YAAa/B,KAAK2/B,cACxC79C,EAAKigB,iBAAiB,YAAa/B,KAAKiQ,aACxCnuB,EAAKigB,iBAAiB,WAAY/B,KAAK6/B,cACvC/9C,EAAKigB,iBAAiB,cAAe/B,KAAK6+B,cAC9C,CACA,oBAAAz6B,GACI,MAAMtiB,EAAOke,KAAKf,MAAMnd,KACxBke,KAAK86B,cAAgB96B,KAAK86B,eAC1B96B,KAAKogC,SAAWpgC,KAAKogC,UACrBpgC,KAAKqgC,eAAiBrgC,KAAKu/B,eAC3Bv/B,KAAKsgC,gBAAkBtgC,KAAKsgC,iBAC5Bx+C,EAAKkgB,oBAAoB,QAAShC,KAAKg/B,aACvCz0B,OAAOvI,oBAAoB,QAAShC,KAAK8+B,eACzCv0B,OAAOvI,oBAAoB,UAAWhC,KAAKm/B,WAC3C17B,SAASzB,oBAAoB,oBAAqBhC,KAAK2+B,qBAAqB,GAC5E78C,EAAKkgB,oBAAoB,YAAahC,KAAK2/B,cAC3C79C,EAAKkgB,oBAAoB,YAAahC,KAAKiQ,aAC3CnuB,EAAKkgB,oBAAoB,WAAYhC,KAAK6/B,cAC1C/9C,EAAKkgB,oBAAoB,cAAehC,KAAK6+B,cACjD,CACA,MAAAx8B,GACI,MAAMkK,EAAOvM,KAAKf,MAAMsN,KAClBuzB,EAAY9/B,KAAKyC,MAAMq9B,UAC7B,OAAQ,EAAIzJ,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOiJ,EAAYpB,EAAaT,UAAUE,YAAcO,EAAaT,UAAUn8C,OAC5G,EAAIu0C,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOiJ,EAAYpB,EAAaT,UAAUG,aAAeM,EAAaT,UAAUpxB,OAAS7M,KAAKyC,MAAMoK,QAC7H,EAAIwpB,EAAS73B,GAAG+/B,EAAUxc,QAAS,CAAExV,KAAMA,EAAM2uB,QAASl7B,KAAKyC,MAAMuf,aACrE,EAAIqU,EAAS73B,GAAG,MAAO,CAAEq4B,MAAO6H,EAAaT,UAAUI,OAAQl/B,IAAKiL,GAASpK,KAAKoK,KAAOA,EAAOusB,QAAS32B,KAAKggC,cAAeO,WAAYvgC,KAAKkgC,mBAC9I3zB,EAAK2E,OAASymB,EAAOhtB,WAAWwG,MAAQ,EAAIklB,EAAS73B,GAAGggC,EAAWpE,SAAU,CAAEvD,MAAOiJ,EAAYpB,EAAaT,UAAUlE,gBAAkB2E,EAAaT,UAAUxE,SAAUltB,KAAMA,EAAMzqB,KAAMke,KAAKf,MAAMnd,QAAY,EAAIu0C,EAAS73B,GAAGigC,EAAanC,WAAY,CAAEzF,MAAOiJ,EAAYpB,EAAaT,UAAUlE,gBAAkB2E,EAAaT,UAAUxE,SAAUltB,KAAMA,EAAMzqB,KAAMke,KAAKf,MAAMnd,KAAMo5C,QAASl7B,KAAKyC,MAAMm9B,cAC5Z,EAEJ59C,EAAQs8C,KAAOA,8BCjNfp5B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ6oB,UAAO,EACf,MAAMwrB,EAAW,EAAQ,KACnBkG,EAAS,EAAQ,MACjB/F,EAAU,EAAQ,MACxB,MAAM3rB,UAAawrB,EAASK,UACxB,WAAAh3B,GACI6iB,SAAS97B,WACTuZ,KAAKwgC,OAAS,KACVxgC,KAAK0E,SAAS,CACVm5B,WAAW,GACZ79B,KAAKsP,OAAO,EAEnBtP,KAAKygC,cAAgB,KACjBzgC,KAAK0E,SAAS,CACVm5B,WAAW,GACb,EAEN79B,KAAKsP,OAAS,KACLtP,KAAKyC,MAAMo7B,YAGhB79B,KAAK4E,cACLK,WAAWjF,KAAKsP,OAAQ,KAAI,CAEpC,CACA,iBAAAvM,GACI/C,KAAKy9B,QAAUz9B,KAAKf,MAAMmS,OAAOjD,OAAO6C,GAAG,OAAQhR,KAAKwgC,QACxDxgC,KAAK09B,SAAW19B,KAAKf,MAAMmS,OAAOjD,OAAO6C,GAAG,QAAShR,KAAKygC,eAC1DzgC,KAAK29B,QAAU39B,KAAKf,MAAMmS,OAAOjD,OAAO6C,GAAG,OAAQhR,KAAKygC,cAC5D,CACA,oBAAAr8B,GACIpE,KAAKy9B,SAAWz9B,KAAKy9B,UACrBz9B,KAAK09B,UAAY19B,KAAK09B,WACtB19B,KAAK29B,SAAW39B,KAAK29B,SACzB,CACA,MAAAt7B,GACI,MAAMtC,GAAU,EAAIw8B,EAAOmE,YAAY1gC,KAAKf,MAAMmS,OAAOkuB,aACnDqB,GAAQ,EAAIpE,EAAOmE,YAAY1gC,KAAKf,MAAMmS,OAAO7D,OAAO1J,KAAK+8B,KAAO,KAC1E,OAAQ,EAAIvK,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQ3rB,KAAK+1B,MACjD7gC,EACA,MACA4gC,EACR,EAEJ3+C,EAAQ6oB,KAAOA,+BC7Cf3F,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ6oB,UAAO,EACf,MAAMyrB,EAAc,EAAQ,KAC5Bt0C,EAAQ6oB,MAAO,EAAIyrB,EAAYe,YAAY,CACvCuJ,KAAM,CACFzE,WAAY,yCACZzD,SAAU,uCCNlBxzB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ+7C,cAAW,EACnB,MAAM1H,EAAW,EAAQ,KACnBG,EAAU,EAAQ,MACxB,MAAMuH,UAAiB1H,EAASK,UAC5B,WAAAh3B,CAAYT,GACRsjB,MAAMtjB,GACNe,KAAK6gC,aAAe,KAChB,MAAMzvB,EAASpR,KAAKf,MAAMsN,KAAK6E,OAC/BpR,KAAK0E,SAAS,CACVod,SAAU1Q,EAAO0vB,aAAe1vB,EAAO7D,OAAO1J,KAAK4Z,OAAO/2B,QAC5D,EAENsZ,KAAK22B,QAAWp4B,IACZ,MAAMwiC,EAAQxiC,EAAEyiC,cAAcC,iBAAiB,GACzCnf,EAAW,GAAKif,EAAM1wC,MAAQkO,EAAE6R,QAAU2wB,EAAM1wC,MAAQ0wC,EAAM3wC,MACpE4P,KAAKf,MAAMsN,KAAK6E,OAAO8vB,cAAyB,IAAXpf,GACrC9hB,KAAKf,MAAMsN,KAAK6E,OAAOymB,OAAO,EAElC73B,KAAK2/B,aAAe,KAChB3/B,KAAK0E,SAAS,CACVy8B,iBAAiB,GACnB,EAENnhC,KAAKiQ,YAAe1R,IAChB,IAAKyB,KAAKyC,MAAM0+B,gBACZ,OAEJ,MAAMJ,EAAQxiC,EAAEyiC,cAAcC,iBAAiB,GAEzCjd,EAAoB,KADN,GAAK+c,EAAM1wC,MAAQkO,EAAE6R,QAAU2wB,EAAM1wC,MAAQ0wC,EAAM3wC,OACvC,IAChC4P,KAAK0E,SAAS,CACV08B,aAAcpd,GAChB,EAENhkB,KAAK6/B,aAAe,KAChB7/B,KAAK0E,SAAS,CACVy8B,iBAAiB,GACnB,EAENnhC,KAAKyC,MAAQ,CACTqf,SAAU,EACVqf,iBAAiB,EACjBC,aAAc,KACdP,aAAc,KAEtB,CACA,iBAAA99B,GACI/C,KAAKqhC,cAAgBrhC,KAAKf,MAAMsN,KAAK4B,OAAO6C,GAAG,aAAchR,KAAK6gC,aACtE,CACA,oBAAAz8B,GACQpE,KAAKqhC,eACLrhC,KAAKqhC,eAEb,CACA,MAAAh/B,GACI,MAAMi/B,EAAgC,IAAtBthC,KAAKyC,MAAMqf,SACrByf,EAAUD,EAAU,IACpBE,EAAU,IAAMF,EAAU,IAChC,OAAQ,EAAIjL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQuH,SAAS0D,SAAU9K,QAAS32B,KAAK22B,QAASgJ,aAAc3/B,KAAK2/B,aAAc1vB,YAAajQ,KAAKiQ,YAAa4vB,aAAc7/B,KAAK6/B,eACzK,EAAIxJ,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQuH,SAAS2D,aACjD,EAAIrL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQuH,SAAS4D,KAAMjgC,MAAO,CAAErR,MAAOmxC,MACvE,EAAInL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQuH,SAAS6D,KAAMlgC,MAAO,CAAEtR,KAAMmxC,MACtE,EAAIlL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQuH,SAAS8D,UAAWngC,MAAO,CAAEtR,KAAM4P,KAAKyC,MAAM2+B,gBAC9F,EAEJp/C,EAAQ+7C,SAAWA,+BClEnB74B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ+7C,cAAW,EACnB,MAAMzH,EAAc,EAAQ,KAC5Bt0C,EAAQ+7C,UAAW,EAAIzH,EAAYe,YAAY,CAC3CoK,SAAU,CACNhJ,QAAS,OACT0B,WAAY,SACZxqB,SAAU,WACVnkB,OAAQ,OACRutC,OAAQ,WAEZ4I,KAAM,CACFn2C,OAAQ,MACRmtC,gBAAiB,OACjBhpB,SAAU,WACVvf,KAAM,IACNC,MAAO,IACPyxC,aAAc,OAElBJ,UAAW,CACPl2C,OAAQ,MACRmtC,gBAAiB,2BACjBhpB,SAAU,WACVvf,KAAM,IACNC,MAAO,IACPyxC,aAAc,OAElBF,KAAM,CACFjyB,SAAU,WACVpkB,MAAO,OACPC,OAAQ,OACRmtC,gBAAiB,OACjBmJ,aAAc,MACd1xC,KAAM,OACNwrC,WAAY,QAEhBiG,UAAW,CACPlyB,SAAU,WACVpkB,MAAO,MACPC,OAAQ,MACRmtC,gBAAiB,OACjBgB,UAAW,aACXmI,aAAc,MACd1xC,KAAM,IACNwrC,WAAY,OACZnD,QAAS,OACTQ,MAAO,CACH,UAAW,CACPR,QAAS,0CChDzBvzB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQg8C,mBAAgB,EACxB,MAAM3H,EAAW,EAAQ,KACnBG,EAAU,EAAQ,MACxB,MAAMwH,UAAsB3H,EAASK,UACjC,WAAAh3B,CAAYT,GACRsjB,MAAMtjB,GACNe,KAAK+hC,eAAiB,KAClB/hC,KAAK0E,SAAS,CACVs9B,OAAQhiC,KAAKf,MAAMsN,KAAKsE,YAAYwuB,aACtC,EAENr/B,KAAK22B,QAAWp4B,IACZ,MAAMwiC,EAAQxiC,EAAEyiC,cAAcC,iBAAiB,GACzCe,EAAS,GAAKjB,EAAM1wC,MAAQkO,EAAE6R,QAAU2wB,EAAM1wC,MAAQ0wC,EAAM3wC,MAClE4P,KAAKf,MAAMsN,KAAKsE,YAAYuuB,UAAU4C,EAAO,EAEjDhiC,KAAK2/B,aAAe,KAChB3/B,KAAK0E,SAAS,CACVy8B,iBAAiB,GACnB,EAENnhC,KAAKiQ,YAAe1R,IAChB,IAAKyB,KAAKyC,MAAM0+B,gBACZ,OAEJ,MAAMJ,EAAQxiC,EAAEyiC,cAAcC,iBAAiB,GACzCgB,EAAY,GAAKlB,EAAM1wC,MAAQkO,EAAE6R,QAAU2wB,EAAM1wC,MAAQ0wC,EAAM3wC,MAC/D4zB,EAAMthC,KAAK2R,IAAI,GAAI3R,KAAKW,IAAI,EAAe,IAAZ4+C,IAAoB,IACzDjiC,KAAK0E,SAAS,CACV08B,aAAcpd,GAChB,EAENhkB,KAAK6/B,aAAe,KAChB7/B,KAAK0E,SAAS,CACVy8B,iBAAiB,GACnB,EAENnhC,KAAKyC,MAAQ,CACTu/B,OAAQ/iC,EAAMsN,KAAKsE,YAAYwuB,YAC/B8B,iBAAiB,EACjBC,aAAc,KAEtB,CACA,iBAAAr+B,GACI/C,KAAKkiC,gBAAkBliC,KAAKf,MAAMsN,KAAKsE,YAAY1C,OAAO6C,GAAG,eAAgBhR,KAAK+hC,eACtF,CACA,oBAAA39B,GACIpE,KAAKkiC,iBAAmBliC,KAAKkiC,iBACjC,CACA,MAAA7/B,GACI,MAAM4/B,EAAgC,IAApBjiC,KAAKyC,MAAMu/B,OACvBT,EAAU7+C,KAAK2R,IAAI,GAAI3R,KAAKW,IAAI,EAAG4+C,IAAc,IACjDT,EAAU9+C,KAAK2R,IAAI,GAAI3R,KAAKW,IAAI,EAAG,IAAM4+C,IAAc,IAC7D,OAAQ,EAAI5L,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQwH,cAAcmE,QAASxL,QAAS32B,KAAK22B,QAASgJ,aAAc3/B,KAAK2/B,aAAc1vB,YAAajQ,KAAKiQ,YAAa4vB,aAAc7/B,KAAK6/B,eAC7K,EAAIxJ,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQwH,cAAc0D,aACtD,EAAIrL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQwH,cAAc2D,KAAMjgC,MAAO,CAAErR,MAAOmxC,MAC5E,EAAInL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQwH,cAAc4D,KAAMlgC,MAAO,CAAEtR,KAAMmxC,MAC3E,EAAIlL,EAAS73B,GAAG,MAAO,CAAEq4B,MAAOL,EAAQwH,cAAc6D,UAAWngC,MAAO,CAAEtR,KAAM4P,KAAKyC,MAAM2+B,gBACnG,EAEJp/C,EAAQg8C,cAAgBA,+BC7DxB94B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQg8C,mBAAgB,EACxB,MAAM1H,EAAc,EAAQ,KAC5Bt0C,EAAQg8C,eAAgB,EAAI1H,EAAYe,YAAY,CAChD8K,QAAS,CACL1J,QAAS,OACT0B,WAAY,SACZxqB,SAAU,WACVpkB,MAAO,OACPC,OAAQ,OACRowC,WAAY,MACZpC,YAAa,OACbT,OAAQ,WAEZ4I,KAAM,CACFn2C,OAAQ,MACRmtC,gBAAiB,OACjBhpB,SAAU,WACVvf,KAAM,IACNC,MAAO,IACPyxC,aAAc,OAElBJ,UAAW,CACPl2C,OAAQ,MACRmtC,gBAAiB,2BACjBhpB,SAAU,WACVvf,KAAM,IACNC,MAAO,IACPyxC,aAAc,OAElBF,KAAM,CACFjyB,SAAU,WACVpkB,MAAO,OACPC,OAAQ,OACRmtC,gBAAiB,OACjBmJ,aAAc,MACd1xC,KAAM,OACNwrC,WAAY,QAEhBiG,UAAW,CACPlyB,SAAU,WACVpkB,MAAO,MACPC,OAAQ,MACRmtC,gBAAiB,OACjBgB,UAAW,aACXmI,aAAc,MACd1xC,KAAM,IACNwrC,WAAY,OACZnD,QAAS,OACTQ,MAAO,CACH,UAAW,CACPR,QAAS,0CCnDzBvzB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQogD,qBAAkB,EAC1B,MAAM/L,EAAW,EAAQ,KACnBgM,EAAS,EAAQ,MAavBrgD,EAAQogD,gBAZR,MACI,WAAA1iC,CAAY6M,EAAM+1B,GACdtiC,KAAKuM,KAAOA,EACZvM,KAAKsiC,SAAWA,CACpB,CACA,WAAAC,GACI,OAAOviC,KAAKsiC,QAChB,CACA,IAAAj0B,IACI,EAAIgoB,EAASh0B,SAAQ,EAAIg0B,EAAS73B,GAAG6jC,EAAO/D,KAAM,CAAE/xB,KAAMvM,KAAKuM,KAAMzqB,KAAMke,KAAKsiC,WAAatiC,KAAKsiC,SACtG,8BCZJ,IAAIlQ,EAFJltB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQuuC,OAASvuC,EAAQowC,oBAAiB,EAE1C,SAAWA,GACPA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAuB,OAAI,GAAK,SAC/CA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAoB,IAAI,GAAK,MAC5CA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAuB,OAAI,GAAK,SAC/CA,EAAeA,EAAwB,QAAI,GAAK,UAChDA,EAAeA,EAAuB,OAAI,GAAK,QAClD,CAXD,CAWGA,IAAmBpwC,EAAQowC,eAAiBA,EAAiB,CAAC,IAkJjEpwC,EAAQuuC,OAjJR,MACI,WAAA7wB,CAAYmE,GACR7D,KAAK6D,KAAO,IAAI8C,SAAS9C,GACzB7D,KAAKzI,OAAS,CAClB,CACA,MAAA7Q,GACI,OAAOsZ,KAAK6D,KAAK2B,UACrB,CACA,IAAAg9B,GACI,OAAOxiC,KAAKzI,MAChB,CACA,IAAAo6B,CAAKp6B,GACDyI,KAAKzI,OAAS7U,KAAKW,IAAI,EAAGkU,EAC9B,CACA,IAAA0qB,CAAK1qB,GACDyI,KAAK2xB,KAAK3xB,KAAKwiC,OAASjrC,EAC5B,CACA,CAAApU,GACI,MAAMsS,EAAIuK,KAAK6D,KAAKoC,QAAQjG,KAAKzI,QAEjC,OADAyI,KAAKiiB,KAAK,GACHxsB,CACX,CACA,EAAAu8B,GACI,MAAMv8B,EAAIuK,KAAK6D,KAAKqC,SAASlG,KAAKzI,QAElC,OADAyI,KAAKiiB,KAAK,GACHxsB,CACX,CACA,CAAAxQ,CAAEw9C,GAAiB,GACf,MAAMhtC,EAAIuK,KAAK6D,KAAKsC,SAASnG,KAAKzI,OAAQkrC,GAE1C,OADAziC,KAAKiiB,KAAK,GACHxsB,CACX,CACA,EAAAo8B,CAAG4Q,GAAiB,GAChB,MAAMhtC,EAAIuK,KAAK6D,KAAKuC,UAAUpG,KAAKzI,OAAQkrC,GAE3C,OADAziC,KAAKiiB,KAAK,GACHxsB,CACX,CACA,CAAAjP,CAAEi8C,GAAiB,GACf,MAAMhtC,EAAIuK,KAAK6D,KAAKwC,SAASrG,KAAKwiC,OAAQC,GAE1C,OADAziC,KAAKiiB,KAAK,GACHxsB,CACX,CACA,EAAA+6B,CAAGiS,GAAiB,GAChB,MAAMhtC,EAAIuK,KAAK6D,KAAKyC,UAAUtG,KAAKwiC,OAAQC,GAE3C,OADAziC,KAAKiiB,KAAK,GACHxsB,CACX,CACA,CAAAzE,CAAEyxC,GAAiB,GACf,MAAMhtC,EAAIuK,KAAK6D,KAAK0C,WAAWvG,KAAKwiC,OAAQC,GAE5C,OADAziC,KAAKiiB,KAAK,GACHxsB,CACX,CACA,EAAA6iB,CAAGmqB,GAAiB,GAChB,MAAMhtC,EAAIuK,KAAK6D,KAAK6C,WAAW1G,KAAKwiC,OAAQC,GAE5C,OADAziC,KAAKiiB,KAAK,GACHxsB,CACX,CACA,GAAA9P,GACI,IAAI4G,EAAIyT,KAAKgyB,KACTv8B,EAAI,GACR,KAAa,IAANlJ,GACHkJ,GAAKwL,OAAO8G,aAAaxb,GACzBA,EAAIyT,KAAKgyB,KAEb,OAAOv8B,CACX,CACA,IAAA88B,CAAKj0B,GACD,GAAIA,EAAI,EACJ,MAAO,GAEX,IAAI7I,EAAI,GACR,KAAO6I,EAAI,GAAG,CACVA,GAAK,EACL,MAAMokC,EAAW1iC,KAAKgyB,KACtB,GAAiB,IAAb0Q,EACA,MAEJjtC,GAAKwL,OAAO8G,aAAa26B,EAC7B,CAIA,OAHU,IAANpkC,GACA0B,KAAKiiB,KAAK3jB,GAEP7I,CACX,CACA,GAAAwuB,CAAI3lB,EAAGtN,GACHA,EAAE+T,KAAK/E,MACP,MAAMvK,EAAI,GACV,KAAO6I,KAAM,GACT7I,EAAE2K,KAAKpP,KAEX,OAAOyE,CACX,CACA,IAAA08B,CAAK7zB,EAAGzb,EAAM8/C,EAAU,GACpB,IAAIltC,EACJ,OAAQ5S,GACJ,KAAKuvC,EAAeC,MAChB58B,EAAI,IAAI8P,WAAWvF,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GAClD0B,KAAKiiB,KAAK3jB,GACV,MAEJ,KAAK8zB,EAAewQ,KAChBntC,EAAI,IAAIotC,UAAU7iC,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GACjD0B,KAAKiiB,KAAK3jB,GACV,MAEJ,KAAK8zB,EAAe0Q,OAChBrtC,EAAI,IAAIy3B,YAAYltB,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GACnD0B,KAAKiiB,KAAS,EAAJ3jB,GACV,MACJ,KAAK8zB,EAAe2Q,MAChBttC,EAAI,IAAIutC,WAAWhjC,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GAClD0B,KAAKiiB,KAAS,EAAJ3jB,GACV,MACJ,KAAK8zB,EAAe6Q,KAChBxtC,EAAI,IAAIytC,YAAYljC,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GACnD0B,KAAKiiB,KAAS,EAAJ3jB,GACV,MACJ,KAAK8zB,EAAe+Q,IAChB1tC,EAAI,IAAI2tC,WAAWpjC,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GAClD0B,KAAKiiB,KAAS,EAAJ3jB,GACV,MACJ,KAAK8zB,EAAeiR,MAChB5tC,EAAI,IAAIlT,aAAayd,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GACpD0B,KAAKiiB,KAAS,EAAJ3jB,GACV,MACJ,KAAK8zB,EAAekR,OAChB7tC,EAAI,IAAI8tC,aAAavjC,KAAK6D,KAAKyB,OAAQtF,KAAKwiC,OAAQlkC,GACpD0B,KAAKiiB,KAAS,EAAJ3jB,GACV,MACJ,KAAK8zB,EAAeoR,QAEhB,IADA/tC,EAAI,GACG6I,KAAM,GACT7I,EAAE2K,KAAK3K,EAAE88B,KAAKoQ,IAElB,MACJ,KAAKvQ,EAAenxB,OAEhB,IADAxL,EAAI,GACG6I,KAAM,GACT7I,EAAE2K,KAAK3K,EAAE9P,OAIrB,OAAO8P,CACX,8BC5JJ,IAAIguC,EAFJv+B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQyhD,eAAY,EAEpB,SAAWA,GACPA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAoB,SAAI,GAAK,WACvCA,EAAUA,EAAoB,SAAI,GAAK,WACvCA,EAAUA,EAAsB,WAAI,GAAK,aACzCA,EAAUA,EAAoB,SAAI,IAAM,WACxCA,EAAUA,EAA2B,gBAAI,IAAM,kBAC/CA,EAAUA,EAA6B,kBAAI,IAAM,oBACjDA,EAAUA,EAAqB,UAAI,KAAO,YAC1CA,EAAUA,EAAqB,WAAK,YAAc,WACrD,CAVD,CAUGA,IAAczhD,EAAQyhD,UAAYA,EAAY,CAAC,iCCblDv+B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ0hD,qBAAkB,EAC1B,MAAMC,EAAc,EAAQ,MACtBC,EAAc,EAAQ,MACtBC,EAAc,EAAQ,MACtBnV,EAAW,EAAQ,MACzB,MAAMgV,EACF,UAAOI,GACH,MAAM,IAAIl+B,MAAM,uBACpB,CACA,UAAOm+B,GACH,OAAO,IACX,CACA,iBAAOC,CAAWvuC,GACd,MAAO,CACH6e,OAAQ7e,EAAE9P,MAElB,CACA,YAAOwc,CAAM1M,EAAGwuC,GACZ,IAAIC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAIr0B,EAAS,GACTg2B,EAAaD,EAAGn9B,SAAS,GAC7B,IAAK,IAAIvgB,EAAI,EAAGA,EAAI29C,IAAc39C,EAAG,CACjC,IAAI2b,EAAQ,CACR2E,MAAOo9B,EAAGn9B,SAAS,KAGvB,GADqBm9B,EAAGn9B,SAAS,GACb,CAChB5E,EAAMiiC,YAAcF,EAAGn9B,SAAS,IACjBm9B,EAAGn9B,SAAS,KAEvB5E,EAAM4N,OAAQ,EAAI6zB,EAAYS,WAAWH,EAAID,EAAuB,SAE5E,CACkBC,EAAGn9B,SAAS,KAE1B5E,EAAMmiC,SAAWJ,EAAGn9B,SAAS,KAEjCoH,EAAO/N,KAAK+B,EAChB,CAOA,OANI+hC,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CAAEqH,SACb,CACA,cAAOklB,CAAQ59B,GACX,MAAO,CACH49B,QAAS59B,EAAE+6B,KAEnB,CACA,cAAO+T,CAAQ9uC,GACX,MAAO,CACH+uC,YAAa/uC,EAAExQ,IAEvB,CACA,YAAOgpB,CAAMxY,GACT,IAAIyuC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAInS,EAAQ6T,EAAGn9B,SAAS,GACpBi7B,EAAS,EACO,IAAP,EAAR3R,KACD2R,EAASkC,EAAGn9B,SAAS,GAAK,KAE9B,IAAI09B,EAAc,EACE,IAAP,EAARpU,KACDoU,EAAcP,EAAGn9B,SAAS,GAAK,IAEnC,IAEI29B,EAFAC,EAAUT,EAAGn9B,SAAS,GACtBy9B,EAAcN,EAAGn9B,SAAS,IAG1B29B,EADgB,IAAP,EAARrU,GACY6T,EAAGn9B,SAAS,IAGZm9B,EAAGn9B,SAAS,GAE7B,IAGI69B,EACAC,EACAC,EALAC,EAAQb,EAAGn9B,SAAS,GACpBi+B,EAAQd,EAAGn9B,SAAS,GACpBk+B,EAAQf,EAAGn9B,SAAS,GAIpBg+B,IACAH,GAAY,EAAIjB,EAAYuB,WAAWhB,IAEvCc,IACAH,GAAY,EAAIlB,EAAYuB,WAAWhB,IAEvCe,IACAH,GAAY,EAAInB,EAAYuB,WAAWhB,IAE3C,IAAIvb,EAAQ,EAUZ,OAToB,IAAP,EAAR0H,KACD1H,EAAQub,EAAGn9B,SAAS,IAEpBm9B,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CACHupB,QACA2R,SACAyC,cACAE,UACAH,cACAE,aACAE,YACAC,YACAC,YACAnc,QAER,CACA,WAAOiY,CAAKnrC,GACR,MAAO,CACHmrC,KAAMnrC,EAAEzE,IAEhB,CACA,YAAOm0C,CAAM1vC,GACT,MAAO,CACHqW,QAASrW,EAAE9P,MAEnB,CACA,gBAAOy/C,CAAU3vC,GAWb,MAAO,CAAE4vC,SAVK5vC,EAAE9P,MACO0gC,MAAM,KAAK1Y,KAAI23B,IAClC,IAAIC,EAAOD,EACNjf,MAAM,wBACN1Y,KAAIjW,GAAOA,EAAIkK,QAAQ,WAAY,MAAM4jC,SACzCzhB,QAAOrsB,GAAOA,IAGnB,MAAO,CAAE+tC,KAFEF,EAAK,GAED58B,OADF48B,EAAKzjC,MAAM,GACD,IAG/B,CACA,eAAO4jC,CAASjwC,GACZ,MAAO,CACHkzB,MAAOlzB,EAAExQ,IACT0gD,IAAKlwC,EAAExQ,IACP2gD,KAAMnwC,EAAExQ,IAEhB,CACA,iBAAO4gD,CAAWpwC,GACd,IAAIqwC,EAAO,CACPC,SAAUtwC,EAAEjP,IACZw/C,WAAYvwC,EAAEjP,IACdy/C,OAAQxwC,EAAEjP,IACV0/C,cAAezwC,EAAE08B,KAAK,GAAIzD,EAAS0D,eAAeC,OAClD8T,WAAY1wC,EAAEu8B,KACdoU,YAAa3wC,EAAEu8B,KACfqU,aAAc5wC,EAAEu8B,KAChBsU,QAAS7wC,EAAE9P,MACX4gD,SAAU9wC,EAAE9P,MACZ6gD,YAAa/wC,EAAE9P,MACf8gD,SAAUhxC,EAAE9P,OAGhB,OADA8P,EAAEwsB,KAAK,GACA6jB,CACX,CACA,iBAAOY,CAAWjxC,GACd,MAAO,CACHqR,MAAOrR,EAAEu8B,KACT2U,UAAWlxC,EAAE9P,MAErB,CACA,qBAAOihD,CAAenxC,GAClB,MAAO,CACHoxC,YAAapxC,EAAEu8B,KACf8U,aAAcrxC,EAAE+6B,KAChBuW,eAAgBtxC,EAAE9P,MAClBqhD,gBAAiBvxC,EAAE08B,KAAK,GAAIzD,EAAS0D,eAAeC,OAE5D,CACA,uBAAO4U,CAAiBxxC,EAAGwuC,GACvB,IAAIpgC,EAAO,CACPG,KAAMvO,EAAE9P,MACRuhD,OAAQ,IAERhD,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QACtC6hC,EAAa1xC,EAAEo8B,KACnBqS,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAK,IAAIh8C,EAAI,EAAGA,EAAI2gD,IAAc3gD,EAC9Bqd,EAAKqjC,OAAO9mC,MAAK,EAAIwjC,EAAYS,WAAWH,EAAID,EAAmC,sBASvF,OAPAA,EAAcpgC,EAAKG,MAAQH,EAAKqjC,OAC5BhD,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEfjD,CACX,CACA,iBAAOujC,CAAW3xC,EAAGwuC,GACjB,IAAIC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACO0B,EAAGn9B,SAAS,KAE5Bm9B,EAAGp9B,OAAS,GAEhB,IAAIugC,EAAoBpD,EAA4B,aAChDmD,GAAa,EAAIxD,EAAYS,WAAWH,EAAImD,GAC5CC,EAAoBrD,EAA6B,cACrD,KAAOC,EAAGn9B,SAAS,IACfm9B,EAAGp9B,OAAS,GACZ,EAAI88B,EAAYS,WAAWH,EAAIoD,GAQnC,OANIpD,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CACHsgC,aAER,CACA,gBAAOG,CAAU9xC,GACb,MAAO,CACH+uC,YAAa/uC,EAAExQ,IAEvB,CACA,YAAOuiD,CAAM/xC,GACT,IAAIyuC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAIgF,EAAQ,GACZ,KAAOtD,EAAGn9B,SAAS,IACfygC,EAAMpnC,KAAK,CACPqnC,KAAMvD,EAAGn9B,SAAS,GAClB2gC,KAAMxD,EAAGn9B,SAAS,GAClB4gC,KAAMzD,EAAGn9B,SAAS,KAS1B,OANIm9B,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf0gC,CACX,CACA,eAAOI,CAASnyC,GACZ,MAAO,CACHka,SAAU,CAACla,EAAExQ,IAAM,EAAGwQ,EAAExQ,IAAM,EAAGwQ,EAAExQ,IAAM,GACzC4iD,UAAW,CAACpyC,EAAEtS,IAAKsS,EAAEtS,IAAKsS,EAAEtS,KAC5BqU,MAAO/B,EAAEu8B,KACTkM,MAAOzoC,EAAEu8B,KAEjB,CACA,aAAOlF,GACH,OAAO,IACX,CACA,kBAAOgb,CAAYryC,GACf,IAAIoO,EAAO,CACPob,WAAYxpB,EAAExQ,IACdqmC,SAAU71B,EAAEtS,IACZwwC,MAAOl+B,EAAEtS,IACT8wC,SAAUx+B,EAAExQ,IACZ8iD,KAAMtyC,EAAEtS,IACRwsB,SAAU,GACViC,SAAU,IAcd,OAZA/N,EAAK8L,SAAS,GAAKla,EAAExQ,IAAM,EAC3B4e,EAAK+N,SAAS,GAAa,QAARnc,EAAEtS,IACrB0gB,EAAK8L,SAAS,GAAKla,EAAExQ,IAAM,EAC3B4e,EAAK+N,SAAS,GAAa,QAARnc,EAAEtS,IACrB0gB,EAAK8L,SAAS,GAAKla,EAAExQ,IAAM,EAC3B4e,EAAK+N,SAAS,GAAa,QAARnc,EAAEtS,IACrB0gB,EAAKgnB,WAAap1B,EAAEtS,IAChB0gB,EAAKgnB,aACLhnB,EAAKmkC,UAAYvyC,EAAEtS,IACnB0gB,EAAKknB,YAAc,CAACt1B,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,MACtCnuB,EAAKokC,SAAWxyC,EAAEtS,KAEf0gB,CACX,CACA,oBAAOqkC,CAAczyC,EAAGwuC,GACpB,IAAIC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAGI1Y,EAHAqe,EAAajE,EAAGn9B,SAAS,IACzBqhC,GAAY,EAAIxE,EAAYS,WAAWH,EAAID,EAAuB,SAClEoE,EAAWnE,EAAGn9B,SAAS,GAW3B,OATIshC,IACAve,EAAQoa,EAAGn9B,SAAS,KAEpBm9B,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CACHqhC,aACAC,YACAC,WACAve,QAER,CACA,oBAAOwe,CAAc7yC,EAAGwuC,GACpB,IAAIC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAIr6B,EAAW,GACf,OAAa,CACT,IAKIogC,EALAC,EAAYtE,EAAGn9B,SAAS,IAC5B,GAAkB,OAAdyhC,EACA,MAMID,EAFS,EAFArE,EAAGn9B,SAAS,GAGrByhC,EAAY,GAAKA,GAAa,GACX,wBAGA,iBAIJ,wBAEvBrgC,EAASqgC,IAAa,EAAI5E,EAAYS,WAAWH,EAAID,EAAcsE,GACvE,CAEA,GAAe,KADFrE,EAAGn9B,SAAS,GAErB,MAAM,IAAInB,MAAM,qBAEpB,IAAI6iC,EAAavE,EAAGn9B,SAAS,GACzB2hC,EAAY,GAChB,IAAK,IAAIliD,EAAI,EAAGA,EAAIiiD,IAAcjiD,EAC9BkiD,EAAUtoC,MAAK,EAAIwjC,EAAYS,WAAWH,EAAID,EAA8B,iBAQhF,OANIC,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CACHqB,WACAugC,YAER,CACA,iBAAOC,CAAWlzC,GA4Dd,IACIoO,EAAO,CAAC,EACZ,OAFWpO,EAAEu8B,MAGT,KA9DkB,EA0IlB,KAxHiB,GA4HjB,KA3HgB,GA+HhB,KA9HoB,GAsNpB,KAnMkB,IAoMdv8B,EAAEwsB,KAAK,IACP,MA1KJ,KAjEoB,EAkEhBxsB,EAAEwsB,KAAK,IACP,MAEJ,KApEe,EA4Ef,KA1EoB,EA8FpB,KAzFc,EA6Fd,KA5FkB,GAgGlB,KA/FgB,GAgGZxsB,EAAEwsB,KAAK,GACP,MAlCJ,KAvEiB,EAuJjB,KApIkB,GAqIdxsB,EAAEwsB,KAAK,IACP,MA1EJ,KA7Ea,EA6Hb,KAlHc,GAsId,KAjIkB,GAqLlB,KA3KmB,IA2NnB,KA/MmB,IAuPnB,KA7OqB,IA8OjBxsB,EAAEwsB,KAAK,IACP,MA9MJ,KAhFc,EAgKd,KA7Ic,GAyLd,KAjLgB,IAqOhB,KAxNmB,IAyNfxsB,EAAEwsB,KAAK,IACP,MA9KJ,KAnFiB,EAuLjB,KAlKY,GAsKZ,KArKW,GAqMX,KA7La,IA6Mb,KAzMoB,IA0MhBxsB,EAAEwsB,KAAK,IACP,MAtJJ,KAtFgB,EA8HhB,KArHkB,GA6IlB,KAvIgB,GAmJhB,KAhJc,GA4Pd,KApOkB,IAqOdxsB,EAAEwsB,KAAK,IACP,MA1KJ,KAlGkB,GAmGdxsB,EAAEwsB,KAAK,GACP,MAEJ,KArGgB,GAsGZxsB,EAAEwsB,KAAK,GACWxsB,EAAExQ,KAEhBwQ,EAAEwsB,KAAK,GAEX,MAEJ,KA5GiB,GA4MjB,KAvLa,IA2Mb,KAtMoB,IA0OpB,KAjOiB,IAqPjB,KAhPiB,IAiPbxsB,EAAEwsB,KAAK,GACP,MA1KJ,KA/GmB,GAmJnB,KA1IqB,GAsOrB,KAlNe,IAsNf,KArNmB,IAsNfxsB,EAAEwsB,KAAK,IACP,MAtFJ,KAnJmB,GAoJfpe,EAAK8gC,QAAUlvC,EAAEtS,IACjB0gB,EAAKxa,EAAIoM,EAAExQ,IACX4e,EAAKtd,EAAIkP,EAAExQ,IACX4e,EAAK+kC,OAASnzC,EAAEtS,IAChB0gB,EAAKglC,UAAY,CAACpzC,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,MAC5CnuB,EAAKilC,YAAc,CAACrzC,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,KAAMv8B,EAAEu8B,MAC9CnuB,EAAKklC,WAAatzC,EAAExQ,IACpB4e,EAAKmlC,YAAcvzC,EAAExQ,IACrB4e,EAAKolC,SAAWxzC,EAAExQ,IACd4e,EAAK+kC,SACL/kC,EAAKqlC,WAAazzC,EAAExQ,KAExB4e,EAAKiI,QAAUrW,EAAE9P,MACjB,MAUJ,KAxKgB,GAyKZ8P,EAAEwsB,KAAK,GACP,MAMJ,KA9KmB,IAsLnB,KApLa,IAqLTxsB,EAAEwsB,KAAK,IACP,MAMJ,KA1LY,IA0PZ,KA1OqB,IA2OjBxsB,EAAEwsB,KAAK,GACP,MA1DJ,KAhMoB,IAiMhBxsB,EAAEwsB,KAAK,IACP,MAcJ,KA5MsB,IAgOtB,KA3NkB,IA+NlB,KA9NsB,IA0PtB,KAnPwB,IAoPpBxsB,EAAEwsB,KAAK,GACP,MAlBJ,KAvOa,IA+Pb,KAzPoB,IA0PhBxsB,EAAEwsB,KAAK,IACP,MANJ,KAtP6B,IAuPzBxsB,EAAEwsB,KAAK,GACP,MAMJ,KA5PkB,IA6PdxsB,EAAEwsB,KAAK,IACP,MAEJ,QACI,MAAM,IAAIrc,MAAM,4BAGxB,OAAO/B,CACX,CACA,eAAOslC,CAAS1zC,GACZ,MAAO,CACHgX,SAAUhX,EAAEtS,IAEpB,CACA,gBAAOimD,CAAU3zC,GACb,MAAO,CACH4zC,KAAM5zC,EAAEtS,IAEhB,CACA,kBAAOmmD,CAAY7zC,GACf,MAAO,CACHqW,QAASrW,EAAE9P,MAEnB,CACA,oBAAO4jD,GACH,OAAO,IACX,CACA,kBAAOC,GACH,OAAO,IACX,CACA,uBAAOC,CAAiBh0C,GACpB,MAAO,CACHka,SAAU,CAACla,EAAExQ,IAAM,EAAGwQ,EAAExQ,IAAM,EAAGwQ,EAAExQ,IAAM,GACzCy/C,WAAYjvC,EAAEo8B,KACdmQ,OAAQvsC,EAAEu8B,KAAO,IACjByS,YAAahvC,EAAEu8B,KAAO,GACtBwS,YAAa/uC,EAAEo8B,KACflJ,MAAOlzB,EAAEu8B,KACT3B,MAAO56B,EAAEu8B,KAEjB,CACA,mBAAO0X,GACH,OAAO,IACX,CACA,aAAOC,CAAOl0C,GACV,MAAO,CACHm0C,KAAMn0C,EAAE9P,MAEhB,CACA,cAAOkkD,CAAQp0C,GACX,MAAO,CACHq0C,MAAOr0C,EAAEtS,IACT4mD,UAAWt0C,EAAEtS,IAErB,CACA,cAAO6mD,CAAQv0C,GACX,IAAIw0C,EAAWx0C,EAAE9P,MACbukD,EAAWz0C,EAAEu8B,KACblpB,EAAO,GACX,IAAK,IAAItiB,EAAI,EAAGA,EAAI0jD,IAAY1jD,EAC5BsiB,EAAK1I,KAAK3K,EAAE9P,OAEhB,MAAO,CAAEskD,WAAUnhC,OACvB,CACA,eAAOqhC,CAAS10C,GACZ,MAAO,CACHm0C,KAAMn0C,EAAE9P,MAEhB,CACA,iBAAOykD,CAAW30C,GACd,MAAO,CACH40C,eAAgB50C,EAAEtS,IAClBmnD,qBAAsB70C,EAAEtS,IAEhC,CACA,gBAAOonD,CAAU90C,GACb,MAAO,CACH+0C,cAAe/0C,EAAEu8B,KACjBuY,UAAW90C,EAAE9P,MAErB,CACA,eAAO8kD,CAASh1C,GACZ,MAAO,CACH5S,KAAM4S,EAAEo8B,KAEhB,CACA,eAAO6Y,CAASj1C,GACZ,MAAO,CACHk1C,WAAYl1C,EAAExQ,KAAO,IAAM,OAEnC,CACA,iBAAO2lD,CAAWn1C,GACd,MAAO,CACHqR,MAAOrR,EAAEu8B,KACTpW,KAAMnmB,EAAEtS,IACR6gB,KAAMvO,EAAE88B,KAAK,IAErB,CACA,qBAAOsY,CAAep1C,EAAGwuC,GACrB,IAAIC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAIsI,EAAe,GACnB5G,EAAGn9B,SAAS,IACZ,IAAIgkC,EAAe,EACnB,OAAa,CAET,GAAe,IADF7G,EAAGn9B,SAAS,IAErB,MAIJ,GAFAm9B,EAAGp9B,OAAS,GACgBo9B,EAAGn9B,SAAS,GAWpCgkC,QAVwB,CACG7G,EAAGn9B,SAAS,GAEnCgkC,EAAe7G,EAAGn9B,SAAS,IAG3BgkC,GAAgB7G,EAAGn9B,SAAS,EAEpC,CAIA,IAAIikC,EAAS9G,EAAGn9B,SAAS,GACPm9B,EAAGn9B,SAAS,KAE1Bm9B,EAAGp9B,OAAS,GAEhB,IAAImkC,EAAa,iBACbF,EAAe,GAAKA,GAAgB,GACpCE,EAAa,wBAERD,IACLC,EAAa,yBAEjBH,EAAa1qC,MAAK,EAAIwjC,EAAYS,WAAWH,EAAID,EAAcgH,IACnE,CAOA,OANI/G,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CAAEgkC,eACb,CACA,0BAAOI,CAAoBz1C,EAAGwuC,GAC1B,IAAIC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb0B,EAAGn9B,SAAS,IACZm9B,EAAGp9B,OAAS,EACZ,IAAIgkC,EAAe,GACftC,EAAY,EAChB,OAAa,CAET,GAAe,IADFtE,EAAGn9B,SAAS,IAErB,MAEJm9B,EAAGp9B,OAAS,GACZ,IAAIqkC,EAAejH,EAAGn9B,SAAS,GAQ/B,GAP2Bm9B,EAAGn9B,SAAS,GAEnCyhC,EAAYtE,EAAGn9B,SAAS,IAGxByhC,GAAatE,EAAGn9B,SAAS,GAEzBokC,EACA,SAEJ,IAAIH,EAAS9G,EAAGn9B,SAAS,GACrBkkC,EAAa,iBACbzC,EAAY,GAAKA,EAAY,GAC7ByC,EAAa,wBAERD,IACLC,EAAa,yBAEjBH,EAAatC,IAAa,EAAI5E,EAAYS,WAAWH,EAAID,EAAcgH,GAC3E,CAOA,OANI/G,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEf,CAAEgkC,eACb,CACA,YAAOM,GACH,OAAO,IACX,CACA,mBAAOC,CAAa51C,GAChB,IAAIyuC,EAAK,IAAIL,EAAYz+B,UAAU3P,EAAEoO,KAAKyB,QAC1C4+B,EAAGp9B,MAAmB,EAAXrR,EAAE+sC,OACb,IAAIz0B,EAAU,GACVgoB,EAAamO,EAAGn9B,SAAS,IAC7B,IAAK,IAAIvgB,EAAI,EAAGA,EAAIuvC,IAAcvvC,EAAG,CACjC,IAAIy+B,EAAQ,CAAC,EACbA,EAAMpiC,KAAOqhD,EAAGn9B,SAAS,GACzBke,EAAMjhB,KAAOkgC,EAAGz8B,aAChBwd,EAAMne,MAAQo9B,EAAGn9B,SAAS,IAC1Bke,EAAMrJ,KAAOsoB,EAAGn9B,SAAS,IAEb,EADAm9B,EAAGn9B,SAAS,KAEpBm9B,EAAGp9B,OAAS,KAEZo9B,EAAGn9B,SAAS,KACZm9B,EAAGp9B,OAAS,KAEhBiH,EAAQ3N,KAAK6kB,EACjB,CACA,GAAIif,EAAGn9B,SAAS,GACZ,KAAOm9B,EAAGn9B,SAAS,IAAI,CACnB,IAAIukC,EAAQpH,EAAGn9B,SAAS,GAAK,EAAI,GACjCm9B,EAAGp9B,OAASwkC,CAChB,CAQJ,OANIpH,EAAGp9B,MAAQ,EAAI,EACfrR,EAAEk8B,KAAKjvC,KAAK0R,MAAM8vC,EAAGp9B,MAAQ,GAAK,GAGlCrR,EAAEk8B,KAAKuS,EAAGp9B,MAAQ,GAEfiH,CACX,CACA,kBAAOw9B,CAAY91C,GACf,MAAO,CACH+1C,QAAS/1C,EAAEzE,IACXy6C,UAAWh2C,EAAEzE,IACb06C,SAAUj2C,EAAEzE,IACZ26C,kBAAmBl2C,EAAEzE,IACrB46C,aAAcn2C,EAAEzE,IAChB66C,gBAAiBp2C,EAAEzE,IACnB86C,kBAAmBr2C,EAAEzE,IACrB+6C,SAAUt2C,EAAEzE,IACZg7C,aAAcv2C,EAAEzE,IAChBi7C,cAAex2C,EAAEzE,IACjBk7C,cAAez2C,EAAEzE,IACjBm7C,OAAQ12C,EAAEzE,IACVo7C,SAAU32C,EAAEzE,IACZq7C,YAAa52C,EAAEzE,IACfs7C,KAAM72C,EAAEzE,IACR81B,WAAYrxB,EAAEzE,IACdu7C,UAAW92C,EAAEtS,IACbqpD,UAAW/2C,EAAEzE,IACby7C,UAAWh3C,EAAEzE,IACb07C,SAAU,CAACj3C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3B27C,OAAQ,CAACl3C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACzB47C,QAASn3C,EAAE9P,MAEnB,CACA,sBAAOknD,CAAgBp3C,GACnB,IAAIoO,EAAO,CACPmiC,WAAYvwC,EAAEjP,KAGlB,OADAiP,EAAEwsB,KAAK,GACApe,CACX,CACA,oBAAOipC,CAAcr3C,GACjB,IAMIs3C,EANA3G,EAAc3wC,EAAEu8B,KAChBnvC,EAAO4S,EAAEu8B,KACThuB,EAAOvO,EAAE9P,MACTmhB,EAAQrR,EAAEo8B,KACVmb,EAAev3C,EAAE+6B,KACjBH,EAAQ56B,EAAEu8B,KAKd,OAHY,EAAR3B,IACA0c,EAAU,CAACt3C,EAAEjP,IAAKiP,EAAEjP,IAAKiP,EAAEjP,IAAKiP,EAAEjP,MAE/B,CACH4/C,cACAvjD,OACAmhB,OACA8C,QACAkmC,eACA3c,QACA0c,UAER,CACA,qBAAOE,CAAex3C,GAClB,MAAO,CACHkzB,MAAOlzB,EAAEtS,IACTwiD,IAAKlwC,EAAEtS,IAEf,CACA,gBAAO+pD,CAAUz3C,GACb,MAAO,CACH03C,eAAgB13C,EAAEu8B,KAClBiX,SAAUxzC,EAAEu8B,KACZgX,YAAavzC,EAAEu8B,KACf+W,WAAYtzC,EAAEu8B,KAEtB,CACA,sBAAOob,CAAgB33C,GACnB,MAAO,CACH43C,SAAU53C,EAAE9P,MAEpB,CACA,WAAO2nD,CAAK73C,GACR,MAAO,CACHyb,KAAMzb,EAAEu8B,KAEhB,CACA,eAAOub,CAAS93C,GACZ,IAAI/O,EAAS+O,EAAEu8B,KACf,MAAO,CACHwb,KAAM/3C,EAAEu8B,KACRlmB,QAASrW,EAAE88B,KAAK7rC,EAAS,GAEjC,CACA,gBAAO+mD,CAAUh4C,GACb,MAAO,CACHi4C,UAAWj4C,EAAE9P,MACbgoD,QAASl4C,EAAEtS,IAEnB,CACA,gBAAOyqD,CAAUn4C,GACb,IAAI2wC,EAAc3wC,EAAEu8B,KAChBpW,EAAOnmB,EAAEo8B,KAEb,MAAO,CAAEuU,cAAaviC,KADXpO,EAAE08B,KAAKvW,EAAM8S,EAAS0D,eAAeC,OAEpD,CACA,oBAAOwb,CAAcp4C,GACjB,MAAO,CACHq4C,YAAar4C,EAAE9P,MACfooD,SAAUt4C,EAAEu8B,KAEpB,CACA,gBAAOgc,CAAUv4C,GACb,MAAO,CACHu4C,UAAWv4C,EAAEzE,IAErB,CACA,uBAAOi9C,CAAiBx4C,GACpB,MAAO,CACHy4C,IAAKz4C,EAAE9P,MAEf,CACA,oBAAOwoD,CAAc14C,GACjB,MAAO,CACHuO,KAAMvO,EAAE9P,MAEhB,CACA,qBAAOyoD,CAAe34C,GAClB,MAAO,CACH44C,UAAW54C,EAAE+6B,KACbxsB,KAAMvO,EAAE9P,MAEhB,CACA,WAAOqgB,CAAKvQ,EAAG5S,EAAMohD,GACjB,GAAa,IAATphD,EACA,OAAO,KAEX,MAAMyrD,EAAU5K,EAAgB6K,SAAS1rD,GACzC,OAAIyrD,EACOA,EAAQ74C,EAAGwuC,GAGX,IAEf,EAEJjiD,EAAQ0hD,gBAAkBA,EAC1BA,EAAgB6K,SAAW,CACvB7K,EAAgBI,IAChBJ,EAAgBK,IAChBL,EAAgBM,WAChBN,EAAgBvhC,MAChBuhC,EAAgBrQ,QAChBqQ,EAAgBa,QAChBb,EAAgBz1B,MAChBy1B,EAAgB9C,KAChB8C,EAAgByB,MAChBzB,EAAgB0B,UAChB1B,EAAgBgC,SAChBhC,EAAgBmC,WAChBnC,EAAgBgD,WAChBhD,EAAgBkD,eAChBlD,EAAgBuD,iBAChBvD,EAAgB0D,WAChB1D,EAAgB6D,UAChB7D,EAAgB8D,MAChB9D,EAAgBkE,SAChBlE,EAAgB5W,OAChB4W,EAAgBoE,YAChBpE,EAAgBwE,cAChBxE,EAAgB4E,cAChB5E,EAAgBiF,WAChBjF,EAAgByF,SAChBzF,EAAgB0F,UAChB1F,EAAgB4F,YAChB5F,EAAgB6F,cAChB7F,EAAgB8F,YAChB9F,EAAgB+F,iBAChB/F,EAAgBgG,aAChBhG,EAAgBiG,OAChBjG,EAAgBmG,QAChBnG,EAAgBsG,QAChBtG,EAAgByG,SAChBzG,EAAgB0G,WAChB1G,EAAgB6G,UAChB7G,EAAgB+G,SAChB/G,EAAgBgH,SAChBhH,EAAgBkH,WAChBlH,EAAgBmH,eAChBnH,EAAgBwH,oBAChBxH,EAAgB0H,MAChB1H,EAAgB2H,aAChB3H,EAAgB6H,YAChB7H,EAAgBmJ,gBAChBnJ,EAAgBoJ,cAChBpJ,EAAgBuJ,eAChBvJ,EAAgBwJ,UAChBxJ,EAAgB0J,gBAChB1J,EAAgB4J,KAChB5J,EAAgB6J,SAChB7J,EAAgB+J,UAChB/J,EAAgBkK,UAChBlK,EAAgBmK,cAChBnK,EAAgBsK,UAChBtK,EAAgBuK,iBAChBvK,EAAgByK,cAChBzK,EAAgB0K,gBAEpB,SAAW1K,GACP,IAAI8K,GACJ,SAAWA,GACPA,EAAIA,EAAS,IAAI,GAAK,MACtBA,EAAIA,EAAS,IAAI,GAAK,MACtBA,EAAIA,EAAgB,WAAI,GAAK,aAC7BA,EAAIA,EAAW,MAAI,GAAK,QACxBA,EAAIA,EAAa,QAAI,GAAK,UAC1BA,EAAIA,EAAa,QAAI,GAAK,UAC1BA,EAAIA,EAAW,MAAI,GAAK,QACxBA,EAAIA,EAAU,KAAI,GAAK,OACvBA,EAAIA,EAAW,MAAI,GAAK,QACxBA,EAAIA,EAAe,UAAI,GAAK,YAC5BA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAgB,WAAI,IAAM,aAC9BA,EAAIA,EAAgB,WAAI,IAAM,aAC9BA,EAAIA,EAAoB,eAAI,IAAM,iBAClCA,EAAIA,EAAsB,iBAAI,IAAM,mBACpCA,EAAIA,EAAgB,WAAI,IAAM,aAC9BA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAW,MAAI,IAAM,QACzBA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAY,OAAI,IAAM,SAC1BA,EAAIA,EAAiB,YAAI,IAAM,cAC/BA,EAAIA,EAAoB,eAAI,IAAM,iBAClCA,EAAIA,EAAmB,cAAI,IAAM,gBACjCA,EAAIA,EAAgB,WAAI,IAAM,aAC9BA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAiB,YAAI,IAAM,cAC/BA,EAAIA,EAAmB,cAAI,IAAM,gBACjCA,EAAIA,EAAiB,YAAI,IAAM,cAC/BA,EAAIA,EAAsB,iBAAI,IAAM,mBACpCA,EAAIA,EAAkB,aAAI,IAAM,eAChCA,EAAIA,EAAY,OAAI,IAAM,SAC1BA,EAAIA,EAAa,QAAI,IAAM,UAC3BA,EAAIA,EAAa,QAAI,IAAM,UAC3BA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAgB,WAAI,IAAM,aAC9BA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAgB,WAAI,IAAM,aAC9BA,EAAIA,EAAoB,eAAI,IAAM,iBAClCA,EAAIA,EAAyB,oBAAI,IAAM,sBACvCA,EAAIA,EAAW,MAAI,IAAM,QACzBA,EAAIA,EAAkB,aAAI,IAAM,eAChCA,EAAIA,EAAiB,YAAI,IAAM,cAC/BA,EAAIA,EAAqB,gBAAI,IAAM,kBACnCA,EAAIA,EAAmB,cAAI,IAAM,gBACjCA,EAAIA,EAAoB,eAAI,IAAM,iBAClCA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAqB,gBAAI,IAAM,kBACnCA,EAAIA,EAAU,KAAI,IAAM,OACxBA,EAAIA,EAAc,SAAI,IAAM,WAC5BA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAmB,cAAI,IAAM,gBACjCA,EAAIA,EAAe,UAAI,IAAM,YAC7BA,EAAIA,EAAsB,iBAAI,IAAM,mBACpCA,EAAIA,EAAmB,cAAI,IAAM,gBACjCA,EAAIA,EAAoB,eAAI,IAAM,gBACrC,CA5DD,CA4DGA,EAAM9K,EAAgB8K,MAAQ9K,EAAgB8K,IAAM,CAAC,GAC3D,CA/DD,CA+DG9K,IAAoB1hD,EAAQ0hD,gBAAkBA,EAAkB,CAAC,iCC3nCpEx+B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ0hC,YAAS,EACjB,MAAM+qB,EAAc,EAAQ,KACtBC,EAAoB,EAAQ,MAC5BC,EAAgB,EAAQ,MACxBC,EAAgB,EAAQ,MACxBlgB,EAAW,EAAQ,MACnBmgB,EAAoB,EAAQ,MAC5BjL,EAAc,EAAQ,MAKtBkL,EAAcr5C,IAAM,CACtBs5C,aAAct5C,EAAE+6B,KAChBwe,YAAav5C,EAAE+6B,KACfjhB,QAAS9Z,EAAE88B,KAAK,KAChB0c,QAASx5C,EAAE88B,KAAK,KAChB0T,OAAQxwC,EAAEjP,IACV0oD,UAAWz5C,EAAE+6B,OAEX2e,EAAkB,CAAC15C,EAAG8B,KACxB9B,EAAEk8B,KAAKp6B,GACP,IAAIC,EAAQ/B,EAAE+6B,KACV4e,EAAc,GAClB,IAAK,IAAI5oD,EAAI,EAAGA,EAAIgR,IAAShR,EACzB4oD,EAAYhvC,KAAK,CACbivC,GAAI55C,EAAE+6B,KACNxsB,KAAMvO,EAAE88B,KAAK,IACblC,MAAO56B,EAAE+6B,KACTqZ,QAASp0C,EAAEjP,IACXo6C,KAAMnrC,EAAEzE,IACRysB,OAAQhoB,EAAE+6B,KACVj5B,OAAQ9B,EAAE+6B,KACV9pC,OAAQ+O,EAAE+6B,OAGlB,OAAO4e,CAAW,EAqChBE,EAAY,CAAC75C,EAAGwuC,EAAesL,KACjC,IAAI5b,EAAQ,CACR9wC,KAAM4S,EAAEu8B,KACR4O,KAAMnrC,EAAEzE,IACRw+C,KAAM/5C,EAAE+6B,MAEZ,OAAQmD,EAAM9wC,MACV,KAAK,EACL,KAAK,EACD4S,EAAEwsB,KAAK,GACP0R,EAAM9kB,OAAS,CACXc,SAAU,CAACla,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3By+C,YAAa,CAACh6C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,MAElCyE,EAAEwsB,KAAK,KACP0R,EAAM9vB,KAlDI,EAACpO,EAAGwuC,EAAesL,KACrC,IAAI7oD,EAAS+O,EAAE+6B,KACXkf,EAAQj6C,EAAE+sC,OAAS97C,EACnBmd,EAAO,GACX,KAAOpO,EAAE+sC,OAASkN,GAAO,CACrB,IAAI7sD,EAAO4S,EAAEu8B,KACb,GAAa,IAATnvC,EACA,SAEC,GAAIA,GAAQ,GAAI,CACb0sD,EAAe1sD,IAAS0sD,EAAe1sD,GAAM+4B,MAAQ,EACrDnmB,EAAEwsB,KAAKstB,EAAe1sD,GAAM+4B,MAG5BnmB,EAAEwsB,KAAKxsB,EAAEu8B,MAEb,QACJ,CACA,IAAIlmB,EAAU+iC,EAAkBnL,gBAAgB19B,KAAKvQ,EAAG5S,EAAMohD,GAC1Dn4B,GACa,KAATjpB,IACA0sD,EAAezjC,EAAQhF,OAASgF,GAEpCjI,EAAKzD,KAAK,CACNvd,OACAghB,KAAMiI,KAIVrW,EAAEk8B,KAAK+d,EAEf,CAEA,OADAj6C,EAAEk8B,KAAK+d,GACA7rC,CAAI,EAiBU8rC,CAAcl6C,EAAGwuC,EAAesL,GAC7C,MAEJ,KAAK,EAWL,KAAK,EACD,MATJ,KAAK,EACD5b,EAAM2R,QAAU7vC,EAAE88B,KAAK,IACvB,MAEJ,KAAK,EACD98B,EAAEwsB,KAAK,IACP,MAKJ,KAAK,EACDxsB,EAAEwsB,KAAK,IACP,MAEJ,KAAK,EACDxsB,EAAEwsB,KAAK,GACP,MAEJ,KAAK,EACD0R,EAAM1lB,MAAQ,CACV02B,QAASlvC,EAAEjP,IACXopD,OAAQn6C,EAAE88B,KAAK98B,EAAE+6B,MACjBiU,YAAahvC,EAAEzE,IACfgxC,OAAQvsC,EAAEzE,IACVq/B,MAAO56B,EAAE+6B,KACT7H,MAAOlzB,EAAEjP,KAEb,MAEJ,KAAK,EACDiP,EAAEwsB,KAAKxsB,EAAE+6B,MACT,MAEJ,QACImD,EAAM5pB,OAAQ,EAItB,OAAO4pB,CAAK,EAEhB,MAAMjQ,EACF,WAAAhkB,CAAY0f,EAAQgwB,GAChBpvC,KAAKof,OAASA,EACdpf,KAAKuP,QAAUvP,KAAKof,OAAO7P,QAC3BvP,KAAKovC,YAAcA,CACvB,CACA,2BAAOS,CAAqBvqC,GACxB,IAAI7P,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GAE5B,GAAc,WADF7P,EAAE88B,KAAK,GAEf,MAAM,IAAI3sB,MAAM,yBAEpB,IAAIwZ,EAAS,CAAC,EACdA,EAAO2vB,aAAet5C,EAAE+6B,KACxBpR,EAAO4vB,YAAcv5C,EAAE+6B,KACvBpR,EAAO7P,QAAU9Z,EAAE88B,KAAK,KACxBnT,EAAO6vB,QAAUx5C,EAAE88B,KAAK,KACxBnT,EAAO6mB,OAASxwC,EAAEjP,IAClB44B,EAAO8vB,UAAYz5C,EAAE+6B,KACrB/6B,EAAEk8B,KAAKvS,EAAO8vB,WACd,IAAIY,EAAiBr6C,EAAE+6B,KACnB4e,EAAc,GAClB,IAAK,IAAI5oD,EAAI,EAAGA,EAAIspD,IAAkBtpD,EAClC4oD,EAAYhvC,KAAK,CACbivC,GAAI55C,EAAE+6B,KACNxsB,KAAMvO,EAAE88B,KAAK,IACblC,MAAO56B,EAAE+6B,KACTqZ,QAASp0C,EAAEjP,IACXo6C,KAAMnrC,EAAEzE,IACRysB,OAAQhoB,EAAE+6B,KACVj5B,OAAQ9B,EAAE+6B,KACV9pC,OAAQ+O,EAAE+6B,KACVuf,OAAQ,KAGhB,IAAK,IAAIvpD,EAAI,EAAGA,EAAI4oD,EAAY1oD,SAAUF,EAAG,CACzCiP,EAAEk8B,KAAKyd,EAAY5oD,GAAG+Q,QACtB,IAAIy4C,GAAsB,EAC1B,MAAQA,GAAqB,CACzB,IAAIC,EAAQ,CACRptD,KAAM4S,EAAEtS,IACRy9C,KAAMnrC,EAAEzE,IACR2iC,MAAOl+B,EAAE+6B,MAEb,OAAQyf,EAAMptD,MACV,KAAK,EACL,KAAK,EACD4S,EAAEwsB,KAAK,GACPguB,EAAMphC,OAAS,CACXc,SAAU,CAACla,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3By+C,YAAa,CAACh6C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,MAElCyE,EAAEwsB,KAAK,KACPxsB,EAAEwsB,KAAKxsB,EAAE+6B,MACT,MAEJ,KAAK,EACD,MAEJ,KAAK,EACDyf,EAAM3K,QAAU7vC,EAAE88B,KAAK,IACvB,MAEJ,KAAK,EACD98B,EAAEwsB,KAAK,IACP,MAEJ,KAAK,EACD+tB,GAAsB,EACtB,MAEJ,KAAK,EACDv6C,EAAEwsB,KAAK,IACP,MAEJ,KAAK,EACDxsB,EAAEwsB,KAAK,GACP,MAEJ,KAAK,EACDxsB,EAAEwsB,KAAK,GACPxsB,EAAEwsB,KAAKxsB,EAAE+6B,KAAO,IAChB,MAEJ,KAAK,EACD/6B,EAAEwsB,KAAKxsB,EAAE+6B,MACT,MAEJ,QAAS,CACL,MAAMj5B,EAAS27B,OAAOz9B,EAAE+sC,OAAS,GAAG0N,SAAS,IACvCC,EAAM,CACR,qBAAqBF,EAAMptD,QAC3B,gBAAgB0U,MAClB0jC,KAAK,IACP,MAAM,IAAIr1B,MAAMuqC,EACpB,EAEJf,EAAY5oD,GAAGupD,OAAO3vC,KAAK6vC,EAC/B,CACJ,CACA,OAAO,IAAIvsB,EAAOtE,EAAQgwB,EAC9B,CACA,+BAAOgB,CAAyB9qC,GAC5B,IAAI7P,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GAE5B,GAAc,WADF7P,EAAE88B,KAAK,GAEf,MAAM,IAAI3sB,MAAM,yBAEpB,IAAIwZ,EAAS,CAAC,EACdA,EAAO2vB,aAAet5C,EAAE+6B,KACxBpR,EAAO4vB,YAAcv5C,EAAE+6B,KACvBpR,EAAO7P,QAAU9Z,EAAE88B,KAAK,KACxBnT,EAAO6vB,QAAUx5C,EAAE88B,KAAK,KACxBnT,EAAO6mB,OAASxwC,EAAEjP,IAClB44B,EAAO8vB,UAAYz5C,EAAE+6B,KACrB/6B,EAAEk8B,KAAKvS,EAAO8vB,WACd,IAAIY,EAAiBr6C,EAAE+6B,KACnB4e,EAAc,GAClB,IAAK,IAAI5oD,EAAI,EAAGA,EAAIspD,IAAkBtpD,EAClC4oD,EAAYhvC,KAAK,CACbivC,GAAI55C,EAAE+6B,KACNxsB,KAAMvO,EAAE88B,KAAK,IACblC,MAAO56B,EAAE+6B,KACTqZ,QAASp0C,EAAEjP,IACXo6C,KAAMnrC,EAAEzE,IACRysB,OAAQhoB,EAAE+6B,KACVj5B,OAAQ9B,EAAE+6B,KACV9pC,OAAQ+O,EAAE+6B,KACVuf,OAAQ,KAGhB,IAAI9L,GAAgB,EAAIL,EAAYyM,2BAChCd,EAAiB,GACrB,IAAK,IAAI/oD,EAAI,EAAGA,EAAI4oD,EAAY1oD,SAAUF,EAAG,CACzCiP,EAAEk8B,KAAKyd,EAAY5oD,GAAG+Q,QACtB,IAAIy4C,GAAsB,EAC1B,MAAQA,GAAqB,CACzB,IAAIC,EAAQ,CACRptD,KAAM4S,EAAEtS,IACRy9C,KAAMnrC,EAAEzE,IACR2iC,MAAOl+B,EAAE+6B,MAEb,OAAQyf,EAAMptD,MACV,KAAK,EACL,KAAK,EAAG,CACJ4S,EAAEwsB,KAAK,GACPguB,EAAMphC,OAAS,CACXc,SAAU,CAACla,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3By+C,YAAa,CAACh6C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC9Bs/C,QAAS,CAAC76C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC1BX,MAAO,CAACoF,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACxByB,GAAI,CAACgD,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,MAEzBi/C,EAAMM,UAAY,CACdC,UAAW/6C,EAAEzE,IACb4vC,KAAMnrC,EAAEzE,IACR04C,aAAcj0C,EAAEjP,IAChBs3C,OAAQroC,EAAEjP,IACViqD,UAAWh7C,EAAEjP,IACbkqD,SAAUj7C,EAAEjP,IACZmqD,WAAYl7C,EAAEjP,IACdoqD,SAAU,CAACn7C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3B2gB,OAAQ,CAAClc,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACzB6/C,WAAY,CAACp7C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC7B8/C,WAAYr7C,EAAEzE,IACd+/C,WAAY,CAACt7C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC7Bm3B,OAAQ1yB,EAAEjP,IACVymD,eAAgB,CAACx3C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KACjCggD,SAAUv7C,EAAEzE,IACZigD,WAAY,CAACx7C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC7BkgD,WAAYz7C,EAAEjP,IACd2qD,WAAY17C,EAAEjP,IACd4qD,YAAa37C,EAAEjP,IACf6qD,YAAa57C,EAAEjP,IACf8qD,aAAc77C,EAAEjP,IAChB+qD,SAAU97C,EAAEjP,IACZgrD,UAAW/7C,EAAEjP,IACbirD,QAASh8C,EAAEjP,IACXkrD,aAAcj8C,EAAEjP,IAChBwoB,SAAU,CAACvZ,EAAEjP,IAAKiP,EAAEjP,IAAKiP,EAAEjP,IAAKiP,EAAEjP,KAClCmrD,SAAUl8C,EAAEjP,IACZorD,eAAgBn8C,EAAEjP,KAEtBypD,EAAM4B,QAAU,CACZC,UAAWr8C,EAAExQ,IACb8sD,KAAMt8C,EAAEu8B,KACRggB,QAASv8C,EAAEu8B,KACX+e,WAAY,CAACt7C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC7BihD,YAAax8C,EAAEzE,IACfkhD,SAAUz8C,EAAEzE,IACZmhD,OAAQ18C,EAAEzE,IACVohD,WAAY38C,EAAEtS,IACdkvD,QAAS58C,EAAEu8B,KACXgI,QAASvkC,EAAEo8B,KACXygB,QAAS78C,EAAEtS,IACXovD,aAAc98C,EAAEtS,IAChBqvD,OAAQ/8C,EAAExQ,IACVwtD,YAAah9C,EAAEjP,IACfksD,eAAgB,CAACj9C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,MAErCi/C,EAAM0C,SAAW,CACbnH,QAAS/1C,EAAEzE,IACXy6C,UAAWh2C,EAAEzE,IACb06C,SAAUj2C,EAAEzE,IACZ26C,kBAAmBl2C,EAAEzE,IACrB46C,aAAcn2C,EAAEzE,IAChB66C,gBAAiBp2C,EAAEzE,IACnB86C,kBAAmBr2C,EAAEzE,IACrB+6C,SAAUt2C,EAAEzE,IACZg7C,aAAcv2C,EAAEzE,IAChBi7C,cAAex2C,EAAEzE,IACjBk7C,cAAez2C,EAAEzE,IACjBm7C,OAAQ12C,EAAEzE,IACVo7C,SAAU32C,EAAEzE,IACZq7C,YAAa52C,EAAEzE,IACfs7C,KAAM72C,EAAEzE,IACR81B,WAAYrxB,EAAEzE,IACdu7C,UAAW92C,EAAEjP,IACbomD,QAASn3C,EAAE88B,KAAK,IAChBia,UAAW/2C,EAAEzE,IACby7C,UAAWh3C,EAAEzE,IACb07C,SAAU,CAACj3C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3B27C,OAAQ,CAACl3C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,MAE7Bi/C,EAAMr0C,KAAO,CAACnG,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC9Bi/C,EAAM2C,UAAYn9C,EAAEjP,IACpBypD,EAAM4C,kBAAoBp9C,EAAEjP,IAC5BypD,EAAM6C,sBAAwBr9C,EAAEjP,IAChCypD,EAAM8C,+BAAiCt9C,EAAEjP,IACzCypD,EAAM+C,2BAA6Bv9C,EAAEjP,IACrCypD,EAAMgD,kBAAoBx9C,EAAEjP,IAC5BypD,EAAMiD,kBAAoBz9C,EAAEjP,IAC5BypD,EAAMkD,uBAAyB19C,EAAEjP,IACjC,IACI4sD,EADkB39C,EAAE+6B,KACa/6B,EAAE+sC,OAEvC,IADAyN,EAAMoD,UAAY,GACX59C,EAAE+sC,OAAS4Q,GAAc,CAC5B,IAAIvwD,EAAO4S,EAAEu8B,KACb,GAAa,IAATnvC,EACA,SAEC,GAAIA,GAAQ,GAAI,CACb0sD,EAAe1sD,IAAS0sD,EAAe1sD,GAAM+4B,MAAQ,EACrDnmB,EAAEwsB,KAAKstB,EAAe1sD,GAAM+4B,MAG5BnmB,EAAEwsB,KAAKxsB,EAAEu8B,MAEb,QACJ,CACA,IAAIqhB,EAAYxE,EAAkBnL,gBAAgB19B,KAAKvQ,EAAG5S,EAAMohD,GAC5DoP,GACa,KAATxwD,IACA0sD,EAAe8D,EAAUvsC,OAASusC,GAEtCpD,EAAMoD,UAAUjzC,KAAK,CAAEvd,OAAMwwD,eAG7B59C,EAAEk8B,KAAKyhB,EAEf,CACA39C,EAAEk8B,KAAKyhB,GACP,KACJ,CACA,KAAK,EACD,MAEJ,KAAK,EACDnD,EAAM3K,QAAU7vC,EAAE88B,KAAK,IACvB,MAEJ,KAAK,EACD0d,EAAM7I,WAAa,CACfz3B,SAAU,CAACla,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3B4gB,SAAU,CAACnc,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3BsiD,YAAa79C,EAAE+6B,KACfl/B,IAAKmE,EAAEzE,KAEX,MAEJ,KAAK,EACDg/C,GAAsB,EACtB,MAEJ,KAAK,EACDC,EAAM9tC,MAAQ,CACVkuB,MAAO56B,EAAE+6B,KACT1pB,MAAOrR,EAAE+6B,KACT1G,MAAOr0B,EAAEzE,IACTu0C,KAAM,CACFlV,MAAO56B,EAAE+6B,KACTgU,YAAa/uC,EAAE+6B,KACf7gB,SAAU,CAACla,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3B4gB,SAAU,CAACnc,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3B4/C,SAAU,CAACn7C,EAAEzE,IAAKyE,EAAEzE,IAAKyE,EAAEzE,KAC3BuiD,QAAS99C,EAAE+6B,KACXgjB,QAAS/9C,EAAEzE,IACXyiD,QAASh+C,EAAEzE,IACX0iD,QAASj+C,EAAEjP,IACXmtD,QAASl+C,EAAEjP,IACXotD,QAASn+C,EAAEjP,IACXqtD,QAASp+C,EAAEjP,MAGnB,MAEJ,KAAK,EACDypD,EAAM6D,gBAAkB,CACpBjY,UAAWpmC,EAAEjP,IACbutD,KAAMt+C,EAAEjP,KAEZ,MAEJ,KAAK,EACDypD,EAAMhiC,MAAQ,CACV02B,QAASlvC,EAAEjP,IACXopD,OAAQn6C,EAAE88B,KAAK98B,EAAE+6B,MACjBiU,YAAahvC,EAAEzE,IACfgxC,OAAQvsC,EAAEzE,IACVq/B,MAAO56B,EAAE+6B,KACT7H,MAAOlzB,EAAEjP,KAEb,MAEJ,KAAK,EACDiP,EAAEwsB,KAAKxsB,EAAE+6B,MACT,MAEJ,QAAS,CACL,MAAMj5B,EAAS27B,OAAOz9B,EAAE+sC,OAAS,GAAG0N,SAAS,IACvCC,EAAM,qBAAqBF,EAAMptD,qBAAqB0U,IAC5D,MAAM,IAAIqO,MAAMuqC,EACpB,EAEJf,EAAY5oD,GAAGupD,OAAO3vC,KAAK6vC,EAC/B,CACJ,CACA,OAAO,IAAIvsB,EAAOtE,EAAQgwB,EAC9B,CACA,sBAAOzrB,CAAgBre,GACnB,MAAMzB,EAAO,IAAI6qC,EAAkBsF,gBAC7BC,EAAQ3uC,EAAOkgC,OAAOnf,MAAM,MAC5B6tB,EAAaD,EAAMxzC,QACzB,GAAIyzC,GAAcA,EAAWC,WAAW,UAAW,CAC/C,MAAMC,EAAc,eACdC,EAAUH,EAAWI,MAAMF,GACjC,GAAIC,EAAS,CACT,IAAIE,EAASF,EAAQ1mC,KAAI2mC,GAASA,EAAM1yC,QAAQ,KAAM,MACtDiC,EAAKub,OAAS,CACVo1B,WAAYD,EAAO,GACnBE,UAAWF,EAAO,GAClBG,eAAgBH,EAAO,IAE3B1wC,EAAK+8B,KAAO/8B,EAAK8wC,iBAAiBJ,EAAO,GAC7C,CACJ,CAkBA,OAjBAN,EAAM58C,SAAQsqC,IACV,GAAIA,EAAKwS,WAAW,QAAS,CACzB,MAAMS,EAAQjT,EAAKtb,MAAM,OAAOvkB,MAAM,GAChC6xB,EAAQ,CACVhiB,OAAQ,CAAC2U,WAAWsuB,EAAM,IAAKtuB,WAAWsuB,EAAM,IAAKtuB,WAAWsuB,EAAM,KACtEhjC,SAAU,CAAC0U,WAAWsuB,EAAM,IAAKtuB,WAAWsuB,EAAM,IAAKtuB,WAAWsuB,EAAM,KACxEhE,SAAU,CAACtqB,WAAWsuB,EAAM,IAAKtuB,WAAWsuB,EAAM,IAAKtuB,WAAWsuB,EAAM,KACxE5a,QAAS1b,SAASs2B,EAAM,GAAI,IAC5BpJ,QAASllB,WAAWsuB,EAAM,KAC1BC,IAAKvuB,WAAWsuB,EAAM,KACtBE,QAASx2B,SAASs2B,EAAM,IAAK,IAC7BG,KAAMz2B,SAASs2B,EAAM,IAAK,KAE9B/wC,EAAKmxC,SAASrhB,EAClB,KAEJxgB,QAAQzZ,IAAI,mBACL,CAAEmK,OACb,CACA,sBAAOoxC,CAAgB3vC,GACnB,IAAI7P,EAAI,IAAIi5B,EAAS6B,OAAOjrB,GAC5B,IAxfU,CAAC7P,GAEE,WADLA,EAAE88B,KAAK,GAufV2iB,CAAUz/C,GACX,MAAM,IAAImQ,MAAM,8BAEpB,IAKIuvC,EACAC,EACAC,EACAC,EAEAC,EAVAzsC,EAAO,GACPm7B,GAAgB,EAAIL,EAAYyM,2BAChCd,EAAiB,GACjBnwB,EAAS0vB,EAAWr5C,GACpB25C,EAAcD,EAAgB15C,EAAG2pB,EAAO8vB,WAKxCzsC,EAAQ,IAAImsC,EAAc4G,YAI9B,IAFAD,EAAqBnG,EAAY,GAAG73C,OAAS63C,EAAY,GAAG1oD,OAC5D+O,EAAEk8B,KAAKyd,EAAY,GAAG73C,QACf9B,EAAE+sC,OAAS+S,GAAoB,CAClC,IAAI5hB,EAAQ2b,EAAU75C,EAAGwuC,EAAesL,GAExC,GADA9sC,EAAMgzC,UAAU9hB,GACZA,EAAM5pB,MACN,MAAM,IAAInE,MAAM,0CAEpB,GAAI+tB,EAAM9wC,KAAO,EAAG,CAChB,IAAIgjD,EAAalS,EAAM9vB,KAAK6N,MAAMy+B,GAAQA,EAAIttD,OAASgsD,EAAkBnL,gBAAgB8K,IAAIkH,aACzF7P,IACAsP,EAAa,IAAI1G,EAAYkH,UAAU9P,EAAWhiC,KAAK2iC,aACvD19B,EAAK1I,KAAK+0C,IAEd,IAAI9J,EAAe1X,EAAM9vB,KAAK6N,MAAMy+B,GAAQA,EAAIttD,OAASgsD,EAAkBnL,gBAAgB8K,IAAIoH,eAC3FvK,GAAgB8J,GAChBA,EAAWU,aAAaxK,EAAaxnC,KAE7C,CACJ,CACA,KAAMsxC,aAAsB1G,EAAYkH,WACpC,MAAM,IAAI/vC,MAAM,+BAOpB,IALA0vC,EAAkB7/C,EAAE+sC,OACpB4S,EAAe,IAAIzG,EAAcmH,YAAYrzC,EAAO,GACpD0yC,EAAWY,SAASX,GACpBG,EAAqBnG,EAAY,GAAG73C,OAAS63C,EAAY,GAAG1oD,OAC5D+O,EAAEk8B,KAAKyd,EAAY,GAAG73C,UACT,CACT,IAAIA,EAAS9B,EAAE+sC,OACf,GAAIjrC,GAAUg+C,EAAoB,CAC9B,IAAIS,EAAaX,EAAUzU,KAAOwU,EAAaa,UAC/Cb,EAAaY,WAAaA,EAC1B,IAAIE,EAAkB3+C,EAAS+9C,EAC/B7/C,EAAEk8B,KAAK2jB,GACPF,EAAae,QAAQ1gD,EAAE08B,KAAK+jB,EAAiBxnB,EAAS0D,eAAeC,QACrE58B,EAAEk8B,KAAKp6B,GACP,KACJ,CACA,IAAIo8B,EAAQ2b,EAAU75C,EAAGwuC,EAAesL,GAGxC,GAFA9sC,EAAMgzC,UAAU9hB,GAChB0hB,EAAY1hB,EACRA,EAAM5pB,MACN,MAAM,IAAInE,MAAM,0CAEpB,GAAI+tB,EAAM9wC,KAAO,EAAG,CAChB,IAAIgjD,EAAalS,EAAM9vB,KAAK6N,MAAMy+B,GAAQA,EAAIttD,OAASgsD,EAAkBnL,gBAAgB8K,IAAIkH,aAC7F,GAAI7P,EAAY,CACZsP,EAAa,IAAI1G,EAAYkH,UAAU9P,EAAWhiC,KAAK2iC,aACvD19B,EAAK1I,KAAK+0C,GACV,IAAIa,EAAaX,EAAUzU,KAAOwU,EAAaa,UAC/Cb,EAAaY,WAAaA,EAC1B,IAAIE,EAAkB3+C,EAAS+9C,EAC3Bc,EAAa3gD,EAAE+sC,OACnB/sC,EAAEk8B,KAAK2jB,GACPF,EAAae,QAAQ1gD,EAAE08B,KAAK+jB,EAAiBxnB,EAAS0D,eAAeC,QACrE58B,EAAEk8B,KAAKykB,GACPd,EAAkB/9C,EAClB69C,EAAe,IAAIzG,EAAcmH,YAAYrzC,EAAOkxB,EAAMiN,MAC1DuU,EAAWY,SAASX,EACxB,CACA,IAAI/J,EAAe1X,EAAM9vB,KAAK6N,MAAMy+B,GAAQA,EAAIttD,OAASgsD,EAAkBnL,gBAAgB8K,IAAIoH,eAI/F,GAHIvK,GACA8J,EAAWU,aAAaxK,EAAaxnC,MAErCgiC,EACA,SAEJ,IAAK,IAAIr/C,EAAI,EAAGA,EAAImtC,EAAM9vB,KAAKnd,SAAUF,EAAG,CACxC,IAAIslB,EAAU6nB,EAAM9vB,KAAKrd,GACzB,GAAIslB,EAAQjpB,OAASgsD,EAAkBnL,gBAAgB8K,IAAI6H,OACvDvqC,EAAQjpB,OAASgsD,EAAkBnL,gBAAgB8K,IAAI8H,iBAAkB,CACzE,IAAIroC,EAAQknC,EAAWoB,UAAUvtC,OAAO0I,MAAMzsB,GAAMA,EAAE6hB,QAAUgF,EAAQjI,KAAK6gC,aACzEz2B,IACAA,EAAMuoC,MAAO,EAErB,MACK,GAAI1qC,EAAQjpB,OAASgsD,EAAkBnL,gBAAgB8K,IAAIiI,UAAW,CACvE,IAAIztC,EAASmsC,EAAWoB,UAAUvtC,OAC9Bq8B,EAAWv5B,EAAQjI,KAAKwhC,SAC5B,IAAK,IAAI7+C,EAAI,EAAGA,EAAI6+C,EAAS3+C,SAAUF,EAAG,CACtC,IAAI8+C,EAAUD,EAAS7+C,GACnBi/C,EAAOH,EAAQG,KACnB,IAAc,UAATA,GAA6B,QAATA,IACK,IAA1BH,EAAQ38B,OAAOjiB,OAAc,CAC7B,IAAIgwD,EAAYpR,EAAQ38B,OAAO,GAAK,OAChCsF,EAAQjF,EAAO0I,MAAMzsB,GAAMA,EAAE+e,OAAS0yC,IACtCzoC,IACAA,EAAMuoC,MAAO,EAErB,CACJ,CACJ,CACJ,CACJ,MACK,GAAmB,IAAf7iB,EAAM9wC,KAAY,CACvB,IAAIorB,EAAQknC,EAAWoB,UAAUvtC,OAAO0I,MAAMzsB,GAAMA,EAAE+e,OAAS2vB,EAAM1lB,MAAM2hC,SACvE3hC,IACAA,EAAMuoC,MAAO,EAErB,CACA,GAAIpB,EAAaa,UAAY,GAAKtiB,EAAMiN,KAAM,CAC1C,IAAIsV,EAAkB3+C,EAAS+9C,EAC3Bc,EAAa3gD,EAAE+sC,OACnB/sC,EAAEk8B,KAAK2jB,GACPF,EAAae,QAAQ1gD,EAAE08B,KAAK+jB,EAAiBxnB,EAAS0D,eAAeC,QACrE58B,EAAEk8B,KAAKykB,GACPd,EAAkB/9C,EAClB69C,EAAe,IAAIzG,EAAcmH,YAAYrzC,EAAOkxB,EAAMiN,MAC1DuU,EAAWY,SAASX,EACxB,CACJ,CACA,MAAO,CACH1uD,OAAQ0oD,EAAY,GAAGxO,KACvB93B,OACAm7B,gBACAsL,iBAER,CACA,iBAAOT,CAAWr5C,GACd,OAAOq5C,EAAWr5C,EACtB,CACA,sBAAO05C,CAAgB15C,EAAG8B,GACtB,OAAO43C,EAAgB15C,EAAG8B,EAC9B,CACA,gBAAO+3C,CAAU75C,EAAGwuC,EAAesL,GAC/B,OAAOD,EAAU75C,EAAGwuC,EAAesL,EACvC,CACA,oBAAOI,CAAcl6C,EAAGwuC,EAAesL,GACnC,OAAOD,EAAU75C,EAAGwuC,EAAesL,EACvC,EAEJvtD,EAAQ0hC,OAASA,+BCnpBjBxe,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ8zD,iBAAc,EACtB,MAAMpnB,EAAW,EAAQ,MAiBzB1sC,EAAQ8zD,YAhBR,MACI,WAAAp2C,CAAYi3C,EAAcV,GACtBj2C,KAAKyC,MAAQk0C,EAAanzD,QAC1Bwc,KAAKi2C,UAAYA,EACjBj2C,KAAKg2C,WAAa,GAClBh2C,KAAK6D,KAAO,KACZ7D,KAAK42C,OAAS,IAClB,CACA,OAAAT,CAAQtyC,GACJ7D,KAAK6D,KAAO,IAAI0B,WAAW1B,EAAKnd,QAChC,IAAK,IAAIF,EAAI,EAAGA,EAAIqd,EAAKnd,SAAUF,EAC/BwZ,KAAK6D,KAAKrd,GAAKqd,EAAKrd,GAExBwZ,KAAK42C,OAAS,IAAIloB,EAAS6B,OAAOvwB,KAAK6D,KAAKyB,OAChD,8BCjBJJ,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQgyD,gBAAkBhyD,EAAQ60D,aAAU,EAC5C,MAAMA,EACF,WAAAn3C,CAAY1I,GACRgJ,KAAKhJ,IAAMA,CACf,CACA,IAAAjC,CAAKknC,EAAI1vC,GACL,OAAO,IAAIsqD,EAAQ,CAAC72C,KAAKhJ,IAAI,IAAMilC,EAAGjlC,IAAI,GAAKgJ,KAAKhJ,IAAI,IAAMzK,EAC1DyT,KAAKhJ,IAAI,IAAMilC,EAAGjlC,IAAI,GAAKgJ,KAAKhJ,IAAI,IAAMzK,EAC1CyT,KAAKhJ,IAAI,IAAMilC,EAAGjlC,IAAI,GAAKgJ,KAAKhJ,IAAI,IAAMzK,GAClD,EAEJvK,EAAQ60D,QAAUA,EAgBlB70D,EAAQgyD,gBAfR,MACI,WAAAt0C,GACIM,KAAKof,OAAS,CAAEo1B,WAAY,GAAIC,UAAW,GAAIC,eAAgB,IAC/D10C,KAAKyd,OAAS,GACdzd,KAAKtZ,OAAS,EACdsZ,KAAK4gC,KAAO,CAChB,CACA,QAAAoU,CAASrhB,GACL3zB,KAAKyd,OAAOrd,KAAKuzB,GACjB3zB,KAAKtZ,QAAU,CACnB,CACA,gBAAAiuD,CAAiBmC,GACb,OAIR,SAAiCA,GAC7B,MAAMC,EAAgBD,EAAWl1C,QAAQ,IAAK,KACvCo1C,EAAYC,GAAcF,EAAc1wB,MAAM,KAC/C6wB,EAAU54B,SAAS04B,EAAY,KAC9BG,EAASC,GAAmBH,EAAW5wB,MAAM,KAC9CgxB,EAAgB/4B,SAAS64B,EAAS,IAClCG,EAAeh5B,SAAS84B,GAAmB,IAAK,IAEtD,OADqC,GAAVF,EAAe,IAAyB,IAAhBG,EAAwBC,CAE/E,CAbeC,CAAwBT,EACnC,+BC1BJ5xC,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ2zD,eAAY,EACpB,MAAM35B,EAAS,EAAQ,MAiDvBh6B,EAAQ2zD,UAhDR,MACI,WAAAj2C,CAAY83C,GACRx3C,KAAKgE,MAAO,EAAIgY,EAAOiX,UAAUukB,EAAa,QAC9Cx3C,KAAKy3C,OAAS,GACdz3C,KAAKu2C,UAAY,CACbvtC,OAAQ,GACR0uC,MAAO,GACPrvC,OAAQ,GACRsvC,OAAQ,GACR3M,OAAQ,GACR78B,OAAQ,GAEhB,CACA,YAAA0nC,CAAaU,GACTA,EAAUl/C,SAAQugD,IACd,OAAQA,EAAI/0D,MACR,KAAK,EACD+0D,EAAIpB,MAAO,EACXx2C,KAAKu2C,UAAUvtC,OAAO5I,KAAKw3C,GAC3B,MAEJ,KAAK,EACD53C,KAAKu2C,UAAUmB,MAAMt3C,KAAKw3C,GAC1B,MAEJ,KAAK,EACD53C,KAAKu2C,UAAUluC,OAAOjI,KAAKw3C,GAC3B,MAEJ,KAAK,EACD53C,KAAKu2C,UAAUoB,OAAOv3C,KAAKw3C,GAC3B,MAEJ,KAAK,EACD53C,KAAKu2C,UAAUvL,OAAO5qC,KAAKw3C,GAC3B,MAEJ,KAAK,EACD53C,KAAKu2C,UAAUpoC,OAAO/N,KAAKw3C,GAGnC,GAER,CACA,QAAA7B,CAAS8B,GACL73C,KAAKy3C,OAAOr3C,KAAKy3C,EACrB,8BCjDJ3yC,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQwzD,iBAAc,EACtB,MAAMA,EACF,WAAA91C,CAAYo4C,EAAM,MACVA,GACA93C,KAAK+3C,UAAYC,KAAKl0B,MAAMk0B,KAAKC,UAAUH,EAAIC,YAC/C/3C,KAAKk4C,UAAYF,KAAKl0B,MAAMk0B,KAAKC,UAAUH,EAAII,YAC/Cl4C,KAAKmI,SAAW6vC,KAAKl0B,MAAMk0B,KAAKC,UAAUH,EAAI3vC,aAG9CnI,KAAK+3C,UAAY,CAAC,EAAG,EAAG,GACxB/3C,KAAKk4C,UAAY,CAAC,EAAG,EAAG,GACxBl4C,KAAKmI,SAAW,GAExB,CACA,SAAAstC,CAAU9hB,GACN,OAAQA,EAAM9wC,MACV,KAAK,EACL,KAAK,EACDmd,KAAK+3C,UAAU,GAAKpkB,EAAM9kB,OAAOc,SAAS,GAC1C3P,KAAK+3C,UAAU,GAAKpkB,EAAM9kB,OAAOc,SAAS,GAC1C3P,KAAK+3C,UAAU,GAAKpkB,EAAM9kB,OAAOc,SAAS,GAC1C3P,KAAKk4C,UAAU,GAAKvkB,EAAM9kB,OAAO4gC,YAAY,GAC7CzvC,KAAKk4C,UAAU,GAAKvkB,EAAM9kB,OAAO4gC,YAAY,GAC7CzvC,KAAKk4C,UAAU,GAAKvkB,EAAM9kB,OAAO4gC,YAAY,GAIzD,CACA,KAAAjsD,GACI,OAAO,IAAIgyD,EAAYx1C,KAC3B,EAEJhe,EAAQwzD,YAAcA,6BCjCtBtwC,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQkjD,UACR,SAAmBhB,GACf,IAAIiU,EAAUjU,EAAGn9B,SAAS,GACtBqxC,EAAelU,EAAGn9B,SAAS,GAC/B,IAAKoxC,IAAYC,EACb,OAAO,EAEX,IAAI/O,EAAOnF,EAAGn9B,SAAS,GACnBsxC,EAAW,EACXC,EAAgB,EAChBH,IACAE,EAAWnU,EAAGn9B,SAAS,KAEvBqxC,IACAE,EAAgBpU,EAAGn9B,SAAS,IAEhC,IAAIxE,EAAQ81C,EAAWC,EAAgB,GACnCjP,IACA9mC,GAASA,GAEb,OAAOA,CACX,+BCtBA2C,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQquD,6BAA0B,EAClCruD,EAAQqiD,UAER,SAAmBH,EAAIqU,GACnB,IAAI10C,EAAO,CAAC,EACR20C,EAAetU,EAAGn9B,SAAS,GAC3B0xC,EAAW,GACf,IAAK,IAAIjyD,EAAI,EAAGA,EAAIgyD,IAAgBhyD,EAChCiyD,EAASr4C,KAAK8jC,EAAGn9B,SAAS,IAE9B,IAAI2xC,GAAM,EACV,IAAK,IAAIlyD,EAAI,EAAGA,EAAIgyD,IAAgBhyD,EAAG,CACnC,IAAK,IAAIoU,EAAI,EAAGA,EAAI,IAAKA,EAAG,CACxB,IAAIkM,EAAQlM,EAAQ,EAAJpU,EAChB,GAAIsgB,IAAUyxC,EAAG7xD,OAAQ,CACrBgyD,GAAM,EACN,KACJ,CACA,GAAID,EAASjyD,GAAM,GAAKoU,EACpB,GAAI29C,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUmV,QACxC,GAAIL,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUoV,UAAW,CACnD,IAAIxP,EAAOnF,EAAGn9B,SAAS,IAAM,EAAI,EAC7BxE,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,KAAO,GACrCozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAASqlC,EAAO9mC,EAASu2C,CAC5C,KACK,CACD,IAAIv2C,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,MAC9BozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAAQzB,EAAQu2C,CACnC,MAEC,GAAIP,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUsV,SAC7C,GAAIR,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUoV,UAAW,CACnD,IAAIxP,EAAOnF,EAAGn9B,SAAS,IAAM,EAAI,EAC7BxE,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,KAAO,GACrCozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAASqlC,EAAO9mC,EAASu2C,CAC5C,KACK,CACD,IAAIv2C,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,MAC9BozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAAQzB,EAAQu2C,CACnC,MAEC,GAAIP,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUuV,WAC7C,GAAIT,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUoV,UAAW,CACnD,IAAIxP,EAAOnF,EAAGn9B,SAAS,IAAM,EAAI,EAC7BxE,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,KAAO,GACrCozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAASqlC,EAAO9mC,EAASu2C,CAC5C,KACK,CACD,IAAIv2C,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,MAC9BozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAAQzB,EAAQu2C,CACnC,MAEC,GAAIP,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUwV,UAC7CV,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUyV,iBACxCX,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAU0V,kBACxC,GAAIZ,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAUoV,UAAW,CACnD,IAAIxP,EAAOnF,EAAGn9B,SAAS,IAAM,EAAI,EAC7BxE,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,KAAO,GACrCozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAASqlC,EAAO9mC,EAASu2C,CAC5C,KACK,CACD,IAAIv2C,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,MAC9BozC,EAAUP,EAAGzxC,GAAOgyC,QACxBj1C,EAAK00C,EAAGzxC,GAAO9C,MAAQzB,EAAQu2C,CACnC,MAEC,GAAIP,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAU2V,SAAU,CACvD,IAAI72C,EAAQ2hC,EAAGn9B,SAASwxC,EAAGzxC,GAAOpB,MAC9B2zC,EAAa,KAAO,GAAKd,EAAGzxC,GAAOpB,MACvC7B,EAAK00C,EAAGzxC,GAAO9C,MAAQzB,EAAQ82C,CACnC,MACSd,EAAGzxC,GAAOupB,MAAQsoB,EAAYlV,UAAU6V,YAC7Cz1C,EAAK00C,EAAGzxC,GAAO9C,MAAQkgC,EAAGz8B,aAGtC,CACA,GAAIixC,EACA,KAER,CACA,OAAO70C,CACX,EAtFA,MAAM80C,EAAc,EAAQ,MAuF5B,MAAMY,EAAuB,CACzBC,oBAAqB,CACjB,CACIx1C,KAAM,QACN0B,KAAM,GACNozC,QAAS,EACTzoB,MAAOsoB,EAAYlV,UAAUuV,YAEjC,CACIh1C,KAAM,OACN0B,KAAM,EACNozC,QAAS,EACTzoB,MAAOsoB,EAAYlV,UAAU6V,WAEjC,CACIt1C,KAAM,SACN0B,KAAM,GACNozC,QAAS,EACTzoB,MAAOsoB,EAAYlV,UAAUuV,YAEjC,CACIh1C,KAAM,OACN0B,KAAM,EACNozC,QAAS,EACTzoB,MAAOsoB,EAAYlV,UAAUuV,YAEjC,CACIh1C,KAAM,OACN0B,KAAM,EACNozC,QAAS,EACTzoB,MAAOsoB,EAAYlV,UAAUuV,YAEjC,CACIh1C,KAAM,UACN0B,KAAM,GACNozC,QAAS,IACTzoB,MAAOsoB,EAAYlV,UAAUwV,UAEjC,CACIj1C,KAAM,gBACN0B,KAAM,GACNozC,QAAS,IACTzoB,MAAOsoB,EAAYlV,UAAUwV,YAKzCj3D,EAAQquD,wBADwB,IAAOnrC,OAAO+D,OAAO,CAAC,EAAGswC,gCCxIzDr0C,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQqvB,kBAAe,EACvB,MAAMoB,EAAc,EAAQ,MACtB7H,EAAe,EAAQ,MACvBgkC,EAAgB,EAAQ,MACxBF,EAAoB,EAAQ,MAC5B+K,EAAa,CAACltC,EAAM9J,KACtB8J,EAAKsC,OAAOc,SAAS,GAAKlN,EAAMs1C,UAAU,GAC1CxrC,EAAKsC,OAAOc,SAAS,GAAKlN,EAAMs1C,UAAU,GAC1CxrC,EAAKsC,OAAOc,SAAS,GAAKlN,EAAMs1C,UAAU,GAC1CxrC,EAAKsC,OAAO+C,SAAS,GAAKa,EAAYG,SAAS5vB,SAASyf,EAAMy1C,UAAU,IACxE3rC,EAAKsC,OAAO+C,SAAS,GAAKa,EAAYG,SAAS5vB,SAASyf,EAAMy1C,UAAU,IACxE3rC,EAAKsC,OAAO+C,SAAS,GAAKa,EAAYG,SAAS5vB,SAASyf,EAAMy1C,UAAU,GAAG,EA8I/El2D,EAAQqvB,aA5IR,MACI,WAAA3R,CAAY6M,GACRvM,KAAK05C,UAAY,EACjB15C,KAAK25C,UAAY,EACjB35C,KAAK45C,WAAa,EAClB55C,KAAK65C,UAAY,EACjB75C,KAAK8gC,aAAe,EACpB9gC,KAAKs/B,YAAc,EACnBt/B,KAAK69B,WAAY,EACjB79B,KAAKyM,UAAW,EAChBzM,KAAK85C,MAAQ,EACb95C,KAAK+5C,QACL/5C,KAAKuM,KAAOA,EACZvM,KAAKyC,MAAQ,IAAImsC,EAAc4G,YAC/Bx1C,KAAKuN,OAAS,KACdvN,KAAKmO,QAAS,EAAIvD,EAAa0G,mBACnC,CACA,KAAAyoC,GAUI,GATA/5C,KAAK25C,UAAY,EACjB35C,KAAK05C,UAAY,EACjB15C,KAAK65C,UAAY,EACjB75C,KAAK8gC,aAAe,EACpB9gC,KAAK45C,WAAa,EAClB55C,KAAKs/B,YAAc,EACnBt/B,KAAK69B,WAAY,EACjB79B,KAAKyM,UAAW,EAChBzM,KAAK85C,MAAQ,EACT95C,KAAKuN,OAAQ,CACbvN,KAAKuM,KAAKsF,SAAS7R,KAAKuN,OAAO1J,KAAKub,OAAOo1B,WAAa,IAAMx0C,KAAKuN,OAAO1J,KAAKub,OAAOq1B,UAAY,IAAMz0C,KAAKuN,OAAO1J,KAAKub,OAAOs1B,gBAChI,IAAIsF,EAAah6C,KAAKuN,OAAO1J,KAAK4Z,OAAO,GACrChb,EAAQ,IAAImsC,EAAc4G,YAC9B/yC,EAAMs1C,UAAYiC,EAAWroC,OAC7BlP,EAAMy1C,UAAY8B,EAAWpoC,SAC7B5R,KAAKyC,MAAQA,EACbzC,KAAK65C,UAAa75C,KAAKuN,OAAO1J,KAAK+8B,KAAO5gC,KAAKuN,OAAO1J,KAAK4Z,OAAO/2B,OAAU,GAChF,CACJ,CACA,YAAA8mB,CAAaD,GACTvN,KAAKuN,OAASA,EACdvN,KAAK+5C,OACT,CACA,IAAA/c,GACSh9B,KAAK69B,UAGD79B,KAAKyM,WACVzM,KAAKyM,UAAW,GAHhBzM,KAAK69B,WAAY,EAKrB79B,KAAKmO,OAAOC,KAAK,OACrB,CACA,KAAAypB,GACQ73B,KAAK69B,YACL79B,KAAKyM,UAAW,GAEpBzM,KAAKmO,OAAOC,KAAK,QACrB,CACA,IAAA6rC,GACIj6C,KAAK+5C,QACL/5C,KAAKmO,OAAOC,KAAK,OACrB,CACA,OAAAivB,GACIr9B,KAAK85C,MAAQp3D,KAAK2R,IAAiB,EAAb2L,KAAK85C,MAAW,EAC1C,CACA,SAAA3c,GACIn9B,KAAK85C,MAAQp3D,KAAKW,IAAI2c,KAAK85C,MAAQ,EAAG,IAC1C,CACA,IAAAnoB,CAAKtiB,GACGrP,KAAK8gC,cAAgB9gC,KAAKuN,OAAO1J,KAAK4Z,OAAO/2B,OAAS,GACtDsZ,KAAK+5C,QAET1qC,GAAMrP,KAAK85C,MACX95C,KAAKs/B,aAAejwB,EACpB,MAAM6qC,EAAgBl6C,KAAK65C,UAQ3B,GAPA75C,KAAK45C,YAAcvqC,EACfrP,KAAK45C,YAAcM,IACnBl6C,KAAK45C,YAAcM,EACnBl6C,KAAK05C,UAAY15C,KAAK8gC,aACtB9gC,KAAK25C,UAAY35C,KAAK8gC,aAAe,EACrC9gC,KAAK8gC,gBAEL9gC,KAAK8gC,aAAe,EAAG,CACvB,MAAMv0C,EAAIyT,KAAK45C,WAAaM,EACtBC,EAAgBn6C,KAAKuN,OAAO1J,KAAK4Z,OAAOzd,KAAK05C,WAC7CU,EAAgBp6C,KAAKuN,OAAO1J,KAAK4Z,OAAOzd,KAAK25C,WAC7CU,EAAkB,IAAI3L,EAAkBmI,QAAQsD,EAAcxoC,QAAQ5c,KAAK,IAAI25C,EAAkBmI,QAAQuD,EAAczoC,QAASplB,GAChI+tD,EAAkB,CAAC,EAAG,EAAG,GAC/BA,EAAgB,GAAKt6C,KAAKpG,MAAMugD,EAAcvoC,SAAS,GAAIwoC,EAAcxoC,SAAS,GAAIrlB,GACtF+tD,EAAgB,GAAKt6C,KAAKpG,MAAMugD,EAAcvoC,SAAS,GAAIwoC,EAAcxoC,SAAS,GAAIrlB,GACtF+tD,EAAgB,GAAKt6C,KAAKpG,MAAMugD,EAAcvoC,SAAS,GAAIwoC,EAAcxoC,SAAS,GAAIrlB,GACtFyT,KAAKyC,MAAMs1C,UAAYsC,EAAgBrjD,IACvCgJ,KAAKyC,MAAMy1C,UAAYoC,EACvBb,EAAWz5C,KAAKuM,KAAMvM,KAAKyC,MAC/B,CACJ,CACA,KAAA7I,CAAM3W,EAAGE,EAAGksB,GACRpsB,GAAQ,IACRE,GAAQ,IACR,MAAM+T,EAAO8I,KAAKu6C,QAAQt3D,EAAGE,GAC7B,OAAIT,KAAKU,IAAIH,EAAIE,GAAK,IACdF,EAAIE,GACIF,EAAI,IAAMiU,EAAOmY,EAAK,KAAO,IAAM,KAGnCpsB,EAAI,IAAMiU,EAAOmY,EAAK,KAAO,IAAM,IAI3CpsB,EAAIE,GACIF,EAAI,IAAMiU,EAAOmY,EAAK,KAAO,IAAM,KAGnCpsB,EAAI,IAAMiU,EAAOmY,EAAK,KAAO,IAAM,GAGvD,CACA,OAAAkrC,CAAQt3D,EAAGE,GACP,MAAMq3D,EAAU93D,KAAKU,IAAIH,EAAIE,GAC7B,OAAO,IAAQT,KAAKU,IAAIo3D,EAAU,IACtC,CACA,aAAAtZ,CAAc3+B,GACVA,EAAQ7f,KAAKW,IAAI,EAAGX,KAAK2R,IAAIkO,EAAO,MAAQ,IAC5CvC,KAAKs/B,YAAct/B,KAAKuN,OAAO1J,KAAK+8B,KAAOr+B,EAAQ,IACnDvC,KAAK8gC,aAAep+C,KAAK4R,MAAM0L,KAAKuN,OAAO1J,KAAK4Z,OAAO/2B,OAAS6b,GAChEvC,KAAK05C,UAAY15C,KAAK8gC,aACtB9gC,KAAK25C,UAAY35C,KAAK8gC,aACtB9gC,KAAKyC,MAAMs1C,UAAY/3C,KAAKuN,OAAO1J,KAAK4Z,OAAOzd,KAAK8gC,cAAcnvB,OAClE3R,KAAKyC,MAAMy1C,UAAYl4C,KAAKuN,OAAO1J,KAAK4Z,OAAOzd,KAAK8gC,cAAclvB,SAClE6nC,EAAWz5C,KAAKuM,KAAMvM,KAAKyC,MAC/B,CACA,MAAA6M,CAAOD,GACH,IAAKrP,KAAK69B,WAAa79B,KAAKyM,SACxB,OAEJzM,KAAK2xB,KAAKtiB,EAKd,gCCxJJnK,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQojC,WAAQ,EAChB,MAAMja,EAAgB,EAAQ,MAC9B,MAAMia,EACF,WAAA1lB,CAAY4F,GACRtF,KAAK8G,OAAS,EACd9G,KAAKgE,KAAO,GACZhE,KAAKsF,OAASA,CAClB,CACA,aAAOhiB,CAAOgiB,GACV,OAAO,IAAIT,SAAQ,CAACG,EAAS+b,KACzB5V,EAAc2F,YAAYmC,aAAawnC,gBAAgBn1C,GAASA,IAC5DN,EAAQ,IAAIogB,EAAM9f,GAAQ,IAC1Bwd,IACA/B,EAAO+B,EAAI,GACb,GAEV,EAEJ9gC,EAAQojC,MAAQA,+BCnBhBlgB,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ8uB,iBAAc,EACtB,MAAMlG,EAAe,EAAQ,MACvB8vC,EAAMnwC,OAENowC,EAAe,IADQD,EAAIE,cAAgBF,EAAIG,oBA6DrD74D,EAAQ8uB,YA3DR,MACI,WAAApR,GACIM,KAAKC,QAAU06C,EACf36C,KAAKmO,QAAS,EAAIvD,EAAa0G,oBAC/B,MAAM0wB,EAAS1b,WAAWw0B,aAAaC,QAAQ,WAAa,OAC5DD,aAAaE,QAAQ,SAAUhZ,EAAOkO,YACtClwC,KAAKi7C,SAAW,GAChBj7C,KAAKk7C,cAAgB,EACrBl7C,KAAKm7C,WAAan7C,KAAKC,QAAQm7C,aAC/Bp7C,KAAKm7C,WAAWE,KAAK94C,MAAQy/B,EAC7BhiC,KAAKm7C,WAAWG,QAAQt7C,KAAKC,QAAQs7C,aACrC,IAAK,IAAI/0D,EAAI,EAAGA,EAAI,IAAKA,EACrBwZ,KAAKi7C,SAAS76C,KAAK,CACfyG,OAAQ,KACRw0C,KAAMr7C,KAAKC,QAAQm7C,eAEvBp7C,KAAKi7C,SAASz0D,GAAG60D,KAAKC,QAAQt7C,KAAKm7C,WAE3C,CACA,iBAAOloC,GACH,OAAO0nC,CACX,CACA,IAAA3d,CAAK/uB,EAAO02B,EAAS3C,GACjBhiC,KAAKi6C,KAAKtV,GACV,MAAM0W,EAAOr7C,KAAKi7C,SAAStW,GAAS0W,KACpCA,EAAKA,KAAK94C,MAAQ7f,KAAKW,IAAI,EAAGX,KAAK2R,IAAI,EAAG2tC,IAC1C,MAAMn7B,EAAS7G,KAAKC,QAAQu7C,qBAC5B30C,EAAOvB,OAAS2I,EAAM3I,OACtBuB,EAAOy0C,QAAQD,GACfx0C,EAAO40C,MAAM,GACbz7C,KAAKi7C,SAAStW,GAAS99B,OAASA,CACpC,CACA,IAAAozC,CAAKtV,GACD,MAAM99B,EAAS7G,KAAKi7C,SAAStW,GAAS99B,OAClCA,GACAA,EAAOozC,KAAK,EAEpB,CACA,SAAA5a,GACI,OAAOr/B,KAAKm7C,WAAWE,KAAK94C,KAChC,CACA,SAAA68B,CAAU78B,GACN,MAAMxC,EAAUC,KAAKm7C,WAAWE,KAAK94C,MACjCxC,EAAU,GAAe,IAAVwC,IACfvC,KAAKk7C,cAAgBn7C,GAEzBC,KAAKm7C,WAAWE,KAAK94C,MAAQA,EAC7Bu4C,aAAaE,QAAQ,SAAUz4C,EAAM2tC,YACrClwC,KAAKmO,OAAOC,KAAK,eAAgB7L,EACrC,CACA,UAAAg7B,GAC6B,IAArBv9B,KAAKq/B,YACLr/B,KAAKo/B,UAAUp/B,KAAKk7C,eAGpBl7C,KAAKo/B,UAAU,EAEvB,8BC/DJl6B,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQ0+C,WAAa1+C,EAAQotB,SAAM,EACnC,MAAMsrC,EAAMnwC,OACZ,IAAImxC,EACuB,oBAAhBC,cACHA,YAAYvsC,MACZssC,EAAO,IAAMhB,EAAIiB,YAAYvsC,MAExBsrC,EAAIiB,YAAYC,OACrBF,EAAO,IAAMhB,EAAIiB,YAAYC,SAExBlB,EAAIiB,YAAYE,MACrBH,EAAO,IAAMhB,EAAIiB,YAAYE,QAExBnB,EAAIiB,YAAYG,KACrBJ,EAAO,IAAMhB,EAAIiB,YAAYG,OAExBpB,EAAIiB,YAAYI,UACrBL,EAAO,IAAMhB,EAAIiB,YAAYI,YAExBC,KAAK5sC,MACVssC,EAAO,IAAMM,KAAK5sC,QAG1BptB,EAAQotB,IAAMssC,GAAQ,MAAO,IAAIM,MAAOC,WAQxCj6D,EAAQ0+C,WAPYyW,IAChB,MAAMvhD,EAAIlT,KAAK0R,MAAM+iD,EAAU,IACzBlyD,EAAIvC,KAAK0R,MAAM+iD,EAAc,GAAJvhD,GAG/B,OAFWA,EAAI,GAAK,IAAMA,EAAIA,EAAEs6C,YAEpB,KADDjrD,EAAI,GAAK,IAAMA,EAAIA,EAAEirD,WACZ,6BC9BxBhrC,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQixC,SAER,SAAkBipB,EAAMrmC,GACpB,OAAOqmC,EAAKp6C,MAAMo6C,EAAKC,YAAY,KAAO,GAAGv6C,QAAQiU,GAAa,GAAI,GAC1E,EAHA7zB,EAAQghC,QAIR,SAAiBk5B,GACb,MAAME,EAAWF,EAAKC,YAAY,KAC5BE,EAASH,EAAKC,YAAY,KAChC,OAAIC,EAAWC,EACJH,EAAKp6C,MAAMu6C,GAGX,EAEf,6BCfAn3C,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,IACtDvgB,EAAQohC,IACR,SAAa8qB,EAAKvlC,GACd,IAAI0a,EAAS1a,EAAO0a,QAAU,MAC1BC,EAAW3a,EAAO2a,SAClBC,EAAmB5a,EAAO4a,iBAC9B,IAAK2qB,EACD,MAAM,IAAItoC,MAAM,yBAEpB,OAAO,IAAIf,SAAQ,CAACG,EAAS+b,KACzB,IAAInX,EAAU,IAAI0yC,eACdh5B,IACA1Z,EAAQ2yC,aAAe,eAEvBj5B,GAAYC,GACZ3Z,EAAQ7H,iBAAiB,YAAYI,IACjC,GAAIA,EAAMq6C,iBACNj5B,EAAiB3Z,EAASzH,EAAMs6C,OAASt6C,EAAMw+B,WAE9C,CACD,IAAI+b,EAAW9yC,EAAQ+yC,kBAAkB,kBACrChc,EAAQ,EACR+b,IACA/b,EAAQra,WAAWo2B,IAEvB,IAAIE,EAAWhzC,EAAQ+yC,kBAAkB,oBACzC,GAAIhc,GAASic,GAAYA,EAASt5C,QAAQ,SAAW,EAAG,CACpDq9B,GAAS,EACT,IAAIkc,EAAgBn6D,KAAK2R,IAAI,IAAM8N,EAAMs6C,OAAS9b,GAClDpd,EAAiB3Z,EAASizC,EAC9B,MAEIt5B,EAAiB3Z,EAAS,EAElC,KAGRA,EAAQ7H,iBAAiB,oBAAqBI,IACV,IAA5BA,EAAMzO,OAAOopD,aAGW,MAAxB36C,EAAMzO,OAAOmY,QACT0X,GACAA,EAAiB3Z,EAAS,GAE9B5E,EAAQ7C,EAAMzO,OAAOqpD,WAGrBh8B,EAAO,CACHlV,OAAQ1J,EAAMzO,OAAOmY,SAE7B,IAEJjC,EAAQozC,KAAK35B,EAAQ6qB,GAAK,GAC1BtkC,EAAQqzC,MAAM,GAEtB,+BCxDA,MAAMtlB,EAAS,EAAQ,MACjBulB,EAAW,EAAQ,MACnBC,EAAU,EAAQ,MACxB,MAAMC,EACF,WAAA19C,CAAY6M,GACRvM,KAAKuM,KAAOA,CAChB,CACA,IAAAiF,CAAKxN,GACDhE,KAAKuM,KAAKiF,KAAKxN,EACnB,CACA,QAAA6N,CAAShF,GACL7M,KAAKuM,KAAKsF,SAAShF,EACvB,CACA,QAAAiF,GACI,OAAO9R,KAAKuM,KAAKuF,UACrB,EAGJ,IAAIurC,EADJD,EAAIE,QAAU,QAEd,SAAWD,GAiBPA,EAAS30C,KAhBT,SAAc60C,EAAc50C,GACxB,MAAMyB,EAAO3G,SAAS+5C,cAAcD,GACpC,IAAKnzC,EACD,OAAO,KAEX,MAAMqB,EAASyxC,EAASz0C,OAAOC,KAAKC,GAC9ByY,EAASuW,EAAOjtB,KAAKhC,KAAK+C,GAChC,GAAsB,YAAlB2V,EAAOvV,OAAsB,CAC7B,MAAMU,EAAO6U,EAAO7U,KAIpB,OAHW,IAAI4wC,EAAQ/a,gBAAgB71B,EAAMnC,GAC1CiE,OACH9B,EAAK8B,OACE,IAAI+uC,EAAI7wC,EACnB,CACA,OAAO,IACX,CAEH,CAlBD,CAkBG8wC,IAAaA,EAAW,CAAC,IAC5Bp7D,EAAOD,QAAUq7D,ySCpCjB,IAAII,EAAW,EAIf,MAAMC,EAAax4C,OAAO5hB,OAAO,MAM3Bq6D,EAAkB,CACpB,4BACA,sBACA,qBACA,qBACA,WACA,iBACA,oBACA,eACA,UACA,oBACA,gBACA,OACA,YACA,gBACA,cACA,gBACA,aACA,cACA,YACA,cACA,kBACA,mBACA,oBACA,WACA,eACA,gBACA,iBACA,aACA,cACA,UACA,QACA,UACA,WACA,SACA,UACA,OAEA,eACA,gBACA,eACA,mBACA,oBACA,oBACA,iBACA,gBAGJ,IAAK,MAAMC,KAAYD,EACnB,IAAK,MAAME,IAAU,CAAC,WAAY,OAAQ,QAAS,MAAO,IACtDH,EAAWG,EAASD,IAAY,EA8BxC,SAASE,EAAc5+C,EAAKqD,GACxB,OAAIA,GAA0B,iBAAVA,IAAuBm7C,EAAWx+C,GAC3C,GAAGA,KAAOqD,MAEd,GAAGrD,KAAOqD,GACrB,CAIA,SAASw7C,EAAWx7C,GAChB,OAAOA,EAAM/B,MAAK,CAACvd,EAAGE,IAAOF,EAAE,GAAKE,EAAE,GAAK,GAAK,GACpD,CA6BA,SAAS66D,EAAoBC,GACzB,OAAOA,EACFtwC,KAAI,EAAE3J,EAAMzB,KACR/f,MAAMic,QAAQ8D,GAEZA,EAAMoL,KAAItkB,GAAKy0D,EAAc95C,EAAM3a,KAAI4xC,KAAK,KADxC6iB,EAAc95C,EAAMzB,KAG9B04B,KAAK,IACd,CAIA,SAASijB,EAAYC,EAAU5vC,GAC3B,OAA+B,IAA3B4vC,EAAS76C,QAAQ,KACV,GAAGiL,KAAU4vC,IACjBA,EAASv8C,QAAQ,KAAM2M,EAClC,CAIA,SAAS6vC,EAAQD,EAAUpsB,EAAQssB,EAAWC,EAAY/vC,GACtD,MAAM,MAAE7M,EAAK,OAAE68C,EAAM,SAAEC,GA9C3B,SAAqBzsB,EAAQ0sB,GACzB,MAAMR,EAAa,GACbS,EAAe,GAErB,IAAK,MAAMx/C,KAAOgG,OAAOqL,KAAKwhB,GAAS,CACnC,MAAM/tB,EAAO9E,EAAIsmC,OACXjjC,EAAQwvB,EAAO7yB,GACM,KAAvB8E,EAAKsc,WAAW,IAA8B,MAAT/d,IAChB,iBAAVA,GAAuB/f,MAAMic,QAAQ8D,GAI5C07C,EAAW79C,KAAK,EA7Cbu+C,EA6CwB36C,EA5ChC26C,EACF/8C,QAAQ,UAAWhM,GAAM,IAAIA,EAAEiM,kBAC/BD,QAAQ,OAAQ,SA0CyBW,IAHlCm8C,EAAat+C,KAAK,CAAC4D,EAAMzB,IAMrC,CAhDJ,IAAmBo8C,EAiDf,MAAO,CACHj9C,MAAOs8C,EAAoBD,EAAWE,IACtCM,OAAQE,EAAkBC,EAAeX,EAAWW,GACpDF,WAAYzsB,EAAO6sB,QAE3B,CAyBwCC,CAAY9sB,EAAqB,KAAbosB,GACxD,IAAIW,EAAMp9C,EACV,GAA+B,KAA3By8C,EAAS79B,WAAW,GAAmB,CACvC,MAAMy+B,EAAQ,CACVZ,WACApsB,OAAQ,GACRitB,MAAO,GACPt9C,MAAO6M,EAAS,GAAK7M,GAEzB28C,EAAUj+C,KAAK2+C,GAEXr9C,GAAS6M,GACTwwC,EAAMhtB,OAAO3xB,KAAK,CAAE+9C,SAAU5vC,EAAQ7M,QAAO88C,aAEjD,IAAK,MAAOx6C,EAAMzB,KAAUg8C,EACxBO,GAAO96C,EAAOo6C,EAAQp6C,EAAMzB,EAAOw8C,EAAMC,MAAOD,EAAMhtB,OAAQxjB,EAEtE,KACK,CACD,MAAMrP,EAAMqP,EAAS2vC,EAAYC,EAAU5vC,GAAU4vC,EACjDz8C,GACA48C,EAAWl+C,KAAK,CAAE+9C,SAAUj/C,EAAKwC,QAAO88C,aAC5C,IAAK,MAAOx6C,EAAMzB,KAAUg8C,EACxBO,GAAO96C,EAAOo6C,EAAQp6C,EAAMzB,EAAO87C,EAAWC,EAAYp/C,EAElE,CACA,OAAO4/C,CACX,CAIA,SAASG,EAAeC,EAAOJ,EAAKT,EAAWC,EAAYa,EAAWC,GAClE,IAAK,MAAM,SAAEjB,EAAQ,MAAEz8C,EAAK,SAAE88C,KAAcF,EAAY,CACpD,MAAMp/C,EAAMkgD,EAAUlB,EAAYC,EAAUgB,GAAahB,EACnD9O,EAAKmP,EACL,SAASf,GAAUvN,SAAS,MAC5B,MAAM4O,MAAQp9C,IACdsM,EAAO,IAAIqxC,EAAM39C,EAAO2tC,GAC9BrhC,EAAK9nB,IAAI,IAAIo5D,EAASpgD,EAAK,MAAM4/C,MAAQ5/C,MACzCggD,EAAMh5D,IAAI8nB,EACd,CACA,IAAK,MAAM,SAAEmwC,EAAQ,MAAEz8C,EAAK,MAAEs9C,EAAK,OAAEjtB,KAAYssB,EAAW,CACxD,MAAMrwC,EAAO,IAAIuxC,EAAKpB,EAAUz8C,EAAO,MAAMo9C,MAAQX,MAAaz8C,KAClEu9C,EAAejxC,EAAM8wC,EAAKE,EAAOjtB,EAAQotB,EAAWC,GACpDF,EAAMh5D,IAAI8nB,EACd,CACJ,CAIA,SAASitB,EAAKhX,GACV,IAAI2zB,EAAM,GACV,IAAK,IAAIpxD,EAAI,EAAGA,EAAIy9B,EAAIv9B,OAAQF,IAC5BoxD,GAAO3zB,EAAIz9B,GACf,OAAOoxD,CACX,CAIA,MAAM4H,EAAc,CAChBt5D,IAAK,KAAe,EACpB4jB,OAAQ,KAAe,EACvB21C,OAAQ,KACZ,GAIO,MAAMC,EACT,WAAAhgD,CAAYigD,EAAUH,GAClBx/C,KAAK2/C,QAAUA,EACf3/C,KAAK4/C,MAAQ,GACb5/C,KAAK6/C,SAAW,EAChB7/C,KAAK8/C,MAAQ,GACb9/C,KAAK+/C,UAAY76C,OAAO5hB,OAAO,MAC/B0c,KAAKggD,UAAY96C,OAAO5hB,OAAO,KACnC,CACA,GAAA4C,CAAIwb,GACA,MAAMlK,EAAQwI,KAAKggD,UAAUt+C,EAAM2tC,KAAO,EACpCrhC,EAAOhO,KAAK+/C,UAAUr+C,EAAM2tC,KAAO3tC,EAAMle,QAE/C,GADAwc,KAAKggD,UAAUt+C,EAAM2tC,IAAM73C,EAAQ,EACrB,IAAVA,EACAwI,KAAK+/C,UAAU/xC,EAAKqhC,IAAMrhC,EAC1BhO,KAAK8/C,MAAM1/C,KAAK4N,EAAKqhC,IACrBrvC,KAAK4/C,MAAMx/C,KAAK4N,EAAKiyC,aACrBjgD,KAAK6/C,WACL7/C,KAAK2/C,QAAQz5D,IAAI8nB,EAAMhO,KAAK8/C,MAAMp5D,OAAS,QAE1C,GAAIsnB,aAAgB0xC,GAASh+C,aAAiBg+C,EAAO,CACtD,MAAMQ,EAAWlgD,KAAK8/C,MAAMx8C,QAAQ5B,EAAM2tC,IACpC8Q,EAAmBnyC,EAAK6xC,SAC9B7xC,EAAKoyC,MAAM1+C,GACPsM,EAAK6xC,WAAaM,IAClBngD,KAAK4/C,MAAMp7C,OAAO07C,EAAU,EAAGlyC,EAAKiyC,aACpCjgD,KAAK6/C,WACL7/C,KAAK2/C,QAAQ71C,OAAOkE,EAAMkyC,EAAUA,GAE5C,CACJ,CACA,MAAAT,CAAO/9C,GACH,MAAMlK,EAAQwI,KAAKggD,UAAUt+C,EAAM2tC,IACnC,GAAI73C,EAAO,CACPwI,KAAKggD,UAAUt+C,EAAM2tC,IAAM73C,EAAQ,EACnC,MAAMwW,EAAOhO,KAAK+/C,UAAUr+C,EAAM2tC,IAC5BvoC,EAAQ9G,KAAK8/C,MAAMx8C,QAAQ0K,EAAKqhC,IACtC,GAAc,IAAV73C,SACOwI,KAAKggD,UAAUt+C,EAAM2tC,WACrBrvC,KAAK+/C,UAAUr+C,EAAM2tC,IAC5BrvC,KAAK8/C,MAAMt7C,OAAOsC,EAAO,GACzB9G,KAAK4/C,MAAMp7C,OAAOsC,EAAO,GACzB9G,KAAK6/C,WACL7/C,KAAK2/C,QAAQF,OAAOzxC,EAAMlH,QAEzB,GAAIkH,aAAgB0xC,GAASh+C,aAAiBg+C,EAAO,CACtD,MAAMW,EAAeryC,EAAK6xC,SAC1B7xC,EAAKsyC,QAAQ5+C,GACTsM,EAAK6xC,WAAaQ,IAClBrgD,KAAK4/C,MAAMp7C,OAAOsC,EAAO,EAAGkH,EAAKiyC,aACjCjgD,KAAK6/C,WACL7/C,KAAK2/C,QAAQ71C,OAAOkE,EAAMlH,EAAOA,GAEzC,CACJ,CACJ,CACA,MAAAytC,GACI,OAAOv0C,KAAK8/C,MAAMnyC,KAAIzO,GAAOc,KAAK+/C,UAAU7gD,IAChD,CACA,KAAAkhD,CAAMlB,GACF,IAAK,MAAMlxC,KAAQkxC,EAAM3K,SACrBv0C,KAAK9Z,IAAI8nB,GACb,OAAOhO,IACX,CACA,OAAAsgD,CAAQpB,GACJ,IAAK,MAAMlxC,KAAQkxC,EAAM3K,SACrBv0C,KAAKy/C,OAAOzxC,GAChB,OAAOhO,IACX,CACA,KAAAxc,GACI,OAAO,IAAIk8D,GAAQU,MAAMpgD,KAC7B,EAKG,MAAMs/C,EACT,WAAA5/C,CAAYy+C,EAAU9O,GAClBrvC,KAAKm+C,SAAWA,EAChBn+C,KAAKqvC,GAAKA,CACd,CACA,SAAA4Q,GACI,OAAOjgD,KAAKm+C,QAChB,CACA,KAAA36D,GACI,OAAOwc,IACX,EAKG,MAAMq/C,UAAcK,EACvB,WAAAhgD,CAAYgC,EAAO2tC,GACf9sB,QACAviB,KAAK0B,MAAQA,EACb1B,KAAKqvC,GAAKA,CACd,CACA,SAAA4Q,GACI,MAAO,GAAGjgD,KAAK4/C,MAAM3kB,KAAK,QAAQj7B,KAAK0B,QAC3C,CACA,KAAAle,GACI,OAAO,IAAI67D,EAAMr/C,KAAK0B,MAAO1B,KAAKqvC,IAAI+Q,MAAMpgD,KAChD,EAKG,MAAMu/C,UAAaG,EACtB,WAAAhgD,CAAY6gD,EAAM7+C,EAAO2tC,GACrB9sB,QACAviB,KAAKugD,KAAOA,EACZvgD,KAAK0B,MAAQA,EACb1B,KAAKqvC,GAAKA,CACd,CACA,SAAA4Q,GACI,MAAO,GAAGjgD,KAAKugD,QAAQvgD,KAAK0B,QAAQu5B,EAAKj7B,KAAK4/C,SAClD,CACA,KAAAp8D,GACI,OAAO,IAAI+7D,EAAKv/C,KAAKugD,KAAMvgD,KAAK0B,MAAO1B,KAAKqvC,IAAI+Q,MAAMpgD,KAC1D,EAEJ,SAASd,EAAI4/C,EAAK/sB,GACd,MAAM7yB,EAAM,IApQhB,SAAoBvZ,GAChB,IAAI4c,EAAQ,KACR/V,EAAM7G,EAAIe,OACd,KAAO8F,KACH+V,EAAiB,GAARA,EAAc5c,EAAI26B,WAAW9zB,GAC1C,OAAQ+V,IAAU,GAAG2tC,SAAS,GAClC,CA8PoBsQ,CAAW1B,KAEvB,OAAO5/C,CAEf,CAIO,MAAMuhD,UAAkBf,EAC3B,WAAAhgD,CAAY2vC,EAAIsQ,GACZp9B,MAAMo9B,GACN3/C,KAAKqvC,GAAKA,CACd,CACA,aAAAqR,CAAc3uB,GACV,MAAMssB,EAAY,GACZC,EAAa,GACbQ,EAAMV,EAAQ,IAAKrsB,EAAQssB,EAAWC,GACtCjP,EAAKnwC,EAAI4/C,GAGf,OADAG,EAAej/C,KAAM8+C,EAAKT,EAAWC,EADpB,IAA4CjP,KACF,GACpDA,CACX,CACA,iBAAAsR,CAAkB5kB,GACd,OAAO/7B,KAAK4gD,iBAAiB,aAAc7kB,EAC/C,CACA,gBAAA6kB,CAAiB/C,EAAQ9rB,GACrB,MAAMssB,EAAY,GACZC,EAAa,GACbQ,EAAMV,EAAQ,GAAIrsB,EAAQssB,EAAWC,GACrCjP,EAAKnwC,EAAI4/C,GAETyB,EAAO,IAAIhB,EADA,GAAG1B,KAAkDxO,IACtC,GAAI,MAAMyP,MAAQjB,KAGlD,OAFAoB,EAAesB,EAAMzB,EAAKT,EAAWC,EAAY,IAAI,GACrDt+C,KAAK9Z,IAAIq6D,GACFlR,CACX,CACA,YAAAwR,CAAaN,EAAMxuB,GACf,MAAMssB,EAAY,GACZC,EAAa,GAEnBW,EAAej/C,KADHo+C,EAAQmC,EAAMxuB,EAAQssB,EAAWC,GACnBD,EAAWC,EAAY,IAAI,EACzD,CACA,WAAAwC,CAAY/uB,GACR,OAAO/xB,KAAK6gD,aAAa,GAAI9uB,EACjC,CACA,SAAAkuB,GACI,OAAOhlB,EAAKj7B,KAAK4/C,MACrB,CACA,KAAAp8D,GACI,OAAO,IAAIi9D,EAAUzgD,KAAKqvC,GAAIrvC,KAAK2/C,SAASS,MAAMpgD,KACtD,ECnYG,SAAS+gD,EAAgBC,GAE5B,IAAIjvB,EAAS,CAAC,EACd,IAAK,IAAI7yB,KAAO8hD,EAAQ,CAEpB,IAAIh6C,EAAMg6C,EAAO9hD,GAEjB,GAAY,UAARA,EAAiB,CACjB,IAAIq/C,EAASv3C,EACb,IAAK,IAAIm3C,KAAYI,EAAQ,CACzB,IAAI0C,EAAgB1C,EAAOJ,GAC3BpsB,EAAOosB,GAAY4C,EAAgBE,EACvC,CACJ,KACiB,eAAR/hD,EACL6yB,EAAOmvB,aAAel6C,EAGtB+qB,EAAO7yB,GAAO8H,CAEtB,CACA,OAAO+qB,CACX,CC3BO,IAAIovB,EAAuC,oBAA1B7yC,sBAKlB,SAAU8yC,GAAM,OAAOn8C,WAAWm8C,EAAK,EAKrB,oBAAX72C,OACH+D,sBACAA,sBAAsBvJ,KAAKwF,QAI9B,SAASusB,IAEZ,IADA,IAAIA,EAAU,GACLuqB,EAAK,EAAGA,EAAK56D,UAAUC,OAAQ26D,IACpCvqB,EAAQuqB,GAAM56D,UAAU46D,GAE5B,OAAOvqB,EACFnpB,KAAI,SAAUxoB,GAAK,OAAOA,GAAkB,iBAANA,EAAiB+f,OAAOqL,KAAKprB,GAAGwoB,KAAI,SAAUzO,GAAO,QAAS/Z,EAAE+Z,IAAQA,CAAK,IAAK,CAAC/Z,EAAI,IAC7Hs2C,QAAO,SAAU6lB,EAAWn8D,GAAK,OAAOm8D,EAAUC,OAAOp8D,EAAI,GAAG,IAChE4+B,QAAO,SAAU5+B,GAAK,QAASA,CAAG,IAClC81C,KAAK,IACd,CAKO,SAASumB,IAEZ,IADA,IAAIvsB,EAAU,GACLosB,EAAK,EAAGA,EAAK56D,UAAUC,OAAQ26D,IACpCpsB,EAAQosB,GAAM56D,UAAU46D,GAI5B,IADA,IAAIjgC,EAAS,CAAC,EACLqgC,EAAK,EAAGC,EAAYzsB,EAASwsB,EAAKC,EAAUh7D,OAAQ+6D,IAAM,CAC/D,IAAIT,EAASU,EAAUD,GACvB,GAAc,MAAVT,IAA6B,IAAXA,EAGtB,IAAK,IAAI9hD,KAAO8hD,EAAQ,CAEpB,IAAIh6C,EAAMg6C,EAAO9hD,IACZ8H,GAAe,IAARA,KAIA,UAAR9H,GAAmB8H,EACnBoa,EAAOliB,GAAOkiB,EAAc,MAAIogC,EAAOpgC,EAAc,MAAGpa,GAAOA,GAGnC,IAAtB9H,EAAIoE,QAAQ,MAAyC,IAA1BpE,EAAIoE,QAAQ,UAC7C8d,EAAOliB,GAAOkiB,EAAOliB,GAAOsiD,EAAOpgC,EAAOliB,GAAM8H,GAAOA,EAGvDoa,EAAOliB,GAAO8H,EAEtB,CACJ,CACA,OAAOoa,CACX,CASO,IAAIugC,EAAQ,SAAUC,GAGzB,IAFA,IAAIH,EACAxsB,EAAU,GACLosB,EAAK,EAAGA,EAAK56D,UAAUC,OAAQ26D,IACpCpsB,EAAQosB,EAAK,GAAK56D,UAAU46D,GAEhC,IAAIQ,EAAqB,GAqBzB,OApBID,EAAW/+D,MACXg/D,EAAmBzhD,KAAKwhD,EAAW/+D,MACnC++D,EAAWnS,aACXoS,EAAmBzhD,KAAK,iBAAmBwhD,EAAWnS,YAAc,KACpEmS,EAAWtqB,UACXuqB,EAAmBzhD,KAAK,eAAiB0hD,EAAYF,EAAWtqB,UAAY,KAC5EsqB,EAAWG,UACXF,EAAmBzhD,KAAK,eAAiB0hD,EAAYF,EAAWG,UAAY,KAC5EH,EAAWI,WACXH,EAAmBzhD,KAAK,gBAAkB0hD,EAAYF,EAAWI,WAAa,KAC9EJ,EAAWK,WACXJ,EAAmBzhD,KAAK,gBAAkB0hD,EAAYF,EAAWK,WAAa,KAC9EL,EAAWM,oBACXL,EAAmBzhD,KAAK,0BAA4BwhD,EAAWM,mBAAqB,KAE3E,CACTjpB,OAAQwoB,EAAK,CAAC,EACVA,EAHe,UAAYI,EAAmB5mB,KAAK,UAG5BumB,EAAOx5C,WAAM,EAAQitB,GAC5CwsB,GAGZ,EACIK,EAAc,SAAUv/C,GACxB,MAAwB,iBAAVA,EAAqBA,EAAQA,EAAQ,IACvD,EClGI4/C,EAAkB,WAAc,OHyYzB,IAAI1B,EAAU,OAAOhD,GAAUvN,SAAS,MAAOyP,GADnD,IAAgBA,CGxYwC,EAI3DyC,EAA2B,WAC3B,SAASA,EAAUX,GACf,IAAIY,EAAQriD,KACRsiD,EAAkBb,EAAGa,gBAOzBtiD,KAAKuiD,OAAS,SAAUC,GACfA,IAGLH,EAAMI,MAAQD,GAAkB,GAChCH,EAAMK,mBAAoB,EAC1BL,EAAMM,gBACV,EAIA3iD,KAAK4iD,QAAU,SAAUzE,GAErB,IADA,IAAIlpB,EAAU,GACLosB,EAAK,EAAGA,EAAK56D,UAAUC,OAAQ26D,IACpCpsB,EAAQosB,EAAK,GAAK56D,UAAU46D,GAEhC,IAAItvB,EAASgvB,EAAgBS,EAAOx5C,WAAM,EAAQitB,IAClDotB,EAAMQ,WAAWhC,aAAa1C,EAAUpsB,GACxCswB,EAAMM,eAEV,EAMA3iD,KAAK8iD,kBAAoB,WACrB,IAAIpvD,EAAS2uD,EAAMU,UACdrvD,IAGLA,EAAOsvD,YAAcX,EAAMpC,YAC/B,EAIAjgD,KAAKijD,SAAW,WAEZ,IADA,IAAIA,EAAW,GACN5B,EAAK,EAAGA,EAAK56D,UAAUC,OAAQ26D,IACpC4B,EAAS5B,GAAM56D,UAAU46D,GAG7B,IADA,IAAI6B,EAAYb,EAAMQ,WACbpB,EAAK,EAAG0B,EAAKF,EAAUxB,EAAK0B,EAAGz8D,OAAQ+6D,IAAM,CAClD,IAAIxkC,EAAOkmC,EAAG1B,GACdyB,EAAUrC,aAAa,aAAc5jC,EACzC,CACAolC,EAAMM,eAEV,EAIA3iD,KAAKigD,UAAY,WACb,OAAQoC,EAAMI,MAAQ,IAAMJ,EAAMQ,WAAW5C,WACjD,EAIAjgD,KAAK+7B,UAAY,SAAUte,GACvB,IAAIse,EFjDT,SAA4Bte,GAC/B,IAAI2D,EAAS,CAAC,EACd,IAAK,IAAI7pB,KAAUkmB,EACA,eAAXlmB,IACA6pB,EAAO7pB,GAAUkmB,EAAOlmB,IAMhC,OAHIkmB,EAAO2lC,aACPhiC,EAAO8/B,aAAezjC,EAAO2lC,YAE1BhiC,CACX,CEsC4BiiC,CAAmB5lC,GAE/Bqe,EAAgBumB,EAAMQ,WAAWlC,kBAAkB5kB,GAEvD,OADAsmB,EAAMM,gBACC7mB,CACX,EAIA97B,KAAKsjD,OAAS,WAEV,IAAIJ,EAAYf,IAChBE,EAAMQ,WAAaK,EACnBb,EAAMkB,uBAAyBL,EAAUrD,SAEzCwC,EAAMI,KAAO,GACbJ,EAAMK,mBAAoB,EAE1B,IAAIhvD,EAAS2uD,EAAMU,UACfrvD,IACAA,EAAOsvD,YAAc,GAE7B,EAEAhjD,KAAKwjD,gBAAkB,SAAUC,GAEzBpB,EAAMqB,OACNrB,EAAMqB,KAAKV,YAAc,IAE7BX,EAAMqB,KAAOD,EAEbpB,EAAMS,mBACV,EAMA9iD,KAAKq3B,WAAa,SAAUP,GAGxB,IAFA,IACI1V,EAAS,CAAC,EACLigC,EAAK,EAAGsC,EAFAz+C,OAAO0+C,oBAAoB9sB,GAEAuqB,EAAKsC,EAAaj9D,OAAQ26D,IAAM,CACxE,IAAIlC,EAAYwE,EAAatC,GACzBwC,EAAW/sB,EAAQqoB,GACnB0E,IACAA,EAAST,WAAajE,EACtB/9B,EAAO+9B,GAAakD,EAAM3gD,MAAMmiD,GAExC,CACA,OAAOziC,CACX,EACA,IAAI8hC,EAAYf,IAChBniD,KAAK8jD,iBAAmBxB,EACxBtiD,KAAK6iD,WAAaK,EAClBljD,KAAKujD,uBAAyBL,EAAUrD,SACxC7/C,KAAK+jD,SAAW,EAChB/jD,KAAK0iD,mBAAoB,EACzB1iD,KAAKyiD,KAAO,GACZziD,KAAK0jD,UAAO7gC,EAEZ7iB,KAAK0B,MAAQ1B,KAAK0B,MAAMqD,KAAK/E,KACjC,CAgDA,OA5CAoiD,EAAUhgD,UAAU4hD,cAAgB,SAAU5C,GAC1C,IAAIiB,EAAQriD,KACZA,KAAK+jD,WACL,IAAIE,EAAUjkD,KAAK+jD,SACnB5C,GAAI,WACI8C,IAAY5B,EAAM0B,UAGtB3C,GACJ,GACJ,EACAgB,EAAUhgD,UAAU2gD,QAAU,WAC1B,GAAI/iD,KAAK0jD,KACL,OAAO1jD,KAAK0jD,KAEhB,GAAI1jD,KAAK8jD,iBAAkB,CACvB,IAAIL,EAAwB,oBAAXl5C,OACX,CAAEy4C,YAAa,IACfv/C,SAASuI,cAAc,SAK7B,MAJwB,oBAAbvI,UACPA,SAASygD,KAAK/jB,YAAYsjB,GAE9BzjD,KAAK0jD,KAAOD,EACLA,CACX,CAEJ,EAEArB,EAAUhgD,UAAUugD,cAAgB,WAChC,IAAIN,EAAQriD,KACR6/C,EAAW7/C,KAAK6iD,WAAWhD,SAC3BsE,EAAenkD,KAAKujD,wBACnBvjD,KAAK0iD,mBAAqB7C,IAAasE,KAG5CnkD,KAAKujD,uBAAyB1D,EAC9B7/C,KAAK0iD,mBAAoB,EACzB1iD,KAAKgkD,eAAc,WAAc,OAAO3B,EAAMS,mBAAqB,IACvE,EACAV,EAAUhgD,UAAUV,MAAQ,WACxB,IAAIy9C,EAAYn/C,KAAK6iD,WAAWnC,cAAcK,EAAgBS,EAAOx5C,WAAM6a,EAAWp8B,aAEtF,OADAuZ,KAAK2iD,gBACExD,CACX,EACOiD,CACX,CAnL8B,aCE1BgC,EAAK,IAAIhC,EAAU,CAAEE,iBAAiB,IAE/BkB,EAAkBY,EAAGZ,gBAOrBjB,EAAS6B,EAAG7B,OAIZK,EAAUwB,EAAGxB,QAMbE,EAAoBsB,EAAGtB,kBAIvBG,EAAWmB,EAAGnB,SAIdhD,EAAYmE,EAAGnE,UAIflkB,EAAYqoB,EAAGroB,UAIfunB,EAASc,EAAGd,OAIZ5hD,EAAQ0iD,EAAG1iD,MAMX21B,EAAa+sB,EAAG/sB,WASpB,SAASgtB,EAAgB3wD,GAC5B,IAAI4wD,EAAW,IAAIlC,EAAU,CAAEE,iBAAiB,IAIhD,OAHI5uD,GACA4wD,EAASd,gBAAgB9vD,GAEtB4wD,CACX,kFCxEO,IAAIhzC,EAAmB,KAAM,CAClC,IAAAlD,CAAKjM,KAAUojC,GACb,IACE,IAAI/+C,EAAI,EACN+9D,EAAYvkD,KAAKmO,OAAOhM,IAAU,GAClCzb,EAAS69D,EAAU79D,OACrBF,EAAIE,EACJF,IAEA+9D,EAAU/9D,MAAM++C,EAEpB,EACAp3B,OAAQ,CAAC,EACT,EAAA6C,CAAG7O,EAAOi/C,GAER,OADEphD,KAAKmO,OAAOhM,KAAW,IAAI/B,KAAKghD,GAC3B,KACLphD,KAAKmO,OAAOhM,GAASnC,KAAKmO,OAAOhM,IAAQ4hB,QAAOv9B,GAAK46D,IAAO56D,GAAC,CAEjE,MCjBEg+D,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB7hC,IAAjB8hC,EACH,OAAOA,EAAa3iE,QAGrB,IAAIC,EAASuiE,EAAyBE,GAAY,CAGjD1iE,QAAS,CAAC,GAOX,OAHA4iE,EAAoBF,GAAU5lD,KAAK7c,EAAOD,QAASC,EAAQA,EAAOD,QAASyiE,GAGpExiE,EAAOD,OACf,QCrBAyiE,EAAoB39D,EAAI,CAAC9E,EAAS6iE,KACjC,IAAI,IAAI3lD,KAAO2lD,EACXJ,EAAoBn1D,EAAEu1D,EAAY3lD,KAASulD,EAAoBn1D,EAAEtN,EAASkd,IAC5EgG,OAAOC,eAAenjB,EAASkd,EAAK,CAAE4lD,YAAY,EAAMC,IAAKF,EAAW3lD,IAE1E,ECNDulD,EAAoBn1D,EAAI,CAACwoD,EAAKkN,IAAU9/C,OAAO9C,UAAU6iD,eAAenmD,KAAKg5C,EAAKkN,GCClFP,EAAoBhvD,EAAKzT,IACH,oBAAXkjE,QAA0BA,OAAOC,aAC1CjgD,OAAOC,eAAenjB,EAASkjE,OAAOC,YAAa,CAAE5iD,MAAO,WAE7D2C,OAAOC,eAAenjB,EAAS,aAAc,CAAEugB,OAAO,GAAO,ECFpCkiD,EAAoB,O1FO9C","sources":["webpack://HLViewer/webpack/universalModuleDefinition","webpack://HLViewer/./node_modules/gl-matrix/esm/common.js","webpack://HLViewer/./node_modules/gl-matrix/esm/mat2.js","webpack://HLViewer/./node_modules/gl-matrix/esm/mat2d.js","webpack://HLViewer/./node_modules/gl-matrix/esm/mat3.js","webpack://HLViewer/./node_modules/gl-matrix/esm/mat4.js","webpack://HLViewer/./node_modules/gl-matrix/esm/vec3.js","webpack://HLViewer/./node_modules/gl-matrix/esm/vec4.js","webpack://HLViewer/./node_modules/gl-matrix/esm/quat.js","webpack://HLViewer/./node_modules/gl-matrix/esm/quat2.js","webpack://HLViewer/./node_modules/gl-matrix/esm/vec2.js","webpack://HLViewer/./node_modules/preact/dist/preact.module.js","webpack://HLViewer/./src/BitReader.ts","webpack://HLViewer/./src/Bsp.ts","webpack://HLViewer/./src/Config.ts","webpack://HLViewer/./src/Fullscreen.ts","webpack://HLViewer/./src/Game.ts","webpack://HLViewer/./src/Graphics/Camera.ts","webpack://HLViewer/./src/Graphics/Context.ts","webpack://HLViewer/./src/Graphics/Renderer.ts","webpack://HLViewer/./src/Graphics/SkyScene.ts","webpack://HLViewer/./src/Graphics/SkyShader/SkyShader.ts","webpack://HLViewer/./src/Graphics/Util.ts","webpack://HLViewer/./src/Graphics/WorldScene.ts","webpack://HLViewer/./src/Graphics/WorldShader/WorldShader.ts","webpack://HLViewer/./src/Input/Keyboard.ts","webpack://HLViewer/./src/Input/Mouse.ts","webpack://HLViewer/./src/Input/Touch.ts","webpack://HLViewer/./src/Loader.ts","webpack://HLViewer/./src/Parsers/BspEntityParser.ts","webpack://HLViewer/./src/Parsers/BspLightmapParser.ts","webpack://HLViewer/./src/Parsers/BspParser.ts","webpack://HLViewer/./src/Parsers/Sprite.ts","webpack://HLViewer/./src/Parsers/Tga.ts","webpack://HLViewer/./src/Parsers/Util.ts","webpack://HLViewer/./src/Parsers/Vdf.ts","webpack://HLViewer/./src/Parsers/Wad.ts","webpack://HLViewer/./src/PlayerInterface/Buttons/FullscreenButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/FullscreenButton/style.ts","webpack://HLViewer/./src/PlayerInterface/Buttons/PauseButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/PlayButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/SettingsButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/SettingsButton/style.ts","webpack://HLViewer/./src/PlayerInterface/Buttons/SpeedDownButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/SpeedDownButton/style.ts","webpack://HLViewer/./src/PlayerInterface/Buttons/SpeedUpButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/VolumeButton/index.tsx","webpack://HLViewer/./src/PlayerInterface/Buttons/VolumeButton/style.ts","webpack://HLViewer/./src/PlayerInterface/Controls.style.ts","webpack://HLViewer/./src/PlayerInterface/FreeMode/index.tsx","webpack://HLViewer/./src/PlayerInterface/FreeMode/style.ts","webpack://HLViewer/./src/PlayerInterface/Loading/index.tsx","webpack://HLViewer/./src/PlayerInterface/Loading/style.ts","webpack://HLViewer/./src/PlayerInterface/ReplayMode/index.tsx","webpack://HLViewer/./src/PlayerInterface/Root.style.ts","webpack://HLViewer/./src/PlayerInterface/Root.tsx","webpack://HLViewer/./src/PlayerInterface/Time/index.tsx","webpack://HLViewer/./src/PlayerInterface/Time/style.ts","webpack://HLViewer/./src/PlayerInterface/TimeLine/index.tsx","webpack://HLViewer/./src/PlayerInterface/TimeLine/style.ts","webpack://HLViewer/./src/PlayerInterface/VolumeControl/index.tsx","webpack://HLViewer/./src/PlayerInterface/VolumeControl/style.ts","webpack://HLViewer/./src/PlayerInterface/index.tsx","webpack://HLViewer/./src/Reader.ts","webpack://HLViewer/./src/Replay/DeltaType.ts","webpack://HLViewer/./src/Replay/FrameDataReader.ts","webpack://HLViewer/./src/Replay/Replay.ts","webpack://HLViewer/./src/Replay/ReplayChunk.ts","webpack://HLViewer/./src/Replay/ReplayCustomMap.ts","webpack://HLViewer/./src/Replay/ReplayMap.ts","webpack://HLViewer/./src/Replay/ReplayState.ts","webpack://HLViewer/./src/Replay/readCoord.ts","webpack://HLViewer/./src/Replay/readDelta.ts","webpack://HLViewer/./src/ReplayPlayer.ts","webpack://HLViewer/./src/Sound.ts","webpack://HLViewer/./src/SoundSystem.ts","webpack://HLViewer/./src/Time.ts","webpack://HLViewer/./src/Util.ts","webpack://HLViewer/./src/Xhr.ts","webpack://HLViewer/./src/index.ts","webpack://HLViewer/./node_modules/free-style/dist.es2015/index.js","webpack://HLViewer/./node_modules/typestyle/lib.es2015/internal/formatting.js","webpack://HLViewer/./node_modules/typestyle/lib.es2015/internal/utilities.js","webpack://HLViewer/./node_modules/typestyle/lib.es2015/internal/typestyle.js","webpack://HLViewer/./node_modules/typestyle/lib.es2015/index.js","webpack://HLViewer/./node_modules/nanoevents/index.js","webpack://HLViewer/webpack/bootstrap","webpack://HLViewer/webpack/runtime/define property getters","webpack://HLViewer/webpack/runtime/hasOwnProperty shorthand","webpack://HLViewer/webpack/runtime/make namespace object","webpack://HLViewer/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"HLViewer\"] = factory();\n\telse\n\t\troot[\"HLViewer\"] = factory();\n})(self, () => {\nreturn ","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","var n,l,u,t,i,o,r,f,e,c,s,a,h={},p=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function w(n){var l=n.parentNode;l&&l.removeChild(n)}function _(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return g(l,f,i,o,null)}function g(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function m(){return{current:null}}function k(n){return n.children}function b(n,l){this.props=n,this.context=l}function x(n,l){if(null==l)return n.__?x(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?x(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!P.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(P)}function P(){var n,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,c=[],s=[],t.__P&&((o=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),O(t.__P,o,r,t.__n,t.__P.namespaceURI,32&r.__u?[e]:null,c,null==e?x(r):e,!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,j(c,o,s),o.__e!=e&&C(o)),i.length>u&&i.sort(f));P.__r=0}function S(n,l,u,t,i,o,r,f,e,c,s){var a,v,y,d,w,_=t&&t.__k||p,g=l.length;for(u.__d=e,$(u,l,_),e=u.__d,a=0;a<g;a++)null!=(y=u.__k[a])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(v=-1===y.__i?h:_[y.__i]||h,y.__i=a,O(n,y,v,i,o,r,f,e,c,s),d=y.__e,y.ref&&v.ref!=y.ref&&(v.ref&&N(v.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),65536&y.__u||v.__k===y.__k?e=I(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=w}function $(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)r=t+a,null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?g(null,i,null,null,null):y(i)?g(k,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?g(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=L(i,u,r,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f==r-1?a--:f==r+1?a++:f>r?s>e-r?a+=f-r:a--:f<r&&(f==r-a?a-=f-r:a++),f!==t+a&&(i.__u|=65536))):(o=u[r])&&null==o.key&&o.__e&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o,!1),u[r]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o))}function I(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=I(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=x(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(y(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type&&0==(131072&e.__u))return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||v.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"===l||\"onFocusIn\"===l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=e,n.addEventListener(l,o?s:c,o)):n.removeEventListener(l,o?s:c,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=e++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,f,e,c,s){var a,h,p,v,w,_,g,m,x,C,M,P,$,I,H,L,T=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(m=u.props,x=\"prototype\"in T&&T.prototype.render,C=(a=T.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?g=(h=u.__c=t.__c).__=h.__E:(x?u.__c=h=new T(m,M):(u.__c=h=new b(m,M),h.constructor=T,h.render=q),C&&C.sub(h),h.props=m,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),x&&null==h.__s&&(h.__s=h.state),x&&null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,T.getDerivedStateFromProps(m,h.__s))),v=h.props,w=h.state,h.__v=u,p)x&&null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),x&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(x&&null==T.getDerivedStateFromProps&&m!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,M),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,M)||u.__v===t.__v)){for(u.__v!==t.__v&&(h.props=m,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,M),x&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,w,_)})}if(h.context=M,h.props=m,h.__P=n,h.__e=!1,$=l.__r,I=0,x){for(h.state=h.__s,h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++I<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),x&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,w)),S(n,y(L=null!=a&&a.type===k&&null==a.key?a.props.children:a)?L:[L],u,t,i,o,r,f,e,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&f.push(h),g&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r){for(u.__u|=c?160:32;e&&8===e.nodeType&&e.nextSibling;)e=e.nextSibling;r[r.indexOf(e)]=null,u.__e=e}else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(l,u,t,i,o,r,f,e,c){var s,a,p,v,d,_,g,m=t.props,k=u.props,b=u.type;if(\"svg\"===b?o=\"http://www.w3.org/2000/svg\":\"math\"===b?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=r)for(s=0;s<r.length;s++)if((d=r[s])&&\"setAttribute\"in d==!!b&&(b?d.localName===b:3===d.nodeType)){l=d,r[s]=null;break}if(null==l){if(null===b)return document.createTextNode(k);l=document.createElementNS(o,b,k.is&&k),r=null,e=!1}if(null===b)m===k||e&&l.data===k||(l.data=k);else{if(r=r&&n.call(l.childNodes),m=t.props||h,!e&&null!=r)for(m={},s=0;s<l.attributes.length;s++)m[(d=l.attributes[s]).name]=d.value;for(s in m)if(d=m[s],\"children\"==s);else if(\"dangerouslySetInnerHTML\"==s)p=d;else if(\"key\"!==s&&!(s in k)){if(\"value\"==s&&\"defaultValue\"in k||\"checked\"==s&&\"defaultChecked\"in k)continue;A(l,s,null,d,o)}for(s in k)d=k[s],\"children\"==s?v=d:\"dangerouslySetInnerHTML\"==s?a=d:\"value\"==s?_=d:\"checked\"==s?g=d:\"key\"===s||e&&\"function\"!=typeof d||m[s]===d||A(l,s,d,m[s],o);if(a)e||p&&(a.__html===p.__html||a.__html===l.innerHTML)||(l.innerHTML=a.__html),u.__k=[];else if(p&&(l.innerHTML=\"\"),S(l,y(v)?v:[v],u,t,i,\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":o,r,f,r?r[0]:t.__k&&x(t,0),e,c),null!=r)for(s=r.length;s--;)null!=r[s]&&w(r[s]);e||(s=\"value\",void 0!==_&&(_!==l[s]||\"progress\"===b&&!_||\"option\"===b&&_!==m[s])&&A(l,s,_,m[s],o),s=\"checked\",void 0!==g&&g!==l[s]&&A(l,s,g,m[s],o))}return l}function N(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function V(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&V(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||w(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],O(t,u=(!o&&i||t).__k=_(k,null,[u]),r||h,h,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),j(f,u,e)}function D(n,l){B(n,l,D)}function E(l,u,t){var i,o,r,f,e=d({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),g(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+a++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=p.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},b.prototype.render=k,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},P.__r=0,e=0,c=F(!1),s=F(!0),a=0;export{b as Component,k as Fragment,E as cloneElement,G as createContext,_ as createElement,m as createRef,_ as h,D as hydrate,t as isValidElement,l as options,B as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitStream = exports.BitView = void 0;\nclass BitView {\n    constructor(buffer) {\n        this.view = new Uint8Array(buffer, 0, buffer.byteLength);\n    }\n    getBits(offset, bits, signed = false) {\n        const available = this.view.length * 8 - offset;\n        if (bits > available) {\n            throw new Error('Bits out of bounds');\n        }\n        let value = 0;\n        for (let i = 0; i < bits;) {\n            const remaining = bits - i;\n            const bitOffset = offset & 7;\n            const currentByte = this.view[offset >> 3];\n            const read = Math.min(remaining, 8 - bitOffset);\n            const mask = (1 << read) - 1;\n            const readBits = (currentByte >> bitOffset) & mask;\n            value |= readBits << i;\n            offset += read;\n            i += read;\n        }\n        if (signed) {\n            if (bits !== 32 && value & (1 << (bits - 1))) {\n                value |= -1 ^ ((1 << bits) - 1);\n            }\n            return value;\n        }\n        return value >>> 0;\n    }\n    getInt8(offset) {\n        return this.getBits(offset, 8, true);\n    }\n    getUint8(offset) {\n        return this.getBits(offset, 8, false);\n    }\n    getInt16(offset) {\n        return this.getBits(offset, 16, true);\n    }\n    getUint16(offset) {\n        return this.getBits(offset, 16, false);\n    }\n    getInt32(offset) {\n        return this.getBits(offset, 32, true);\n    }\n    getUint32(offset) {\n        return this.getBits(offset, 32, false);\n    }\n    getFloat32(offset) {\n        BitView.scratch.setUint32(0, this.getUint32(offset));\n        return BitView.scratch.getFloat32(0);\n    }\n    getFloat64(offset) {\n        BitView.scratch.setUint32(0, this.getUint32(offset));\n        BitView.scratch.setUint32(4, this.getUint32(offset + 32));\n        return BitView.scratch.getFloat64(0);\n    }\n}\nexports.BitView = BitView;\nBitView.scratch = new DataView(new ArrayBuffer(8));\nclass BitStream {\n    constructor(source) {\n        this.view = new BitView(source);\n        this.index = 0;\n    }\n    readBits(bits, signed = false) {\n        const val = this.view.getBits(this.index, bits, signed);\n        this.index += bits;\n        return val;\n    }\n    readInt8() {\n        const val = this.view.getInt8(this.index);\n        this.index += 8;\n        return val;\n    }\n    readUint8() {\n        const val = this.view.getUint8(this.index);\n        this.index += 8;\n        return val;\n    }\n    readInt16() {\n        const val = this.view.getInt16(this.index);\n        this.index += 16;\n        return val;\n    }\n    readUint16() {\n        const val = this.view.getUint16(this.index);\n        this.index += 16;\n        return val;\n    }\n    readInt32() {\n        const val = this.view.getInt32(this.index);\n        this.index += 32;\n        return val;\n    }\n    readUint32() {\n        const val = this.view.getUint32(this.index);\n        this.index += 32;\n        return val;\n    }\n    readFloat32() {\n        const val = this.view.getFloat32(this.index);\n        this.index += 32;\n        return val;\n    }\n    readFloat64() {\n        const val = this.view.getFloat64(this.index);\n        this.index += 64;\n        return val;\n    }\n    readString(bytes = 0, utf8 = false) {\n        let i = 0;\n        const chars = [];\n        let append = true;\n        while (!bytes || (bytes && i < bytes)) {\n            const c = this.readUint8();\n            if (c === 0x00) {\n                append = false;\n                if (!bytes) {\n                    break;\n                }\n            }\n            if (append) {\n                chars.push(c);\n            }\n            i++;\n        }\n        const string = String.fromCharCode.apply(null, chars);\n        if (utf8) {\n            try {\n                return decodeURIComponent(string);\n            }\n            catch (e) {\n                return string;\n            }\n        }\n        else {\n            return string;\n        }\n    }\n}\nexports.BitStream = BitStream;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bsp = void 0;\nclass Bsp {\n    constructor(name, entities, textures, models, lightmap) {\n        this.skies = [];\n        this.sprites = {};\n        this.name = name;\n        this.entities = entities;\n        this.textures = textures;\n        this.models = models;\n        this.lightmap = lightmap;\n    }\n}\nexports.Bsp = Bsp;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Config = void 0;\nclass Config {\n    static init(params) {\n        if (typeof params === 'string') {\n            return new Config({\n                paths: {\n                    base: params,\n                    replays: `${params}/recording`,\n                    maps: `${params}/maps`,\n                    wads: `${params}/wads`,\n                    skies: `${params}/skies`,\n                    sounds: `${params}/sounds`\n                }\n            });\n        }\n        else {\n            return new Config({\n                paths: {\n                    base: (params && params.paths && params.paths.base) || '',\n                    replays: (params && params.paths && params.paths.replays) || '/recording',\n                    maps: (params && params.paths && params.paths.maps) || '/maps',\n                    wads: (params && params.paths && params.paths.wads) || '/wads',\n                    skies: (params && params.paths && params.paths.skies) || '/skies',\n                    sounds: (params && params.paths && params.paths.sounds) || '/sounds'\n                }\n            });\n        }\n    }\n    constructor(params) {\n        this.paths = Object.assign({}, params.paths);\n    }\n    getBasePath() {\n        return this.paths.base;\n    }\n    getReplaysPath() {\n        return this.paths.replays;\n    }\n    getMapsPath() {\n        return this.paths.maps;\n    }\n    getWadsPath() {\n        return this.paths.wads;\n    }\n    getSkiesPath() {\n        return this.paths.skies;\n    }\n    getSoundsPath() {\n        return this.paths.sounds;\n    }\n}\nexports.Config = Config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Fullscreen = void 0;\nconst apis = [\n    {\n        enabled: 'fullscreenEnabled',\n        element: 'fullscreenElement',\n        request: 'requestFullscreen',\n        exit: 'exitFullscreen',\n        change: 'fullscreenchange',\n        error: 'fullscreenerror'\n    },\n    {\n        enabled: 'mozFullScreenEnabled',\n        element: 'mozFullScreenElement',\n        request: 'mozRequestFullScreen',\n        exit: 'mozCancelFullScreen',\n        change: 'mozfullscreenchange',\n        error: 'mozfullscreenerror'\n    },\n    {\n        enabled: 'webkitFullscreenEnabled',\n        element: 'webkitCurrentFullScreenElement',\n        request: 'webkitRequestFullscreen',\n        exit: 'webkitExitFullscreen',\n        change: 'webkitfullscreenchange',\n        error: 'webkitfullscreenerror'\n    },\n    {\n        enabled: 'msFullscreenEnabled',\n        element: 'msFullscreenElement',\n        request: 'msRequestFullscreen',\n        exit: 'msExitFullscreen',\n        change: 'MSFullscreenChange',\n        error: 'MSFullscreenError'\n    }\n];\nlet apiIdx = 0;\nconst doc = document;\nfor (let i = 0; i < apis.length; ++i) {\n    if (typeof doc[apis[i].enabled] !== 'undefined') {\n        apiIdx = i;\n        break;\n    }\n}\nclass Fullscreen {\n    static element() {\n        return doc[apis[apiIdx].element];\n    }\n    static enabled() {\n        return doc[apis[apiIdx].enabled];\n    }\n    static isInFullscreen() {\n        return Fullscreen.element() !== null;\n    }\n    static enter(node) {\n        node[apis[apiIdx].request]();\n    }\n    static exit() {\n        doc[apis[apiIdx].exit]();\n    }\n    static onChange(callback) {\n        return window.addEventListener(apis[apiIdx].change, callback);\n    }\n    static onChangeRemove(callback) {\n        window.removeEventListener(apis[apiIdx].change, callback);\n    }\n    static onError(callback) {\n        return window.addEventListener(apis[apiIdx].error, callback);\n    }\n}\nexports.Fullscreen = Fullscreen;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Game = exports.PlayerMode = void 0;\nconst nanoevents_1 = require(\"nanoevents\");\nconst Time = require(\"./Time\");\nconst Loader_1 = require(\"./Loader\");\nconst Mouse_1 = require(\"./Input/Mouse\");\nconst Touch_1 = require(\"./Input/Touch\");\nconst Camera_1 = require(\"./Graphics/Camera\");\nconst Keyboard_1 = require(\"./Input/Keyboard\");\nconst SoundSystem_1 = require(\"./SoundSystem\");\nconst Context_1 = require(\"./Graphics/Context\");\nconst ReplayPlayer_1 = require(\"./ReplayPlayer\");\nconst Renderer_1 = require(\"./Graphics/Renderer\");\nconst SkyScene_1 = require(\"./Graphics/SkyScene\");\nconst WorldScene_1 = require(\"./Graphics/WorldScene\");\nvar PlayerMode;\n(function (PlayerMode) {\n    PlayerMode[PlayerMode[\"FREE\"] = 0] = \"FREE\";\n    PlayerMode[PlayerMode[\"REPLAY\"] = 1] = \"REPLAY\";\n})(PlayerMode || (exports.PlayerMode = PlayerMode = {}));\nclass Game {\n    static init(config) {\n        const status = Context_1.Context.checkWebGLSupport();\n        if (!status.hasSupport) {\n            return {\n                status: 'error',\n                message: 'No WebGL support!'\n            };\n        }\n        const canvas = document.createElement('canvas');\n        if (!canvas) {\n            return {\n                status: 'error',\n                message: 'Failed to create <canvas> element!'\n            };\n        }\n        const context = Context_1.Context.init(canvas);\n        if (!context) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize WebGL context'\n            };\n        }\n        const renderer = Renderer_1.Renderer.init(context);\n        if (!renderer) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize renderer'\n            };\n        }\n        const worldScene = WorldScene_1.WorldScene.init(context);\n        if (!worldScene) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize world scene'\n            };\n        }\n        const skyScene = SkyScene_1.SkyScene.init(context);\n        if (!skyScene) {\n            return {\n                status: 'error',\n                message: 'Failed to initialize sky scene'\n            };\n        }\n        const game = new Game({\n            canvas,\n            config,\n            context,\n            renderer,\n            worldScene,\n            skyScene\n        });\n        return {\n            status: 'success',\n            game\n        };\n    }\n    constructor(params) {\n        this.pauseTime = 0;\n        this.isPaused = false;\n        this.lastTime = 0;\n        this.accumTime = 0;\n        this.timeStep = 1 / 60;\n        this.title = '';\n        this.pointerLocked = false;\n        this.touch = new Touch_1.Touch();\n        this.mouse = new Mouse_1.Mouse();\n        this.keyboard = new Keyboard_1.Keyboard();\n        this.entities = [];\n        this.onLoadAll = (loader) => {\n            if (loader && loader.replay) {\n                this.changeReplay(loader.replay.data);\n                this.changeMode(PlayerMode.REPLAY);\n            }\n            if (!loader.map || !loader.map.data) {\n                return;\n            }\n            const map = loader.map.data;\n            const skies = loader.skies;\n            let skiesValid = true;\n            skies.forEach(sky => {\n                skiesValid = skiesValid && sky.isDone();\n            });\n            if (skiesValid) {\n                skies.forEach(sky => (sky.data ? map.skies.push(sky.data) : 0));\n            }\n            Object.entries(loader.sprites).forEach(([name, item]) => {\n                if (item.data) {\n                    map.sprites[name] = item.data;\n                }\n            });\n            if (loader.sounds.length > 0) {\n                loader.sounds.forEach(sound => {\n                    if (sound.data) {\n                        this.sounds.push(sound.data);\n                    }\n                });\n            }\n            this.changeMap(map);\n            this.events.emit('load', loader);\n        };\n        this.draw = () => {\n            requestAnimationFrame(this.draw);\n            const canvas = this.canvas;\n            const parent = canvas.parentElement;\n            if (parent) {\n                const pw = parent.clientWidth;\n                const ph = parent.clientHeight;\n                if (canvas.width !== pw || canvas.height !== ph) {\n                    canvas.width = pw;\n                    canvas.height = ph;\n                    this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\n                    this.camera.updateProjectionMatrix();\n                    this.context.gl.viewport(0, 0, this.context.gl.drawingBufferWidth, this.context.gl.drawingBufferHeight);\n                }\n                if (canvas.clientWidth !== canvas.width ||\n                    canvas.clientHeight !== canvas.height) {\n                    canvas.width = canvas.clientWidth;\n                    canvas.height = canvas.clientHeight;\n                    this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\n                    this.camera.updateProjectionMatrix();\n                    this.context.gl.viewport(0, 0, this.context.gl.drawingBufferWidth, this.context.gl.drawingBufferHeight);\n                }\n            }\n            const currTime = Time.now() / 1000;\n            const dt = currTime - this.lastTime;\n            this.accumTime += dt;\n            while (this.accumTime > this.timeStep) {\n                this.update(this.timeStep);\n                this.accumTime -= this.timeStep;\n            }\n            this.renderer.draw();\n            if (this.mapName !== '') {\n                this.skyScene.draw(this.camera);\n                this.worldScene.draw(this.camera, this.entities);\n            }\n            this.lastTime = currTime;\n        };\n        this.onTouchStart = (e) => {\n            const touch = e.touches.item(0);\n            if (touch) {\n                this.touch.pressed = true;\n                this.touch.position[0] = touch.clientX;\n                this.touch.position[1] = touch.clientY;\n            }\n        };\n        this.onTouchEnd = () => {\n            this.touch.pressed = false;\n            this.touch.delta[0] = 0;\n            this.touch.delta[1] = 0;\n        };\n        this.onTouchMove = (e) => {\n            const touch = e.touches.item(0);\n            if (touch && this.touch.pressed) {\n                this.touch.delta[0];\n                this.touch.delta[0] = touch.clientX - this.touch.position[0];\n                this.touch.delta[1] = touch.clientY - this.touch.position[1];\n                this.touch.position[0] = touch.clientX;\n                this.touch.position[1] = touch.clientY;\n            }\n        };\n        this.onMouseMove = (e) => {\n            if (this.pointerLocked) {\n                this.mouse.delta[0] = e.movementX * 0.5;\n                this.mouse.delta[1] = e.movementY * 0.5;\n                this.mouse.position[0] = e.pageX;\n                this.mouse.position[1] = e.pageY;\n            }\n        };\n        this.keyDown = (e) => {\n            this.keyboard.keys[e.which] = 1;\n            if (this.pointerLocked) {\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        };\n        this.keyUp = (e) => {\n            this.keyboard.keys[e.which] = 0;\n            if (this.pointerLocked) {\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        };\n        this.onVisibilityChange = () => {\n            if (document.hidden) {\n                if (this.isPaused) {\n                    return;\n                }\n                this.pauseTime = Time.now() / 1000;\n                this.isPaused = true;\n            }\n            else {\n                if (!this.isPaused) {\n                    return;\n                }\n                this.lastTime = Time.now() / 1000 - this.pauseTime + this.lastTime;\n                this.isPaused = false;\n            }\n        };\n        this.sounds = [];\n        this.soundSystem = new SoundSystem_1.SoundSystem();\n        this.config = params.config;\n        this.loader = new Loader_1.Loader(this.config);\n        this.loader.events.on('loadall', this.onLoadAll);\n        document.addEventListener('touchstart', this.onTouchStart, false);\n        document.addEventListener('touchend', this.onTouchEnd, false);\n        document.addEventListener('touchcancel', this.onTouchEnd, false);\n        document.addEventListener('touchmove', this.onTouchMove, false);\n        document.addEventListener('mousemove', this.onMouseMove, false);\n        window.addEventListener('keydown', this.keyDown);\n        window.addEventListener('keyup', this.keyUp);\n        window.addEventListener('visibilitychange', this.onVisibilityChange);\n        this.canvas = params.canvas;\n        this.camera = Camera_1.Camera.init(this.canvas.width / this.canvas.height);\n        this.context = params.context;\n        this.renderer = params.renderer;\n        this.worldScene = params.worldScene;\n        this.skyScene = params.skyScene;\n        this.mode = PlayerMode.FREE;\n        this.player = new ReplayPlayer_1.ReplayPlayer(this);\n        this.events = (0, nanoevents_1.createNanoEvents)();\n        this.mapName = '';\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    load(name) {\n        this.events.emit('loadstart');\n        this.loader.load(name);\n    }\n    changeMap(map) {\n        if (this.mapName.toLowerCase() === map.name.toLowerCase()) {\n            return;\n        }\n        this.mapName = map.name;\n        this.worldScene.changeMap(map);\n        this.skyScene.changeMap(map);\n        this.entities = map.entities;\n        const spawn = map.entities.find(e => e['classname'] === 'info_player_start');\n        if (spawn) {\n            this.camera.position[0] = spawn.origin[0];\n            this.camera.position[1] = spawn.origin[1];\n            this.camera.position[2] = spawn.origin[2];\n        }\n        else {\n            this.camera.position[0] = 0;\n            this.camera.position[1] = 0;\n            this.camera.position[2] = 0;\n        }\n        this.camera.rotation[0] = 0;\n        this.camera.rotation[1] = 0;\n        this.camera.rotation[2] = 0;\n    }\n    changeReplay(replay) {\n        this.events.emit('prereplaychange', this, replay);\n        this.player.changeReplay(replay);\n        this.events.emit('postreplaychange', this, replay);\n    }\n    changeMode(mode) {\n        this.mode = mode;\n        this.events.emit('modechange', mode);\n    }\n    setTitle(title) {\n        this.title = title;\n        this.events.emit('titlechange', title);\n    }\n    getTitle() {\n        return this.title;\n    }\n    update(dt) {\n        this.events.emit('preupdate', this);\n        const camera = this.camera;\n        const keyboard = this.keyboard;\n        const mouse = this.mouse;\n        const touch = this.touch;\n        if (this.mode === PlayerMode.REPLAY) {\n            this.player.update(dt);\n        }\n        else if (this.mode === PlayerMode.FREE) {\n            if (this.touch.pressed) {\n                camera.rotation[0] = Math.min(Math.max(camera.rotation[0] + touch.delta[1] / 100, -Math.PI / 2), Math.PI / 2);\n                camera.rotation[1] -= touch.delta[0] / 100;\n            }\n            else {\n                camera.rotation[0] = Math.min(Math.max(camera.rotation[0] + mouse.delta[1] / 100, -Math.PI / 2), Math.PI / 2);\n                camera.rotation[1] -= mouse.delta[0] / 100;\n            }\n            const speed = 500;\n            const ds = speed * dt;\n            const KEY_W = Keyboard_1.Keyboard.KEYS.W;\n            const KEY_S = Keyboard_1.Keyboard.KEYS.S;\n            const KEY_A = Keyboard_1.Keyboard.KEYS.A;\n            const KEY_D = Keyboard_1.Keyboard.KEYS.D;\n            const downKey = Keyboard_1.Keyboard.KEYS.C;\n            const upKey = Keyboard_1.Keyboard.KEYS.SPACE;\n            if (keyboard.keys[KEY_W] !== keyboard.keys[KEY_S]) {\n                if (keyboard.keys[KEY_W]) {\n                    camera.position[1] -= Math.cos(camera.rotation[1] + Math.PI / 2) * ds;\n                    camera.position[0] += Math.sin(camera.rotation[1] + Math.PI / 2) * ds;\n                }\n                else if (keyboard.keys[KEY_S]) {\n                    camera.position[1] -= Math.cos(camera.rotation[1] - Math.PI / 2) * ds;\n                    camera.position[0] += Math.sin(camera.rotation[1] - Math.PI / 2) * ds;\n                }\n            }\n            if (keyboard.keys[KEY_A] !== keyboard.keys[KEY_D]) {\n                if (keyboard.keys[KEY_A]) {\n                    camera.position[1] += Math.cos(camera.rotation[1]) * ds;\n                    camera.position[0] -= Math.sin(camera.rotation[1]) * ds;\n                }\n                else if (keyboard.keys[KEY_D]) {\n                    camera.position[1] -= Math.cos(camera.rotation[1]) * ds;\n                    camera.position[0] += Math.sin(camera.rotation[1]) * ds;\n                }\n            }\n            if (keyboard.keys[upKey] !== keyboard.keys[downKey]) {\n                if (keyboard.keys[upKey]) {\n                    camera.position[2] += ds;\n                }\n                else if (keyboard.keys[downKey]) {\n                    camera.position[2] -= ds;\n                }\n            }\n        }\n        mouse.delta[0] = 0;\n        mouse.delta[1] = 0;\n        this.events.emit('postupdate', this);\n    }\n}\nexports.Game = Game;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Camera = void 0;\nconst gl_matrix_1 = require(\"gl-matrix\");\nclass Camera {\n    static init(aspect) {\n        return new Camera(aspect);\n    }\n    constructor(aspect) {\n        this.projectionMatrix = gl_matrix_1.mat4.create();\n        this.fov = gl_matrix_1.glMatrix.toRadian(60);\n        this.near = 1.0;\n        this.far = 8192.0;\n        this.viewMatrix = gl_matrix_1.mat4.create();\n        this.position = gl_matrix_1.vec3.create();\n        this.rotation = gl_matrix_1.vec3.create();\n        this.aspect = aspect;\n        this.updateProjectionMatrix();\n    }\n    updateProjectionMatrix() {\n        gl_matrix_1.mat4.perspective(this.projectionMatrix, this.fov, this.aspect, this.near, this.far);\n    }\n    updateViewMatrix() {\n        gl_matrix_1.mat4.identity(this.viewMatrix);\n        gl_matrix_1.mat4.rotateX(this.viewMatrix, this.viewMatrix, this.rotation[0] - Math.PI / 2);\n        gl_matrix_1.mat4.rotateZ(this.viewMatrix, this.viewMatrix, Math.PI / 2 - this.rotation[1]);\n        gl_matrix_1.mat4.translate(this.viewMatrix, this.viewMatrix, [\n            -this.position[0],\n            -this.position[1],\n            -this.position[2]\n        ]);\n    }\n}\nexports.Camera = Camera;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Context = exports.ShaderType = void 0;\nvar ShaderType;\n(function (ShaderType) {\n    ShaderType[ShaderType[\"VERTEX\"] = 0] = \"VERTEX\";\n    ShaderType[ShaderType[\"FRAGMENT\"] = 1] = \"FRAGMENT\";\n})(ShaderType || (exports.ShaderType = ShaderType = {}));\nclass Context {\n    static init(canvas) {\n        const gl = canvas.getContext('webgl', {\n            alpha: false\n        });\n        if (!gl) {\n            console.error('Failed to get WebGL context');\n            return null;\n        }\n        return new Context(gl);\n    }\n    static checkWebGLSupport() {\n        const MESSAGES = {\n            BAD_BROWSER: 'Your browser does not seem to support WebGL',\n            BAD_GPU: 'Your graphics card does not seem to support WebGL'\n        };\n        const wnd = window;\n        if (!wnd.WebGLRenderingContext) {\n            return {\n                hasSupport: false,\n                message: MESSAGES.BAD_BROWSER\n            };\n        }\n        const c = document.createElement('canvas');\n        try {\n            const ctx = c.getContext('webgl') || c.getContext('experimental-webgl');\n            if (ctx) {\n                return {\n                    hasSupport: true,\n                    message: ''\n                };\n            }\n            else {\n                return {\n                    hasSupport: false,\n                    message: MESSAGES.BAD_GPU\n                };\n            }\n        }\n        catch (e) {\n            return {\n                hasSupport: false,\n                message: MESSAGES.BAD_GPU\n            };\n        }\n    }\n    constructor(gl) {\n        this.gl = gl;\n    }\n    createProgram(params) {\n        const gl = this.gl;\n        var program = gl.createProgram();\n        if (!program) {\n            console.error('Failed to create WebGL program');\n            return null;\n        }\n        const vertexShader = this.createShader({\n            source: params.vertexShaderSrc,\n            type: ShaderType.VERTEX\n        });\n        if (!vertexShader) {\n            console.error('Failed to compile vertex shader');\n            return null;\n        }\n        const fragmentShader = this.createShader({\n            source: params.fragmentShaderSrc,\n            type: ShaderType.FRAGMENT\n        });\n        if (!fragmentShader) {\n            console.error('Failed to compile fragment shader');\n            return null;\n        }\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        gl.linkProgram(program);\n        gl.validateProgram(program);\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n            gl.deleteProgram(program);\n            gl.deleteShader(vertexShader);\n            gl.deleteShader(fragmentShader);\n            const reason = gl.getProgramInfoLog(program);\n            console.error(`Could not initialize shader: ${reason}`);\n            return null;\n        }\n        if (!gl.getProgramParameter(program, gl.VALIDATE_STATUS)) {\n            gl.deleteProgram(program);\n            gl.deleteShader(vertexShader);\n            gl.deleteShader(fragmentShader);\n            const reason = gl.getProgramInfoLog(program);\n            console.error(`Could not initialize shader: ${reason}`);\n            return null;\n        }\n        gl.useProgram(program);\n        const attributes = {};\n        for (let i = 0; i < params.attributeNames.length; ++i) {\n            const name = params.attributeNames[i];\n            const attr = gl.getAttribLocation(program, name);\n            if (attr === -1) {\n                console.error(`gl.getAttribLocation failed for attrib named \"${name}\"`);\n                gl.deleteProgram(program);\n                return null;\n            }\n            attributes[name] = attr;\n        }\n        const uniforms = {};\n        for (let i = 0; i < params.uniformNames.length; ++i) {\n            const name = params.uniformNames[i];\n            const uniform = gl.getUniformLocation(program, name);\n            if (uniform === null) {\n                console.error(`gl.getUniformLocation failed for uniform named \"${name}\"`);\n                gl.deleteProgram(program);\n                return null;\n            }\n            uniforms[name] = uniform;\n        }\n        return {\n            handle: program,\n            attributes,\n            uniforms\n        };\n    }\n    createShader(params) {\n        const gl = this.gl;\n        const shader = params.type === ShaderType.VERTEX\n            ? gl.createShader(gl.VERTEX_SHADER)\n            : gl.createShader(gl.FRAGMENT_SHADER);\n        if (!shader) {\n            console.error('Failed to create shader program');\n            return null;\n        }\n        gl.shaderSource(shader, params.source);\n        gl.compileShader(shader);\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            console.error(gl.getShaderInfoLog(shader));\n            gl.deleteShader(shader);\n            return null;\n        }\n        return shader;\n    }\n    getAnisotropyExtension() {\n        return (this.gl.getExtension('EXT_texture_filter_anisotropic') ||\n            this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n            this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic'));\n    }\n    getMaxAnisotropy(extension) {\n        return this.gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n    }\n}\nexports.Context = Context;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Renderer = void 0;\nclass Renderer {\n    static init(context) {\n        const gl = context.gl;\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.clearDepth(1.0);\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthFunc(gl.LEQUAL);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n        gl.enable(gl.CULL_FACE);\n        gl.cullFace(gl.FRONT);\n        return new Renderer({ context });\n    }\n    constructor(params) {\n        this.draw = () => {\n            const gl = this.context.gl;\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        };\n        this.context = params.context;\n    }\n}\nexports.Renderer = Renderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SkyScene = void 0;\nconst SkyShader_1 = require(\"./SkyShader/SkyShader\");\nclass SkyScene {\n    static init(context) {\n        const shader = SkyShader_1.SkyShader.init(context);\n        if (!shader) {\n            console.error(\"skyscenen't\");\n            return null;\n        }\n        return new SkyScene({ context, shader });\n    }\n    constructor(params) {\n        this.vertexBuffer = null;\n        this.indexBuffer = null;\n        this.texture = null;\n        this.isReady = false;\n        this.context = params.context;\n        this.shader = params.shader;\n    }\n    changeMap(bsp) {\n        if (bsp.skies.length !== 6) {\n            this.isReady = false;\n            return;\n        }\n        const gl = this.context.gl;\n        const vertexBuffer = gl.createBuffer();\n        const indexBuffer = gl.createBuffer();\n        const texture = gl.createTexture();\n        if (!vertexBuffer || !indexBuffer || !texture) {\n            throw new Error('shouldnt happen');\n        }\n        const indices = new Uint8Array([\n            0, 1, 2, 0, 2, 3,\n            4, 5, 6, 4, 6, 7,\n            8, 9, 10, 8, 10, 11,\n            12, 13, 14, 12, 14, 15,\n            16, 17, 18, 16, 18, 19,\n            20, 21, 22, 20, 22, 23,\n        ]);\n        const vertices = new Float32Array([\n            -1.0, -1.0, 1.0, 0.499, 0.001,\n            1.0, -1.0, 1.0, 0.499, 0.249,\n            1.0, 1.0, 1.0, 0.001, 0.249,\n            -1.0, 1.0, 1.0, 0.001, 0.001,\n            -1.0, -1.0, -1.0, 0.499, 0.749,\n            -1.0, 1.0, -1.0, 0.001, 0.749,\n            1.0, 1.0, -1.0, 0.001, 0.501,\n            1.0, -1.0, -1.0, 0.499, 0.501,\n            -1.0, 1.0, -1.0, 0.501, 0.749,\n            -1.0, 1.0, 1.0, 0.501, 0.501,\n            1.0, 1.0, 1.0, 0.999, 0.501,\n            1.0, 1.0, -1.0, 0.999, 0.749,\n            -1.0, -1.0, -1.0, 0.999, 0.249,\n            1.0, -1.0, -1.0, 0.501, 0.249,\n            1.0, -1.0, 1.0, 0.501, 0.001,\n            -1.0, -1.0, 1.0, 0.999, 0.001,\n            1.0, -1.0, -1.0, 0.499, 0.499,\n            1.0, 1.0, -1.0, 0.001, 0.499,\n            1.0, 1.0, 1.0, 0.001, 0.251,\n            1.0, -1.0, 1.0, 0.499, 0.251,\n            -1.0, -1.0, -1.0, 0.501, 0.499,\n            -1.0, -1.0, 1.0, 0.501, 0.251,\n            -1.0, 1.0, 1.0, 0.999, 0.251,\n            -1.0, 1.0, -1.0, 0.999, 0.499\n        ].map((a, i) => ((i % 5) < 3) ? a * 4096 : a));\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(0);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n        const canvas = document.createElement('canvas');\n        canvas.width = 512;\n        canvas.height = 1024;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('sky ctx fail');\n        }\n        const coords = {\n            up: [0, 0],\n            rt: [0, 256],\n            dn: [0, 512],\n            ft: [256, 0],\n            lf: [256, 256],\n            bk: [256, 512]\n        };\n        bsp.skies.forEach((sky) => {\n            const smc = document.createElement('canvas');\n            const smctx = smc.getContext('2d');\n            if (!smctx) {\n                throw new Error('Runtime error.');\n            }\n            smc.width = sky.width;\n            smc.height = sky.height;\n            const imageData = smctx.getImageData(0, 0, smc.width, smc.height);\n            for (let i = 0; i < sky.data.length; ++i) {\n                imageData.data[i] = sky.data[i];\n            }\n            smctx.putImageData(imageData, 0, 0);\n            const side = sky.name.slice(-2);\n            const c = coords[side] ? coords[side] : [];\n            if (!ctx) {\n                throw new Error('Runtime error.');\n            }\n            ctx.drawImage(smc, c[0], c[1]);\n        });\n        const pixelData = ctx.getImageData(0, 0, 512, 1024).data;\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 512, 1024, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(pixelData));\n        gl.generateMipmap(gl.TEXTURE_2D);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n        gl.texParameterf(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        const anisotropy = this.context.getAnisotropyExtension();\n        if (anisotropy) {\n            gl.texParameteri(gl.TEXTURE_2D, anisotropy.TEXTURE_MAX_ANISOTROPY_EXT, this.context.getMaxAnisotropy(anisotropy));\n        }\n        this.vertexBuffer = vertexBuffer;\n        this.indexBuffer = indexBuffer;\n        this.texture = texture;\n        this.isReady = true;\n    }\n    draw(camera) {\n        if (!this.isReady) {\n            return;\n        }\n        const gl = this.context.gl;\n        const shader = this.shader;\n        shader.useProgram(gl);\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        shader.enableVertexAttribs(gl);\n        shader.setVertexAttribPointers(gl);\n        shader.setDiffuse(gl, 0);\n        const x = camera.position[0];\n        const y = camera.position[1];\n        const z = camera.position[2];\n        camera.position[0] = 0;\n        camera.position[1] = 0;\n        camera.position[2] = 0;\n        camera.updateViewMatrix();\n        camera.position[0] = x;\n        camera.position[1] = y;\n        camera.position[2] = z;\n        shader.setViewMatrix(gl, camera.viewMatrix);\n        shader.setProjectionMatrix(gl, camera.projectionMatrix);\n        gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_BYTE, 0);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n    }\n}\nexports.SkyScene = SkyScene;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SkyShader = void 0;\nconst fragmentSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D diffuse;\n\nvarying vec2 vTexCoord;\n\nvoid main(void) {\n  vec4 diffuseColor = texture2D(diffuse, vTexCoord);\n  gl_FragColor = vec4(diffuseColor.rgb, 1.0);\n}`;\nconst vertexSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute vec3 position;\nattribute vec2 texCoord;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nvoid main(void) {\n  vTexCoord = texCoord;\n  gl_Position = projectionMatrix * viewMatrix * vec4(position, 1);\n}`;\nclass SkyShader {\n    static init(context) {\n        const attributeNames = ['position', 'texCoord'];\n        const uniformNames = ['viewMatrix', 'projectionMatrix', 'diffuse'];\n        const program = context.createProgram({\n            vertexShaderSrc: vertexSrc,\n            fragmentShaderSrc: fragmentSrc,\n            attributeNames,\n            uniformNames\n        });\n        if (!program) {\n            console.error(`Failed to create sky shader program`);\n            return null;\n        }\n        return new SkyShader(program);\n    }\n    constructor(program) {\n        this.program = program.handle;\n        this.aPosition = program.attributes['position'];\n        this.aTexCoord = program.attributes['texCoord'];\n        this.uViewMx = program.uniforms['viewMatrix'];\n        this.uProjectionMx = program.uniforms['projectionMatrix'];\n        this.uDiffuse = program.uniforms['diffuse'];\n    }\n    useProgram(gl) {\n        gl.useProgram(this.program);\n    }\n    setViewMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uViewMx, false, matrix);\n    }\n    setProjectionMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uProjectionMx, false, matrix);\n    }\n    setDiffuse(gl, value) {\n        gl.uniform1i(this.uDiffuse, value);\n    }\n    enableVertexAttribs(gl) {\n        gl.enableVertexAttribArray(this.aPosition);\n        gl.enableVertexAttribArray(this.aTexCoord);\n    }\n    setVertexAttribPointers(gl) {\n        gl.vertexAttribPointer(this.aPosition, 3, gl.FLOAT, false, 5 * 4, 0);\n        gl.vertexAttribPointer(this.aTexCoord, 2, gl.FLOAT, false, 5 * 4, 3 * 4);\n    }\n}\nexports.SkyShader = SkyShader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextPowerOfTwo = exports.isPowerOfTwo = exports.resizeTexture = void 0;\nconst resizeTexture = (pixels, width, height, newWidth, newHeight) => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        throw new Error('Runtime error.');\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const nc = document.createElement('canvas');\n    const nctx = nc.getContext('2d');\n    if (!nctx) {\n        throw new Error('Runtime error.');\n    }\n    nc.width = newWidth;\n    nc.height = newHeight;\n    const cid = ctx.createImageData(width, height);\n    for (let i = 0, size = width * height * 4; i < size; i += 4) {\n        cid.data[i] = pixels[i];\n        cid.data[i + 1] = pixels[i + 1];\n        cid.data[i + 2] = pixels[i + 2];\n        cid.data[i + 3] = pixels[i + 3];\n    }\n    ctx.putImageData(cid, 0, 0);\n    nctx.drawImage(canvas, 0, 0, newWidth, newHeight);\n    return new Uint8Array(nctx.getImageData(0, 0, newWidth, newHeight).data);\n};\nexports.resizeTexture = resizeTexture;\nconst isPowerOfTwo = (n) => (n & (n - 1)) === 0;\nexports.isPowerOfTwo = isPowerOfTwo;\nconst nextPowerOfTwo = (n) => {\n    --n;\n    for (let i = 1; i < 32; i <<= 1) {\n        n = n | (n >> i);\n    }\n    return n + 1;\n};\nexports.nextPowerOfTwo = nextPowerOfTwo;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorldScene = void 0;\nconst gl_matrix_1 = require(\"gl-matrix\");\nconst WorldShader_1 = require(\"./WorldShader/WorldShader\");\nconst BspEntityParser_1 = require(\"../Parsers/BspEntityParser\");\nconst Sprite_1 = require(\"../Parsers/Sprite\");\nconst Util_1 = require(\"./Util\");\nclass WorldScene {\n    static init(context) {\n        const shader = WorldShader_1.MainShader.init(context);\n        if (!shader) {\n            console.error('Failed to init MainShader');\n            return null;\n        }\n        shader.useProgram(context.gl);\n        const buffer = context.gl.createBuffer();\n        if (!buffer) {\n            console.error('Failed to create WebGL buffer');\n            return null;\n        }\n        return new WorldScene({ buffer, context, shader });\n    }\n    constructor(params) {\n        this.modelMatrix = gl_matrix_1.mat4.create();\n        this.sceneInfo = {\n            length: 0,\n            data: new Float32Array(0),\n            models: []\n        };\n        this.bsp = null;\n        this.textures = [];\n        this.sprites = {};\n        this.lightmap = null;\n        this.buffer = params.buffer;\n        this.context = params.context;\n        this.shader = params.shader;\n    }\n    changeMap(bsp) {\n        this.fillBuffer(bsp);\n        this.loadTextures(bsp);\n        this.loadSpriteTextures(bsp);\n        this.loadLightmap(bsp);\n        this.bsp = bsp;\n    }\n    fillBuffer(bsp) {\n        const gl = this.context.gl;\n        const models = bsp.models;\n        const INVISIBLE_TEXTURES = [\n            'aaatrigger',\n            'clip',\n            'null',\n            'hint',\n            'nodraw',\n            'invisible',\n            'skip',\n            'trigger',\n            'sky',\n            'fog'\n        ];\n        let size = 0;\n        for (let i = 0; i < models.length; ++i) {\n            const model = models[i];\n            for (let j = 0; j < model.faces.length; ++j) {\n                const texture = bsp.textures[model.faces[j].textureIndex];\n                if (INVISIBLE_TEXTURES.indexOf(texture.name) > -1) {\n                    continue;\n                }\n                size += model.faces[j].buffer.length;\n            }\n        }\n        size += 7 * 6;\n        const sceneInfo = {\n            length: size,\n            data: new Float32Array(size),\n            models: []\n        };\n        let currentVertex = 0;\n        for (let i = 0; i < bsp.models.length; ++i) {\n            const model = bsp.models[i];\n            const modelInfo = {\n                origin: model.origin,\n                offset: currentVertex,\n                length: 0,\n                isTransparent: false,\n                faces: []\n            };\n            for (let j = 0; j < model.faces.length; ++j) {\n                const texture = bsp.textures[model.faces[j].textureIndex];\n                if (INVISIBLE_TEXTURES.indexOf(texture.name) > -1) {\n                    continue;\n                }\n                const faceInfo = {\n                    offset: currentVertex,\n                    length: 0,\n                    textureIndex: -1\n                };\n                for (let k = 0; k < model.faces[j].buffer.length; ++k) {\n                    sceneInfo.data[currentVertex++] = model.faces[j].buffer[k];\n                }\n                if (!modelInfo.isTransparent &&\n                    bsp.textures[model.faces[j].textureIndex].name[0] === '{') {\n                    modelInfo.isTransparent = true;\n                }\n                faceInfo.textureIndex = model.faces[j].textureIndex;\n                faceInfo.length = currentVertex - faceInfo.offset;\n                modelInfo.faces.push(faceInfo);\n            }\n            modelInfo.length = currentVertex - modelInfo.offset;\n            sceneInfo.models.push(modelInfo);\n        }\n        sceneInfo.models.push({\n            origin: [0, 0, 0],\n            offset: currentVertex,\n            length: 4,\n            isTransparent: false,\n            faces: [\n                {\n                    offset: currentVertex,\n                    length: 4,\n                    textureIndex: 0\n                }\n            ]\n        });\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = -0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 1;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0.5;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        sceneInfo.data[currentVertex++] = 0;\n        currentVertex = 0;\n        const sortedSceneInfo = {\n            data: new Float32Array(sceneInfo.data),\n            length: sceneInfo.length,\n            models: sceneInfo.models.map(model => ({\n                origin: [...model.origin],\n                offset: model.offset,\n                length: model.length,\n                isTransparent: model.isTransparent,\n                faces: model.faces.map(face => ({\n                    offset: face.offset,\n                    length: face.length,\n                    textureIndex: face.textureIndex\n                }))\n            }))\n        };\n        for (let i = 0; i < sortedSceneInfo.models.length; ++i) {\n            const model = sortedSceneInfo.models[i];\n            model.faces.sort((a, b) => a.textureIndex - b.textureIndex);\n            for (let j = 0; j < model.faces.length; ++j) {\n                const face = model.faces[j];\n                const newOffset = currentVertex;\n                for (let k = 0; k < face.length; ++k) {\n                    sortedSceneInfo.data[currentVertex] = sceneInfo.data[face.offset + k];\n                    currentVertex += 1;\n                }\n                face.offset = newOffset;\n            }\n            const newFaces = [];\n            let currentTextureIndex = -1;\n            for (let j = 0; j < model.faces.length; ++j) {\n                const face = model.faces[j];\n                if (face.textureIndex === currentTextureIndex) {\n                    newFaces[newFaces.length - 1].length += face.length;\n                }\n                else {\n                    newFaces.push({\n                        offset: face.offset,\n                        length: face.length,\n                        textureIndex: face.textureIndex\n                    });\n                    currentTextureIndex = face.textureIndex;\n                }\n            }\n            model.faces = newFaces;\n        }\n        this.sceneInfo = sortedSceneInfo;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, this.sceneInfo.data, gl.STATIC_DRAW);\n    }\n    loadTextures(bsp) {\n        const gl = this.context.gl;\n        for (let i = 0; i < bsp.textures.length; ++i) {\n            const glTexture = gl.createTexture();\n            if (!glTexture) {\n                throw new Error('fatal error');\n            }\n            const texture = bsp.textures[i];\n            if (!(0, Util_1.isPowerOfTwo)(texture.width) || !(0, Util_1.isPowerOfTwo)(texture.height)) {\n                const w = texture.width;\n                const h = texture.height;\n                const nw = (0, Util_1.nextPowerOfTwo)(texture.width);\n                const nh = (0, Util_1.nextPowerOfTwo)(texture.height);\n                texture.data = (0, Util_1.resizeTexture)(texture.data, w, h, nw, nh);\n                texture.width = nw;\n                texture.height = nh;\n            }\n            gl.bindTexture(gl.TEXTURE_2D, glTexture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texture.width, texture.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, texture.data);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            const anisotropy = this.context.getAnisotropyExtension();\n            if (anisotropy) {\n                gl.texParameteri(gl.TEXTURE_2D, anisotropy.TEXTURE_MAX_ANISOTROPY_EXT, this.context.getMaxAnisotropy(anisotropy));\n            }\n            this.textures.push({\n                name: texture.name,\n                width: texture.width,\n                height: texture.height,\n                data: texture.data,\n                handle: glTexture\n            });\n        }\n    }\n    loadSpriteTextures(bsp) {\n        const gl = this.context.gl;\n        for (const [name, sprite] of Object.entries(bsp.sprites)) {\n            const glTexture = gl.createTexture();\n            if (!glTexture) {\n                throw new Error('fatal error');\n            }\n            const texture = sprite.frames[0];\n            if (!(0, Util_1.isPowerOfTwo)(texture.width) || !(0, Util_1.isPowerOfTwo)(texture.height)) {\n                const w = texture.width;\n                const h = texture.height;\n                const nw = (0, Util_1.nextPowerOfTwo)(texture.width);\n                const nh = (0, Util_1.nextPowerOfTwo)(texture.height);\n                texture.data = (0, Util_1.resizeTexture)(texture.data, w, h, nw, nh);\n                texture.width = nw;\n                texture.height = nh;\n            }\n            gl.bindTexture(gl.TEXTURE_2D, glTexture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texture.width, texture.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, texture.data);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            const anisotropy = this.context.getAnisotropyExtension();\n            if (anisotropy) {\n                gl.texParameteri(gl.TEXTURE_2D, anisotropy.TEXTURE_MAX_ANISOTROPY_EXT, this.context.getMaxAnisotropy(anisotropy));\n            }\n            this.textures.push({\n                name: name,\n                width: texture.width,\n                height: texture.height,\n                data: texture.data,\n                handle: glTexture\n            });\n            this.sprites[name] = sprite;\n        }\n    }\n    loadLightmap(bsp) {\n        const gl = this.context.gl;\n        const glLightmap = gl.createTexture();\n        if (!glLightmap) {\n            throw new Error('fatal error');\n        }\n        gl.bindTexture(gl.TEXTURE_2D, glLightmap);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, bsp.lightmap.width, bsp.lightmap.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, bsp.lightmap.data);\n        gl.generateMipmap(gl.TEXTURE_2D);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n        this.lightmap = {\n            data: bsp.lightmap.data,\n            handle: glLightmap\n        };\n    }\n    draw(camera, entities) {\n        if (!this.bsp || !this.lightmap) {\n            return;\n        }\n        const gl = this.context.gl;\n        const shader = this.shader;\n        shader.useProgram(gl);\n        camera.updateProjectionMatrix();\n        camera.updateViewMatrix();\n        shader.setViewMatrix(gl, camera.viewMatrix);\n        shader.setProjectionMatrix(gl, camera.projectionMatrix);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        shader.enableVertexAttribs(gl);\n        shader.setVertexAttribPointers(gl);\n        shader.setDiffuse(gl, 0);\n        shader.setLightmap(gl, 1);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, this.lightmap.handle);\n        gl.activeTexture(gl.TEXTURE0);\n        const opaqueEntities = [];\n        const transparentEntities = [];\n        for (let i = 1; i < entities.length; ++i) {\n            const e = entities[i];\n            if (e.model) {\n                if (!e.rendermode ||\n                    e.rendermode == BspEntityParser_1.RenderMode.Normal ||\n                    e.rendermode == BspEntityParser_1.RenderMode.Solid) {\n                    if (e.model[0] === '*') {\n                        const model = this.sceneInfo.models[parseInt(e.model.substr(1))];\n                        if (model.isTransparent) {\n                            transparentEntities.push(e);\n                            continue;\n                        }\n                    }\n                    else if (e.model.indexOf('.spr') > -1) {\n                        transparentEntities.push(e);\n                        continue;\n                    }\n                    opaqueEntities.push(e);\n                }\n                else if (e.rendermode == BspEntityParser_1.RenderMode.Additive) {\n                    transparentEntities.push(e);\n                }\n                else {\n                    transparentEntities.push(e);\n                }\n            }\n        }\n        shader.setOpacity(gl, 1.0);\n        this.renderWorldSpawn();\n        this.renderOpaqueEntities(camera, opaqueEntities);\n        if (transparentEntities.length) {\n            gl.depthMask(false);\n            this.renderTransparentEntities(transparentEntities, camera);\n            gl.depthMask(true);\n        }\n    }\n    renderWorldSpawn() {\n        const model = this.sceneInfo.models[0];\n        const gl = this.context.gl;\n        gl_matrix_1.mat4.identity(this.modelMatrix);\n        this.shader.setModelMatrix(gl, this.modelMatrix);\n        for (let j = 0; j < model.faces.length; ++j) {\n            const face = model.faces[j];\n            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n        }\n    }\n    renderOpaqueEntities(camera, entities) {\n        const gl = this.context.gl;\n        const shader = this.shader;\n        const mmx = this.modelMatrix;\n        for (let i = 0; i < entities.length; ++i) {\n            const entity = entities[i];\n            const modelIndex = parseInt(entity.model.substr(1));\n            const model = this.sceneInfo.models[modelIndex];\n            if (model) {\n                const angles = entity.angles || [0, 0, 0];\n                const origin = entity.origin\n                    ? gl_matrix_1.vec3.fromValues(entity.origin[0], entity.origin[1], entity.origin[2])\n                    : gl_matrix_1.vec3.create();\n                const modelOrigin = new Float32Array(model.origin);\n                gl_matrix_1.vec3.add(origin, origin, modelOrigin);\n                gl_matrix_1.mat4.identity(mmx);\n                gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180);\n                gl_matrix_1.mat4.rotateX(this.modelMatrix, this.modelMatrix, (angles[2] * Math.PI) / 180);\n                shader.setModelMatrix(gl, this.modelMatrix);\n                for (let j = 0; j < model.faces.length; ++j) {\n                    const face = model.faces[j];\n                    gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                    gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                }\n            }\n            else if (entity.model.indexOf('.spr') > -1) {\n                const texture = this.textures.find(a => a.name === entity.model);\n                const sprite = this.sprites[entity.model];\n                if (texture && sprite) {\n                    const origin = entity.origin\n                        ? gl_matrix_1.vec3.fromValues(entity.origin[0], entity.origin[1], entity.origin[2])\n                        : gl_matrix_1.vec3.create();\n                    const scale = gl_matrix_1.vec3.fromValues(texture.width, 1, texture.height);\n                    const angles = entity.angles\n                        ? gl_matrix_1.vec3.fromValues(entity.angles[0], entity.angles[2], entity.angles[1])\n                        : gl_matrix_1.vec3.create();\n                    gl_matrix_1.vec3.scale(scale, scale, entity.scale || 1);\n                    gl_matrix_1.mat4.identity(mmx);\n                    gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                    switch (sprite.header.type) {\n                        case Sprite_1.SpriteType.VP_PARALLEL_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.FACING_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, Math.atan2(origin[1] - camera.position[1], origin[0] - camera.position[0]) +\n                                Math.PI / 2);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, Math.atan2(camera.position[2] - origin[2], Math.sqrt(Math.pow(camera.position[0] - origin[0], 2) +\n                                Math.pow(camera.position[1] - origin[1], 2))));\n                            break;\n                        }\n                        case Sprite_1.SpriteType.ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, (angles[2] * Math.PI) / 180 - Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL_ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            break;\n                        }\n                        default: {\n                            throw new Error('Invalid sprite type');\n                        }\n                    }\n                    gl_matrix_1.mat4.scale(mmx, mmx, scale);\n                    shader.setModelMatrix(gl, mmx);\n                    shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                    const renderMode = entity.rendermode || BspEntityParser_1.RenderMode.Normal;\n                    switch (renderMode) {\n                        case BspEntityParser_1.RenderMode.Normal: {\n                            shader.setOpacity(gl, 1);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Color: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Texture: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Glow: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Solid: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Additive: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    renderTransparentEntities(entities, camera) {\n        const gl = this.context.gl;\n        const shader = this.shader;\n        const mmx = this.modelMatrix;\n        const entityDistances = entities\n            .map((e, i) => ({\n            index: i,\n            distance: gl_matrix_1.vec3.dist(camera.position, e.origin || [0, 0, 0])\n        }))\n            .sort((a, b) => a.distance - b.distance);\n        for (let i = 0; i < entityDistances.length; ++i) {\n            const entity = entities[entityDistances[i].index];\n            const modelIndex = parseInt(entity.model.substr(1));\n            const model = this.sceneInfo.models[modelIndex];\n            if (model) {\n                const angles = entity.angles || [0, 0, 0];\n                const origin = entity.origin || [0, 0, 0];\n                origin[0] += model.origin[0];\n                origin[1] += model.origin[1];\n                origin[2] += model.origin[2];\n                gl_matrix_1.mat4.identity(mmx);\n                gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180);\n                gl_matrix_1.mat4.rotateX(this.modelMatrix, this.modelMatrix, (angles[2] * Math.PI) / 180);\n                shader.setModelMatrix(gl, this.modelMatrix);\n                const renderMode = entity.rendermode || BspEntityParser_1.RenderMode.Normal;\n                switch (renderMode) {\n                    case BspEntityParser_1.RenderMode.Normal: {\n                        shader.setOpacity(gl, 1);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Color: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Texture: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Glow: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Solid: {\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        break;\n                    }\n                    case BspEntityParser_1.RenderMode.Additive: {\n                        gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                        shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                        for (let j = 0; j < model.faces.length; ++j) {\n                            const face = model.faces[j];\n                            gl.bindTexture(gl.TEXTURE_2D, this.textures[face.textureIndex].handle);\n                            gl.drawArrays(gl.TRIANGLES, face.offset / 7, face.length / 7);\n                        }\n                        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                        break;\n                    }\n                }\n            }\n            else if (entity.model.indexOf('.spr') > -1) {\n                const texture = this.textures.find(a => a.name === entity.model);\n                const sprite = this.sprites[entity.model];\n                if (texture && sprite) {\n                    const origin = entity.origin\n                        ? gl_matrix_1.vec3.fromValues(entity.origin[0], entity.origin[1], entity.origin[2])\n                        : gl_matrix_1.vec3.create();\n                    const scale = gl_matrix_1.vec3.fromValues(texture.width, 1, texture.height);\n                    const angles = entity.angles\n                        ? gl_matrix_1.vec3.fromValues(entity.angles[0], entity.angles[2], entity.angles[1])\n                        : gl_matrix_1.vec3.create();\n                    gl_matrix_1.vec3.scale(scale, scale, entity.scale || 1);\n                    gl_matrix_1.mat4.identity(mmx);\n                    gl_matrix_1.mat4.translate(mmx, mmx, origin);\n                    switch (sprite.header.type) {\n                        case Sprite_1.SpriteType.VP_PARALLEL_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.FACING_UPRIGHT: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, camera.rotation[1] + Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL: {\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, Math.atan2(origin[1] - camera.position[1], origin[0] - camera.position[0]) +\n                                Math.PI / 2);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, Math.atan2(camera.position[2] - origin[2], Math.sqrt(Math.pow(camera.position[0] - origin[0], 2) +\n                                Math.pow(camera.position[1] - origin[1], 2))));\n                            break;\n                        }\n                        case Sprite_1.SpriteType.ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateX(mmx, mmx, (angles[2] * Math.PI) / 180 - Math.PI / 2);\n                            break;\n                        }\n                        case Sprite_1.SpriteType.VP_PARALLEL_ORIENTED: {\n                            gl_matrix_1.mat4.rotateY(mmx, mmx, (angles[0] * Math.PI) / 180 + Math.PI);\n                            gl_matrix_1.mat4.rotateZ(mmx, mmx, (angles[1] * Math.PI) / 180 + Math.PI);\n                            break;\n                        }\n                        default: {\n                            throw new Error('Invalid sprite type');\n                        }\n                    }\n                    gl_matrix_1.mat4.scale(mmx, mmx, scale);\n                    shader.setModelMatrix(gl, mmx);\n                    shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                    const renderMode = entity.rendermode || BspEntityParser_1.RenderMode.Normal;\n                    switch (renderMode) {\n                        case BspEntityParser_1.RenderMode.Normal: {\n                            shader.setOpacity(gl, 1);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Color: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Texture: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Glow: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Solid: {\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            break;\n                        }\n                        case BspEntityParser_1.RenderMode.Additive: {\n                            gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n                            shader.setOpacity(gl, (entity.renderamt || 255) / 255);\n                            gl.bindTexture(gl.TEXTURE_2D, texture.handle);\n                            gl.drawArrays(gl.TRIANGLES, this.sceneInfo.models[this.sceneInfo.models.length - 1].offset /\n                                7, 6);\n                            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\nexports.WorldScene = WorldScene;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MainShader = void 0;\nconst fragmentSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D diffuse;\nuniform sampler2D lightmap;\nuniform float opacity;\n\nvarying vec2 vTexCoord;\nvarying vec2 vLightmapCoord;\n\nvoid main(void) {\n  vec4 diffuseColor = texture2D(diffuse, vTexCoord);\n  vec4 lightColor = texture2D(lightmap, vLightmapCoord);\n\n  gl_FragColor = vec4(diffuseColor.rgb * lightColor.rgb, diffuseColor.a * opacity);\n}`;\nconst vertexSrc = `#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute vec3 position;\nattribute vec2 texCoord;\nattribute vec2 texCoord2;\n\nvarying vec2 vTexCoord;\nvarying vec2 vLightmapCoord;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nvoid main(void) {\n  vTexCoord = texCoord;\n  vLightmapCoord = texCoord2;\n\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1);\n}`;\nclass MainShader {\n    static init(context) {\n        const attributeNames = ['position', 'texCoord', 'texCoord2'];\n        const uniformNames = [\n            'modelMatrix',\n            'viewMatrix',\n            'projectionMatrix',\n            'diffuse',\n            'lightmap',\n            'opacity'\n        ];\n        const program = context.createProgram({\n            vertexShaderSrc: vertexSrc,\n            fragmentShaderSrc: fragmentSrc,\n            attributeNames,\n            uniformNames\n        });\n        if (!program) {\n            console.error('Failed to create MainShader program');\n            return null;\n        }\n        return new MainShader(program);\n    }\n    constructor(program) {\n        this.program = program.handle;\n        this.aPosition = program.attributes['position'];\n        this.aTexCoord = program.attributes['texCoord'];\n        this.aTexCoord2 = program.attributes['texCoord2'];\n        this.uModelMx = program.uniforms['modelMatrix'];\n        this.uViewMx = program.uniforms['viewMatrix'];\n        this.uProjectionMx = program.uniforms['projectionMatrix'];\n        this.uDiffuse = program.uniforms['diffuse'];\n        this.uLightmap = program.uniforms['lightmap'];\n        this.uOpacity = program.uniforms['opacity'];\n    }\n    useProgram(gl) {\n        gl.useProgram(this.program);\n    }\n    setModelMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uModelMx, false, matrix);\n    }\n    setViewMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uViewMx, false, matrix);\n    }\n    setProjectionMatrix(gl, matrix) {\n        gl.uniformMatrix4fv(this.uProjectionMx, false, matrix);\n    }\n    setDiffuse(gl, value) {\n        gl.uniform1i(this.uDiffuse, value);\n    }\n    setLightmap(gl, val) {\n        gl.uniform1i(this.uLightmap, val);\n    }\n    setOpacity(gl, val) {\n        gl.uniform1f(this.uOpacity, val);\n    }\n    enableVertexAttribs(gl) {\n        gl.enableVertexAttribArray(this.aPosition);\n        gl.enableVertexAttribArray(this.aTexCoord);\n        gl.enableVertexAttribArray(this.aTexCoord2);\n    }\n    setVertexAttribPointers(gl) {\n        gl.vertexAttribPointer(this.aPosition, 3, gl.FLOAT, false, 7 * 4, 0);\n        gl.vertexAttribPointer(this.aTexCoord, 2, gl.FLOAT, false, 7 * 4, 3 * 4);\n        gl.vertexAttribPointer(this.aTexCoord2, 2, gl.FLOAT, false, 7 * 4, 5 * 4);\n    }\n}\nexports.MainShader = MainShader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Keyboard = void 0;\nclass Keyboard {\n    constructor() {\n        this.keys = new Uint8Array(256);\n        for (let i = 0; i < 256; ++i) {\n            this.keys[0] = 0;\n        }\n    }\n}\nexports.Keyboard = Keyboard;\n(function (Keyboard) {\n    let KEYS;\n    (function (KEYS) {\n        KEYS[KEYS[\"A\"] = 'A'.charCodeAt(0)] = \"A\";\n        KEYS[KEYS[\"B\"] = 'B'.charCodeAt(0)] = \"B\";\n        KEYS[KEYS[\"C\"] = 'C'.charCodeAt(0)] = \"C\";\n        KEYS[KEYS[\"D\"] = 'D'.charCodeAt(0)] = \"D\";\n        KEYS[KEYS[\"E\"] = 'E'.charCodeAt(0)] = \"E\";\n        KEYS[KEYS[\"F\"] = 'F'.charCodeAt(0)] = \"F\";\n        KEYS[KEYS[\"G\"] = 'G'.charCodeAt(0)] = \"G\";\n        KEYS[KEYS[\"H\"] = 'H'.charCodeAt(0)] = \"H\";\n        KEYS[KEYS[\"I\"] = 'I'.charCodeAt(0)] = \"I\";\n        KEYS[KEYS[\"J\"] = 'J'.charCodeAt(0)] = \"J\";\n        KEYS[KEYS[\"K\"] = 'K'.charCodeAt(0)] = \"K\";\n        KEYS[KEYS[\"L\"] = 'L'.charCodeAt(0)] = \"L\";\n        KEYS[KEYS[\"M\"] = 'M'.charCodeAt(0)] = \"M\";\n        KEYS[KEYS[\"N\"] = 'N'.charCodeAt(0)] = \"N\";\n        KEYS[KEYS[\"O\"] = 'O'.charCodeAt(0)] = \"O\";\n        KEYS[KEYS[\"P\"] = 'P'.charCodeAt(0)] = \"P\";\n        KEYS[KEYS[\"Q\"] = 'Q'.charCodeAt(0)] = \"Q\";\n        KEYS[KEYS[\"R\"] = 'R'.charCodeAt(0)] = \"R\";\n        KEYS[KEYS[\"S\"] = 'S'.charCodeAt(0)] = \"S\";\n        KEYS[KEYS[\"T\"] = 'T'.charCodeAt(0)] = \"T\";\n        KEYS[KEYS[\"U\"] = 'U'.charCodeAt(0)] = \"U\";\n        KEYS[KEYS[\"V\"] = 'V'.charCodeAt(0)] = \"V\";\n        KEYS[KEYS[\"W\"] = 'W'.charCodeAt(0)] = \"W\";\n        KEYS[KEYS[\"X\"] = 'X'.charCodeAt(0)] = \"X\";\n        KEYS[KEYS[\"Y\"] = 'Y'.charCodeAt(0)] = \"Y\";\n        KEYS[KEYS[\"Z\"] = 'Z'.charCodeAt(0)] = \"Z\";\n        KEYS[KEYS[\"CTRL\"] = 17] = \"CTRL\";\n        KEYS[KEYS[\"ALT\"] = 18] = \"ALT\";\n        KEYS[KEYS[\"SPACE\"] = 32] = \"SPACE\";\n    })(KEYS = Keyboard.KEYS || (Keyboard.KEYS = {}));\n})(Keyboard || (exports.Keyboard = Keyboard = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mouse = void 0;\nconst gl_matrix_1 = require(\"gl-matrix\");\nclass Mouse {\n    constructor() {\n        this.click = false;\n        this.leftClick = false;\n        this.rightClick = false;\n        this.position = gl_matrix_1.vec2.create();\n        this.delta = gl_matrix_1.vec2.create();\n    }\n}\nexports.Mouse = Mouse;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Touch = void 0;\nconst gl_matrix_1 = require(\"gl-matrix\");\nclass Touch {\n    constructor() {\n        this.pressed = false;\n        this.position = gl_matrix_1.vec2.create();\n        this.delta = gl_matrix_1.vec2.create();\n    }\n}\nexports.Touch = Touch;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Loader = void 0;\nconst nanoevents_1 = require(\"nanoevents\");\nconst Sound_1 = require(\"./Sound\");\nconst Util_1 = require(\"./Util\");\nconst Tga_1 = require(\"./Parsers/Tga\");\nconst Wad_1 = require(\"./Parsers/Wad\");\nconst Replay_1 = require(\"./Replay/Replay\");\nconst Sprite_1 = require(\"./Parsers/Sprite\");\nconst Xhr_1 = require(\"./Xhr\");\nconst BspParser_1 = require(\"./Parsers/BspParser\");\nvar LoadItemStatus;\n(function (LoadItemStatus) {\n    LoadItemStatus[LoadItemStatus[\"Loading\"] = 1] = \"Loading\";\n    LoadItemStatus[LoadItemStatus[\"Skipped\"] = 2] = \"Skipped\";\n    LoadItemStatus[LoadItemStatus[\"Error\"] = 3] = \"Error\";\n    LoadItemStatus[LoadItemStatus[\"Done\"] = 4] = \"Done\";\n})(LoadItemStatus || (LoadItemStatus = {}));\nclass LoadItemBase {\n    constructor(name) {\n        this.name = name;\n        this.progress = 0;\n        this.status = LoadItemStatus.Loading;\n        this.data = null;\n    }\n    isLoading() {\n        return this.status === LoadItemStatus.Loading;\n    }\n    skip() {\n        this.status = LoadItemStatus.Skipped;\n    }\n    isSkipped() {\n        return this.status === LoadItemStatus.Skipped;\n    }\n    error() {\n        this.status = LoadItemStatus.Error;\n    }\n    isError() {\n        return this.status === LoadItemStatus.Error;\n    }\n    done(data) {\n        this.status = LoadItemStatus.Done;\n        this.data = data;\n    }\n    isDone() {\n        return this.status === LoadItemStatus.Done;\n    }\n}\nclass LoadItemReplay extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'replay';\n    }\n}\nclass LoadItemBsp extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'bsp';\n    }\n}\nclass LoadItemSky extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'sky';\n    }\n}\nclass LoadItemWad extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'wad';\n    }\n}\nclass LoadItemSound extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'sound';\n    }\n}\nclass LoadItemSprite extends LoadItemBase {\n    constructor() {\n        super(...arguments);\n        this.type = 'sprite';\n    }\n}\nclass Loader {\n    constructor(config) {\n        this.sprites = {};\n        this.config = config;\n        this.replay = undefined;\n        this.map = undefined;\n        this.skies = [];\n        this.wads = [];\n        this.sounds = [];\n        this.events = (0, nanoevents_1.createNanoEvents)();\n        this.events.on('error', (err) => {\n            console.error(err);\n        });\n    }\n    clear() {\n        this.replay = undefined;\n        this.map = undefined;\n        this.skies.length = 0;\n        this.wads.length = 0;\n        this.sounds.length = 0;\n        this.sprites = {};\n    }\n    checkStatus() {\n        if (this.replay && !this.replay.isDone()) {\n            return;\n        }\n        if (this.map && !this.map.isDone()) {\n            return;\n        }\n        for (let i = 0; i < this.skies.length; ++i) {\n            if (this.skies[i].isLoading()) {\n                return;\n            }\n        }\n        for (let i = 0; i < this.wads.length; ++i) {\n            if (this.wads[i].isLoading()) {\n                return;\n            }\n        }\n        for (let i = 0; i < this.sounds.length; ++i) {\n            if (this.sounds[i].isLoading()) {\n                return;\n            }\n        }\n        const sprites = Object.entries(this.sprites);\n        for (let i = 0; i < sprites.length; ++i) {\n            if (sprites[i][1].isLoading()) {\n                return;\n            }\n        }\n        this.events.emit('loadall', this);\n    }\n    load(name) {\n        const extension = (0, Util_1.extname)(name);\n        if (extension === '.dem' || extension === '.rec') {\n            this.loadReplay(name);\n        }\n        else if (extension === '.bsp') {\n            this.loadMap(name);\n        }\n        else {\n            this.events.emit('error', 'Invalid file extension', name);\n        }\n    }\n    loadReplay(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.replay = new LoadItemReplay(name);\n            this.events.emit('loadstart', this.replay);\n            const progressCallback = (_1, progress) => {\n                if (this.replay) {\n                    this.replay.progress = progress;\n                }\n                this.events.emit('progress', this.replay);\n            };\n            const replayPath = this.config.getReplaysPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${replayPath}/${name}`, {\n                method: 'GET',\n                isBinary: false,\n                progressCallback\n            }).catch((err) => {\n                if (this.replay) {\n                    this.replay.error();\n                }\n                this.events.emit('error', err, this.replay);\n            });\n            if (this.replay.isError()) {\n                return;\n            }\n            const replay = yield Replay_1.Replay.parseCustomFile(buffer);\n            this.replay.done(replay);\n            this.events.emit('load', this.replay);\n            this.checkStatus();\n        });\n    }\n    loadMap(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.map = new LoadItemBsp(name);\n            this.events.emit('loadstart', this.map);\n            const progressCallback = (_1, progress) => {\n                if (this.map) {\n                    this.map.progress = progress;\n                }\n                this.events.emit('progress', this.map);\n            };\n            const mapsPath = this.config.getMapsPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${mapsPath}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch(err => {\n                if (this.map) {\n                    this.map.error();\n                }\n                this.events.emit('error', err, this.map);\n            });\n            if (this.map.isError()) {\n                return;\n            }\n            const map = yield BspParser_1.BspParser.parse(name, buffer);\n            this.map.done(map);\n            map.entities\n                .map((e) => {\n                if (typeof e.model === 'string' && e.model.indexOf('.spr') > -1) {\n                    return e.model;\n                }\n                return undefined;\n            })\n                .filter((a, pos, arr) => a && arr.indexOf(a) === pos)\n                .forEach(a => a && this.loadSprite(a));\n            const skyname = map.entities[0].skyname;\n            if (skyname) {\n                const sides = ['bk', 'dn', 'ft', 'lf', 'rt', 'up'];\n                sides.map(a => `${skyname}${a}`).forEach(a => this.loadSky(a));\n            }\n            if (map.textures.find(a => a.isExternal)) {\n                const wads = map.entities[0].wad;\n                const wadPromises = wads.map((w) => this.loadWad(w));\n                yield Promise.all(wadPromises);\n            }\n            this.events.emit('load', this.map);\n            this.checkStatus();\n        });\n    }\n    loadSprite(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const item = new LoadItemSprite(name);\n            this.sprites[name] = item;\n            this.events.emit('loadstart', item);\n            const progressCallback = (_1, progress) => {\n                item.progress = progress;\n                this.events.emit('progress', item);\n            };\n            const buffer = yield (0, Xhr_1.xhr)(`${this.config.getBasePath()}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                item.error();\n                this.events.emit('error', err, item);\n                this.checkStatus();\n            });\n            if (item.isError()) {\n                return;\n            }\n            try {\n                const sprite = Sprite_1.Sprite.parse(buffer);\n                item.done(sprite);\n                this.events.emit('load', item);\n                this.checkStatus();\n            }\n            catch (error) {\n                console.log(error);\n            }\n        });\n    }\n    loadSky(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const item = new LoadItemSky(name);\n            this.skies.push(item);\n            this.events.emit('loadstart', item);\n            const progressCallback = (_1, progress) => {\n                item.progress = progress;\n                this.events.emit('progress', item);\n            };\n            const skiesPath = this.config.getSkiesPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${skiesPath}/${name}.tga`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                item.error();\n                this.events.emit('error', err, item);\n                this.checkStatus();\n            });\n            if (item.isError()) {\n                return;\n            }\n            const skyImage = Tga_1.Tga.parse(buffer, name);\n            item.done(skyImage);\n            this.events.emit('load', item);\n            this.checkStatus();\n        });\n    }\n    loadWad(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wadItem = new LoadItemWad(name);\n            this.wads.push(wadItem);\n            this.events.emit('loadstart', wadItem);\n            const progressCallback = (_1, progress) => {\n                wadItem.progress = progress;\n                this.events.emit('progress', wadItem);\n            };\n            const wadsPath = this.config.getWadsPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${wadsPath}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                wadItem.error();\n                this.events.emit('error', err, wadItem);\n                this.checkStatus();\n            });\n            if (wadItem.isError()) {\n                return;\n            }\n            const wad = yield Wad_1.Wad.parse(buffer);\n            wadItem.done(wad);\n            if (!this.map || !this.map.data) {\n                return;\n            }\n            const map = this.map.data;\n            const cmp = (a, b) => a.toLowerCase() === b.toLowerCase();\n            wad.entries.forEach(entry => {\n                if (entry.type !== 'texture') {\n                    return;\n                }\n                map.textures.forEach(texture => {\n                    if (cmp(entry.name, texture.name)) {\n                        texture.width = entry.width;\n                        texture.height = entry.height;\n                        texture.data = entry.data;\n                    }\n                });\n            });\n            this.events.emit('load', wadItem);\n            this.checkStatus();\n        });\n    }\n    loadSound(name, index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sound = new LoadItemSound(name);\n            this.sounds.push(sound);\n            this.events.emit('loadstart', sound);\n            const progressCallback = (_1, progress) => {\n                sound.progress = progress;\n                this.events.emit('progress', sound);\n            };\n            const soundsPath = this.config.getSoundsPath();\n            const buffer = yield (0, Xhr_1.xhr)(`${soundsPath}/${name}`, {\n                method: 'GET',\n                isBinary: true,\n                progressCallback\n            }).catch((err) => {\n                sound.error();\n                this.events.emit('error', err, sound);\n                this.checkStatus();\n            });\n            if (sound.isError()) {\n                return;\n            }\n            const data = yield Sound_1.Sound.create(buffer).catch((err) => {\n                sound.error();\n                this.events.emit('error', err, sound);\n                this.checkStatus();\n            });\n            if (!data || sound.isError()) {\n                return;\n            }\n            data.index = index;\n            data.name = name;\n            sound.done(data);\n            this.events.emit('load', sound);\n            this.checkStatus();\n        });\n    }\n}\nexports.Loader = Loader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BspEntityParser = exports.RenderMode = exports.RenderEffect = exports.ZHLTLightFlags = exports.EnvBeamSpawnFlags = exports.CyclerWeaponTriggerCondition = exports.ButtonTargetSpawnFlags = exports.AmbientGenericSpawnFlags = exports.AmbientGenericPreset = exports.AiScriptedSequenceSpawnflags = exports.AiScriptedSequenceFinishSchedule = exports.AiScriptedSequenceMoveTo = exports.WorldSpawnDefaultTeam = exports.WorldSpawnNewUnit = exports.WorldSpawnGameTitle = exports.WorldSpawnStartDark = void 0;\nvar WorldSpawnStartDark;\n(function (WorldSpawnStartDark) {\n    WorldSpawnStartDark[WorldSpawnStartDark[\"No\"] = 0] = \"No\";\n    WorldSpawnStartDark[WorldSpawnStartDark[\"Yes\"] = 1] = \"Yes\";\n})(WorldSpawnStartDark || (exports.WorldSpawnStartDark = WorldSpawnStartDark = {}));\nvar WorldSpawnGameTitle;\n(function (WorldSpawnGameTitle) {\n    WorldSpawnGameTitle[WorldSpawnGameTitle[\"No\"] = 0] = \"No\";\n    WorldSpawnGameTitle[WorldSpawnGameTitle[\"Yes\"] = 1] = \"Yes\";\n})(WorldSpawnGameTitle || (exports.WorldSpawnGameTitle = WorldSpawnGameTitle = {}));\nvar WorldSpawnNewUnit;\n(function (WorldSpawnNewUnit) {\n    WorldSpawnNewUnit[WorldSpawnNewUnit[\"No\"] = 0] = \"No\";\n    WorldSpawnNewUnit[WorldSpawnNewUnit[\"Yes\"] = 1] = \"Yes\";\n})(WorldSpawnNewUnit || (exports.WorldSpawnNewUnit = WorldSpawnNewUnit = {}));\nvar WorldSpawnDefaultTeam;\n(function (WorldSpawnDefaultTeam) {\n    WorldSpawnDefaultTeam[WorldSpawnDefaultTeam[\"FewestPlayers\"] = 0] = \"FewestPlayers\";\n    WorldSpawnDefaultTeam[WorldSpawnDefaultTeam[\"FirstTeam\"] = 1] = \"FirstTeam\";\n})(WorldSpawnDefaultTeam || (exports.WorldSpawnDefaultTeam = WorldSpawnDefaultTeam = {}));\nvar AiScriptedSequenceMoveTo;\n(function (AiScriptedSequenceMoveTo) {\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"No\"] = 0] = \"No\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"Walk\"] = 1] = \"Walk\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"Run\"] = 2] = \"Run\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"Instantaneous\"] = 4] = \"Instantaneous\";\n    AiScriptedSequenceMoveTo[AiScriptedSequenceMoveTo[\"No_TurnToFace\"] = 5] = \"No_TurnToFace\";\n})(AiScriptedSequenceMoveTo || (exports.AiScriptedSequenceMoveTo = AiScriptedSequenceMoveTo = {}));\nvar AiScriptedSequenceFinishSchedule;\n(function (AiScriptedSequenceFinishSchedule) {\n    AiScriptedSequenceFinishSchedule[AiScriptedSequenceFinishSchedule[\"DefaultAI\"] = 0] = \"DefaultAI\";\n    AiScriptedSequenceFinishSchedule[AiScriptedSequenceFinishSchedule[\"Ambush\"] = 1] = \"Ambush\";\n})(AiScriptedSequenceFinishSchedule || (exports.AiScriptedSequenceFinishSchedule = AiScriptedSequenceFinishSchedule = {}));\nvar AiScriptedSequenceSpawnflags;\n(function (AiScriptedSequenceSpawnflags) {\n    AiScriptedSequenceSpawnflags[AiScriptedSequenceSpawnflags[\"Repeatable\"] = 4] = \"Repeatable\";\n    AiScriptedSequenceSpawnflags[AiScriptedSequenceSpawnflags[\"LeaveCorpse\"] = 8] = \"LeaveCorpse\";\n})(AiScriptedSequenceSpawnflags || (exports.AiScriptedSequenceSpawnflags = AiScriptedSequenceSpawnflags = {}));\nvar AmbientGenericPreset;\n(function (AmbientGenericPreset) {\n    AmbientGenericPreset[AmbientGenericPreset[\"None\"] = 0] = \"None\";\n    AmbientGenericPreset[AmbientGenericPreset[\"HugeMachine\"] = 1] = \"HugeMachine\";\n    AmbientGenericPreset[AmbientGenericPreset[\"BigMachine\"] = 2] = \"BigMachine\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Machine\"] = 3] = \"Machine\";\n    AmbientGenericPreset[AmbientGenericPreset[\"SlowFadeIn\"] = 4] = \"SlowFadeIn\";\n    AmbientGenericPreset[AmbientGenericPreset[\"FadeIn\"] = 5] = \"FadeIn\";\n    AmbientGenericPreset[AmbientGenericPreset[\"QuickFadeIn\"] = 6] = \"QuickFadeIn\";\n    AmbientGenericPreset[AmbientGenericPreset[\"SlowPulse\"] = 7] = \"SlowPulse\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Pulse\"] = 8] = \"Pulse\";\n    AmbientGenericPreset[AmbientGenericPreset[\"QuickPulse\"] = 9] = \"QuickPulse\";\n    AmbientGenericPreset[AmbientGenericPreset[\"SlowOscillator\"] = 10] = \"SlowOscillator\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Oscillator\"] = 11] = \"Oscillator\";\n    AmbientGenericPreset[AmbientGenericPreset[\"QuickOscillator\"] = 12] = \"QuickOscillator\";\n    AmbientGenericPreset[AmbientGenericPreset[\"GrungePitch\"] = 13] = \"GrungePitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"VeryLowPitch\"] = 14] = \"VeryLowPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"LowPitch\"] = 15] = \"LowPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"HighPitch\"] = 16] = \"HighPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"VeryHighPitch\"] = 17] = \"VeryHighPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"ScreamingPitch\"] = 18] = \"ScreamingPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"OscillateSpinUpDown\"] = 19] = \"OscillateSpinUpDown\";\n    AmbientGenericPreset[AmbientGenericPreset[\"PulseSpinUpDown\"] = 20] = \"PulseSpinUpDown\";\n    AmbientGenericPreset[AmbientGenericPreset[\"RandomPitch\"] = 21] = \"RandomPitch\";\n    AmbientGenericPreset[AmbientGenericPreset[\"RandomPitchFast\"] = 22] = \"RandomPitchFast\";\n    AmbientGenericPreset[AmbientGenericPreset[\"IncrementalSpinup\"] = 23] = \"IncrementalSpinup\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Alien\"] = 24] = \"Alien\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Bizzare\"] = 25] = \"Bizzare\";\n    AmbientGenericPreset[AmbientGenericPreset[\"PlanetX\"] = 26] = \"PlanetX\";\n    AmbientGenericPreset[AmbientGenericPreset[\"Haunted\"] = 27] = \"Haunted\";\n})(AmbientGenericPreset || (exports.AmbientGenericPreset = AmbientGenericPreset = {}));\nvar AmbientGenericSpawnFlags;\n(function (AmbientGenericSpawnFlags) {\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"PlayEverywhere\"] = 1] = \"PlayEverywhere\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"SmallRadius\"] = 2] = \"SmallRadius\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"MediumRadius\"] = 4] = \"MediumRadius\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"LargeRadius\"] = 8] = \"LargeRadius\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"StartSilent\"] = 16] = \"StartSilent\";\n    AmbientGenericSpawnFlags[AmbientGenericSpawnFlags[\"NotToggled\"] = 32] = \"NotToggled\";\n})(AmbientGenericSpawnFlags || (exports.AmbientGenericSpawnFlags = AmbientGenericSpawnFlags = {}));\nvar ButtonTargetSpawnFlags;\n(function (ButtonTargetSpawnFlags) {\n    ButtonTargetSpawnFlags[ButtonTargetSpawnFlags[\"UseActivates\"] = 1] = \"UseActivates\";\n    ButtonTargetSpawnFlags[ButtonTargetSpawnFlags[\"StartOn\"] = 2] = \"StartOn\";\n})(ButtonTargetSpawnFlags || (exports.ButtonTargetSpawnFlags = ButtonTargetSpawnFlags = {}));\nvar CyclerWeaponTriggerCondition;\n(function (CyclerWeaponTriggerCondition) {\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"NoTrigger\"] = 0] = \"NoTrigger\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"SeePlayerMadAtPlayer\"] = 1] = \"SeePlayerMadAtPlayer\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"TakeDamage\"] = 2] = \"TakeDamage\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HalfHealthRemaining\"] = 3] = \"HalfHealthRemaining\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"Death\"] = 4] = \"Death\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HearWorld\"] = 7] = \"HearWorld\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HearPlayer\"] = 8] = \"HearPlayer\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"HearCombat\"] = 9] = \"HearCombat\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"SeePlayerUnconditional\"] = 10] = \"SeePlayerUnconditional\";\n    CyclerWeaponTriggerCondition[CyclerWeaponTriggerCondition[\"SeePlayerNotInCombat\"] = 11] = \"SeePlayerNotInCombat\";\n})(CyclerWeaponTriggerCondition || (exports.CyclerWeaponTriggerCondition = CyclerWeaponTriggerCondition = {}));\nvar EnvBeamSpawnFlags;\n(function (EnvBeamSpawnFlags) {\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"StartOn\"] = 1] = \"StartOn\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"Toggle\"] = 2] = \"Toggle\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"RandomStrike\"] = 4] = \"RandomStrike\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"Ring\"] = 8] = \"Ring\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"StartSparks\"] = 16] = \"StartSparks\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"EndSparks\"] = 32] = \"EndSparks\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"DecalEnd\"] = 64] = \"DecalEnd\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"FadeStart\"] = 128] = \"FadeStart\";\n    EnvBeamSpawnFlags[EnvBeamSpawnFlags[\"FadeEnd\"] = 256] = \"FadeEnd\";\n})(EnvBeamSpawnFlags || (exports.EnvBeamSpawnFlags = EnvBeamSpawnFlags = {}));\nvar ZHLTLightFlags;\n(function (ZHLTLightFlags) {\n    ZHLTLightFlags[ZHLTLightFlags[\"Normal\"] = 0] = \"Normal\";\n    ZHLTLightFlags[ZHLTLightFlags[\"EmbeddedFix\"] = 1] = \"EmbeddedFix\";\n    ZHLTLightFlags[ZHLTLightFlags[\"OpaqueBlockLight\"] = 2] = \"OpaqueBlockLight\";\n    ZHLTLightFlags[ZHLTLightFlags[\"OpaqueEmbeddedFix\"] = 3] = \"OpaqueEmbeddedFix\";\n    ZHLTLightFlags[ZHLTLightFlags[\"OpaqueConcaveFix\"] = 6] = \"OpaqueConcaveFix\";\n})(ZHLTLightFlags || (exports.ZHLTLightFlags = ZHLTLightFlags = {}));\nvar RenderEffect;\n(function (RenderEffect) {\n    RenderEffect[RenderEffect[\"Normal\"] = 0] = \"Normal\";\n    RenderEffect[RenderEffect[\"SlowPulse\"] = 1] = \"SlowPulse\";\n    RenderEffect[RenderEffect[\"FastPulse\"] = 2] = \"FastPulse\";\n    RenderEffect[RenderEffect[\"SlowWidePulse\"] = 3] = \"SlowWidePulse\";\n    RenderEffect[RenderEffect[\"FastWidePulse\"] = 4] = \"FastWidePulse\";\n    RenderEffect[RenderEffect[\"SlowFadeAway\"] = 5] = \"SlowFadeAway\";\n    RenderEffect[RenderEffect[\"FastFadeAway\"] = 6] = \"FastFadeAway\";\n    RenderEffect[RenderEffect[\"SlowBecomeSolid\"] = 7] = \"SlowBecomeSolid\";\n    RenderEffect[RenderEffect[\"FastBecomeSolid\"] = 8] = \"FastBecomeSolid\";\n    RenderEffect[RenderEffect[\"SlowStrobe\"] = 9] = \"SlowStrobe\";\n    RenderEffect[RenderEffect[\"FastStrobe\"] = 10] = \"FastStrobe\";\n    RenderEffect[RenderEffect[\"FasterStrobe\"] = 11] = \"FasterStrobe\";\n    RenderEffect[RenderEffect[\"SlowFlicker\"] = 12] = \"SlowFlicker\";\n    RenderEffect[RenderEffect[\"FastFlicker\"] = 13] = \"FastFlicker\";\n    RenderEffect[RenderEffect[\"ConstantGlow\"] = 14] = \"ConstantGlow\";\n    RenderEffect[RenderEffect[\"DistortModels\"] = 15] = \"DistortModels\";\n    RenderEffect[RenderEffect[\"HologramDistort\"] = 16] = \"HologramDistort\";\n})(RenderEffect || (exports.RenderEffect = RenderEffect = {}));\nvar RenderMode;\n(function (RenderMode) {\n    RenderMode[RenderMode[\"Normal\"] = 0] = \"Normal\";\n    RenderMode[RenderMode[\"Color\"] = 1] = \"Color\";\n    RenderMode[RenderMode[\"Texture\"] = 2] = \"Texture\";\n    RenderMode[RenderMode[\"Glow\"] = 3] = \"Glow\";\n    RenderMode[RenderMode[\"Solid\"] = 4] = \"Solid\";\n    RenderMode[RenderMode[\"Additive\"] = 5] = \"Additive\";\n})(RenderMode || (exports.RenderMode = RenderMode = {}));\nconst parseNumberArray = (a) => a.split(' ').map(b => parseFloat(b));\nconst parsers = {\n    worldspawn: (e) => ({\n        classname: 'worldspawn',\n        wad: e.wad\n            .split(';')\n            .filter((a) => a.length)\n            .map((w) => w.replace(/\\\\/g, '/')),\n        mapversion: parseInt(e.mapversion),\n        skyname: e.skyname,\n        maxRange: parseFloat(e.MaxRange) || 8192,\n        message: e.message || '',\n        sounds: parseInt(e.sounds) || 0,\n        light: parseInt(e.light) || 0,\n        waveHeight: parseFloat(e.WaveHeight) || 0,\n        startDark: parseInt(e.startdark) || 0,\n        newUnit: parseInt(e.newunit) || 0,\n        defaultTeam: parseInt(e.defaultteam) || 0,\n        gameTitle: parseInt(e.gametitle) || 0\n    }),\n    aiscripted_sequence: (e) => ({\n        classname: 'aiscripted_sequence',\n        spawnflags: parseInt(e.spawnflags),\n        m_iszEntity: e.m_iszEntity,\n        m_iszPlay: e.m_iszPlay || '',\n        m_flRadius: parseInt(e.m_flRadius) || 512,\n        m_flRepeat: parseInt(e.m_flRepeat) || 0,\n        m_fMoveTo: parseInt(e.m_fMoveTo) || 0,\n        m_iFinishSchedule: parseInt(e.m_iFinishSchedule) || 0,\n    }),\n    ambient_generic: (e) => ({\n        classname: 'ambient_generic',\n        origin: parseNumberArray(e.origin),\n        targetName: e.targetname,\n        message: e.message,\n        health: parseInt(e.health) || 10,\n        preset: parseInt(e.preset) || 0,\n        startVolume: parseInt(e.volstart) || 0,\n        fadeIn: parseInt(e.fadein),\n        fadeOut: parseInt(e.fadeout),\n        pitch: parseInt(e.pitch),\n        pitchStart: parseInt(e.pitchstart),\n        spinUp: parseInt(e.spinup),\n        spinDown: parseInt(e.spindown),\n        lfoType: parseInt(e.lfotype),\n        lfoRate: parseInt(e.lforate),\n        lfoModPitch: parseInt(e.lfomodpitch),\n        lfoModVolume: parseInt(e.lfomodvolume),\n        cSpinUp: parseInt(e.cspinup),\n        spawnFlags: parseInt(e.spawnflags)\n    }),\n    ammo_357: (e) => ({\n        classname: 'ammo_357',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_9mmAR: (e) => ({\n        classname: 'ammo_9mmAR',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_9mmbox: (e) => ({\n        classname: 'ammo_9mmbox',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_9mmclip: (e) => ({\n        classname: 'ammo_9mmclip',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_ARgrenades: (e) => ({\n        classname: 'ammo_ARgrenades',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_buckshot: (e) => ({\n        classname: 'ammo_buckshot',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_crossbow: (e) => ({\n        classname: 'ammo_crossbow',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_gaussclip: (e) => ({\n        classname: 'ammo_gaussclip',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    ammo_rpgclip: (e) => ({\n        classname: 'ammo_rpgclip',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname || '',\n        delay: parseInt(e.delay) || 0,\n        killTarget: e.killtarget || '',\n        spawnFlags: e.spawnflags || 0\n    }),\n    button_target: (e) => ({\n        classname: 'button_target',\n        target: e.target,\n        master: e.master,\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0'),\n        zhltLightFlags: parseInt(e.zhlt_lightflags) || 0,\n        lightOrigin: e.light_origin,\n        spawnFlags: parseInt(e.spawnflags) || 1\n    }),\n    cycler: (e) => ({\n        classname: 'cycler',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        targetName: e.targetname,\n        model: e.model,\n        sequence: e.sequence || '',\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    cycler_sprite: (e) => ({\n        classname: 'cycler_sprite',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        targetName: e.targetname,\n        model: e.model,\n        framerate: parseInt(e.framerate || '10'),\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    cyclear_weapon: (e) => ({\n        classname: 'cycler_weapon',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        target: e.target,\n        targetName: e.targetname,\n        triggerTarget: e.TriggerTarget || '',\n        triggerCondition: parseInt(e.TriggerCondition) || 0,\n        model: e.model,\n        sequence: e.sequence,\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    cyclear_wreckage: (e) => ({\n        classname: 'cycler_wreckage',\n        origin: parseNumberArray(e.origin),\n        angles: parseNumberArray(e.angles),\n        targetName: e.targetname,\n        model: e.model,\n        framerate: parseInt(e.framerate) || 10,\n        scale: parseFloat(e.scale) || 1.0,\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0')\n    }),\n    env_beam: (e) => ({\n        classname: 'env_beam',\n        renderEffect: parseInt(e.renderfx) || 0,\n        renderMode: parseInt(e.rendermode) || 0,\n        renderAmmount: parseInt(e.renderamt) || 255,\n        renderColor: parseNumberArray(e.rendercolor || '0 0 0'),\n        radius: parseFloat(e.Radius) || 256,\n        life: parseInt(e.life) || 1,\n        boltWidth: parseInt(e.BoltWidth) || 20,\n        noiseAmplitude: parseInt(e.NoiseAmplitude) || 0,\n        texture: e.texture || 'sprites/laserbeam.spr',\n        textureScroll: parseInt(e.TextureScroll) || 35,\n        frameRate: parseInt(e.framerate) || 0,\n        frameStart: parseInt(e.framestart) || 0,\n        strikeTime: parseInt(e.StrikeTime) || 1,\n        damage: parseInt(e.damage) || 1,\n        spawnFlags: parseInt(e.spawnflags)\n    })\n};\nclass BspEntityParser {\n    static parse(entities) {\n        const arr = [];\n        for (let i = 0; i < entities.length; ++i) {\n            const e = entities[i];\n            if (!e.classname) {\n                arr.push({\n                    classname: '!',\n                    data: e\n                });\n            }\n            if (parsers[e.classname]) {\n                arr.push(parsers[e.classname](e));\n            }\n            else {\n                arr.push({\n                    classname: '?',\n                    originalClassname: e.classname,\n                    data: e\n                });\n            }\n        }\n        return arr;\n    }\n}\nexports.BspEntityParser = BspEntityParser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BspLightmapParser = void 0;\nclass BspLightmapParser {\n    static init(lightmap) {\n        return new BspLightmapParser(lightmap);\n    }\n    constructor(lightmap) {\n        this.block = new Uint16Array(BspLightmapParser.TEXTURE_SIZE);\n        this.lightmap = lightmap;\n        this.texture = new Uint8Array(BspLightmapParser.TEXTURE_SIZE * BspLightmapParser.TEXTURE_SIZE * 4);\n        this.texture[this.texture.length - 4] = 255;\n        this.texture[this.texture.length - 3] = 255;\n        this.texture[this.texture.length - 2] = 255;\n        this.texture[this.texture.length - 1] = 255;\n    }\n    getTexture() {\n        return this.texture;\n    }\n    processFace(faceData, texinfo, offset) {\n        const size = this.getDimensions(faceData);\n        const rect = this.readLightmap(offset, size.width, size.height);\n        if (rect) {\n            for (let i = 0; i < faceData.length / 7; ++i) {\n                let lu = faceData[i * 7] * texinfo.s[0] +\n                    faceData[i * 7 + 1] * texinfo.s[1] +\n                    faceData[i * 7 + 2] * texinfo.s[2] +\n                    texinfo.sShift -\n                    size.minU;\n                lu += rect.x * 16 + 8;\n                lu /= BspLightmapParser.TEXTURE_SIZE * 16;\n                let lv = faceData[i * 7] * texinfo.t[0] +\n                    faceData[i * 7 + 1] * texinfo.t[1] +\n                    faceData[i * 7 + 2] * texinfo.t[2] +\n                    texinfo.tShift -\n                    size.minV;\n                lv += rect.y * 16 + 8;\n                lv /= BspLightmapParser.TEXTURE_SIZE * 16;\n                faceData[i * 7 + 5] = lu;\n                faceData[i * 7 + 6] = lv;\n            }\n        }\n    }\n    getDimensions(faceData) {\n        let minU = Math.floor(faceData[3]);\n        let minV = Math.floor(faceData[4]);\n        let maxU = Math.floor(faceData[3]);\n        let maxV = Math.floor(faceData[4]);\n        for (let i = 1; i < faceData.length / 7; ++i) {\n            if (Math.floor(faceData[i * 7 + 3]) < minU) {\n                minU = Math.floor(faceData[i * 7 + 3]);\n            }\n            if (Math.floor(faceData[i * 7 + 4]) < minV) {\n                minV = Math.floor(faceData[i * 7 + 4]);\n            }\n            if (Math.floor(faceData[i * 7 + 3]) > maxU) {\n                maxU = Math.floor(faceData[i * 7 + 3]);\n            }\n            if (Math.floor(faceData[i * 7 + 4]) > maxV) {\n                maxV = Math.floor(faceData[i * 7 + 4]);\n            }\n        }\n        return {\n            width: Math.ceil(maxU / 16) - Math.floor(minU / 16) + 1,\n            height: Math.ceil(maxV / 16) - Math.floor(minV / 16) + 1,\n            minU: Math.floor(minU),\n            minV: Math.floor(minV)\n        };\n    }\n    readLightmap(offset, width, height) {\n        if (height <= 0 || width <= 0) {\n            return null;\n        }\n        const block = this.findFreeSpace(width, height);\n        if (block) {\n            const o = [block.x, block.y];\n            const s = [width, height];\n            const d = [BspLightmapParser.TEXTURE_SIZE, BspLightmapParser.TEXTURE_SIZE];\n            const count = width * height;\n            for (let i = 0; i < count; ++i) {\n                const p = o[1] * d[0] + o[0] + d[0] * Math.floor(i / s[0]) + (i % s[0]);\n                this.texture[p * 4] = Math.min(255, this.lightmap[offset + i * 3] * 2);\n                this.texture[p * 4 + 1] = Math.min(255, this.lightmap[offset + i * 3 + 1] * 2);\n                this.texture[p * 4 + 2] = Math.min(255, this.lightmap[offset + i * 3 + 2] * 2);\n                this.texture[p * 4 + 3] = 255;\n            }\n        }\n        return block;\n    }\n    findFreeSpace(w, h) {\n        let x = 0;\n        let y = 0;\n        let bestHeight = BspLightmapParser.TEXTURE_SIZE;\n        for (let i = 0; i < this.block.length - w; ++i) {\n            let tentativeHeight = 0;\n            let j;\n            for (j = 0; j < w; ++j) {\n                if (this.block[i + j] >= bestHeight) {\n                    break;\n                }\n                if (this.block[i + j] > tentativeHeight) {\n                    tentativeHeight = this.block[i + j];\n                }\n            }\n            if (j === w) {\n                x = i;\n                y = bestHeight = tentativeHeight;\n            }\n        }\n        if (bestHeight + h > BspLightmapParser.TEXTURE_SIZE) {\n            return null;\n        }\n        for (let i = 0; i < w; ++i) {\n            this.block[x + i] = bestHeight + h;\n        }\n        return { x, y };\n    }\n}\nexports.BspLightmapParser = BspLightmapParser;\nBspLightmapParser.TEXTURE_SIZE = 1024;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BspParser = exports.BspLumpIndex = void 0;\nexports.parseModels = parseModels;\nconst Util_1 = require(\"../Util\");\nconst Vdf_1 = require(\"../Parsers/Vdf\");\nconst Bsp_1 = require(\"../Bsp\");\nconst Reader_1 = require(\"../Reader\");\nconst BspLightmapParser_1 = require(\"../Parsers/BspLightmapParser\");\nconst Util_2 = require(\"./Util\");\nfunction parseModels(models, faces, edges, surfEdges, vertices, texinfo, textures, lightmap) {\n    const parsedModels = [];\n    for (let i = 0; i < models.length; ++i) {\n        const model = models[i];\n        const _faces = [];\n        const v0 = new Float32Array(3);\n        const v1 = new Float32Array(3);\n        const v2 = new Float32Array(3);\n        const uv0 = new Float32Array(2);\n        const uv1 = new Float32Array(2);\n        const uv2 = new Float32Array(2);\n        const luv0 = new Float32Array(2);\n        const luv1 = new Float32Array(2);\n        const luv2 = new Float32Array(2);\n        let origin = i === 0\n            ? [0, 0, 0]\n            : [0, 0, 0].map((_, i) => (model.maxs[i] - model.mins[i]) / 2 + model.mins[i]);\n        for (let i = model.firstFace; i < model.firstFace + model.faceCount; ++i) {\n            const faceData = {\n                buffer: new Float32Array((faces[i].edgeCount - 2) * 21),\n                textureIndex: -1\n            };\n            const faceTexInfo = texinfo[faces[i].textureInfo];\n            const faceTexture = textures[faceTexInfo.textureIndex];\n            const faceSurfEdges = surfEdges.slice(faces[i].firstEdge, faces[i].firstEdge + faces[i].edgeCount);\n            const v0idx = edges[Math.abs(faceSurfEdges[0])][faceSurfEdges[0] > 0 ? 0 : 1];\n            v0[0] = vertices[v0idx][0];\n            v0[1] = vertices[v0idx][1];\n            v0[2] = vertices[v0idx][2];\n            uv0[0] =\n                v0[0] * faceTexInfo.s[0] +\n                    v0[1] * faceTexInfo.s[1] +\n                    v0[2] * faceTexInfo.s[2] +\n                    faceTexInfo.sShift;\n            uv0[1] =\n                v0[0] * faceTexInfo.t[0] +\n                    v0[1] * faceTexInfo.t[1] +\n                    v0[2] * faceTexInfo.t[2] +\n                    faceTexInfo.tShift;\n            luv0[0] = 0;\n            luv0[1] = 0;\n            const v1idx = edges[Math.abs(faceSurfEdges[1])][faceSurfEdges[1] > 0 ? 0 : 1];\n            v1[0] = vertices[v1idx][0];\n            v1[1] = vertices[v1idx][1];\n            v1[2] = vertices[v1idx][2];\n            uv1[0] =\n                v1[0] * faceTexInfo.s[0] +\n                    v1[1] * faceTexInfo.s[1] +\n                    v1[2] * faceTexInfo.s[2] +\n                    faceTexInfo.sShift;\n            uv1[1] =\n                v1[0] * faceTexInfo.t[0] +\n                    v1[1] * faceTexInfo.t[1] +\n                    v1[2] * faceTexInfo.t[2] +\n                    faceTexInfo.tShift;\n            luv1[0] = 0;\n            luv1[1] = 0.999;\n            let compIndex = 0;\n            for (let j = 2; j < faces[i].edgeCount; ++j) {\n                const v2idx = edges[Math.abs(faceSurfEdges[j])][faceSurfEdges[j] > 0 ? 0 : 1];\n                v2[0] = vertices[v2idx][0];\n                v2[1] = vertices[v2idx][1];\n                v2[2] = vertices[v2idx][2];\n                uv2[0] =\n                    v2[0] * faceTexInfo.s[0] +\n                        v2[1] * faceTexInfo.s[1] +\n                        v2[2] * faceTexInfo.s[2] +\n                        faceTexInfo.sShift;\n                uv2[1] =\n                    v2[0] * faceTexInfo.t[0] +\n                        v2[1] * faceTexInfo.t[1] +\n                        v2[2] * faceTexInfo.t[2] +\n                        faceTexInfo.tShift;\n                luv2[0] = 0.999;\n                luv2[1] = 0.999;\n                faceData.buffer[compIndex++] = v0[0];\n                faceData.buffer[compIndex++] = v0[1];\n                faceData.buffer[compIndex++] = v0[2];\n                faceData.buffer[compIndex++] = uv0[0];\n                faceData.buffer[compIndex++] = uv0[1];\n                faceData.buffer[compIndex++] = luv0[0];\n                faceData.buffer[compIndex++] = luv0[1];\n                faceData.buffer[compIndex++] = v1[0];\n                faceData.buffer[compIndex++] = v1[1];\n                faceData.buffer[compIndex++] = v1[2];\n                faceData.buffer[compIndex++] = uv1[0];\n                faceData.buffer[compIndex++] = uv1[1];\n                faceData.buffer[compIndex++] = luv1[0];\n                faceData.buffer[compIndex++] = luv1[1];\n                faceData.buffer[compIndex++] = v2[0];\n                faceData.buffer[compIndex++] = v2[1];\n                faceData.buffer[compIndex++] = v2[2];\n                faceData.buffer[compIndex++] = uv2[0];\n                faceData.buffer[compIndex++] = uv2[1];\n                faceData.buffer[compIndex++] = luv2[0];\n                faceData.buffer[compIndex++] = luv2[1];\n                v1[0] = v2[0];\n                v1[1] = v2[1];\n                v1[2] = v2[2];\n                uv1[0] = uv2[0];\n                uv1[1] = uv2[1];\n                luv1[0] = luv2[0];\n                luv1[1] = luv2[1];\n            }\n            if (faceTexInfo.flags === 0 || faceTexInfo.flags === -65536) {\n                lightmap.processFace(faceData.buffer, faceTexInfo, faces[i].lightmapOffset);\n            }\n            faceData.textureIndex = faceTexInfo.textureIndex;\n            for (let j = 0; j < faceData.buffer.length / 7; ++j) {\n                faceData.buffer[j * 7] -= origin[0];\n                faceData.buffer[j * 7 + 1] -= origin[1];\n                faceData.buffer[j * 7 + 2] -= origin[2];\n                faceData.buffer[j * 7 + 3] /= faceTexture.width;\n                faceData.buffer[j * 7 + 4] /= faceTexture.height;\n            }\n            _faces.push(faceData);\n        }\n        parsedModels.push({\n            origin,\n            faces: _faces\n        });\n    }\n    return parsedModels;\n}\nvar BspLumpIndex;\n(function (BspLumpIndex) {\n    BspLumpIndex[BspLumpIndex[\"Entities\"] = 0] = \"Entities\";\n    BspLumpIndex[BspLumpIndex[\"Planes\"] = 1] = \"Planes\";\n    BspLumpIndex[BspLumpIndex[\"Textures\"] = 2] = \"Textures\";\n    BspLumpIndex[BspLumpIndex[\"Vertices\"] = 3] = \"Vertices\";\n    BspLumpIndex[BspLumpIndex[\"Visibility\"] = 4] = \"Visibility\";\n    BspLumpIndex[BspLumpIndex[\"Nodes\"] = 5] = \"Nodes\";\n    BspLumpIndex[BspLumpIndex[\"TexInfo\"] = 6] = \"TexInfo\";\n    BspLumpIndex[BspLumpIndex[\"Faces\"] = 7] = \"Faces\";\n    BspLumpIndex[BspLumpIndex[\"Lighting\"] = 8] = \"Lighting\";\n    BspLumpIndex[BspLumpIndex[\"ClipNodes\"] = 9] = \"ClipNodes\";\n    BspLumpIndex[BspLumpIndex[\"Leaves\"] = 10] = \"Leaves\";\n    BspLumpIndex[BspLumpIndex[\"MarkSurfaces\"] = 11] = \"MarkSurfaces\";\n    BspLumpIndex[BspLumpIndex[\"Edges\"] = 12] = \"Edges\";\n    BspLumpIndex[BspLumpIndex[\"SurfEdges\"] = 13] = \"SurfEdges\";\n    BspLumpIndex[BspLumpIndex[\"Models\"] = 14] = \"Models\";\n})(BspLumpIndex || (exports.BspLumpIndex = BspLumpIndex = {}));\nclass BspParser {\n    static parse(name, buffer) {\n        const r = new Reader_1.Reader(buffer);\n        const version = r.ui();\n        if (version !== 30) {\n            throw new Error('Invalid map version');\n        }\n        const lumps = [];\n        for (let i = 0; i < 15; ++i) {\n            lumps.push({\n                offset: r.ui(),\n                length: r.ui()\n            });\n        }\n        const entities = this.loadEntities(r, lumps[BspLumpIndex.Entities].offset, lumps[BspLumpIndex.Entities].length);\n        const textures = this.loadTextures(r, lumps[BspLumpIndex.Textures].offset);\n        const models = this.loadModels(r, lumps[BspLumpIndex.Models].offset, lumps[BspLumpIndex.Models].length);\n        const faces = this.loadFaces(r, lumps[BspLumpIndex.Faces].offset, lumps[BspLumpIndex.Faces].length);\n        const edges = this.loadEdges(r, lumps[BspLumpIndex.Edges].offset, lumps[BspLumpIndex.Edges].length);\n        const surfEdges = this.loadSurfEdges(r, lumps[BspLumpIndex.SurfEdges].offset, lumps[BspLumpIndex.SurfEdges].length);\n        const vertices = this.loadVertices(r, lumps[BspLumpIndex.Vertices].offset, lumps[BspLumpIndex.Vertices].length);\n        const texinfo = this.loadTexInfo(r, lumps[BspLumpIndex.TexInfo].offset, lumps[BspLumpIndex.TexInfo].length);\n        const lightmap = this.loadLightmap(r, lumps[BspLumpIndex.Lighting].offset, lumps[BspLumpIndex.Lighting].length);\n        const parsedLightmap = BspLightmapParser_1.BspLightmapParser.init(lightmap);\n        const parsedModels = parseModels(models, faces, edges, surfEdges, vertices, texinfo, textures, parsedLightmap);\n        return new Bsp_1.Bsp(name, entities, textures, parsedModels, {\n            width: BspLightmapParser_1.BspLightmapParser.TEXTURE_SIZE,\n            height: BspLightmapParser_1.BspLightmapParser.TEXTURE_SIZE,\n            data: parsedLightmap.getTexture()\n        });\n    }\n    static loadFaces(r, offset, length) {\n        r.seek(offset);\n        const faces = [];\n        for (let i = 0; i < length / 20; ++i) {\n            faces.push({\n                plane: r.us(),\n                planeSide: r.us(),\n                firstEdge: r.ui(),\n                edgeCount: r.us(),\n                textureInfo: r.us(),\n                styles: [r.ub(), r.ub(), r.ub(), r.ub()],\n                lightmapOffset: r.ui()\n            });\n        }\n        return faces;\n    }\n    static loadModels(r, offset, length) {\n        r.seek(offset);\n        const models = [];\n        for (let i = 0; i < length / 64; ++i) {\n            models.push({\n                mins: [r.f(), r.f(), r.f()],\n                maxs: [r.f(), r.f(), r.f()],\n                origin: [r.f(), r.f(), r.f()],\n                headNodes: [r.i(), r.i(), r.i(), r.i()],\n                visLeaves: r.i(),\n                firstFace: r.i(),\n                faceCount: r.i()\n            });\n        }\n        return models;\n    }\n    static loadEdges(r, offset, length) {\n        r.seek(offset);\n        const edges = [];\n        for (let i = 0; i < length / 4; ++i) {\n            edges.push([r.us(), r.us()]);\n        }\n        return edges;\n    }\n    static loadSurfEdges(r, offset, length) {\n        r.seek(offset);\n        const surfEdges = [];\n        for (let i = 0; i < length / 4; ++i) {\n            surfEdges.push(r.i());\n        }\n        return surfEdges;\n    }\n    static loadVertices(r, offset, length) {\n        r.seek(offset);\n        const vertices = [];\n        for (let i = 0; i < length / 12; ++i) {\n            vertices.push([r.f(), r.f(), r.f()]);\n        }\n        return vertices;\n    }\n    static loadTexInfo(r, offset, length) {\n        r.seek(offset);\n        const texinfo = [];\n        for (let i = 0; i < length / 40; ++i) {\n            texinfo.push({\n                s: [r.f(), r.f(), r.f()],\n                sShift: r.f(),\n                t: [r.f(), r.f(), r.f()],\n                tShift: r.f(),\n                textureIndex: r.i(),\n                flags: r.i()\n            });\n        }\n        return texinfo;\n    }\n    static loadLightmap(r, offset, length) {\n        r.seek(offset);\n        return r.arrx(length, Reader_1.ReaderDataType.UByte);\n    }\n    static loadTextureData(r) {\n        const name = r.nstr(16);\n        const width = r.ui();\n        const height = r.ui();\n        const isExternal = !r.ui();\n        if (isExternal) {\n            const data = new Uint8Array(4);\n            data[0] = data[1] = data[2] = data[3] = 255;\n            return { name, width, height, data, isExternal };\n        }\n        else {\n            r.skip(3 * 4);\n            const pixelCount = width * height;\n            const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n            r.skip(21 * (pixelCount / 64));\n            r.skip(2);\n            const palette = r.arrx(768, Reader_1.ReaderDataType.UByte);\n            const data = name[0] === '{'\n                ? (0, Util_2.paletteWithLastTransToRGBA)(pixels, palette)\n                : (0, Util_2.paletteToRGBA)(pixels, palette);\n            return { name, width, height, data, isExternal };\n        }\n    }\n    static loadTextures(r, offset) {\n        r.seek(offset);\n        const count = r.ui();\n        const offsets = [];\n        for (let i = 0; i < count; ++i) {\n            offsets.push(r.ui());\n        }\n        const textures = [];\n        for (let i = 0; i < count; ++i) {\n            if (offsets[i] === 0xffffffff) {\n                textures.push({\n                    name: 'ERROR404',\n                    width: 1,\n                    height: 1,\n                    data: new Uint8Array([0, 255, 0, 255]),\n                    isExternal: false\n                });\n            }\n            else {\n                r.seek(offset + offsets[i]);\n                textures.push(this.loadTextureData(r));\n            }\n        }\n        return textures;\n    }\n    static loadEntities(r, offset, length) {\n        r.seek(offset);\n        const entities = (0, Vdf_1.vdf)(r.nstr(length));\n        const VECTOR_ATTRS = [\n            'origin',\n            'angles',\n            '_diffuse_light',\n            '_light',\n            'rendercolor',\n            'avelocity'\n        ];\n        const NUMBER_ATTRS = ['renderamt', 'rendermode', 'scale'];\n        const worldSpawn = entities[0];\n        if (worldSpawn.classname === 'worldspawn') {\n            worldSpawn.model = '*0';\n            worldSpawn.wad = worldSpawn.wad || '';\n            worldSpawn.wad = worldSpawn.wad\n                .split(';')\n                .filter((w) => w.length)\n                .map((w) => w.replace(/\\\\/g, '/'))\n                .map((w) => (0, Util_1.basename)(w));\n        }\n        entities.forEach(e => {\n            if (e.model) {\n                if (typeof e.renderamt === 'undefined') {\n                    e.renderamt = 0;\n                }\n                if (typeof e.rendermode === 'undefined') {\n                    e.rendermode = 0;\n                }\n                if (typeof e.renderfx === 'undefined') {\n                    e.renderfx = 0;\n                }\n                if (typeof e.rendercolor === 'undefined') {\n                    e.rendercolor = '0 0 0';\n                }\n            }\n            VECTOR_ATTRS.forEach(attr => {\n                if (e[attr]) {\n                    e[attr] = e[attr].split(' ').map((v) => Number.parseFloat(v));\n                }\n            });\n            NUMBER_ATTRS.forEach(attr => {\n                if (e[attr]) {\n                    e[attr] = Number.parseFloat(e[attr]);\n                }\n            });\n        });\n        return entities;\n    }\n}\nexports.BspParser = BspParser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sprite = exports.SpriteSyncType = exports.SpriteAlphaType = exports.SpriteType = void 0;\nconst Reader_1 = require(\"../Reader\");\nconst Util_1 = require(\"./Util\");\nvar SpriteType;\n(function (SpriteType) {\n    SpriteType[SpriteType[\"VP_PARALLEL_UPRIGHT\"] = 0] = \"VP_PARALLEL_UPRIGHT\";\n    SpriteType[SpriteType[\"FACING_UPRIGHT\"] = 1] = \"FACING_UPRIGHT\";\n    SpriteType[SpriteType[\"VP_PARALLEL\"] = 2] = \"VP_PARALLEL\";\n    SpriteType[SpriteType[\"ORIENTED\"] = 3] = \"ORIENTED\";\n    SpriteType[SpriteType[\"VP_PARALLEL_ORIENTED\"] = 4] = \"VP_PARALLEL_ORIENTED\";\n})(SpriteType || (exports.SpriteType = SpriteType = {}));\nvar SpriteAlphaType;\n(function (SpriteAlphaType) {\n    SpriteAlphaType[SpriteAlphaType[\"SPR_NORMAL\"] = 0] = \"SPR_NORMAL\";\n    SpriteAlphaType[SpriteAlphaType[\"SPR_ADDITIVE\"] = 1] = \"SPR_ADDITIVE\";\n    SpriteAlphaType[SpriteAlphaType[\"SPR_INDEXALPHA\"] = 2] = \"SPR_INDEXALPHA\";\n    SpriteAlphaType[SpriteAlphaType[\"SPR_ALPHTEST\"] = 3] = \"SPR_ALPHTEST\";\n})(SpriteAlphaType || (exports.SpriteAlphaType = SpriteAlphaType = {}));\nvar SpriteSyncType;\n(function (SpriteSyncType) {\n    SpriteSyncType[SpriteSyncType[\"SYNCHRONIZED\"] = 0] = \"SYNCHRONIZED\";\n    SpriteSyncType[SpriteSyncType[\"RANDOM\"] = 1] = \"RANDOM\";\n})(SpriteSyncType || (exports.SpriteSyncType = SpriteSyncType = {}));\nclass Sprite {\n    constructor(header, frames) {\n        this.header = header;\n        this.frames = frames;\n    }\n    static parse(buffer) {\n        const r = new Reader_1.Reader(buffer);\n        const header = {\n            version: r.i(),\n            type: r.i(),\n            alphaType: r.i(),\n            radius: r.f(),\n            width: r.i(),\n            height: r.i(),\n            frameCount: r.i(),\n            beamLength: r.f(),\n            syncType: r.i()\n        };\n        const paletteSize = r.s();\n        const palette = r.arrx(paletteSize * 3, Reader_1.ReaderDataType.UByte);\n        const frames = [];\n        for (let i = 0; i < header.frameCount; ++i) {\n            const frame = {\n                group: r.i(),\n                position: [r.i(), r.i()],\n                width: r.i(),\n                height: r.i(),\n                data: new Uint8Array(header.width * header.height * 4)\n            };\n            const pixels = r.arrx(header.width * header.height, Reader_1.ReaderDataType.UByte);\n            if (header.alphaType === SpriteAlphaType.SPR_ALPHTEST) {\n                frame.data = (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette);\n            }\n            else {\n                frame.data = (0, Util_1.paletteToRGBA)(pixels, palette);\n            }\n            frames.push(frame);\n        }\n        return new Sprite(header, frames);\n    }\n}\nexports.Sprite = Sprite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tga = void 0;\nconst Reader_1 = require(\"../Reader\");\nclass Tga {\n    constructor(name, width, height, data) {\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.data = data;\n    }\n    static parse(buffer, name) {\n        let r = new Reader_1.Reader(buffer);\n        let header = {\n            idLength: r.ub(),\n            colorMapType: r.ub(),\n            imageType: r.ub(),\n            colorMap: {\n                firstEntryIndex: r.us(),\n                length: r.us(),\n                size: r.ub()\n            },\n            image: {\n                xOrigin: r.us(),\n                yOrigin: r.us(),\n                width: r.us(),\n                height: r.us(),\n                depth: r.ub(),\n                descriptor: r.ub()\n            }\n        };\n        if (header.idLength) {\n            r.arrx(header.idLength, Reader_1.ReaderDataType.UByte);\n        }\n        if (header.colorMapType) {\n            throw new Error('Not implemented');\n        }\n        let w = header.image.width;\n        let h = header.image.height;\n        let pixelCount = w * h;\n        let imageData;\n        if (header.imageType === 0x02) {\n            let byteCount = (pixelCount * header.image.depth) / 8;\n            imageData = r.arrx(byteCount, Reader_1.ReaderDataType.UByte);\n            if (header.image.depth === 24) {\n                let temp = new Uint8Array(pixelCount * 4);\n                for (let i = 0; i < h; ++i) {\n                    for (let j = 0; j < w; ++j) {\n                        let dst = (h - 1 - i) * w + j;\n                        temp[dst * 4] = imageData[(i * w + j) * 3 + 2];\n                        temp[dst * 4 + 1] = imageData[(i * w + j) * 3 + 1];\n                        temp[dst * 4 + 2] = imageData[(i * w + j) * 3];\n                        temp[dst * 4 + 3] = 255;\n                    }\n                }\n                imageData = temp;\n            }\n            else if (header.image.depth === 32) {\n                let temp = new Uint8Array(pixelCount * 4);\n                for (let i = 0; i < h; ++i) {\n                    for (let j = 0; j < w; ++j) {\n                        let dst = (h - 1 - i) * w + j;\n                        temp[dst * 4] = imageData[(i * w + j) * 4 + 2];\n                        temp[dst * 4 + 1] = imageData[(i * w + j) * 4 + 1];\n                        temp[dst * 4 + 2] = imageData[(i * w + j) * 4];\n                        temp[dst * 4 + 3] = 255;\n                    }\n                }\n                imageData = temp;\n            }\n        }\n        else if (header.imageType === 0x0a) {\n            imageData = new Uint8Array(pixelCount * 4);\n            if (header.image.depth === 24) {\n                for (let i = 0; i < h; ++i) {\n                    for (let j = 0; j < w;) {\n                        let repCount = r.ub();\n                        if (repCount & 0x80) {\n                            repCount = (repCount & 0x7f) + 1;\n                            let bl = r.ub();\n                            let gr = r.ub();\n                            let rd = r.ub();\n                            while (j < w && repCount) {\n                                let dst = (h - 1 - i) * w + j;\n                                imageData[dst * 4] = rd;\n                                imageData[dst * 4 + 1] = gr;\n                                imageData[dst * 4 + 2] = bl;\n                                imageData[dst * 4 + 3] = 255;\n                                ++j;\n                                --repCount;\n                            }\n                        }\n                        else {\n                            repCount = (repCount & 0x7f) + 1;\n                            while (j < w && repCount) {\n                                let dst = (h - 1 - i) * w + j;\n                                imageData[dst * 4 + 2] = r.ub();\n                                imageData[dst * 4 + 1] = r.ub();\n                                imageData[dst * 4] = r.ub();\n                                imageData[dst * 4 + 3] = 255;\n                                ++j;\n                                --repCount;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return new Tga(name, header.image.width, header.image.height, imageData);\n    }\n}\nexports.Tga = Tga;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.paletteToRGBA = paletteToRGBA;\nexports.paletteWithLastTransToRGBA = paletteWithLastTransToRGBA;\nfunction paletteToRGBA(pixels, palette) {\n    const rgba = new Uint8Array(pixels.length * 4);\n    const len = pixels.length;\n    for (let i = 0; i < len; ++i) {\n        rgba[i * 4] = palette[pixels[i] * 3];\n        rgba[i * 4 + 1] = palette[pixels[i] * 3 + 1];\n        rgba[i * 4 + 2] = palette[pixels[i] * 3 + 2];\n        rgba[i * 4 + 3] = 255;\n    }\n    return rgba;\n}\nfunction paletteWithLastTransToRGBA(pixels, palette) {\n    const rgba = new Uint8Array(pixels.length * 4);\n    const len = pixels.length;\n    for (let i = 0; i < len; ++i) {\n        if (pixels[i] === 255) {\n            rgba[i * 4 + 3] = 0;\n        }\n        else {\n            rgba[i * 4] = palette[pixels[i] * 3];\n            rgba[i * 4 + 1] = palette[pixels[i] * 3 + 1];\n            rgba[i * 4 + 2] = palette[pixels[i] * 3 + 2];\n            rgba[i * 4 + 3] = 255;\n        }\n    }\n    return rgba;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.vdf = vdf;\nfunction vdf(input) {\n    let state = 0;\n    let key = '';\n    let val = '';\n    const objects = [];\n    for (let i = 0; i < input.length; ++i) {\n        const c = input[i];\n        switch (state) {\n            case 0: {\n                if (/\\s/.test(c)) {\n                    continue;\n                }\n                else if (c === '{') {\n                    objects.push({});\n                    state = 1;\n                }\n                else {\n                    return [];\n                }\n                break;\n            }\n            case 1: {\n                if (/\\s/.test(c)) {\n                    continue;\n                }\n                else if (c === '}') {\n                    state = 0;\n                }\n                else if (c === '\"') {\n                    key = '';\n                    state = 2;\n                }\n                else {\n                    return [];\n                }\n                break;\n            }\n            case 2: {\n                if (c === '\"') {\n                    state = 3;\n                }\n                else {\n                    key += c;\n                }\n                break;\n            }\n            case 3: {\n                if (/\\s/.test(c)) {\n                    continue;\n                }\n                else if (c === '\"') {\n                    val = '';\n                    state = 4;\n                }\n                break;\n            }\n            case 4: {\n                if (c === '\"') {\n                    objects[objects.length - 1][key] = val;\n                    state = 1;\n                }\n                else {\n                    val += c;\n                }\n                break;\n            }\n        }\n    }\n    return objects;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Wad = void 0;\nconst Reader_1 = require(\"../Reader\");\nconst Util_1 = require(\"./Util\");\nfunction parseDecal(r) {\n    const name = r.nstr(16);\n    const width = r.ui();\n    const height = r.ui();\n    r.skip(4 * 4);\n    const pixelCount = width * height;\n    const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n    r.skip(21 * (pixelCount / 64));\n    r.skip(2);\n    const palette = r.arrx(768, Reader_1.ReaderDataType.UByte);\n    const data = name[0] === '{'\n        ? (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette)\n        : (0, Util_1.paletteToRGBA)(pixels, palette);\n    return {\n        type: 'decal',\n        name,\n        width,\n        height,\n        data\n    };\n}\nconst parseCache = (_r, metadata) => ({\n    type: 'cache',\n    name: metadata.name\n});\nfunction parseTexture(r) {\n    const name = r.nstr(16);\n    const width = r.ui();\n    const height = r.ui();\n    r.skip(4 * 4);\n    const pixelCount = width * height;\n    const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n    r.skip(21 * (pixelCount / 64));\n    r.skip(2);\n    const palette = r.arrx(768, Reader_1.ReaderDataType.UByte);\n    const data = name[0] === '{'\n        ? (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette)\n        : (0, Util_1.paletteToRGBA)(pixels, palette);\n    return {\n        type: 'texture',\n        name,\n        width,\n        height,\n        data\n    };\n}\nfunction parseFont(r, metadata) {\n    const width = r.ui() && 256;\n    const height = r.ui();\n    const rowCount = r.ui();\n    const rowHeight = r.ui();\n    const glyphs = [];\n    for (let i = 0; i < 256; ++i) {\n        const glyphOffset = r.us();\n        const glyphWidth = r.us();\n        glyphs.push({\n            x: glyphOffset % width,\n            y: (Math.floor(glyphOffset / width) / rowHeight) * rowHeight,\n            width: glyphWidth,\n            height: rowHeight\n        });\n    }\n    const pixelCount = width * height;\n    const pixels = r.arrx(pixelCount, Reader_1.ReaderDataType.UByte);\n    r.skip(2);\n    const palette = r.arrx(256 * 3, Reader_1.ReaderDataType.UByte);\n    return {\n        type: 'font',\n        name: metadata.name,\n        width,\n        height,\n        rowCount,\n        rowHeight,\n        glyphs,\n        data: (0, Util_1.paletteWithLastTransToRGBA)(pixels, palette)\n    };\n}\nconst parseUnknown = (r, metadata) => ({\n    type: 'unknown',\n    name: metadata.name,\n    data: r.arrx(metadata.length, Reader_1.ReaderDataType.UByte)\n});\nfunction parseEntry(r, metadata) {\n    r.seek(metadata.offset);\n    switch (metadata.type) {\n        case 0x40: {\n            return parseDecal(r);\n        }\n        case 0x42: {\n            return parseCache(r, metadata);\n        }\n        case 0x43: {\n            return parseTexture(r);\n        }\n        case 0x46: {\n            return parseFont(r, metadata);\n        }\n        default: {\n            return parseUnknown(r, metadata);\n        }\n    }\n}\nclass Wad {\n    constructor(entries) {\n        this.entries = entries;\n    }\n    static parse(buffer) {\n        const r = new Reader_1.Reader(buffer);\n        const magic = r.nstr(4);\n        if (magic !== 'WAD3') {\n            throw new Error('Invalid WAD file format');\n        }\n        const entryCount = r.ui();\n        const directoryOffset = r.ui();\n        r.seek(directoryOffset);\n        const entriesMetadata = [];\n        for (let i = 0; i < entryCount; ++i) {\n            const entry = {\n                offset: r.ui(),\n                diskLength: r.ui(),\n                length: r.ui(),\n                type: r.b(),\n                isCompressed: r.b(),\n                name: ''\n            };\n            r.skip(2);\n            entry.name = r.nstr(16);\n            entriesMetadata.push(entry);\n        }\n        const entries = entriesMetadata.map(e => parseEntry(r, e));\n        return new Wad(entries);\n    }\n}\nexports.Wad = Wad;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FullscreenButton = void 0;\nconst preact_1 = require(\"preact\");\nconst typestyle_1 = require(\"typestyle\");\nconst Fullscreen_1 = require(\"../../../Fullscreen\");\nconst style_1 = require(\"./style\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nclass FullscreenButton extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isInFullscreen: false\n        };\n        this.onClick = () => {\n            if (Fullscreen_1.Fullscreen.isInFullscreen()) {\n                Fullscreen_1.Fullscreen.exit();\n            }\n            else {\n                Fullscreen_1.Fullscreen.enter(this.props.root);\n            }\n        };\n        this.onFullscreen = () => {\n            this.setState({\n                isInFullscreen: Fullscreen_1.Fullscreen.isInFullscreen()\n            });\n        };\n    }\n    componentDidMount() {\n        Fullscreen_1.Fullscreen.onChange(this.onFullscreen);\n    }\n    componentWillUnmount() {\n        Fullscreen_1.Fullscreen.onChangeRemove(this.onFullscreen);\n    }\n    render() {\n        return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.FullscreenButtonStyle.button), onClick: this.onClick }, this.state.isInFullscreen ? ((0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 22 L22 22 L22 0 L14 0 L14 14 L0 14 M42 0 L42 22 L64 22 L64 14 L50 14 L50 0 M14 50 L0 50 L0 42 L22 42 L22 64 L14 64 M42 64 L42 42 L64 42 L64 50 L50 50 L50 64 Z\" }))) : ((0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 22 L8 22 L8 8 L22 8 L22 0 L0 0 M42 0 L42 8 L56 8 L56 22 L64 22 L64 0 M0 64 L0 42 L8 42 L8 56 L22 56 L22 64 M64 64 L42 64 L42 56 L56 56 L56 42 L64 42 Z\" })))));\n    }\n}\nexports.FullscreenButton = FullscreenButton;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FullscreenButtonStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.FullscreenButtonStyle = (0, typestyle_1.stylesheet)({\n    button: {\n        width: '30px',\n        minWidth: '30px',\n        height: '30px',\n        padding: '5px'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PauseButton = PauseButton;\nconst preact_1 = require(\"preact\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nfunction PauseButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.button, onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L20 64 L20 0 M44 0 L64 0 L64 64 L44 64 Z\" }))));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PlayButton = PlayButton;\nconst preact_1 = require(\"preact\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nfunction PlayButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.button, onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L64 32 Z\" }))));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsButton = void 0;\nconst preact_1 = require(\"preact\");\nconst typestyle_1 = require(\"typestyle\");\nconst Game_1 = require(\"../../../Game\");\nconst style_1 = require(\"./style\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nclass SettingsButton extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.onFreeModeClick = () => {\n            if (this.props.game.mode === Game_1.PlayerMode.FREE) {\n                return;\n            }\n            this.props.game.changeMode(Game_1.PlayerMode.FREE);\n            this.props.game.player.pause();\n        };\n        this.onReplayModeClick = () => {\n            if (this.props.game.mode === Game_1.PlayerMode.REPLAY) {\n                return;\n            }\n            this.props.game.changeMode(Game_1.PlayerMode.REPLAY);\n        };\n        this.toggleMenu = () => {\n            this.setState({ isOpen: !this.state.isOpen });\n        };\n    }\n    render() {\n        const hasReplay = !!this.props.game.player.replay;\n        return ((0, preact_1.h)(\"div\", { class: style_1.SettingsButtonStyle.settings },\n            (0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.SettingsButtonStyle.button), onClick: this.toggleMenu },\n                (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\" },\n                    (0, preact_1.h)(\"path\", { \"fill-rule\": \"evenodd\", \"clip-rule\": \"evenodd\", fill: \"#ffffff\", d: \"M23.9 10.7c0-0.3-0.4-0.6-0.8-0.6 -1.1 0-2.1-0.6-2.5-1.6 -0.4-1-0.1-2.2 0.7-3 0.3-0.2 0.3-0.6 0.1-0.9 -0.6-0.7-1.2-1.4-1.9-1.9 -0.3-0.2-0.7-0.2-0.9 0.1 -0.7 0.8-2 1.1-3 0.7 -1-0.4-1.7-1.5-1.6-2.6 0-0.4-0.2-0.7-0.6-0.7 -0.9-0.1-1.8-0.1-2.7 0C10.4 0.1 10.1 0.4 10.1 0.8 10.1 1.9 9.5 2.9 8.5 3.3 7.5 3.7 6.2 3.4 5.5 2.6c-0.2-0.3-0.6-0.3-0.9-0.1 -0.7 0.6-1.4 1.2-1.9 1.9C2.4 4.8 2.5 5.2 2.7 5.4c0.8 0.8 1.1 2 0.7 3 -0.4 1-1.4 1.6-2.6 1.6 -0.4 0-0.7 0.2-0.7 0.6 -0.1 0.9-0.1 1.8 0 2.7 0 0.3 0.4 0.6 0.8 0.6 1 0 2 0.6 2.5 1.6 0.4 1 0.2 2.2-0.7 3 -0.3 0.2-0.3 0.6-0.1 0.9 0.6 0.7 1.2 1.4 1.9 1.9 0.3 0.2 0.7 0.2 0.9-0.1 0.7-0.8 2-1.1 3-0.7 1 0.4 1.7 1.5 1.6 2.6 0 0.4 0.2 0.7 0.6 0.7C11.1 24 11.5 24 12 24c0.4 0 0.9 0 1.3-0.1 0.3 0 0.6-0.3 0.6-0.7 0-1.1 0.6-2.1 1.6-2.6 1-0.4 2.3-0.1 3 0.7 0.2 0.3 0.6 0.3 0.9 0.1 0.7-0.6 1.4-1.2 1.9-1.9 0.2-0.3 0.2-0.7-0.1-0.9 -0.8-0.8-1.1-2-0.7-3 0.4-1 1.4-1.6 2.5-1.6l0.1 0c0.3 0 0.7-0.2 0.7-0.6C24 12.5 24 11.6 23.9 10.7zM12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6c3.3 0 6 2.7 6 6S15.3 18 12 18zM12 16\" }))),\n            (0, preact_1.h)(\"div\", { class: this.state.isOpen ? style_1.SettingsButtonStyle.menuOpen : style_1.SettingsButtonStyle.menu },\n                (0, preact_1.h)(\"span\", { class: style_1.SettingsButtonStyle.menuItemTitle }, \"Mode\"),\n                hasReplay ? ((0, preact_1.h)(\"span\", { class: this.props.game.mode === Game_1.PlayerMode.REPLAY\n                        ? style_1.SettingsButtonStyle.menuItemSelected\n                        : style_1.SettingsButtonStyle.menuItem, onClick: this.onReplayModeClick }, \"Replay\")) : ((0, preact_1.h)(\"span\", null)),\n                (0, preact_1.h)(\"span\", { class: this.props.game.mode === Game_1.PlayerMode.FREE\n                        ? style_1.SettingsButtonStyle.menuItemSelected\n                        : style_1.SettingsButtonStyle.menuItem, onClick: this.onFreeModeClick }, \"Free\"))));\n    }\n}\nexports.SettingsButton = SettingsButton;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsButtonStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nconst menuStyle = () => ({\n    display: 'none',\n    position: 'absolute',\n    left: '-38px',\n    bottom: '48px',\n    padding: '2px 6px',\n    fontSize: '14px',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    flexFlow: 'column',\n    minWidth: '100px'\n});\nconst menuItemStyle = () => ({\n    cursor: 'pointer',\n    margin: '4px 0',\n    padding: '4px',\n    $nest: {\n        '&:last-child': {\n            marginTop: 0\n        },\n        '&:hover': {\n            backgroundColor: 'rgba(255, 255, 255, 0.1)'\n        }\n    }\n});\nexports.SettingsButtonStyle = (0, typestyle_1.stylesheet)({\n    settings: {\n        position: 'relative'\n    },\n    menu: Object.assign({}, menuStyle()),\n    menuOpen: Object.assign(Object.assign({}, menuStyle()), { display: 'flex' }),\n    menuItemTitle: {\n        padding: '6px 4px',\n        borderBottom: '1px solid white',\n        fontWeight: 'bold'\n    },\n    menuItem: Object.assign({}, menuItemStyle()),\n    menuItemSelected: Object.assign(Object.assign({}, menuItemStyle()), { backgroundColor: 'rgba(255, 255, 255, 0.2) !important' }),\n    button: {\n        width: '32px',\n        height: '32px',\n        padding: '5px'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeedDownButton = SpeedDownButton;\nconst preact_1 = require(\"preact\");\nconst typestyle_1 = require(\"typestyle\");\nconst style_1 = require(\"./style\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nfunction SpeedDownButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.SpeedDownButtonStyle.button), onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L32 32 L32 64 L64 32 L32 0 L32 32 Z\" }))));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeedDownButtonStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.SpeedDownButtonStyle = (0, typestyle_1.stylesheet)({\n    button: {\n        transform: 'rotate(180deg)'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeedUpButton = SpeedUpButton;\nconst preact_1 = require(\"preact\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nfunction SpeedUpButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.button, onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 64 64\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M0 0 L0 64 L32 32 L32 64 L64 32 L32 0 L32 32 Z\" }))));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VolumeButton = VolumeButton;\nconst preact_1 = require(\"preact\");\nconst typestyle_1 = require(\"typestyle\");\nconst style_1 = require(\"./style\");\nconst Controls_style_1 = require(\"../../Controls.style\");\nfunction VolumeButton(props) {\n    return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(Controls_style_1.ControlsStyle.button, style_1.VolumeButton.button), onClick: props.onClick },\n        (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 48 48\", fill: \"currentcolor\" },\n            (0, preact_1.h)(\"path\", { d: \"M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z\" }))));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VolumeButton = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.VolumeButton = (0, typestyle_1.stylesheet)({\n    button: {\n        width: '28px',\n        height: '28px',\n        padding: '2px',\n        marginRight: '5px'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ControlsStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nconst controlsStyle = () => ({\n    zIndex: 30,\n    position: 'absolute',\n    width: '100%',\n    bottom: 0,\n    padding: '0 16px',\n    boxSizing: 'border-box',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    userSelect: 'none',\n    opacity: 0,\n    transition: 'opacity 0.2s'\n});\nexports.ControlsStyle = (0, typestyle_1.stylesheet)({\n    controls: Object.assign({}, controlsStyle()),\n    controlsVisible: Object.assign(Object.assign({}, controlsStyle()), { opacity: 1 }),\n    buttons: {\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '6px',\n        alignItems: 'center'\n    },\n    button: {\n        width: '32px',\n        height: '32px',\n        padding: '7px',\n        boxSizing: 'border-box',\n        cursor: 'pointer'\n    },\n    left: {\n        display: 'flex',\n        alignItems: 'center',\n        $nest: {\n            '& .button': {\n                marginRight: '8px'\n            }\n        }\n    },\n    right: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '70px',\n        height: '100%',\n        justifyContent: 'space-between'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FreeMode = FreeMode;\nconst preact_1 = require(\"preact\");\nconst typestyle_1 = require(\"typestyle\");\nconst style_1 = require(\"./style\");\nconst Controls_style_1 = require(\"../Controls.style\");\nconst SettingsButton_1 = require(\"../Buttons/SettingsButton\");\nconst FullscreenButton_1 = require(\"../Buttons/FullscreenButton\");\nfunction FreeMode(props) {\n    return ((0, preact_1.h)(\"div\", { class: (0, typestyle_1.classes)(props.class, style_1.FreeModeStyle.controls) },\n        (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.buttons },\n            (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.left }),\n            (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.right },\n                (0, preact_1.h)(SettingsButton_1.SettingsButton, { game: props.game }),\n                (0, preact_1.h)(FullscreenButton_1.FullscreenButton, { active: false, root: props.root })))));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FreeModeStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.FreeModeStyle = (0, typestyle_1.stylesheet)({\n    controls: {\n        height: '44px'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Loading = void 0;\nconst preact_1 = require(\"preact\");\nconst style_1 = require(\"./style\");\nconst itemTypeGroupName = {\n    replay: 'Replay',\n    bsp: 'Map',\n    sound: 'Sounds',\n    sky: 'Skybox',\n    sprite: 'Sprites',\n    wad: 'Wads'\n};\nclass Loading extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            items: {}\n        };\n        this.onItemLoad = (item) => {\n            const items = this.state.items[item.type] ? this.state.items[item.type] : [];\n            for (let i = 0; i < items.length; ++i) {\n                if (items[i] === item) {\n                    return;\n                }\n            }\n            items.push({\n                name: item.name,\n                progress: 0\n            });\n            this.setState({\n                items: Object.assign(Object.assign({}, this.state.items), { [item.type]: items })\n            });\n        };\n        this.onItemProgress = (item) => {\n            if (!this.state.items[item.type]) {\n                return;\n            }\n            const items = this.state.items[item.type];\n            for (let i = 0; i < items.length; ++i) {\n                if (items[i].name === item.name) {\n                    items[i].progress = item.progress;\n                    break;\n                }\n            }\n            this.forceUpdate();\n        };\n    }\n    componentDidMount() {\n        const loaderEvents = this.props.game.loader.events;\n        this.offLoadStart = loaderEvents.on('loadstart', this.onItemLoad);\n        this.offProgress = loaderEvents.on('progress', this.onItemProgress);\n    }\n    componentWillUnmount() {\n        this.offLoadStart && this.offLoadStart();\n        this.offProgress && this.offProgress();\n    }\n    formatItem(name, progress) {\n        name = itemTypeGroupName[name];\n        const status = Math.round(progress * 100) + '%';\n        let length = 29 - name.length - status.length;\n        if (length < 2) {\n            length = 9 - status.length;\n        }\n        const dots = Array(length).join('.');\n        return `${name}${dots}${status}`;\n    }\n    render() {\n        return ((0, preact_1.h)(\"div\", { class: this.props.visible ? style_1.LoadingStyle.loading : style_1.LoadingStyle.loadingHidden },\n            (0, preact_1.h)(\"div\", { class: style_1.LoadingStyle.spinner },\n                (0, preact_1.h)(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", x: \"0px\", y: \"0px\", width: \"80px\", height: \"80px\", viewBox: \"0 0 80 80\", xmlSpace: \"preserve\" },\n                    (0, preact_1.h)(\"path\", { fill: \"#ffffff\", width: \"10px\", d: \"M40,72C22.4,72,8,57.6,8,40C8,22.4,22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6,28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z\" }))),\n            (0, preact_1.h)(\"ul\", { class: style_1.LoadingStyle.log }, Object.entries(this.state.items).map(([name, items]) => ((0, preact_1.h)(\"li\", { key: name, class: style_1.LoadingStyle.logItem }, this.formatItem(name, items.reduce((prev, cur) => prev + cur.progress, 0) /\n                items.length)))))));\n    }\n}\nexports.Loading = Loading;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoadingStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nconst loadingStyle = () => ({\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    opacity: 1,\n    transition: 'opacity 2s ease, z-index 1s linear',\n    zIndex: 30\n});\nexports.LoadingStyle = (0, typestyle_1.stylesheet)({\n    loading: Object.assign({}, loadingStyle()),\n    loadingHidden: Object.assign(Object.assign({}, loadingStyle()), { opacity: 0, userSelect: 'none', zIndex: 0 }),\n    spinner: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        marginLeft: '-40px',\n        marginTop: '-40px',\n        animation: 'rotate 1s linear 0s infinite',\n        height: '80px',\n        width: '80px',\n        animationName: (0, typestyle_1.keyframes)({\n            from: { transform: 'rotate(0deg)' },\n            to: { transform: 'rotate(360deg)' }\n        })\n    },\n    log: {\n        position: 'absolute',\n        background: 'rgba(0,0,0,0.4)',\n        padding: '10px',\n        fontFamily: 'monospace',\n        margin: '0',\n        top: '16px',\n        right: 0,\n        paddingLeft: '16px',\n        listStyle: 'none'\n    },\n    logItem: {\n        display: 'block'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayMode = void 0;\nconst preact_1 = require(\"preact\");\nconst Time_1 = require(\"../Time\");\nconst TimeLine_1 = require(\"../TimeLine\");\nconst VolumeControl_1 = require(\"../VolumeControl\");\nconst PlayButton_1 = require(\"../Buttons/PlayButton\");\nconst PauseButton_1 = require(\"../Buttons/PauseButton\");\nconst VolumeButton_1 = require(\"../Buttons/VolumeButton\");\nconst SpeedUpButton_1 = require(\"../Buttons/SpeedUpButton\");\nconst SpeedDownButton_1 = require(\"../Buttons/SpeedDownButton\");\nconst SettingsButton_1 = require(\"../Buttons/SettingsButton\");\nconst FullscreenButton_1 = require(\"../Buttons/FullscreenButton\");\nconst Controls_style_1 = require(\"../Controls.style\");\nclass ReplayMode extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.onPlayClick = () => {\n            this.props.game.player.play();\n        };\n        this.onPauseClick = () => {\n            this.props.game.player.pause();\n        };\n        this.onSpeedDown = () => {\n            this.props.game.player.speedDown();\n        };\n        this.onSpeedUp = () => {\n            this.props.game.player.speedUp();\n        };\n        this.onVolumeClick = () => {\n            this.props.game.soundSystem.toggleMute();\n        };\n        this.onPlayStateChange = () => {\n            this.forceUpdate();\n        };\n    }\n    componentDidMount() {\n        this.offPlay = this.props.game.player.events.on('play', this.onPlayStateChange);\n        this.offPause = this.props.game.player.events.on('pause', this.onPlayStateChange);\n        this.offStop = this.props.game.player.events.on('stop', this.onPlayStateChange);\n    }\n    componentWillUnmount() {\n        this.offPlay && this.offPlay();\n        this.offPause && this.offPause();\n        this.offStop && this.offStop();\n    }\n    render() {\n        const game = this.props.game;\n        const player = game.player;\n        const playing = player.isPlaying;\n        const paused = player.isPaused;\n        return ((0, preact_1.h)(\"div\", { class: this.props.class },\n            (0, preact_1.h)(TimeLine_1.TimeLine, { game: game }),\n            (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.buttons },\n                (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.left },\n                    (0, preact_1.h)(SpeedDownButton_1.SpeedDownButton, { onClick: this.onSpeedDown }),\n                    paused || !playing ? ((0, preact_1.h)(PlayButton_1.PlayButton, { onClick: this.onPlayClick })) : ((0, preact_1.h)(PauseButton_1.PauseButton, { onClick: this.onPauseClick })),\n                    (0, preact_1.h)(SpeedUpButton_1.SpeedUpButton, { onClick: this.onSpeedUp }),\n                    (0, preact_1.h)(VolumeButton_1.VolumeButton, { onClick: this.onVolumeClick }),\n                    (0, preact_1.h)(VolumeControl_1.VolumeControl, { game: game }),\n                    (0, preact_1.h)(Time_1.Time, { player: player })),\n                (0, preact_1.h)(\"div\", { class: Controls_style_1.ControlsStyle.right },\n                    (0, preact_1.h)(SettingsButton_1.SettingsButton, { game: game }),\n                    (0, preact_1.h)(FullscreenButton_1.FullscreenButton, { active: true, root: this.props.root })))));\n    }\n}\nexports.ReplayMode = ReplayMode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RootStyle = void 0;\nconst typestyle_1 = require(\"typestyle\");\nconst rootStyle = () => ({\n    position: 'relative',\n    color: 'white',\n    width: '100%',\n    height: '100%',\n    cursor: 'none',\n    userSelect: 'none'\n});\nconst titleStyle = () => ({\n    position: 'absolute',\n    top: '20px',\n    left: '0',\n    zIndex: 20,\n    padding: '10px 10px 10px 20px',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    fontSize: '13pt',\n    fontFamily: `'Roboto', Arial, Helvetica, sans-serif`,\n    opacity: 0,\n    transition: 'opacity 0.2s'\n});\nconst controlsStyle = () => ({\n    zIndex: 30,\n    position: 'absolute',\n    width: '100%',\n    bottom: 0,\n    padding: '0 16px',\n    boxSizing: 'border-box',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    userSelect: 'none',\n    opacity: 0,\n    transition: 'opacity 0.2s'\n});\nexports.RootStyle = (0, typestyle_1.stylesheet)({\n    root: Object.assign({}, rootStyle()),\n    rootVisible: Object.assign(Object.assign({}, rootStyle()), { cursor: 'default' }),\n    title: Object.assign({}, titleStyle()),\n    titleVisible: Object.assign(Object.assign({}, titleStyle()), { opacity: 1 }),\n    controls: Object.assign({}, controlsStyle()),\n    controlsVisible: Object.assign(Object.assign({}, controlsStyle()), { opacity: 1 }),\n    screen: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 10\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Root = void 0;\nconst preact_1 = require(\"preact\");\nconst Loading_1 = require(\"./Loading\");\nconst FreeMode_1 = require(\"./FreeMode\");\nconst ReplayMode_1 = require(\"./ReplayMode\");\nconst Fullscreen_1 = require(\"../Fullscreen\");\nconst Game_1 = require(\"../Game\");\nconst Root_style_1 = require(\"./Root.style\");\nclass Root extends preact_1.Component {\n    constructor(props) {\n        super(props);\n        this.node = null;\n        this.fadeOut = 0;\n        this.onPointerLockChange = () => {\n            if (document.pointerLockElement === this.props.root) {\n                this.props.game.pointerLocked = true;\n            }\n            else {\n                this.props.game.pointerLocked = false;\n            }\n        };\n        this.onContextMenu = (e) => {\n            e.preventDefault();\n        };\n        this.onWindowClick = () => {\n            this.setState({ isActive: false });\n        };\n        this.onRootClick = (e) => {\n            e.stopPropagation();\n            this.setState({ isActive: true });\n            this.fadeReset();\n        };\n        this.onKeyDown = (e) => {\n            if (!this.state.isActive) {\n                return;\n            }\n            const game = this.props.game;\n            switch (e.which) {\n                case 70: {\n                    if (Fullscreen_1.Fullscreen.isInFullscreen()) {\n                        Fullscreen_1.Fullscreen.exit();\n                    }\n                    else {\n                        Fullscreen_1.Fullscreen.enter(this.props.root);\n                    }\n                    this.fadeReset();\n                    break;\n                }\n                case 77: {\n                    game.soundSystem.toggleMute();\n                    this.fadeReset();\n                    break;\n                }\n                case 38: {\n                    game.soundSystem.setVolume(game.soundSystem.getVolume() + 0.05);\n                    this.fadeReset();\n                    break;\n                }\n                case 40: {\n                    game.soundSystem.setVolume(game.soundSystem.getVolume() - 0.05);\n                    this.fadeReset();\n                    break;\n                }\n                case 74:\n                case 37: {\n                    game.player.seek(game.player.currentTime - 5);\n                    this.fadeReset();\n                    break;\n                }\n                case 76:\n                case 39: {\n                    game.player.seek(game.player.currentTime + 5);\n                    this.fadeReset();\n                    break;\n                }\n                case 75:\n                case 32: {\n                    if (this.props.game.mode !== Game_1.PlayerMode.REPLAY) {\n                        return;\n                    }\n                    if (!game.player.isPlaying || game.player.isPaused) {\n                        game.player.play();\n                    }\n                    else {\n                        game.player.pause();\n                    }\n                    break;\n                }\n            }\n        };\n        this.onModeChange = () => {\n            this.forceUpdate();\n        };\n        this.onLoadStart = () => {\n            this.setState({ isLoading: true });\n        };\n        this.onLoadEnd = () => {\n            this.setState({ isLoading: false });\n        };\n        this.onTitleChange = (title) => {\n            this.setState({ title });\n        };\n        this.onMouseEnter = () => {\n            this.setState({ isMouseOver: true });\n            this.fadeReset();\n        };\n        this.onMouseMove = () => {\n            if (this.state.isMouseOver && !Fullscreen_1.Fullscreen.isInFullscreen()) {\n                this.fadeReset();\n            }\n        };\n        this.onMouseLeave = () => {\n            this.setState({\n                isMouseOver: false,\n                isVisible: false\n            });\n            clearTimeout(this.fadeOut);\n            this.fadeOut = 0;\n        };\n        this.fadeReset = () => {\n            if (!this.state.isVisible) {\n                this.setState({ isVisible: true });\n            }\n            clearTimeout(this.fadeOut);\n            this.fadeOut = setTimeout(() => {\n                this.setState({ isVisible: false });\n                this.fadeOut = 0;\n            }, 5000);\n        };\n        this.onScreenClick = () => {\n            switch (this.props.game.mode) {\n                case Game_1.PlayerMode.REPLAY: {\n                    const player = this.props.game.player;\n                    if (!player.isPlaying || player.isPaused) {\n                        player.play();\n                    }\n                    else {\n                        player.pause();\n                    }\n                    break;\n                }\n                case Game_1.PlayerMode.FREE: {\n                    this.props.root.requestPointerLock();\n                    break;\n                }\n            }\n        };\n        this.onScreenDblClick = () => {\n            if (Fullscreen_1.Fullscreen.isInFullscreen()) {\n                Fullscreen_1.Fullscreen.exit();\n            }\n            else {\n                Fullscreen_1.Fullscreen.enter(this.props.root);\n            }\n        };\n        this.state = {\n            title: props.game.title,\n            isActive: false,\n            isLoading: false,\n            isMouseOver: false,\n            isVisible: false\n        };\n    }\n    componentDidMount() {\n        if (!this.node) {\n            return;\n        }\n        const game = this.props.game;\n        const root = this.props.root;\n        this.node.appendChild(game.getCanvas());\n        this.offLoadStart = game.events.on('loadstart', this.onLoadStart);\n        this.offLoad = game.events.on('load', this.onLoadEnd);\n        this.offModeChange = game.events.on('modechange', this.onModeChange);\n        this.offTitleChange = game.events.on('titlechange', this.onTitleChange);\n        root.addEventListener('click', this.onRootClick);\n        window.addEventListener('click', this.onWindowClick);\n        window.addEventListener('keydown', this.onKeyDown);\n        document.addEventListener('pointerlockchange', this.onPointerLockChange, false);\n        root.addEventListener('mouseover', this.onMouseEnter);\n        root.addEventListener('mousemove', this.onMouseMove);\n        root.addEventListener('mouseout', this.onMouseLeave);\n        root.addEventListener('contextmenu', this.onContextMenu);\n    }\n    componentWillUnmount() {\n        const root = this.props.root;\n        this.offLoadStart && this.offLoadStart();\n        this.offLoad && this.offLoad();\n        this.offModeChange && this.onModeChange();\n        this.offTitleChange && this.offTitleChange();\n        root.removeEventListener('click', this.onRootClick);\n        window.removeEventListener('click', this.onWindowClick);\n        window.removeEventListener('keydown', this.onKeyDown);\n        document.removeEventListener('pointerlockchange', this.onPointerLockChange, false);\n        root.removeEventListener('mouseover', this.onMouseEnter);\n        root.removeEventListener('mousemove', this.onMouseMove);\n        root.removeEventListener('mouseout', this.onMouseLeave);\n        root.removeEventListener('contextmenu', this.onContextMenu);\n    }\n    render() {\n        const game = this.props.game;\n        const isVisible = this.state.isVisible;\n        return ((0, preact_1.h)(\"div\", { class: isVisible ? Root_style_1.RootStyle.rootVisible : Root_style_1.RootStyle.root },\n            (0, preact_1.h)(\"div\", { class: isVisible ? Root_style_1.RootStyle.titleVisible : Root_style_1.RootStyle.title }, this.state.title),\n            (0, preact_1.h)(Loading_1.Loading, { game: game, visible: this.state.isLoading }),\n            (0, preact_1.h)(\"div\", { class: Root_style_1.RootStyle.screen, ref: node => (this.node = node), onClick: this.onScreenClick, onDblClick: this.onScreenDblClick }),\n            game.mode === Game_1.PlayerMode.FREE ? ((0, preact_1.h)(FreeMode_1.FreeMode, { class: isVisible ? Root_style_1.RootStyle.controlsVisible : Root_style_1.RootStyle.controls, game: game, root: this.props.root })) : ((0, preact_1.h)(ReplayMode_1.ReplayMode, { class: isVisible ? Root_style_1.RootStyle.controlsVisible : Root_style_1.RootStyle.controls, game: game, root: this.props.root, visible: this.state.isMouseOver }))));\n    }\n}\nexports.Root = Root;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Time = void 0;\nconst preact_1 = require(\"preact\");\nconst Time_1 = require(\"../../Time\");\nconst style_1 = require(\"./style\");\nclass Time extends preact_1.Component {\n    constructor() {\n        super(...arguments);\n        this.onPlay = () => {\n            this.setState({\n                isPlaying: true\n            }, this.update);\n        };\n        this.onPauseOrStop = () => {\n            this.setState({\n                isPlaying: false\n            });\n        };\n        this.update = () => {\n            if (!this.state.isPlaying) {\n                return;\n            }\n            this.forceUpdate();\n            setTimeout(this.update, 100);\n        };\n    }\n    componentDidMount() {\n        this.offPlay = this.props.player.events.on('play', this.onPlay);\n        this.offPause = this.props.player.events.on('pause', this.onPauseOrStop);\n        this.offStop = this.props.player.events.on('stop', this.onPauseOrStop);\n    }\n    componentWillUnmount() {\n        this.offPlay && this.offPlay();\n        this.offPause && this.offPause();\n        this.offStop && this.offStop();\n    }\n    render() {\n        const current = (0, Time_1.formatTime)(this.props.player.currentTime);\n        const total = (0, Time_1.formatTime)(this.props.player.replay.data.time / 1000);\n        return ((0, preact_1.h)(\"div\", { class: style_1.Time.time },\n            current,\n            \" / \",\n            total));\n    }\n}\nexports.Time = Time;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Time = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.Time = (0, typestyle_1.stylesheet)({\n    time: {\n        fontFamily: `'Roboto', Arial, Helvetica, sans-serif`,\n        fontSize: '10pt'\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeLine = void 0;\nconst preact_1 = require(\"preact\");\nconst style_1 = require(\"./style\");\nclass TimeLine extends preact_1.Component {\n    constructor(props) {\n        super(props);\n        this.onPostUpdate = () => {\n            const player = this.props.game.player;\n            this.setState({\n                progress: player.currentFrame / player.replay.data.frames.length\n            });\n        };\n        this.onClick = (e) => {\n            const rects = e.currentTarget.getClientRects()[0];\n            const progress = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            this.props.game.player.seekByPercent(progress * 100);\n            this.props.game.player.pause();\n        };\n        this.onMouseEnter = () => {\n            this.setState({\n                ghostKnobActive: true\n            });\n        };\n        this.onMouseMove = (e) => {\n            if (!this.state.ghostKnobActive) {\n                return;\n            }\n            const rects = e.currentTarget.getClientRects()[0];\n            const progressPos = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            const pos = progressPos * 100 + '%';\n            this.setState({\n                ghostKnobPos: pos\n            });\n        };\n        this.onMouseLeave = () => {\n            this.setState({\n                ghostKnobActive: false\n            });\n        };\n        this.state = {\n            progress: 0,\n            ghostKnobActive: false,\n            ghostKnobPos: '0%',\n            onPostUpdate: null\n        };\n    }\n    componentDidMount() {\n        this.offPostUpdate = this.props.game.events.on('postupdate', this.onPostUpdate);\n    }\n    componentWillUnmount() {\n        if (this.offPostUpdate) {\n            this.offPostUpdate();\n        }\n    }\n    render() {\n        const timePos = this.state.progress * 100;\n        const knobOff = timePos + '%';\n        const lineOff = 100 - timePos + '%';\n        return ((0, preact_1.h)(\"div\", { class: style_1.TimeLine.timeline, onClick: this.onClick, onMouseEnter: this.onMouseEnter, onMouseMove: this.onMouseMove, onMouseLeave: this.onMouseLeave },\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.ghostLine }),\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.line, style: { right: lineOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.knob, style: { left: knobOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.TimeLine.ghostKnob, style: { left: this.state.ghostKnobPos } })));\n    }\n}\nexports.TimeLine = TimeLine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeLine = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.TimeLine = (0, typestyle_1.stylesheet)({\n    timeline: {\n        display: 'flex',\n        alignItems: 'center',\n        position: 'relative',\n        height: '26px',\n        cursor: 'pointer'\n    },\n    line: {\n        height: '4px',\n        backgroundColor: '#fff',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    ghostLine: {\n        height: '4px',\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    knob: {\n        position: 'absolute',\n        width: '12px',\n        height: '12px',\n        backgroundColor: '#fff',\n        borderRadius: '6px',\n        left: '100%',\n        marginLeft: '-6px'\n    },\n    ghostKnob: {\n        position: 'absolute',\n        width: '8px',\n        height: '8px',\n        backgroundColor: '#fff',\n        boxSizing: 'border-box',\n        borderRadius: '8px',\n        left: '0',\n        marginLeft: '-4px',\n        display: 'none',\n        $nest: {\n            '&:hover': {\n                display: 'block'\n            }\n        }\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VolumeControl = void 0;\nconst preact_1 = require(\"preact\");\nconst style_1 = require(\"./style\");\nclass VolumeControl extends preact_1.Component {\n    constructor(props) {\n        super(props);\n        this.onVolumeChange = () => {\n            this.setState({\n                volume: this.props.game.soundSystem.getVolume()\n            });\n        };\n        this.onClick = (e) => {\n            const rects = e.currentTarget.getClientRects()[0];\n            const volume = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            this.props.game.soundSystem.setVolume(volume);\n        };\n        this.onMouseEnter = () => {\n            this.setState({\n                ghostKnobActive: true\n            });\n        };\n        this.onMouseMove = (e) => {\n            if (!this.state.ghostKnobActive) {\n                return;\n            }\n            const rects = e.currentTarget.getClientRects()[0];\n            const volumePos = 1 - (rects.right - e.pageX) / (rects.right - rects.left);\n            const pos = Math.min(95, Math.max(5, volumePos * 100)) + '%';\n            this.setState({\n                ghostKnobPos: pos\n            });\n        };\n        this.onMouseLeave = () => {\n            this.setState({\n                ghostKnobActive: false\n            });\n        };\n        this.state = {\n            volume: props.game.soundSystem.getVolume(),\n            ghostKnobActive: false,\n            ghostKnobPos: '5%'\n        };\n    }\n    componentDidMount() {\n        this.offVolumeChange = this.props.game.soundSystem.events.on('volumeChange', this.onVolumeChange);\n    }\n    componentWillUnmount() {\n        this.offVolumeChange && this.offVolumeChange();\n    }\n    render() {\n        const volumePos = this.state.volume * 100;\n        const knobOff = Math.min(95, Math.max(5, volumePos)) + '%';\n        const lineOff = Math.min(95, Math.max(5, 100 - volumePos)) + '%';\n        return ((0, preact_1.h)(\"div\", { class: style_1.VolumeControl.control, onClick: this.onClick, onMouseEnter: this.onMouseEnter, onMouseMove: this.onMouseMove, onMouseLeave: this.onMouseLeave },\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.ghostLine }),\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.line, style: { right: lineOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.knob, style: { left: knobOff } }),\n            (0, preact_1.h)(\"div\", { class: style_1.VolumeControl.ghostKnob, style: { left: this.state.ghostKnobPos } })));\n    }\n}\nexports.VolumeControl = VolumeControl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VolumeControl = void 0;\nconst typestyle_1 = require(\"typestyle\");\nexports.VolumeControl = (0, typestyle_1.stylesheet)({\n    control: {\n        display: 'flex',\n        alignItems: 'center',\n        position: 'relative',\n        width: '80px',\n        height: '26px',\n        marginLeft: '6px',\n        marginRight: '14px',\n        cursor: 'pointer'\n    },\n    line: {\n        height: '4px',\n        backgroundColor: '#fff',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    ghostLine: {\n        height: '4px',\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        borderRadius: '2px'\n    },\n    knob: {\n        position: 'absolute',\n        width: '12px',\n        height: '12px',\n        backgroundColor: '#fff',\n        borderRadius: '6px',\n        left: '100%',\n        marginLeft: '-6px'\n    },\n    ghostKnob: {\n        position: 'absolute',\n        width: '8px',\n        height: '8px',\n        backgroundColor: '#fff',\n        boxSizing: 'border-box',\n        borderRadius: '8px',\n        left: '0',\n        marginLeft: '-4px',\n        display: 'none',\n        $nest: {\n            '&:hover': {\n                display: 'block'\n            }\n        }\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PlayerInterface = void 0;\nconst preact_1 = require(\"preact\");\nconst Root_1 = require(\"./Root\");\nclass PlayerInterface {\n    constructor(game, rootNode) {\n        this.game = game;\n        this.rootNode = rootNode;\n    }\n    getRootNode() {\n        return this.rootNode;\n    }\n    draw() {\n        (0, preact_1.render)((0, preact_1.h)(Root_1.Root, { game: this.game, root: this.rootNode }), this.rootNode);\n    }\n}\nexports.PlayerInterface = PlayerInterface;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Reader = exports.ReaderDataType = void 0;\nvar ReaderDataType;\n(function (ReaderDataType) {\n    ReaderDataType[ReaderDataType[\"UByte\"] = 0] = \"UByte\";\n    ReaderDataType[ReaderDataType[\"Byte\"] = 1] = \"Byte\";\n    ReaderDataType[ReaderDataType[\"UShort\"] = 2] = \"UShort\";\n    ReaderDataType[ReaderDataType[\"Short\"] = 3] = \"Short\";\n    ReaderDataType[ReaderDataType[\"UInt\"] = 4] = \"UInt\";\n    ReaderDataType[ReaderDataType[\"Int\"] = 5] = \"Int\";\n    ReaderDataType[ReaderDataType[\"Float\"] = 6] = \"Float\";\n    ReaderDataType[ReaderDataType[\"Double\"] = 7] = \"Double\";\n    ReaderDataType[ReaderDataType[\"NString\"] = 8] = \"NString\";\n    ReaderDataType[ReaderDataType[\"String\"] = 9] = \"String\";\n})(ReaderDataType || (exports.ReaderDataType = ReaderDataType = {}));\nclass Reader {\n    constructor(data) {\n        this.data = new DataView(data);\n        this.offset = 0;\n    }\n    length() {\n        return this.data.byteLength;\n    }\n    tell() {\n        return this.offset;\n    }\n    seek(offset) {\n        this.offset = Math.max(0, offset);\n    }\n    skip(offset) {\n        this.seek(this.tell() + offset);\n    }\n    b() {\n        const r = this.data.getInt8(this.offset);\n        this.skip(1);\n        return r;\n    }\n    ub() {\n        const r = this.data.getUint8(this.offset);\n        this.skip(1);\n        return r;\n    }\n    s(isLittleEndian = true) {\n        const r = this.data.getInt16(this.offset, isLittleEndian);\n        this.skip(2);\n        return r;\n    }\n    us(isLittleEndian = true) {\n        const r = this.data.getUint16(this.offset, isLittleEndian);\n        this.skip(2);\n        return r;\n    }\n    i(isLittleEndian = true) {\n        const r = this.data.getInt32(this.tell(), isLittleEndian);\n        this.skip(4);\n        return r;\n    }\n    ui(isLittleEndian = true) {\n        const r = this.data.getUint32(this.tell(), isLittleEndian);\n        this.skip(4);\n        return r;\n    }\n    f(isLittleEndian = true) {\n        const r = this.data.getFloat32(this.tell(), isLittleEndian);\n        this.skip(4);\n        return r;\n    }\n    lf(isLittleEndian = true) {\n        const r = this.data.getFloat64(this.tell(), isLittleEndian);\n        this.skip(8);\n        return r;\n    }\n    str() {\n        let t = this.ub();\n        let r = '';\n        while (t !== 0) {\n            r += String.fromCharCode(t);\n            t = this.ub();\n        }\n        return r;\n    }\n    nstr(n) {\n        if (n < 0) {\n            return '';\n        }\n        let r = '';\n        while (n > 0) {\n            n -= 1;\n            const charCode = this.ub();\n            if (charCode === 0) {\n                break;\n            }\n            r += String.fromCharCode(charCode);\n        }\n        if (n !== 0) {\n            this.skip(n);\n        }\n        return r;\n    }\n    arr(n, f) {\n        f.bind(this);\n        const r = [];\n        while (n-- > 0) {\n            r.push(f());\n        }\n        return r;\n    }\n    arrx(n, type, nstrlen = 0) {\n        let r;\n        switch (type) {\n            case ReaderDataType.UByte: {\n                r = new Uint8Array(this.data.buffer, this.tell(), n);\n                this.skip(n);\n                break;\n            }\n            case ReaderDataType.Byte: {\n                r = new Int8Array(this.data.buffer, this.tell(), n);\n                this.skip(n);\n                break;\n            }\n            case ReaderDataType.UShort:\n                r = new Uint16Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 2);\n                break;\n            case ReaderDataType.Short:\n                r = new Int16Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 2);\n                break;\n            case ReaderDataType.UInt:\n                r = new Uint32Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 4);\n                break;\n            case ReaderDataType.Int:\n                r = new Int32Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 4);\n                break;\n            case ReaderDataType.Float:\n                r = new Float32Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 4);\n                break;\n            case ReaderDataType.Double:\n                r = new Float64Array(this.data.buffer, this.tell(), n);\n                this.skip(n * 8);\n                break;\n            case ReaderDataType.NString:\n                r = [];\n                while (n-- > 0) {\n                    r.push(r.nstr(nstrlen));\n                }\n                break;\n            case ReaderDataType.String:\n                r = [];\n                while (n-- > 0) {\n                    r.push(r.str());\n                }\n                break;\n        }\n        return r;\n    }\n}\nexports.Reader = Reader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeltaType = void 0;\nvar DeltaType;\n(function (DeltaType) {\n    DeltaType[DeltaType[\"DT_BYTE\"] = 1] = \"DT_BYTE\";\n    DeltaType[DeltaType[\"DT_SHORT\"] = 2] = \"DT_SHORT\";\n    DeltaType[DeltaType[\"DT_FLOAT\"] = 4] = \"DT_FLOAT\";\n    DeltaType[DeltaType[\"DT_INTEGER\"] = 8] = \"DT_INTEGER\";\n    DeltaType[DeltaType[\"DT_ANGLE\"] = 16] = \"DT_ANGLE\";\n    DeltaType[DeltaType[\"DT_TIMEWINDOW_8\"] = 32] = \"DT_TIMEWINDOW_8\";\n    DeltaType[DeltaType[\"DT_TIMEWINDOW_BIG\"] = 64] = \"DT_TIMEWINDOW_BIG\";\n    DeltaType[DeltaType[\"DT_STRING\"] = 128] = \"DT_STRING\";\n    DeltaType[DeltaType[\"DT_SIGNED\"] = -2147483648] = \"DT_SIGNED\";\n})(DeltaType || (exports.DeltaType = DeltaType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FrameDataReader = void 0;\nconst readCoord_1 = require(\"./readCoord\");\nconst readDelta_1 = require(\"./readDelta\");\nconst BitReader_1 = require(\"../BitReader\");\nconst Reader_1 = require(\"../Reader\");\nclass FrameDataReader {\n    static bad() {\n        throw new Error('Invalid message type');\n    }\n    static nop() {\n        return null;\n    }\n    static disconnect(r) {\n        return {\n            reason: r.str()\n        };\n    }\n    static event(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let events = [];\n        let eventCount = bs.readBits(5);\n        for (let i = 0; i < eventCount; ++i) {\n            let event = {\n                index: bs.readBits(10)\n            };\n            let packetIndexBit = bs.readBits(1);\n            if (packetIndexBit) {\n                event.packetIndex = bs.readBits(11);\n                let deltaBit = bs.readBits(1);\n                if (deltaBit) {\n                    event.delta = (0, readDelta_1.readDelta)(bs, deltaDecoders['event_t']);\n                }\n            }\n            let fireTimeBit = bs.readBits(1);\n            if (fireTimeBit) {\n                event.fireTime = bs.readBits(16);\n            }\n            events.push(event);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return { events };\n    }\n    static version(r) {\n        return {\n            version: r.ui()\n        };\n    }\n    static setView(r) {\n        return {\n            entityIndex: r.s()\n        };\n    }\n    static sound(r) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let flags = bs.readBits(9);\n        let volume = 1;\n        if ((flags & 1) !== 0) {\n            volume = bs.readBits(8) / 255;\n        }\n        let attenuation = 1;\n        if ((flags & 2) !== 0) {\n            attenuation = bs.readBits(8) / 64;\n        }\n        let channel = bs.readBits(3);\n        let entityIndex = bs.readBits(11);\n        let soundIndex;\n        if ((flags & 4) !== 0) {\n            soundIndex = bs.readBits(16);\n        }\n        else {\n            soundIndex = bs.readBits(8);\n        }\n        let xFlag = bs.readBits(1);\n        let yFlag = bs.readBits(1);\n        let zFlag = bs.readBits(1);\n        let xPosition;\n        let yPosition;\n        let zPosition;\n        if (xFlag) {\n            xPosition = (0, readCoord_1.readCoord)(bs);\n        }\n        if (yFlag) {\n            yPosition = (0, readCoord_1.readCoord)(bs);\n        }\n        if (zFlag) {\n            zPosition = (0, readCoord_1.readCoord)(bs);\n        }\n        let pitch = 1;\n        if ((flags & 8) !== 0) {\n            pitch = bs.readBits(8);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            flags,\n            volume,\n            attenuation,\n            channel,\n            entityIndex,\n            soundIndex,\n            xPosition,\n            yPosition,\n            zPosition,\n            pitch\n        };\n    }\n    static time(r) {\n        return {\n            time: r.f()\n        };\n    }\n    static print(r) {\n        return {\n            message: r.str()\n        };\n    }\n    static stuffText(r) {\n        let message = r.str();\n        let commands = message.split(';').map(command => {\n            let args = command\n                .split(/\\s*(\"[^\"]+\"|[^\\s\"]+)/)\n                .map(arg => arg.replace(/^\"(.*)\"$/, '$1').trim())\n                .filter(arg => arg);\n            let func = args[0];\n            let params = args.slice(1);\n            return { func, params };\n        });\n        return { commands };\n    }\n    static setAngle(r) {\n        return {\n            pitch: r.s(),\n            yaw: r.s(),\n            roll: r.s()\n        };\n    }\n    static serverInfo(r) {\n        let info = {\n            protocol: r.i(),\n            spawnCount: r.i(),\n            mapCrc: r.i(),\n            clientDllHash: r.arrx(16, Reader_1.ReaderDataType.UByte),\n            maxPlayers: r.ub(),\n            playerIndex: r.ub(),\n            isDeathmatch: r.ub(),\n            gameDir: r.str(),\n            hostName: r.str(),\n            mapFileName: r.str(),\n            mapCycle: r.str()\n        };\n        r.skip(1);\n        return info;\n    }\n    static lightStyle(r) {\n        return {\n            index: r.ub(),\n            lightInfo: r.str()\n        };\n    }\n    static updateUserInfo(r) {\n        return {\n            clientIndex: r.ub(),\n            clientUserId: r.ui(),\n            clientUserInfo: r.str(),\n            clientCdKeyHash: r.arrx(16, Reader_1.ReaderDataType.UByte)\n        };\n    }\n    static deltaDescription(r, deltaDecoders) {\n        let data = {\n            name: r.str(),\n            fields: []\n        };\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        let fieldCount = r.us();\n        bs.index = r.tell() * 8;\n        for (let i = 0; i < fieldCount; ++i) {\n            data.fields.push((0, readDelta_1.readDelta)(bs, deltaDecoders['delta_description_t']));\n        }\n        deltaDecoders[data.name] = data.fields;\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return data;\n    }\n    static clientData(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let deltaSequence = bs.readBits(1);\n        if (deltaSequence) {\n            bs.index += 8;\n        }\n        let clientDataDecoder = deltaDecoders['clientdata_t'];\n        let clientData = (0, readDelta_1.readDelta)(bs, clientDataDecoder);\n        let weaponDataDecoder = deltaDecoders['weapon_data_t'];\n        while (bs.readBits(1)) {\n            bs.index += 6;\n            (0, readDelta_1.readDelta)(bs, weaponDataDecoder);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            clientData\n        };\n    }\n    static stopSound(r) {\n        return {\n            entityIndex: r.s()\n        };\n    }\n    static pings(r) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let pings = [];\n        while (bs.readBits(1)) {\n            pings.push({\n                slot: bs.readBits(8),\n                ping: bs.readBits(8),\n                loss: bs.readBits(8)\n            });\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return pings;\n    }\n    static particle(r) {\n        return {\n            position: [r.s() / 8, r.s() / 8, r.s() / 8],\n            direction: [r.b(), r.b(), r.b()],\n            count: r.ub(),\n            color: r.ub()\n        };\n    }\n    static damage() {\n        return null;\n    }\n    static spawnStatic(r) {\n        let data = {\n            modelIndex: r.s(),\n            sequence: r.b(),\n            frame: r.b(),\n            colorMap: r.s(),\n            skin: r.b(),\n            position: [],\n            rotation: []\n        };\n        data.position[0] = r.s() / 8;\n        data.rotation[0] = r.b() * (360 / 256);\n        data.position[1] = r.s() / 8;\n        data.rotation[1] = r.b() * (360 / 256);\n        data.position[2] = r.s() / 8;\n        data.rotation[2] = r.b() * (360 / 256);\n        data.renderMode = r.b();\n        if (data.renderMode) {\n            data.renderAmt = r.b();\n            data.renderColor = [r.ub(), r.ub(), r.ub()];\n            data.renderFx = r.b();\n        }\n        return data;\n    }\n    static eventReliable(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let eventIndex = bs.readBits(10);\n        let eventData = (0, readDelta_1.readDelta)(bs, deltaDecoders['event_t']);\n        let delayBit = bs.readBits(1);\n        let delay;\n        if (delayBit) {\n            delay = bs.readBits(16);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            eventIndex,\n            eventData,\n            delayBit,\n            delay\n        };\n    }\n    static spawnBaseLine(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let entities = [];\n        while (true) {\n            let entityIdx = bs.readBits(11);\n            if (entityIdx === (1 << 11) - 1) {\n                break;\n            }\n            let entityType = bs.readBits(2);\n            let entityTypeString;\n            if (entityType & 1) {\n                if (entityIdx > 0 && entityIdx <= 32) {\n                    entityTypeString = 'entity_state_player_t';\n                }\n                else {\n                    entityTypeString = 'entity_state_t';\n                }\n            }\n            else {\n                entityTypeString = 'custom_entity_state_t';\n            }\n            entities[entityIdx] = (0, readDelta_1.readDelta)(bs, deltaDecoders[entityTypeString]);\n        }\n        let footer = bs.readBits(5);\n        if (footer !== (1 << 5) - 1) {\n            throw new Error('Bad spawnbaseline');\n        }\n        let nExtraData = bs.readBits(6);\n        let extraData = [];\n        for (let i = 0; i < nExtraData; ++i) {\n            extraData.push((0, readDelta_1.readDelta)(bs, deltaDecoders['entity_state_t']));\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return {\n            entities,\n            extraData\n        };\n    }\n    static tempEntity(r) {\n        const TE_BEAMPOINTS = 0;\n        const TE_BEAMENTPOINT = 1;\n        const TE_GUNSHOT = 2;\n        const TE_EXPLOSION = 3;\n        const TE_TAREXPLOSION = 4;\n        const TE_SMOKE = 5;\n        const TE_TRACER = 6;\n        const TE_LIGHTNING = 7;\n        const TE_BEAMENTS = 8;\n        const TE_SPARKS = 9;\n        const TE_LAVASPLASH = 10;\n        const TE_TELEPORT = 11;\n        const TE_EXPLOSION2 = 12;\n        const TE_BSPDECAL = 13;\n        const TE_IMPLOSION = 14;\n        const TE_SPRITETRAIL = 15;\n        const TE_SPRITE = 17;\n        const TE_BEAMSPRITE = 18;\n        const TE_BEAMTORUS = 19;\n        const TE_BEAMDISK = 20;\n        const TE_BEAMCYLINDER = 21;\n        const TE_BEAMFOLLOW = 22;\n        const TE_GLOWSPRITE = 23;\n        const TE_BEAMRING = 24;\n        const TE_STREAK_SPLASH = 25;\n        const TE_DLIGHT = 27;\n        const TE_ELIGHT = 28;\n        const TE_TEXTMESSAGE = 29;\n        const TE_LINE = 30;\n        const TE_BOX = 31;\n        const TE_KILLBEAM = 99;\n        const TE_LARGEFUNNEL = 100;\n        const TE_BLOODSTREAM = 101;\n        const TE_SHOWLINE = 102;\n        const TE_BLOOD = 103;\n        const TE_DECAL = 104;\n        const TE_FIZZ = 105;\n        const TE_MODEL = 106;\n        const TE_EXPLODEMODEL = 107;\n        const TE_BREAKMODEL = 108;\n        const TE_GUNSHOTDECAL = 109;\n        const TE_SPRITE_SPRAY = 110;\n        const TE_ARMOR_RICOCHET = 111;\n        const TE_PLAYERDECAL = 112;\n        const TE_BUBBLES = 113;\n        const TE_BUBBLETRAIL = 114;\n        const TE_BLOODSPRITE = 115;\n        const TE_WORLDDECAL = 116;\n        const TE_WORLDDECALHIGH = 117;\n        const TE_DECALHIGH = 118;\n        const TE_PROJECTILE = 119;\n        const TE_SPRAY = 120;\n        const TE_PLAYERSPRITES = 121;\n        const TE_PARTICLEBURST = 122;\n        const TE_FIREFIELD = 123;\n        const TE_PLAYERATTACHMENT = 124;\n        const TE_KILLPLAYERATTACHMENTS = 125;\n        const TE_MULTIGUNSHOT = 126;\n        const TE_USERTRACER = 127;\n        let type = r.ub();\n        let data = {};\n        switch (type) {\n            case TE_BEAMPOINTS: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMENTPOINT: {\n                r.skip(20);\n                break;\n            }\n            case TE_GUNSHOT: {\n                r.skip(6);\n                break;\n            }\n            case TE_EXPLOSION: {\n                r.skip(11);\n                break;\n            }\n            case TE_TAREXPLOSION: {\n                r.skip(6);\n                break;\n            }\n            case TE_SMOKE: {\n                r.skip(10);\n                break;\n            }\n            case TE_TRACER: {\n                r.skip(12);\n                break;\n            }\n            case TE_LIGHTNING: {\n                r.skip(17);\n                break;\n            }\n            case TE_BEAMENTS: {\n                r.skip(16);\n                break;\n            }\n            case TE_SPARKS: {\n                r.skip(6);\n                break;\n            }\n            case TE_LAVASPLASH: {\n                r.skip(6);\n                break;\n            }\n            case TE_TELEPORT: {\n                r.skip(6);\n                break;\n            }\n            case TE_EXPLOSION2: {\n                r.skip(8);\n                break;\n            }\n            case TE_BSPDECAL: {\n                r.skip(8);\n                let entityIndex = r.s();\n                if (entityIndex) {\n                    r.skip(2);\n                }\n                break;\n            }\n            case TE_IMPLOSION: {\n                r.skip(9);\n                break;\n            }\n            case TE_SPRITETRAIL: {\n                r.skip(19);\n                break;\n            }\n            case TE_SPRITE: {\n                r.skip(10);\n                break;\n            }\n            case TE_BEAMSPRITE: {\n                r.skip(16);\n                break;\n            }\n            case TE_BEAMTORUS: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMDISK: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMCYLINDER: {\n                r.skip(24);\n                break;\n            }\n            case TE_BEAMFOLLOW: {\n                r.skip(10);\n                break;\n            }\n            case TE_GLOWSPRITE: {\n                r.skip(11);\n                break;\n            }\n            case TE_BEAMRING: {\n                r.skip(16);\n                break;\n            }\n            case TE_STREAK_SPLASH: {\n                r.skip(19);\n                break;\n            }\n            case TE_DLIGHT: {\n                r.skip(12);\n                break;\n            }\n            case TE_ELIGHT: {\n                r.skip(16);\n                break;\n            }\n            case TE_TEXTMESSAGE: {\n                data.channel = r.b();\n                data.x = r.s();\n                data.y = r.s();\n                data.effect = r.b();\n                data.textColor = [r.ub(), r.ub(), r.ub(), r.ub()];\n                data.effectColor = [r.ub(), r.ub(), r.ub(), r.ub()];\n                data.fadeInTime = r.s();\n                data.fadeOutTime = r.s();\n                data.holdTime = r.s();\n                if (data.effect) {\n                    data.effectTime = r.s();\n                }\n                data.message = r.str();\n                break;\n            }\n            case TE_LINE: {\n                r.skip(17);\n                break;\n            }\n            case TE_BOX: {\n                r.skip(17);\n                break;\n            }\n            case TE_KILLBEAM: {\n                r.skip(2);\n                break;\n            }\n            case TE_LARGEFUNNEL: {\n                r.skip(10);\n                break;\n            }\n            case TE_BLOODSTREAM: {\n                r.skip(14);\n                break;\n            }\n            case TE_SHOWLINE: {\n                r.skip(12);\n                break;\n            }\n            case TE_BLOOD: {\n                r.skip(14);\n                break;\n            }\n            case TE_DECAL: {\n                r.skip(9);\n                break;\n            }\n            case TE_FIZZ: {\n                r.skip(5);\n                break;\n            }\n            case TE_MODEL: {\n                r.skip(17);\n                break;\n            }\n            case TE_EXPLODEMODEL: {\n                r.skip(13);\n                break;\n            }\n            case TE_BREAKMODEL: {\n                r.skip(24);\n                break;\n            }\n            case TE_GUNSHOTDECAL: {\n                r.skip(9);\n                break;\n            }\n            case TE_SPRITE_SPRAY: {\n                r.skip(17);\n                break;\n            }\n            case TE_ARMOR_RICOCHET: {\n                r.skip(7);\n                break;\n            }\n            case TE_PLAYERDECAL: {\n                r.skip(10);\n                break;\n            }\n            case TE_BUBBLES: {\n                r.skip(19);\n                break;\n            }\n            case TE_BUBBLETRAIL: {\n                r.skip(19);\n                break;\n            }\n            case TE_BLOODSPRITE: {\n                r.skip(12);\n                break;\n            }\n            case TE_WORLDDECAL: {\n                r.skip(7);\n                break;\n            }\n            case TE_WORLDDECALHIGH: {\n                r.skip(7);\n                break;\n            }\n            case TE_DECALHIGH: {\n                r.skip(9);\n                break;\n            }\n            case TE_PROJECTILE: {\n                r.skip(16);\n                break;\n            }\n            case TE_SPRAY: {\n                r.skip(18);\n                break;\n            }\n            case TE_PLAYERSPRITES: {\n                r.skip(5);\n                break;\n            }\n            case TE_PARTICLEBURST: {\n                r.skip(10);\n                break;\n            }\n            case TE_FIREFIELD: {\n                r.skip(9);\n                break;\n            }\n            case TE_PLAYERATTACHMENT: {\n                r.skip(7);\n                break;\n            }\n            case TE_KILLPLAYERATTACHMENTS: {\n                r.skip(1);\n                break;\n            }\n            case TE_MULTIGUNSHOT: {\n                r.skip(18);\n                break;\n            }\n            case TE_USERTRACER: {\n                r.skip(15);\n                break;\n            }\n            default: {\n                throw new Error('Unknown temp entity type');\n            }\n        }\n        return data;\n    }\n    static setPause(r) {\n        return {\n            isPaused: r.b()\n        };\n    }\n    static signOnNum(r) {\n        return {\n            sign: r.b()\n        };\n    }\n    static centerPrint(r) {\n        return {\n            message: r.str()\n        };\n    }\n    static killedMonster() {\n        return null;\n    }\n    static foundSecret() {\n        return null;\n    }\n    static spawnStaticSound(r) {\n        return {\n            position: [r.s() / 8, r.s() / 8, r.s() / 8],\n            soundIndex: r.us(),\n            volume: r.ub() / 255,\n            attenuation: r.ub() / 64,\n            entityIndex: r.us(),\n            pitch: r.ub(),\n            flags: r.ub()\n        };\n    }\n    static intermission() {\n        return null;\n    }\n    static finale(r) {\n        return {\n            text: r.str()\n        };\n    }\n    static cdTrack(r) {\n        return {\n            track: r.b(),\n            loopTrack: r.b()\n        };\n    }\n    static restore(r) {\n        let saveName = r.str();\n        let mapCount = r.ub();\n        let maps = [];\n        for (let i = 0; i < mapCount; ++i) {\n            maps.push(r.str());\n        }\n        return { saveName, maps };\n    }\n    static cutscene(r) {\n        return {\n            text: r.str()\n        };\n    }\n    static weaponAnim(r) {\n        return {\n            sequenceNumber: r.b(),\n            weaponModelBodyGroup: r.b()\n        };\n    }\n    static decalName(r) {\n        return {\n            positionIndex: r.ub(),\n            decalName: r.str()\n        };\n    }\n    static roomType(r) {\n        return {\n            type: r.us()\n        };\n    }\n    static addAngle(r) {\n        return {\n            angleToAdd: r.s() / (360 / 65536)\n        };\n    }\n    static newUserMsg(r) {\n        return {\n            index: r.ub(),\n            size: r.b(),\n            name: r.nstr(16)\n        };\n    }\n    static packetEntities(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let entityStates = [];\n        bs.readBits(16);\n        let entityNumber = 0;\n        while (true) {\n            let footer = bs.readBits(16);\n            if (footer === 0) {\n                break;\n            }\n            bs.index -= 16;\n            let entityNumberIncrement = bs.readBits(1);\n            if (!entityNumberIncrement) {\n                let absoluteEntityNumber = bs.readBits(1);\n                if (absoluteEntityNumber) {\n                    entityNumber = bs.readBits(11);\n                }\n                else {\n                    entityNumber += bs.readBits(6);\n                }\n            }\n            else {\n                entityNumber++;\n            }\n            let custom = bs.readBits(1);\n            let useBaseline = bs.readBits(1);\n            if (useBaseline) {\n                bs.index += 6;\n            }\n            let entityType = 'entity_state_t';\n            if (entityNumber > 0 && entityNumber <= 32) {\n                entityType = 'entity_state_player_t';\n            }\n            else if (custom) {\n                entityType = 'custom_entity_state_t';\n            }\n            entityStates.push((0, readDelta_1.readDelta)(bs, deltaDecoders[entityType]));\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return { entityStates };\n    }\n    static deltaPacketEntities(r, deltaDecoders) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        bs.readBits(16);\n        bs.index += 8;\n        let entityStates = [];\n        let entityIdx = 0;\n        while (true) {\n            let footer = bs.readBits(16);\n            if (footer === 0) {\n                break;\n            }\n            bs.index -= 16;\n            let removeEntity = bs.readBits(1);\n            let absoluteEntityNumber = bs.readBits(1);\n            if (absoluteEntityNumber) {\n                entityIdx = bs.readBits(11);\n            }\n            else {\n                entityIdx += bs.readBits(6);\n            }\n            if (removeEntity) {\n                continue;\n            }\n            let custom = bs.readBits(1);\n            let entityType = 'entity_state_t';\n            if (entityIdx > 0 && entityIdx < 32) {\n                entityType = 'entity_state_player_t';\n            }\n            else if (custom) {\n                entityType = 'custom_entity_state_t';\n            }\n            entityStates[entityIdx] = (0, readDelta_1.readDelta)(bs, deltaDecoders[entityType]);\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return { entityStates };\n    }\n    static choke() {\n        return null;\n    }\n    static resourceList(r) {\n        let bs = new BitReader_1.BitStream(r.data.buffer);\n        bs.index = r.tell() * 8;\n        let entries = [];\n        let entryCount = bs.readBits(12);\n        for (let i = 0; i < entryCount; ++i) {\n            let entry = {};\n            entry.type = bs.readBits(4);\n            entry.name = bs.readString();\n            entry.index = bs.readBits(12);\n            entry.size = bs.readBits(24);\n            let flags = bs.readBits(3);\n            if (flags & 4) {\n                bs.index += 128;\n            }\n            if (bs.readBits(1)) {\n                bs.index += 256;\n            }\n            entries.push(entry);\n        }\n        if (bs.readBits(1)) {\n            while (bs.readBits(1)) {\n                let nBits = bs.readBits(1) ? 5 : 10;\n                bs.index += nBits;\n            }\n        }\n        if (bs.index % 8 > 0) {\n            r.seek(Math.floor(bs.index / 8) + 1);\n        }\n        else {\n            r.seek(bs.index / 8);\n        }\n        return entries;\n    }\n    static newMoveVars(r) {\n        return {\n            gravity: r.f(),\n            stopSpeed: r.f(),\n            maxSpeed: r.f(),\n            spectatorMaxSpeed: r.f(),\n            acceleration: r.f(),\n            airAcceleration: r.f(),\n            waterAcceleration: r.f(),\n            friction: r.f(),\n            edgeFriction: r.f(),\n            waterFriction: r.f(),\n            entityGravity: r.f(),\n            bounce: r.f(),\n            stepSize: r.f(),\n            maxVelocity: r.f(),\n            zMax: r.f(),\n            waveHeight: r.f(),\n            footsteps: r.b(),\n            rollAngle: r.f(),\n            rollSpeed: r.f(),\n            skyColor: [r.f(), r.f(), r.f()],\n            skyVec: [r.f(), r.f(), r.f()],\n            skyName: r.str()\n        };\n    }\n    static resourceRequest(r) {\n        let data = {\n            spawnCount: r.i()\n        };\n        r.skip(4);\n        return data;\n    }\n    static customization(r) {\n        let playerIndex = r.ub();\n        let type = r.ub();\n        let name = r.str();\n        let index = r.us();\n        let downloadSize = r.ui();\n        let flags = r.ub();\n        let md5hash;\n        if (flags & 4) {\n            md5hash = [r.i(), r.i(), r.i(), r.i()];\n        }\n        return {\n            playerIndex,\n            type,\n            name,\n            index,\n            downloadSize,\n            flags,\n            md5hash\n        };\n    }\n    static crosshairAngle(r) {\n        return {\n            pitch: r.b(),\n            yaw: r.b()\n        };\n    }\n    static soundFade(r) {\n        return {\n            initialPercent: r.ub(),\n            holdTime: r.ub(),\n            fadeOutTime: r.ub(),\n            fadeInTime: r.ub()\n        };\n    }\n    static fileTxferFailed(r) {\n        return {\n            filename: r.str()\n        };\n    }\n    static hltv(r) {\n        return {\n            mode: r.ub()\n        };\n    }\n    static director(r) {\n        let length = r.ub();\n        return {\n            flag: r.ub(),\n            message: r.nstr(length - 1)\n        };\n    }\n    static voiceInit(r) {\n        return {\n            codecName: r.str(),\n            quality: r.b()\n        };\n    }\n    static voiceData(r) {\n        let playerIndex = r.ub();\n        let size = r.us();\n        let data = r.arrx(size, Reader_1.ReaderDataType.UByte);\n        return { playerIndex, data };\n    }\n    static sendExtraInfo(r) {\n        return {\n            fallbackDir: r.str(),\n            canCheat: r.ub()\n        };\n    }\n    static timeScale(r) {\n        return {\n            timeScale: r.f()\n        };\n    }\n    static resourceLocation(r) {\n        return {\n            url: r.str()\n        };\n    }\n    static sendCvarValue(r) {\n        return {\n            name: r.str()\n        };\n    }\n    static sendCvarValue2(r) {\n        return {\n            requestId: r.ui(),\n            name: r.str()\n        };\n    }\n    static read(r, type, deltaDecoders) {\n        if (type === 0) {\n            return null;\n        }\n        const handler = FrameDataReader.handlers[type];\n        if (handler) {\n            return handler(r, deltaDecoders);\n        }\n        else {\n            return null;\n        }\n    }\n}\nexports.FrameDataReader = FrameDataReader;\nFrameDataReader.handlers = [\n    FrameDataReader.bad,\n    FrameDataReader.nop,\n    FrameDataReader.disconnect,\n    FrameDataReader.event,\n    FrameDataReader.version,\n    FrameDataReader.setView,\n    FrameDataReader.sound,\n    FrameDataReader.time,\n    FrameDataReader.print,\n    FrameDataReader.stuffText,\n    FrameDataReader.setAngle,\n    FrameDataReader.serverInfo,\n    FrameDataReader.lightStyle,\n    FrameDataReader.updateUserInfo,\n    FrameDataReader.deltaDescription,\n    FrameDataReader.clientData,\n    FrameDataReader.stopSound,\n    FrameDataReader.pings,\n    FrameDataReader.particle,\n    FrameDataReader.damage,\n    FrameDataReader.spawnStatic,\n    FrameDataReader.eventReliable,\n    FrameDataReader.spawnBaseLine,\n    FrameDataReader.tempEntity,\n    FrameDataReader.setPause,\n    FrameDataReader.signOnNum,\n    FrameDataReader.centerPrint,\n    FrameDataReader.killedMonster,\n    FrameDataReader.foundSecret,\n    FrameDataReader.spawnStaticSound,\n    FrameDataReader.intermission,\n    FrameDataReader.finale,\n    FrameDataReader.cdTrack,\n    FrameDataReader.restore,\n    FrameDataReader.cutscene,\n    FrameDataReader.weaponAnim,\n    FrameDataReader.decalName,\n    FrameDataReader.roomType,\n    FrameDataReader.addAngle,\n    FrameDataReader.newUserMsg,\n    FrameDataReader.packetEntities,\n    FrameDataReader.deltaPacketEntities,\n    FrameDataReader.choke,\n    FrameDataReader.resourceList,\n    FrameDataReader.newMoveVars,\n    FrameDataReader.resourceRequest,\n    FrameDataReader.customization,\n    FrameDataReader.crosshairAngle,\n    FrameDataReader.soundFade,\n    FrameDataReader.fileTxferFailed,\n    FrameDataReader.hltv,\n    FrameDataReader.director,\n    FrameDataReader.voiceInit,\n    FrameDataReader.voiceData,\n    FrameDataReader.sendExtraInfo,\n    FrameDataReader.timeScale,\n    FrameDataReader.resourceLocation,\n    FrameDataReader.sendCvarValue,\n    FrameDataReader.sendCvarValue2\n];\n(function (FrameDataReader) {\n    let SVC;\n    (function (SVC) {\n        SVC[SVC[\"BAD\"] = 0] = \"BAD\";\n        SVC[SVC[\"NOP\"] = 1] = \"NOP\";\n        SVC[SVC[\"DISCONNECT\"] = 2] = \"DISCONNECT\";\n        SVC[SVC[\"EVENT\"] = 3] = \"EVENT\";\n        SVC[SVC[\"VERSION\"] = 4] = \"VERSION\";\n        SVC[SVC[\"SETVIEW\"] = 5] = \"SETVIEW\";\n        SVC[SVC[\"SOUND\"] = 6] = \"SOUND\";\n        SVC[SVC[\"TIME\"] = 7] = \"TIME\";\n        SVC[SVC[\"PRINT\"] = 8] = \"PRINT\";\n        SVC[SVC[\"STUFFTEXT\"] = 9] = \"STUFFTEXT\";\n        SVC[SVC[\"SETANGLE\"] = 10] = \"SETANGLE\";\n        SVC[SVC[\"SERVERINFO\"] = 11] = \"SERVERINFO\";\n        SVC[SVC[\"LIGHTSTYLE\"] = 12] = \"LIGHTSTYLE\";\n        SVC[SVC[\"UPDATEUSERINFO\"] = 13] = \"UPDATEUSERINFO\";\n        SVC[SVC[\"DELTADESCRIPTION\"] = 14] = \"DELTADESCRIPTION\";\n        SVC[SVC[\"CLIENTDATA\"] = 15] = \"CLIENTDATA\";\n        SVC[SVC[\"STOPSOUND\"] = 16] = \"STOPSOUND\";\n        SVC[SVC[\"PINGS\"] = 17] = \"PINGS\";\n        SVC[SVC[\"PARTICLE\"] = 18] = \"PARTICLE\";\n        SVC[SVC[\"DAMAGE\"] = 19] = \"DAMAGE\";\n        SVC[SVC[\"SPAWNSTATIC\"] = 20] = \"SPAWNSTATIC\";\n        SVC[SVC[\"EVENT_RELIABLE\"] = 21] = \"EVENT_RELIABLE\";\n        SVC[SVC[\"SPAWNBASELINE\"] = 22] = \"SPAWNBASELINE\";\n        SVC[SVC[\"TEMPENTITY\"] = 23] = \"TEMPENTITY\";\n        SVC[SVC[\"SETPAUSE\"] = 24] = \"SETPAUSE\";\n        SVC[SVC[\"SIGNONNUM\"] = 25] = \"SIGNONNUM\";\n        SVC[SVC[\"CENTERPRINT\"] = 26] = \"CENTERPRINT\";\n        SVC[SVC[\"KILLEDMONSTER\"] = 27] = \"KILLEDMONSTER\";\n        SVC[SVC[\"FOUNDSECRET\"] = 28] = \"FOUNDSECRET\";\n        SVC[SVC[\"SPAWNSTATICSOUND\"] = 29] = \"SPAWNSTATICSOUND\";\n        SVC[SVC[\"INTERMISSION\"] = 30] = \"INTERMISSION\";\n        SVC[SVC[\"FINALE\"] = 31] = \"FINALE\";\n        SVC[SVC[\"CDTRACK\"] = 32] = \"CDTRACK\";\n        SVC[SVC[\"RESTORE\"] = 33] = \"RESTORE\";\n        SVC[SVC[\"CUTSCENE\"] = 34] = \"CUTSCENE\";\n        SVC[SVC[\"WEAPONANIM\"] = 35] = \"WEAPONANIM\";\n        SVC[SVC[\"DECALNAME\"] = 36] = \"DECALNAME\";\n        SVC[SVC[\"ROOMTYPE\"] = 37] = \"ROOMTYPE\";\n        SVC[SVC[\"ADDANGLE\"] = 38] = \"ADDANGLE\";\n        SVC[SVC[\"NEWUSERMSG\"] = 39] = \"NEWUSERMSG\";\n        SVC[SVC[\"PACKETENTITIES\"] = 40] = \"PACKETENTITIES\";\n        SVC[SVC[\"DELTAPACKETENTITIES\"] = 41] = \"DELTAPACKETENTITIES\";\n        SVC[SVC[\"CHOKE\"] = 42] = \"CHOKE\";\n        SVC[SVC[\"RESOURCELIST\"] = 43] = \"RESOURCELIST\";\n        SVC[SVC[\"NEWMOVEVARS\"] = 44] = \"NEWMOVEVARS\";\n        SVC[SVC[\"RESOURCEREQUEST\"] = 45] = \"RESOURCEREQUEST\";\n        SVC[SVC[\"CUSTOMIZATION\"] = 46] = \"CUSTOMIZATION\";\n        SVC[SVC[\"CROSSHAIRANGLE\"] = 47] = \"CROSSHAIRANGLE\";\n        SVC[SVC[\"SOUNDFADE\"] = 48] = \"SOUNDFADE\";\n        SVC[SVC[\"FILETXFERFAILED\"] = 49] = \"FILETXFERFAILED\";\n        SVC[SVC[\"HLTV\"] = 50] = \"HLTV\";\n        SVC[SVC[\"DIRECTOR\"] = 51] = \"DIRECTOR\";\n        SVC[SVC[\"VOICEINIT\"] = 52] = \"VOICEINIT\";\n        SVC[SVC[\"VOICEDATA\"] = 53] = \"VOICEDATA\";\n        SVC[SVC[\"SENDEXTRAINFO\"] = 54] = \"SENDEXTRAINFO\";\n        SVC[SVC[\"TIMESCALE\"] = 55] = \"TIMESCALE\";\n        SVC[SVC[\"RESOURCELOCATION\"] = 56] = \"RESOURCELOCATION\";\n        SVC[SVC[\"SENDCVARVALUE\"] = 57] = \"SENDCVARVALUE\";\n        SVC[SVC[\"SENDCVARVALUE2\"] = 58] = \"SENDCVARVALUE2\";\n    })(SVC = FrameDataReader.SVC || (FrameDataReader.SVC = {}));\n})(FrameDataReader || (exports.FrameDataReader = FrameDataReader = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Replay = void 0;\nconst ReplayMap_1 = require(\"./ReplayMap\");\nconst ReplayCustomMap_1 = require(\"./ReplayCustomMap\");\nconst ReplayChunk_1 = require(\"./ReplayChunk\");\nconst ReplayState_1 = require(\"./ReplayState\");\nconst Reader_1 = require(\"../Reader\");\nconst FrameDataReader_1 = require(\"./FrameDataReader\");\nconst readDelta_1 = require(\"./readDelta\");\nconst checkType = (r) => {\n    let magic = r.nstr(8);\n    return magic === 'HLDEMO';\n};\nconst readHeader = (r) => ({\n    demoProtocol: r.ui(),\n    netProtocol: r.ui(),\n    mapName: r.nstr(260),\n    modName: r.nstr(260),\n    mapCrc: r.i(),\n    dirOffset: r.ui()\n});\nconst readDirectories = (r, offset) => {\n    r.seek(offset);\n    let count = r.ui();\n    let directories = [];\n    for (let i = 0; i < count; ++i) {\n        directories.push({\n            id: r.ui(),\n            name: r.nstr(64),\n            flags: r.ui(),\n            cdTrack: r.i(),\n            time: r.f(),\n            frames: r.ui(),\n            offset: r.ui(),\n            length: r.ui()\n        });\n    }\n    return directories;\n};\nconst readFrameData = (r, deltaDecoders, customMessages) => {\n    let length = r.ui();\n    let limit = r.tell() + length;\n    let data = [];\n    while (r.tell() < limit) {\n        let type = r.ub();\n        if (type === 1) {\n            continue;\n        }\n        else if (type >= 64) {\n            if (customMessages[type] && customMessages[type].size > -1) {\n                r.skip(customMessages[type].size);\n            }\n            else {\n                r.skip(r.ub());\n            }\n            continue;\n        }\n        let message = FrameDataReader_1.FrameDataReader.read(r, type, deltaDecoders);\n        if (message) {\n            if (type === 39) {\n                customMessages[message.index] = message;\n            }\n            data.push({\n                type,\n                data: message\n            });\n        }\n        else {\n            r.seek(limit);\n        }\n    }\n    r.seek(limit);\n    return data;\n};\nconst readFrame = (r, deltaDecoders, customMessages) => {\n    let frame = {\n        type: r.ub(),\n        time: r.f(),\n        tick: r.ui()\n    };\n    switch (frame.type) {\n        case 0:\n        case 1: {\n            r.skip(4);\n            frame.camera = {\n                position: [r.f(), r.f(), r.f()],\n                orientation: [r.f(), r.f(), r.f()]\n            };\n            r.skip(436);\n            frame.data = readFrameData(r, deltaDecoders, customMessages);\n            break;\n        }\n        case 2: {\n            break;\n        }\n        case 3: {\n            frame.command = r.nstr(64);\n            break;\n        }\n        case 4: {\n            r.skip(32);\n            break;\n        }\n        case 5: {\n            break;\n        }\n        case 6: {\n            r.skip(84);\n            break;\n        }\n        case 7: {\n            r.skip(8);\n            break;\n        }\n        case 8: {\n            frame.sound = {\n                channel: r.i(),\n                sample: r.nstr(r.ui()),\n                attenuation: r.f(),\n                volume: r.f(),\n                flags: r.ui(),\n                pitch: r.i()\n            };\n            break;\n        }\n        case 9: {\n            r.skip(r.ui());\n            break;\n        }\n        default: {\n            frame.error = true;\n            break;\n        }\n    }\n    return frame;\n};\nclass Replay {\n    constructor(header, directories) {\n        this.header = header;\n        this.mapName = this.header.mapName;\n        this.directories = directories;\n    }\n    static parseFromArrayBuffer(buffer) {\n        let r = new Reader_1.Reader(buffer);\n        let magic = r.nstr(8);\n        if (magic !== 'HLDEMO') {\n            throw new Error('Invalid replay format');\n        }\n        let header = {};\n        header.demoProtocol = r.ui();\n        header.netProtocol = r.ui();\n        header.mapName = r.nstr(260);\n        header.modName = r.nstr(260);\n        header.mapCrc = r.i();\n        header.dirOffset = r.ui();\n        r.seek(header.dirOffset);\n        let directoryCount = r.ui();\n        let directories = [];\n        for (let i = 0; i < directoryCount; ++i) {\n            directories.push({\n                id: r.ui(),\n                name: r.nstr(64),\n                flags: r.ui(),\n                cdTrack: r.i(),\n                time: r.f(),\n                frames: r.ui(),\n                offset: r.ui(),\n                length: r.ui(),\n                macros: []\n            });\n        }\n        for (let i = 0; i < directories.length; ++i) {\n            r.seek(directories[i].offset);\n            let isFinalMacroReached = false;\n            while (!isFinalMacroReached) {\n                let macro = {\n                    type: r.b(),\n                    time: r.f(),\n                    frame: r.ui()\n                };\n                switch (macro.type) {\n                    case 0:\n                    case 1: {\n                        r.skip(4);\n                        macro.camera = {\n                            position: [r.f(), r.f(), r.f()],\n                            orientation: [r.f(), r.f(), r.f()]\n                        };\n                        r.skip(436);\n                        r.skip(r.ui());\n                        break;\n                    }\n                    case 2: {\n                        break;\n                    }\n                    case 3: {\n                        macro.command = r.nstr(64);\n                        break;\n                    }\n                    case 4: {\n                        r.skip(32);\n                        break;\n                    }\n                    case 5: {\n                        isFinalMacroReached = true;\n                        break;\n                    }\n                    case 6: {\n                        r.skip(84);\n                        break;\n                    }\n                    case 7: {\n                        r.skip(8);\n                        break;\n                    }\n                    case 8: {\n                        r.skip(4);\n                        r.skip(r.ui() + 16);\n                        break;\n                    }\n                    case 9: {\n                        r.skip(r.ui());\n                        break;\n                    }\n                    default: {\n                        const offset = Number(r.tell() - 9).toString(16);\n                        const msg = [\n                            `Unexpected macro (${macro.type})`,\n                            ` at offset = ${offset}.`\n                        ].join('');\n                        throw new Error(msg);\n                    }\n                }\n                directories[i].macros.push(macro);\n            }\n        }\n        return new Replay(header, directories);\n    }\n    static parseFullFromArrayBuffer(buffer) {\n        let r = new Reader_1.Reader(buffer);\n        let magic = r.nstr(8);\n        if (magic !== 'HLDEMO') {\n            throw new Error('Invalid replay format');\n        }\n        let header = {};\n        header.demoProtocol = r.ui();\n        header.netProtocol = r.ui();\n        header.mapName = r.nstr(260);\n        header.modName = r.nstr(260);\n        header.mapCrc = r.i();\n        header.dirOffset = r.ui();\n        r.seek(header.dirOffset);\n        let directoryCount = r.ui();\n        let directories = [];\n        for (let i = 0; i < directoryCount; ++i) {\n            directories.push({\n                id: r.ui(),\n                name: r.nstr(64),\n                flags: r.ui(),\n                cdTrack: r.i(),\n                time: r.f(),\n                frames: r.ui(),\n                offset: r.ui(),\n                length: r.ui(),\n                macros: []\n            });\n        }\n        let deltaDecoders = (0, readDelta_1.getInitialDeltaDecoders)();\n        let customMessages = [];\n        for (let i = 0; i < directories.length; ++i) {\n            r.seek(directories[i].offset);\n            let isFinalMacroReached = false;\n            while (!isFinalMacroReached) {\n                let macro = {\n                    type: r.b(),\n                    time: r.f(),\n                    frame: r.ui()\n                };\n                switch (macro.type) {\n                    case 0:\n                    case 1: {\n                        r.skip(4);\n                        macro.camera = {\n                            position: [r.f(), r.f(), r.f()],\n                            orientation: [r.f(), r.f(), r.f()],\n                            forward: [r.f(), r.f(), r.f()],\n                            right: [r.f(), r.f(), r.f()],\n                            up: [r.f(), r.f(), r.f()]\n                        };\n                        macro.RefParams = {\n                            frametime: r.f(),\n                            time: r.f(),\n                            intermission: r.i(),\n                            paused: r.i(),\n                            spectator: r.i(),\n                            onground: r.i(),\n                            waterlevel: r.i(),\n                            velocity: [r.f(), r.f(), r.f()],\n                            origin: [r.f(), r.f(), r.f()],\n                            viewHeight: [r.f(), r.f(), r.f()],\n                            idealPitch: r.f(),\n                            viewAngles: [r.f(), r.f(), r.f()],\n                            health: r.i(),\n                            crosshairAngle: [r.f(), r.f(), r.f()],\n                            viewSize: r.f(),\n                            punchAngle: [r.f(), r.f(), r.f()],\n                            maxClients: r.i(),\n                            viewEntity: r.i(),\n                            playerCount: r.i(),\n                            maxEntities: r.i(),\n                            demoPlayback: r.i(),\n                            hardware: r.i(),\n                            smoothing: r.i(),\n                            ptr_cmd: r.i(),\n                            ptr_movevars: r.i(),\n                            viewport: [r.i(), r.i(), r.i(), r.i()],\n                            nextView: r.i(),\n                            onlyClientDraw: r.i()\n                        };\n                        macro.UserCmd = {\n                            lerp_msec: r.s(),\n                            msec: r.ub(),\n                            UNUSED1: r.ub(),\n                            viewAngles: [r.f(), r.f(), r.f()],\n                            forwardMove: r.f(),\n                            sideMove: r.f(),\n                            upMove: r.f(),\n                            lightLevel: r.b(),\n                            UNUSED2: r.ub(),\n                            buttons: r.us(),\n                            impulse: r.b(),\n                            weaponSelect: r.b(),\n                            UNUSED: r.s(),\n                            impactIndex: r.i(),\n                            impactPosition: [r.f(), r.f(), r.f()]\n                        };\n                        macro.MoveVars = {\n                            gravity: r.f(),\n                            stopSpeed: r.f(),\n                            maxSpeed: r.f(),\n                            spectatorMaxSpeed: r.f(),\n                            acceleration: r.f(),\n                            airAcceleration: r.f(),\n                            waterAcceleration: r.f(),\n                            friction: r.f(),\n                            edgeFriction: r.f(),\n                            waterFriction: r.f(),\n                            entityGravity: r.f(),\n                            bounce: r.f(),\n                            stepSize: r.f(),\n                            maxVelocity: r.f(),\n                            zMax: r.f(),\n                            waveHeight: r.f(),\n                            footsteps: r.i(),\n                            skyName: r.nstr(32),\n                            rollAngle: r.f(),\n                            rollSpeed: r.f(),\n                            skyColor: [r.f(), r.f(), r.f()],\n                            skyVec: [r.f(), r.f(), r.f()]\n                        };\n                        macro.view = [r.f(), r.f(), r.f()];\n                        macro.viewModel = r.i();\n                        macro.incoming_sequence = r.i();\n                        macro.incoming_acknowledged = r.i();\n                        macro.incoming_reliable_acknowledged = r.i();\n                        macro.incoming_reliable_sequence = r.i();\n                        macro.outgoing_sequence = r.i();\n                        macro.reliable_sequence = r.i();\n                        macro.last_reliable_sequence = r.i();\n                        let frameDataLength = r.ui();\n                        let frameDataEnd = frameDataLength + r.tell();\n                        macro.frameData = [];\n                        while (r.tell() < frameDataEnd) {\n                            let type = r.ub();\n                            if (type === 1) {\n                                continue;\n                            }\n                            else if (type >= 64) {\n                                if (customMessages[type] && customMessages[type].size > -1) {\n                                    r.skip(customMessages[type].size);\n                                }\n                                else {\n                                    r.skip(r.ub());\n                                }\n                                continue;\n                            }\n                            let frameData = FrameDataReader_1.FrameDataReader.read(r, type, deltaDecoders);\n                            if (frameData) {\n                                if (type === 39) {\n                                    customMessages[frameData.index] = frameData;\n                                }\n                                macro.frameData.push({ type, frameData });\n                            }\n                            else {\n                                r.seek(frameDataEnd);\n                            }\n                        }\n                        r.seek(frameDataEnd);\n                        break;\n                    }\n                    case 2: {\n                        break;\n                    }\n                    case 3: {\n                        macro.command = r.nstr(64);\n                        break;\n                    }\n                    case 4: {\n                        macro.clientData = {\n                            position: [r.f(), r.f(), r.f()],\n                            rotation: [r.f(), r.f(), r.f()],\n                            weaponFlags: r.ui(),\n                            fov: r.f()\n                        };\n                        break;\n                    }\n                    case 5: {\n                        isFinalMacroReached = true;\n                        break;\n                    }\n                    case 6: {\n                        macro.event = {\n                            flags: r.ui(),\n                            index: r.ui(),\n                            delay: r.f(),\n                            args: {\n                                flags: r.ui(),\n                                entityIndex: r.ui(),\n                                position: [r.f(), r.f(), r.f()],\n                                rotation: [r.f(), r.f(), r.f()],\n                                velocity: [r.f(), r.f(), r.f()],\n                                ducking: r.ui(),\n                                fparam1: r.f(),\n                                fparam2: r.f(),\n                                iparam1: r.i(),\n                                iparam2: r.i(),\n                                bparam1: r.i(),\n                                bparam2: r.i()\n                            }\n                        };\n                        break;\n                    }\n                    case 7: {\n                        macro.weaponAnimation = {\n                            animation: r.i(),\n                            body: r.i()\n                        };\n                        break;\n                    }\n                    case 8: {\n                        macro.sound = {\n                            channel: r.i(),\n                            sample: r.nstr(r.ui()),\n                            attenuation: r.f(),\n                            volume: r.f(),\n                            flags: r.ui(),\n                            pitch: r.i()\n                        };\n                        break;\n                    }\n                    case 9: {\n                        r.skip(r.ui());\n                        break;\n                    }\n                    default: {\n                        const offset = Number(r.tell() - 9).toString(16);\n                        const msg = `Unexpected macro (${macro.type}) at offset = ${offset}`;\n                        throw new Error(msg);\n                    }\n                }\n                directories[i].macros.push(macro);\n            }\n        }\n        return new Replay(header, directories);\n    }\n    static parseCustomFile(buffer) {\n        const data = new ReplayCustomMap_1.ReplayCustomMap();\n        const lines = buffer.trim().split('\\n');\n        const headerLine = lines.shift();\n        if (headerLine && headerLine.startsWith('HEADER')) {\n            const headerRegex = /\"[^\"]*\"|\\S+/g;\n            const matches = headerLine.match(headerRegex);\n            if (matches) {\n                let values = matches.map(match => match.replace(/\"/g, ''));\n                data.header = {\n                    identifier: values[1],\n                    timestamp: values[2],\n                    additionalInfo: values[3],\n                };\n                data.time = data.convertTimestamp(values[2]);\n            }\n        }\n        lines.forEach(line => {\n            if (line.startsWith('INFO')) {\n                const parts = line.split(/\\s+/).slice(1);\n                const frame = {\n                    origin: [parseFloat(parts[0]), parseFloat(parts[1]), parseFloat(parts[2])],\n                    rotation: [parseFloat(parts[3]), parseFloat(parts[4]), parseFloat(parts[5])],\n                    velocity: [parseFloat(parts[6]), parseFloat(parts[7]), parseFloat(parts[8])],\n                    buttons: parseInt(parts[9], 10),\n                    gravity: parseFloat(parts[10]),\n                    fps: parseFloat(parts[11]),\n                    strafes: parseInt(parts[12], 10),\n                    sync: parseInt(parts[13], 10),\n                };\n                data.addFrame(frame);\n            }\n        });\n        console.log(\"FINISH LOADING!\");\n        return { data };\n    }\n    static parseIntoChunks(buffer) {\n        let r = new Reader_1.Reader(buffer);\n        if (!checkType(r)) {\n            throw new Error('Invalid replay file format');\n        }\n        let maps = [];\n        let deltaDecoders = (0, readDelta_1.getInitialDeltaDecoders)();\n        let customMessages = [];\n        let header = readHeader(r);\n        let directories = readDirectories(r, header.dirOffset);\n        let currentMap;\n        let currentChunk;\n        let lastFrame;\n        let lastFrameOffset;\n        let state = new ReplayState_1.ReplayState();\n        let directoryEndOffset;\n        directoryEndOffset = directories[0].offset + directories[0].length;\n        r.seek(directories[0].offset);\n        while (r.tell() < directoryEndOffset) {\n            let frame = readFrame(r, deltaDecoders, customMessages);\n            state.feedFrame(frame);\n            if (frame.error) {\n                throw new Error('Encountered error while reading replay');\n            }\n            if (frame.type < 2) {\n                let serverInfo = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.SERVERINFO);\n                if (serverInfo) {\n                    currentMap = new ReplayMap_1.ReplayMap(serverInfo.data.mapFileName);\n                    maps.push(currentMap);\n                }\n                let resourceList = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.RESOURCELIST);\n                if (resourceList && currentMap) {\n                    currentMap.setResources(resourceList.data);\n                }\n            }\n        }\n        if (!(currentMap instanceof ReplayMap_1.ReplayMap)) {\n            throw new Error('Error while parsing replay.');\n        }\n        lastFrameOffset = r.tell();\n        currentChunk = new ReplayChunk_1.ReplayChunk(state, 0);\n        currentMap.addChunk(currentChunk);\n        directoryEndOffset = directories[1].offset + directories[1].length;\n        r.seek(directories[1].offset);\n        while (true) {\n            let offset = r.tell();\n            if (offset >= directoryEndOffset) {\n                let timeLength = lastFrame.time - currentChunk.startTime;\n                currentChunk.timeLength = timeLength;\n                let lastFrameLength = offset - lastFrameOffset;\n                r.seek(lastFrameOffset);\n                currentChunk.setData(r.arrx(lastFrameLength, Reader_1.ReaderDataType.UByte));\n                r.seek(offset);\n                break;\n            }\n            let frame = readFrame(r, deltaDecoders, customMessages);\n            state.feedFrame(frame);\n            lastFrame = frame;\n            if (frame.error) {\n                throw new Error('Encountered error while reading replay');\n            }\n            if (frame.type < 2) {\n                let serverInfo = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.SERVERINFO);\n                if (serverInfo) {\n                    currentMap = new ReplayMap_1.ReplayMap(serverInfo.data.mapFileName);\n                    maps.push(currentMap);\n                    let timeLength = lastFrame.time - currentChunk.startTime;\n                    currentChunk.timeLength = timeLength;\n                    let lastFrameLength = offset - lastFrameOffset;\n                    let tempOffset = r.tell();\n                    r.seek(lastFrameOffset);\n                    currentChunk.setData(r.arrx(lastFrameLength, Reader_1.ReaderDataType.UByte));\n                    r.seek(tempOffset);\n                    lastFrameOffset = offset;\n                    currentChunk = new ReplayChunk_1.ReplayChunk(state, frame.time);\n                    currentMap.addChunk(currentChunk);\n                }\n                let resourceList = frame.data.find((msg) => msg.type === FrameDataReader_1.FrameDataReader.SVC.RESOURCELIST);\n                if (resourceList) {\n                    currentMap.setResources(resourceList.data);\n                }\n                if (serverInfo) {\n                    continue;\n                }\n                for (let i = 0; i < frame.data.length; ++i) {\n                    let message = frame.data[i];\n                    if (message.type === FrameDataReader_1.FrameDataReader.SVC.SOUND ||\n                        message.type === FrameDataReader_1.FrameDataReader.SVC.SPAWNSTATICSOUND) {\n                        let sound = currentMap.resources.sounds.find((s) => s.index === message.data.soundIndex);\n                        if (sound) {\n                            sound.used = true;\n                        }\n                    }\n                    else if (message.type === FrameDataReader_1.FrameDataReader.SVC.STUFFTEXT) {\n                        let sounds = currentMap.resources.sounds;\n                        let commands = message.data.commands;\n                        for (let i = 0; i < commands.length; ++i) {\n                            let command = commands[i];\n                            let func = command.func;\n                            if ((func === 'speak' || func === 'spk') &&\n                                command.params.length === 1) {\n                                let soundName = command.params[0] + '.wav';\n                                let sound = sounds.find((s) => s.name === soundName);\n                                if (sound) {\n                                    sound.used = true;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else if (frame.type === 8) {\n                let sound = currentMap.resources.sounds.find((s) => s.name === frame.sound.sample);\n                if (sound) {\n                    sound.used = true;\n                }\n            }\n            if (currentChunk.startTime + 10 < frame.time) {\n                let lastFrameLength = offset - lastFrameOffset;\n                let tempOffset = r.tell();\n                r.seek(lastFrameOffset);\n                currentChunk.setData(r.arrx(lastFrameLength, Reader_1.ReaderDataType.UByte));\n                r.seek(tempOffset);\n                lastFrameOffset = offset;\n                currentChunk = new ReplayChunk_1.ReplayChunk(state, frame.time);\n                currentMap.addChunk(currentChunk);\n            }\n        }\n        return {\n            length: directories[1].time,\n            maps,\n            deltaDecoders,\n            customMessages\n        };\n    }\n    static readHeader(r) {\n        return readHeader(r);\n    }\n    static readDirectories(r, offset) {\n        return readDirectories(r, offset);\n    }\n    static readFrame(r, deltaDecoders, customMessages) {\n        return readFrame(r, deltaDecoders, customMessages);\n    }\n    static readFrameData(r, deltaDecoders, customMessages) {\n        return readFrame(r, deltaDecoders, customMessages);\n    }\n}\nexports.Replay = Replay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayChunk = void 0;\nconst Reader_1 = require(\"../Reader\");\nclass ReplayChunk {\n    constructor(initialState, startTime) {\n        this.state = initialState.clone();\n        this.startTime = startTime;\n        this.timeLength = 10;\n        this.data = null;\n        this.reader = null;\n    }\n    setData(data) {\n        this.data = new Uint8Array(data.length);\n        for (let i = 0; i < data.length; ++i) {\n            this.data[i] = data[i];\n        }\n        this.reader = new Reader_1.Reader(this.data.buffer);\n    }\n}\nexports.ReplayChunk = ReplayChunk;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayCustomMap = exports.Vector3 = void 0;\nclass Vector3 {\n    constructor(vec) {\n        this.vec = vec;\n    }\n    lerp(to, t) {\n        return new Vector3([this.vec[0] + (to.vec[0] - this.vec[0]) * t,\n            this.vec[1] + (to.vec[1] - this.vec[1]) * t,\n            this.vec[2] + (to.vec[2] - this.vec[2]) * t]);\n    }\n}\nexports.Vector3 = Vector3;\nclass ReplayCustomMap {\n    constructor() {\n        this.header = { identifier: '', timestamp: '', additionalInfo: '' };\n        this.frames = [];\n        this.length = 0;\n        this.time = 0;\n    }\n    addFrame(frame) {\n        this.frames.push(frame);\n        this.length += 1;\n    }\n    convertTimestamp(timeString) {\n        return parseTimeToMilliseconds(timeString);\n    }\n}\nexports.ReplayCustomMap = ReplayCustomMap;\nfunction parseTimeToMilliseconds(timeString) {\n    const cleanedString = timeString.replace('s', '');\n    const [minutesStr, secondsStr] = cleanedString.split(':');\n    const minutes = parseInt(minutesStr, 10);\n    const [seconds, millisecondsStr] = secondsStr.split('.');\n    const secondsNumber = parseInt(seconds, 10);\n    const milliseconds = parseInt(millisecondsStr || '0', 10);\n    const totalMilliseconds = (minutes * 60 * 1000) + (secondsNumber * 1000) + milliseconds;\n    return totalMilliseconds;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayMap = void 0;\nconst Util_1 = require(\"../Util\");\nclass ReplayMap {\n    constructor(mapFilePath) {\n        this.name = (0, Util_1.basename)(mapFilePath, '.bsp');\n        this.chunks = [];\n        this.resources = {\n            sounds: [],\n            skins: [],\n            models: [],\n            decals: [],\n            custom: [],\n            events: []\n        };\n    }\n    setResources(resources) {\n        resources.forEach(res => {\n            switch (res.type) {\n                case 0: {\n                    res.used = false;\n                    this.resources.sounds.push(res);\n                    break;\n                }\n                case 1: {\n                    this.resources.skins.push(res);\n                    break;\n                }\n                case 2: {\n                    this.resources.models.push(res);\n                    break;\n                }\n                case 3: {\n                    this.resources.decals.push(res);\n                    break;\n                }\n                case 4: {\n                    this.resources.custom.push(res);\n                    break;\n                }\n                case 5: {\n                    this.resources.events.push(res);\n                    break;\n                }\n            }\n        });\n    }\n    addChunk(chunk) {\n        this.chunks.push(chunk);\n    }\n}\nexports.ReplayMap = ReplayMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayState = void 0;\nclass ReplayState {\n    constructor(obj = null) {\n        if (obj) {\n            this.cameraPos = JSON.parse(JSON.stringify(obj.cameraPos));\n            this.cameraRot = JSON.parse(JSON.stringify(obj.cameraRot));\n            this.entities = JSON.parse(JSON.stringify(obj.entities));\n        }\n        else {\n            this.cameraPos = [0, 0, 0];\n            this.cameraRot = [0, 0, 0];\n            this.entities = [];\n        }\n    }\n    feedFrame(frame) {\n        switch (frame.type) {\n            case 0:\n            case 1: {\n                this.cameraPos[0] = frame.camera.position[0];\n                this.cameraPos[1] = frame.camera.position[1];\n                this.cameraPos[2] = frame.camera.position[2];\n                this.cameraRot[0] = frame.camera.orientation[0];\n                this.cameraRot[1] = frame.camera.orientation[1];\n                this.cameraRot[2] = frame.camera.orientation[2];\n                break;\n            }\n        }\n    }\n    clone() {\n        return new ReplayState(this);\n    }\n}\nexports.ReplayState = ReplayState;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readCoord = readCoord;\nfunction readCoord(bs) {\n    let intFlag = bs.readBits(1);\n    let fractionFlag = bs.readBits(1);\n    if (!intFlag && !fractionFlag) {\n        return 0;\n    }\n    let sign = bs.readBits(1);\n    let intValue = 0;\n    let fractionValue = 0;\n    if (intFlag) {\n        intValue = bs.readBits(12);\n    }\n    if (fractionFlag) {\n        fractionValue = bs.readBits(3);\n    }\n    let value = intValue + fractionValue / 32;\n    if (sign) {\n        value = -value;\n    }\n    return value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInitialDeltaDecoders = void 0;\nexports.readDelta = readDelta;\nconst DeltaType_1 = require(\"./DeltaType\");\nfunction readDelta(bs, dd) {\n    let data = {};\n    let maskBitCount = bs.readBits(3);\n    let maskBits = [];\n    for (let i = 0; i < maskBitCount; ++i) {\n        maskBits.push(bs.readBits(8));\n    }\n    let brk = false;\n    for (let i = 0; i < maskBitCount; ++i) {\n        for (let j = 0; j < 8; ++j) {\n            let index = j + i * 8;\n            if (index === dd.length) {\n                brk = true;\n                break;\n            }\n            if (maskBits[i] & (1 << j)) {\n                if (dd[index].flags & DeltaType_1.DeltaType.DT_BYTE) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_SHORT) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_INTEGER) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_FLOAT ||\n                    dd[index].flags & DeltaType_1.DeltaType.DT_TIMEWINDOW_8 ||\n                    dd[index].flags & DeltaType_1.DeltaType.DT_TIMEWINDOW_BIG) {\n                    if (dd[index].flags & DeltaType_1.DeltaType.DT_SIGNED) {\n                        let sign = bs.readBits(1) ? -1 : 1;\n                        let value = bs.readBits(dd[index].bits - 1);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = (sign * value) / divisor;\n                    }\n                    else {\n                        let value = bs.readBits(dd[index].bits);\n                        let divisor = dd[index].divisor;\n                        data[dd[index].name] = value / divisor;\n                    }\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_ANGLE) {\n                    let value = bs.readBits(dd[index].bits);\n                    let multiplier = 360 / (1 << dd[index].bits);\n                    data[dd[index].name] = value * multiplier;\n                }\n                else if (dd[index].flags & DeltaType_1.DeltaType.DT_STRING) {\n                    data[dd[index].name] = bs.readString();\n                }\n            }\n        }\n        if (brk) {\n            break;\n        }\n    }\n    return data;\n}\nconst initialDeltaDecoders = {\n    delta_description_t: [\n        {\n            name: 'flags',\n            bits: 32,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'name',\n            bits: 8,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_STRING\n        },\n        {\n            name: 'offset',\n            bits: 16,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'size',\n            bits: 8,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'bits',\n            bits: 8,\n            divisor: 1,\n            flags: DeltaType_1.DeltaType.DT_INTEGER\n        },\n        {\n            name: 'divisor',\n            bits: 32,\n            divisor: 4000,\n            flags: DeltaType_1.DeltaType.DT_FLOAT\n        },\n        {\n            name: 'preMultiplier',\n            bits: 32,\n            divisor: 4000,\n            flags: DeltaType_1.DeltaType.DT_FLOAT\n        }\n    ]\n};\nconst getInitialDeltaDecoders = () => (Object.assign({}, initialDeltaDecoders));\nexports.getInitialDeltaDecoders = getInitialDeltaDecoders;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplayPlayer = void 0;\nconst gl_matrix_1 = require(\"gl-matrix\");\nconst nanoevents_1 = require(\"nanoevents\");\nconst ReplayState_1 = require(\"./Replay/ReplayState\");\nconst ReplayCustomMap_1 = require(\"./Replay/ReplayCustomMap\");\nconst updateGame = (game, state) => {\n    game.camera.position[0] = state.cameraPos[0];\n    game.camera.position[1] = state.cameraPos[1];\n    game.camera.position[2] = state.cameraPos[2];\n    game.camera.rotation[0] = gl_matrix_1.glMatrix.toRadian(state.cameraRot[0]);\n    game.camera.rotation[1] = gl_matrix_1.glMatrix.toRadian(state.cameraRot[1]);\n    game.camera.rotation[2] = gl_matrix_1.glMatrix.toRadian(state.cameraRot[2]);\n};\nclass ReplayPlayer {\n    constructor(game) {\n        this.prevFrame = 0;\n        this.nextFrame = 0;\n        this.timeOffset = 0;\n        this.frameTime = 0;\n        this.currentFrame = 0;\n        this.currentTime = 0;\n        this.isPlaying = false;\n        this.isPaused = false;\n        this.speed = 1;\n        this.reset();\n        this.game = game;\n        this.state = new ReplayState_1.ReplayState();\n        this.replay = null;\n        this.events = (0, nanoevents_1.createNanoEvents)();\n    }\n    reset() {\n        this.nextFrame = 0;\n        this.prevFrame = 0;\n        this.frameTime = 0;\n        this.currentFrame = 0;\n        this.timeOffset = 0;\n        this.currentTime = 0;\n        this.isPlaying = false;\n        this.isPaused = false;\n        this.speed = 1;\n        if (this.replay) {\n            this.game.setTitle(this.replay.data.header.identifier + \" \" + this.replay.data.header.timestamp + \" \" + this.replay.data.header.additionalInfo);\n            let firstFrame = this.replay.data.frames[0];\n            let state = new ReplayState_1.ReplayState();\n            state.cameraPos = firstFrame.origin;\n            state.cameraRot = firstFrame.rotation;\n            this.state = state;\n            this.frameTime = (this.replay.data.time / this.replay.data.frames.length) / 1000;\n        }\n    }\n    changeReplay(replay) {\n        this.replay = replay;\n        this.reset();\n    }\n    play() {\n        if (!this.isPlaying) {\n            this.isPlaying = true;\n        }\n        else if (this.isPaused) {\n            this.isPaused = false;\n        }\n        this.events.emit('play');\n    }\n    pause() {\n        if (this.isPlaying) {\n            this.isPaused = true;\n        }\n        this.events.emit('pause');\n    }\n    stop() {\n        this.reset();\n        this.events.emit('stop');\n    }\n    speedUp() {\n        this.speed = Math.min(this.speed * 2, 1);\n    }\n    speedDown() {\n        this.speed = Math.max(this.speed / 2, 0.12);\n    }\n    seek(dt) {\n        if (this.currentFrame >= this.replay.data.frames.length - 1) {\n            this.reset();\n        }\n        dt *= this.speed;\n        this.currentTime += dt;\n        const frameDuration = this.frameTime;\n        this.timeOffset += dt;\n        if (this.timeOffset >= frameDuration) {\n            this.timeOffset -= frameDuration;\n            this.prevFrame = this.currentFrame;\n            this.nextFrame = this.currentFrame + 1;\n            this.currentFrame++;\n        }\n        if (this.currentFrame > 0) {\n            const t = this.timeOffset / frameDuration;\n            const prevFrameData = this.replay.data.frames[this.prevFrame];\n            const nextFrameData = this.replay.data.frames[this.nextFrame];\n            const interpolatedPos = new ReplayCustomMap_1.Vector3(prevFrameData.origin).lerp(new ReplayCustomMap_1.Vector3(nextFrameData.origin), t);\n            const interpolatedRot = [0, 0, 0];\n            interpolatedRot[0] = this.slerp(prevFrameData.rotation[0], nextFrameData.rotation[0], t);\n            interpolatedRot[1] = this.slerp(prevFrameData.rotation[1], nextFrameData.rotation[1], t);\n            interpolatedRot[2] = this.slerp(prevFrameData.rotation[2], nextFrameData.rotation[2], t);\n            this.state.cameraPos = interpolatedPos.vec;\n            this.state.cameraRot = interpolatedRot;\n            updateGame(this.game, this.state);\n        }\n    }\n    slerp(a, b, dt) {\n        a = a % 360;\n        b = b % 360;\n        const dist = this.getDist(a, b);\n        if (Math.abs(a - b) > 180) {\n            if (a < b) {\n                return (a + 180 - dist * dt + 360) % 360 - 180;\n            }\n            else {\n                return (a + 180 + dist * dt + 360) % 360 - 180;\n            }\n        }\n        else {\n            if (a < b) {\n                return (a + 180 + dist * dt + 360) % 360 - 180;\n            }\n            else {\n                return (a + 180 - dist * dt + 360) % 360 - 180;\n            }\n        }\n    }\n    getDist(a, b) {\n        const rawDiff = Math.abs(a - b);\n        return 180.0 - Math.abs(rawDiff - 180.0);\n    }\n    seekByPercent(value) {\n        value = Math.max(0, Math.min(value, 100)) / 100;\n        this.currentTime = this.replay.data.time * value / 1000;\n        this.currentFrame = Math.round(this.replay.data.frames.length * value);\n        this.prevFrame = this.currentFrame;\n        this.nextFrame = this.currentFrame;\n        this.state.cameraPos = this.replay.data.frames[this.currentFrame].origin;\n        this.state.cameraRot = this.replay.data.frames[this.currentFrame].rotation;\n        updateGame(this.game, this.state);\n    }\n    update(dt) {\n        if (!this.isPlaying || this.isPaused) {\n            return;\n        }\n        this.seek(dt);\n        let hitStop = false;\n        if (hitStop) {\n            this.stop();\n        }\n    }\n}\nexports.ReplayPlayer = ReplayPlayer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sound = void 0;\nconst SoundSystem_1 = require(\"./SoundSystem\");\nclass Sound {\n    constructor(buffer) {\n        this.index = -1;\n        this.name = '';\n        this.buffer = buffer;\n    }\n    static create(buffer) {\n        return new Promise((resolve, reject) => {\n            SoundSystem_1.SoundSystem.getContext().decodeAudioData(buffer, (buffer) => {\n                resolve(new Sound(buffer));\n            }, (err) => {\n                reject(err);\n            });\n        });\n    }\n}\nexports.Sound = Sound;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SoundSystem = void 0;\nconst nanoevents_1 = require(\"nanoevents\");\nconst wnd = window;\nconst polyfillAudioContext = wnd.AudioContext || wnd.webkitAudioContext;\nconst audioContext = new polyfillAudioContext();\nclass SoundSystem {\n    constructor() {\n        this.context = audioContext;\n        this.events = (0, nanoevents_1.createNanoEvents)();\n        const volume = parseFloat(localStorage.getItem('volume') || '0.3');\n        localStorage.setItem('volume', volume.toString());\n        this.channels = [];\n        this.preMuteVolume = 1;\n        this.masterGain = this.context.createGain();\n        this.masterGain.gain.value = volume;\n        this.masterGain.connect(this.context.destination);\n        for (let i = 0; i < 8; ++i) {\n            this.channels.push({\n                source: null,\n                gain: this.context.createGain()\n            });\n            this.channels[i].gain.connect(this.masterGain);\n        }\n    }\n    static getContext() {\n        return audioContext;\n    }\n    play(sound, channel, volume) {\n        this.stop(channel);\n        const gain = this.channels[channel].gain;\n        gain.gain.value = Math.max(0, Math.min(1, volume));\n        const source = this.context.createBufferSource();\n        source.buffer = sound.buffer;\n        source.connect(gain);\n        source.start(0);\n        this.channels[channel].source = source;\n    }\n    stop(channel) {\n        const source = this.channels[channel].source;\n        if (source) {\n            source.stop(0);\n        }\n    }\n    getVolume() {\n        return this.masterGain.gain.value;\n    }\n    setVolume(value) {\n        const current = this.masterGain.gain.value;\n        if (current > 0 && value === 0) {\n            this.preMuteVolume = current;\n        }\n        this.masterGain.gain.value = value;\n        localStorage.setItem('volume', value.toString());\n        this.events.emit('volumeChange', value);\n    }\n    toggleMute() {\n        if (this.getVolume() === 0) {\n            this.setVolume(this.preMuteVolume);\n        }\n        else {\n            this.setVolume(0);\n        }\n    }\n}\nexports.SoundSystem = SoundSystem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatTime = exports.now = void 0;\nconst wnd = window;\nlet _now;\nif (typeof performance !== 'undefined') {\n    if (performance.now()) {\n        _now = () => wnd.performance.now();\n    }\n    else if (wnd.performance.mozNow) {\n        _now = () => wnd.performance.mozNow();\n    }\n    else if (wnd.performance.msNow) {\n        _now = () => wnd.performance.msNow();\n    }\n    else if (wnd.performance.oNow) {\n        _now = () => wnd.performance.oNow();\n    }\n    else if (wnd.performance.webkitNow) {\n        _now = () => wnd.performance.webkitNow();\n    }\n    else if (Date.now) {\n        _now = () => Date.now();\n    }\n}\nexports.now = _now || (() => new Date().getTime());\nconst formatTime = (seconds) => {\n    const m = Math.floor(seconds / 60);\n    const s = Math.floor(seconds - m * 60);\n    const mm = m < 10 ? '0' + m : m.toString();\n    const ss = s < 10 ? '0' + s : s.toString();\n    return mm + ':' + ss;\n};\nexports.formatTime = formatTime;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.basename = basename;\nexports.extname = extname;\nfunction basename(path, extension) {\n    return path.slice(path.lastIndexOf('/') + 1).replace(extension || '', '');\n}\nfunction extname(path) {\n    const slashPos = path.lastIndexOf('/');\n    const dotPos = path.lastIndexOf('.');\n    if (slashPos < dotPos) {\n        return path.slice(dotPos);\n    }\n    else {\n        return '';\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.xhr = xhr;\nfunction xhr(url, params) {\n    let method = params.method || 'GET';\n    let isBinary = params.isBinary;\n    let progressCallback = params.progressCallback;\n    if (!url) {\n        throw new Error('Url parameter missing');\n    }\n    return new Promise((resolve, reject) => {\n        let request = new XMLHttpRequest();\n        if (isBinary) {\n            request.responseType = 'arraybuffer';\n        }\n        if (isBinary && progressCallback) {\n            request.addEventListener('progress', event => {\n                if (event.lengthComputable) {\n                    progressCallback(request, event.loaded / event.total);\n                }\n                else {\n                    let totalStr = request.getResponseHeader('content-length');\n                    let total = 0;\n                    if (totalStr) {\n                        total = parseFloat(totalStr);\n                    }\n                    let encoding = request.getResponseHeader('content-encoding');\n                    if (total && encoding && encoding.indexOf('gzip') > -1) {\n                        total *= 4;\n                        let loadedPercent = Math.min(0.99, event.loaded / total);\n                        progressCallback(request, loadedPercent);\n                    }\n                    else {\n                        progressCallback(request, 0);\n                    }\n                }\n            });\n        }\n        request.addEventListener('readystatechange', (event) => {\n            if (event.target.readyState !== 4) {\n                return;\n            }\n            if (event.target.status === 200) {\n                if (progressCallback) {\n                    progressCallback(request, 1);\n                }\n                resolve(event.target.response);\n            }\n            else {\n                reject({\n                    status: event.target.status\n                });\n            }\n        });\n        request.open(method, url, true);\n        request.send();\n    });\n}\n","\"use strict\";\nconst Game_1 = require(\"./Game\");\nconst Config_1 = require(\"./Config\");\nconst index_1 = require(\"./PlayerInterface/index\");\nclass HLV {\n    constructor(game) {\n        this.game = game;\n    }\n    load(name) {\n        this.game.load(name);\n    }\n    setTitle(title) {\n        this.game.setTitle(title);\n    }\n    getTitle() {\n        return this.game.getTitle();\n    }\n}\nHLV.VERSION = VERSION;\nvar HLViewer;\n(function (HLViewer) {\n    function init(rootSelector, params) {\n        const node = document.querySelector(rootSelector);\n        if (!node) {\n            return null;\n        }\n        const config = Config_1.Config.init(params);\n        const result = Game_1.Game.init(config);\n        if (result.status === 'success') {\n            const game = result.game;\n            const ui = new index_1.PlayerInterface(game, node);\n            ui.draw();\n            game.draw();\n            return new HLV(game);\n        }\n        return null;\n    }\n    HLViewer.init = init;\n})(HLViewer || (HLViewer = {}));\nmodule.exports = HLViewer;\n","/**\n * The unique id is used for unique hashes.\n */\nlet uniqueId = 0;\n/**\n * Quick dictionary lookup for unit-less numbers.\n */\nconst CSS_NUMBER = Object.create(null);\n/**\n * CSS properties that are valid unit-less numbers.\n *\n * Ref: https://github.com/facebook/react/blob/master/packages/react-dom/src/shared/CSSProperty.js\n */\nconst CSS_NUMBER_KEYS = [\n    \"animation-iteration-count\",\n    \"border-image-outset\",\n    \"border-image-slice\",\n    \"border-image-width\",\n    \"box-flex\",\n    \"box-flex-group\",\n    \"box-ordinal-group\",\n    \"column-count\",\n    \"columns\",\n    \"counter-increment\",\n    \"counter-reset\",\n    \"flex\",\n    \"flex-grow\",\n    \"flex-positive\",\n    \"flex-shrink\",\n    \"flex-negative\",\n    \"flex-order\",\n    \"font-weight\",\n    \"grid-area\",\n    \"grid-column\",\n    \"grid-column-end\",\n    \"grid-column-span\",\n    \"grid-column-start\",\n    \"grid-row\",\n    \"grid-row-end\",\n    \"grid-row-span\",\n    \"grid-row-start\",\n    \"line-clamp\",\n    \"line-height\",\n    \"opacity\",\n    \"order\",\n    \"orphans\",\n    \"tab-size\",\n    \"widows\",\n    \"z-index\",\n    \"zoom\",\n    // SVG properties.\n    \"fill-opacity\",\n    \"flood-opacity\",\n    \"stop-opacity\",\n    \"stroke-dasharray\",\n    \"stroke-dashoffset\",\n    \"stroke-miterlimit\",\n    \"stroke-opacity\",\n    \"stroke-width\"\n];\n// Add vendor prefixes to all unit-less properties.\nfor (const property of CSS_NUMBER_KEYS) {\n    for (const prefix of [\"-webkit-\", \"-ms-\", \"-moz-\", \"-o-\", \"\"]) {\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Escape a CSS class name.\n */\nfunction escape(str) {\n    return str.replace(/[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g, \"\\\\$&\");\n}\n/**\n * Transform a JavaScript property into a CSS property.\n */\nfunction hyphenate(propertyName) {\n    return propertyName\n        .replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`)\n        .replace(/^ms-/, \"-ms-\"); // Internet Explorer vendor prefix.\n}\n/**\n * Generate a hash value from a string.\n */\nfunction stringHash(str) {\n    let value = 5381;\n    let len = str.length;\n    while (len--)\n        value = (value * 33) ^ str.charCodeAt(len);\n    return (value >>> 0).toString(36);\n}\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(key, value) {\n    if (value && typeof value === \"number\" && !CSS_NUMBER[key]) {\n        return `${key}:${value}px`;\n    }\n    return `${key}:${value}`;\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort((a, b) => (a[0] > b[0] ? 1 : -1));\n}\n/**\n * Categorize user styles.\n */\nfunction parseStyles(styles, hasNestedStyles) {\n    const properties = [];\n    const nestedStyles = [];\n    // Sort keys before adding to styles.\n    for (const key of Object.keys(styles)) {\n        const name = key.trim();\n        const value = styles[key];\n        if (name.charCodeAt(0) !== 36 /* $ */ && value != null) {\n            if (typeof value === \"object\" && !Array.isArray(value)) {\n                nestedStyles.push([name, value]);\n            }\n            else {\n                properties.push([hyphenate(name), value]);\n            }\n        }\n    }\n    return {\n        style: stringifyProperties(sortTuples(properties)),\n        nested: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: !!styles.$unique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    return properties\n        .map(([name, value]) => {\n        if (!Array.isArray(value))\n            return styleToString(name, value);\n        return value.map(x => styleToString(name, x)).join(\";\");\n    })\n        .join(\";\");\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf(\"&\") === -1)\n        return `${parent} ${selector}`;\n    return selector.replace(/&/g, parent);\n}\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize(selector, styles, rulesList, stylesList, parent) {\n    const { style, nested, isUnique } = parseStyles(styles, selector !== \"\");\n    let pid = style;\n    if (selector.charCodeAt(0) === 64 /* @ */) {\n        const child = {\n            selector,\n            styles: [],\n            rules: [],\n            style: parent ? \"\" : style\n        };\n        rulesList.push(child);\n        // Nested styles support (e.g. `.foo > @media > .bar`).\n        if (style && parent) {\n            child.styles.push({ selector: parent, style, isUnique });\n        }\n        for (const [name, value] of nested) {\n            pid += name + stylize(name, value, child.rules, child.styles, parent);\n        }\n    }\n    else {\n        const key = parent ? interpolate(selector, parent) : selector;\n        if (style)\n            stylesList.push({ selector: key, style, isUnique });\n        for (const [name, value] of nested) {\n            pid += name + stylize(name, value, rulesList, stylesList, key);\n        }\n    }\n    return pid;\n}\n/**\n * Transform `stylize` tree into style objects.\n */\nfunction composeStylize(cache, pid, rulesList, stylesList, className, isStyle) {\n    for (const { selector, style, isUnique } of stylesList) {\n        const key = isStyle ? interpolate(selector, className) : selector;\n        const id = isUnique\n            ? `u\\0${(++uniqueId).toString(36)}`\n            : `s\\0${pid}\\0${style}`;\n        const item = new Style(style, id);\n        item.add(new Selector(key, `k\\0${pid}\\0${key}`));\n        cache.add(item);\n    }\n    for (const { selector, style, rules, styles } of rulesList) {\n        const item = new Rule(selector, style, `r\\0${pid}\\0${selector}\\0${style}`);\n        composeStylize(item, pid, rules, styles, className, isStyle);\n        cache.add(item);\n    }\n}\n/**\n * Cache to list to styles.\n */\nfunction join(arr) {\n    let res = \"\";\n    for (let i = 0; i < arr.length; i++)\n        res += arr[i];\n    return res;\n}\n/**\n * Noop changes.\n */\nconst noopChanges = {\n    add: () => undefined,\n    change: () => undefined,\n    remove: () => undefined\n};\n/**\n * Implement a cache/event emitter.\n */\nexport class Cache {\n    constructor(changes = noopChanges) {\n        this.changes = changes;\n        this.sheet = [];\n        this.changeId = 0;\n        this._keys = [];\n        this._children = Object.create(null);\n        this._counters = Object.create(null);\n    }\n    add(style) {\n        const count = this._counters[style.id] || 0;\n        const item = this._children[style.id] || style.clone();\n        this._counters[style.id] = count + 1;\n        if (count === 0) {\n            this._children[item.id] = item;\n            this._keys.push(item.id);\n            this.sheet.push(item.getStyles());\n            this.changeId++;\n            this.changes.add(item, this._keys.length - 1);\n        }\n        else if (item instanceof Cache && style instanceof Cache) {\n            const curIndex = this._keys.indexOf(style.id);\n            const prevItemChangeId = item.changeId;\n            item.merge(style);\n            if (item.changeId !== prevItemChangeId) {\n                this.sheet.splice(curIndex, 1, item.getStyles());\n                this.changeId++;\n                this.changes.change(item, curIndex, curIndex);\n            }\n        }\n    }\n    remove(style) {\n        const count = this._counters[style.id];\n        if (count) {\n            this._counters[style.id] = count - 1;\n            const item = this._children[style.id];\n            const index = this._keys.indexOf(item.id);\n            if (count === 1) {\n                delete this._counters[style.id];\n                delete this._children[style.id];\n                this._keys.splice(index, 1);\n                this.sheet.splice(index, 1);\n                this.changeId++;\n                this.changes.remove(item, index);\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                const prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.sheet.splice(index, 1, item.getStyles());\n                    this.changeId++;\n                    this.changes.change(item, index, index);\n                }\n            }\n        }\n    }\n    values() {\n        return this._keys.map(key => this._children[key]);\n    }\n    merge(cache) {\n        for (const item of cache.values())\n            this.add(item);\n        return this;\n    }\n    unmerge(cache) {\n        for (const item of cache.values())\n            this.remove(item);\n        return this;\n    }\n    clone() {\n        return new Cache().merge(this);\n    }\n}\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nexport class Selector {\n    constructor(selector, id) {\n        this.selector = selector;\n        this.id = id;\n    }\n    getStyles() {\n        return this.selector;\n    }\n    clone() {\n        return this;\n    }\n}\n/**\n * The style container registers a style string with selectors.\n */\nexport class Style extends Cache {\n    constructor(style, id) {\n        super();\n        this.style = style;\n        this.id = id;\n    }\n    getStyles() {\n        return `${this.sheet.join(\",\")}{${this.style}}`;\n    }\n    clone() {\n        return new Style(this.style, this.id).merge(this);\n    }\n}\n/**\n * Implement rule logic for style output.\n */\nexport class Rule extends Cache {\n    constructor(rule, style, id) {\n        super();\n        this.rule = rule;\n        this.style = style;\n        this.id = id;\n    }\n    getStyles() {\n        return `${this.rule}{${this.style}${join(this.sheet)}}`;\n    }\n    clone() {\n        return new Rule(this.rule, this.style, this.id).merge(this);\n    }\n}\nfunction key(pid, styles) {\n    const key = `f${stringHash(pid)}`;\n    if (process.env.NODE_ENV === \"production\" || !styles.$displayName)\n        return key;\n    return `${styles.$displayName}_${key}`;\n}\n/**\n * The FreeStyle class implements the API for everything else.\n */\nexport class FreeStyle extends Cache {\n    constructor(id, changes) {\n        super(changes);\n        this.id = id;\n    }\n    registerStyle(styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(\"&\", styles, rulesList, stylesList);\n        const id = key(pid, styles);\n        const selector = `.${process.env.NODE_ENV === \"production\" ? id : escape(id)}`;\n        composeStylize(this, pid, rulesList, stylesList, selector, true);\n        return id;\n    }\n    registerKeyframes(keyframes) {\n        return this.registerHashRule(\"@keyframes\", keyframes);\n    }\n    registerHashRule(prefix, styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(\"\", styles, rulesList, stylesList);\n        const id = key(pid, styles);\n        const selector = `${prefix} ${process.env.NODE_ENV === \"production\" ? id : escape(id)}`;\n        const rule = new Rule(selector, \"\", `h\\0${pid}\\0${prefix}`);\n        composeStylize(rule, pid, rulesList, stylesList, \"\", false);\n        this.add(rule);\n        return id;\n    }\n    registerRule(rule, styles) {\n        const rulesList = [];\n        const stylesList = [];\n        const pid = stylize(rule, styles, rulesList, stylesList);\n        composeStylize(this, pid, rulesList, stylesList, \"\", false);\n    }\n    registerCss(styles) {\n        return this.registerRule(\"\", styles);\n    }\n    getStyles() {\n        return join(this.sheet);\n    }\n    clone() {\n        return new FreeStyle(this.id, this.changes).merge(this);\n    }\n}\n/**\n * Exports a simple function to create a new instance.\n */\nexport function create(changes) {\n    return new FreeStyle(`f${(++uniqueId).toString(36)}`, changes);\n}\n//# sourceMappingURL=index.js.map","/**\n * We need to do the following to *our* objects before passing to freestyle:\n * - For any `$nest` directive move up to FreeStyle style nesting\n * - For any `$unique` directive map to FreeStyle Unique\n * - For any `$debugName` directive return the debug name\n */\nexport function convertToStyles(object) {\n    /** The final result we will return */\n    var styles = {};\n    for (var key in object) {\n        /** Grab the value upfront */\n        var val = object[key];\n        /** TypeStyle configuration options */\n        if (key === '$nest') {\n            var nested = val;\n            for (var selector in nested) {\n                var subproperties = nested[selector];\n                styles[selector] = convertToStyles(subproperties);\n            }\n        }\n        else if (key === '$debugName') {\n            styles.$displayName = val;\n        }\n        else {\n            styles[key] = val;\n        }\n    }\n    return styles;\n}\n// todo: better name here\nexport function convertToKeyframes(frames) {\n    var result = {};\n    for (var offset in frames) {\n        if (offset !== '$debugName') {\n            result[offset] = frames[offset];\n        }\n    }\n    if (frames.$debugName) {\n        result.$displayName = frames.$debugName;\n    }\n    return result;\n}\n","/** Raf for node + browser */\nexport var raf = typeof requestAnimationFrame === 'undefined'\n    /**\n     * Make sure setTimeout is always invoked with\n     * `this` set to `window` or `global` automatically\n     **/\n    ? function (cb) { return setTimeout(cb); }\n    /**\n     * Make sure window.requestAnimationFrame is always invoked with `this` window\n     * We might have raf without window in case of `raf/polyfill` (recommended by React)\n     **/\n    : typeof window === 'undefined'\n        ? requestAnimationFrame\n        : requestAnimationFrame.bind(window);\n/**\n * Utility to join classes conditionally\n */\nexport function classes() {\n    var classes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classes[_i] = arguments[_i];\n    }\n    return classes\n        .map(function (c) { return c && typeof c === 'object' ? Object.keys(c).map(function (key) { return !!c[key] && key; }) : [c]; })\n        .reduce(function (flattened, c) { return flattened.concat(c); }, [])\n        .filter(function (c) { return !!c; })\n        .join(' ');\n}\n/**\n * Merges various styles into a single style object.\n * Note: if two objects have the same property the last one wins\n */\nexport function extend() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    /** The final result we will return */\n    var result = {};\n    for (var _a = 0, objects_1 = objects; _a < objects_1.length; _a++) {\n        var object = objects_1[_a];\n        if (object == null || object === false) {\n            continue;\n        }\n        for (var key in object) {\n            /** Falsy values except a explicit 0 is ignored */\n            var val = object[key];\n            if (!val && val !== 0) {\n                continue;\n            }\n            /** if nested media or pseudo selector */\n            if (key === '$nest' && val) {\n                result[key] = result['$nest'] ? extend(result['$nest'], val) : val;\n            }\n            /** if freestyle sub key that needs merging. We come here due to our recursive calls */\n            else if ((key.indexOf('&') !== -1 || key.indexOf('@media') === 0)) {\n                result[key] = result[key] ? extend(result[key], val) : val;\n            }\n            else {\n                result[key] = val;\n            }\n        }\n    }\n    return result;\n}\n/**\n * Utility to help customize styles with media queries. e.g.\n * ```\n * style(\n *  media({maxWidth:500}, {color:'red'})\n * )\n * ```\n */\nexport var media = function (mediaQuery) {\n    var _a;\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    var mediaQuerySections = [];\n    if (mediaQuery.type)\n        mediaQuerySections.push(mediaQuery.type);\n    if (mediaQuery.orientation)\n        mediaQuerySections.push(\"(orientation: \" + mediaQuery.orientation + \")\");\n    if (mediaQuery.minWidth)\n        mediaQuerySections.push(\"(min-width: \" + mediaLength(mediaQuery.minWidth) + \")\");\n    if (mediaQuery.maxWidth)\n        mediaQuerySections.push(\"(max-width: \" + mediaLength(mediaQuery.maxWidth) + \")\");\n    if (mediaQuery.minHeight)\n        mediaQuerySections.push(\"(min-height: \" + mediaLength(mediaQuery.minHeight) + \")\");\n    if (mediaQuery.maxHeight)\n        mediaQuerySections.push(\"(max-height: \" + mediaLength(mediaQuery.maxHeight) + \")\");\n    if (mediaQuery.prefersColorScheme)\n        mediaQuerySections.push(\"(prefers-color-scheme: \" + mediaQuery.prefersColorScheme + \")\");\n    var stringMediaQuery = \"@media \" + mediaQuerySections.join(' and ');\n    var object = {\n        $nest: (_a = {},\n            _a[stringMediaQuery] = extend.apply(void 0, objects),\n            _a)\n    };\n    return object;\n};\nvar mediaLength = function (value) {\n    return typeof value === 'string' ? value : value + \"px\";\n};\n","import * as FreeStyle from \"free-style\";\nimport { convertToStyles, convertToKeyframes } from './formatting';\nimport { extend, raf } from './utilities';\n/**\n * Creates an instance of free style with our options\n */\nvar createFreeStyle = function () { return FreeStyle.create(); };\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\nvar TypeStyle = /** @class */ (function () {\n    function TypeStyle(_a) {\n        var _this = this;\n        var autoGenerateTag = _a.autoGenerateTag;\n        /**\n         * Insert `raw` CSS as a string. This is useful for e.g.\n         * - third party CSS that you are customizing with template strings\n         * - generating raw CSS in JavaScript\n         * - reset libraries like normalize.css that you can use without loaders\n         */\n        this.cssRaw = function (mustBeValidCSS) {\n            if (!mustBeValidCSS) {\n                return;\n            }\n            _this._raw += mustBeValidCSS || '';\n            _this._pendingRawChange = true;\n            _this._styleUpdated();\n        };\n        /**\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n         */\n        this.cssRule = function (selector) {\n            var objects = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                objects[_i - 1] = arguments[_i];\n            }\n            var styles = convertToStyles(extend.apply(void 0, objects));\n            _this._freeStyle.registerRule(selector, styles);\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Renders styles to the singleton tag imediately\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n         **/\n        this.forceRenderStyles = function () {\n            var target = _this._getTag();\n            if (!target) {\n                return;\n            }\n            target.textContent = _this.getStyles();\n        };\n        /**\n         * Utility function to register an @font-face\n         */\n        this.fontFace = function () {\n            var fontFace = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fontFace[_i] = arguments[_i];\n            }\n            var freeStyle = _this._freeStyle;\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n                var face = _b[_a];\n                freeStyle.registerRule('@font-face', face);\n            }\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Allows use to use the stylesheet in a node.js environment\n         */\n        this.getStyles = function () {\n            return (_this._raw || '') + _this._freeStyle.getStyles();\n        };\n        /**\n         * Takes keyframes and returns a generated animationName\n         */\n        this.keyframes = function (frames) {\n            var keyframes = convertToKeyframes(frames);\n            // TODO: replace $debugName with display name\n            var animationName = _this._freeStyle.registerKeyframes(keyframes);\n            _this._styleUpdated();\n            return animationName;\n        };\n        /**\n         * Helps with testing. Reinitializes FreeStyle + raw\n         */\n        this.reinit = function () {\n            /** reinit freestyle */\n            var freeStyle = createFreeStyle();\n            _this._freeStyle = freeStyle;\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\n            /** reinit raw */\n            _this._raw = '';\n            _this._pendingRawChange = false;\n            /** Clear any styles that were flushed */\n            var target = _this._getTag();\n            if (target) {\n                target.textContent = '';\n            }\n        };\n        /** Sets the target tag where we write the css on style updates */\n        this.setStylesTarget = function (tag) {\n            /** Clear any data in any previous tag */\n            if (_this._tag) {\n                _this._tag.textContent = '';\n            }\n            _this._tag = tag;\n            /** This special time buffer immediately */\n            _this.forceRenderStyles();\n        };\n        /**\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\n         * returns an object where property names are the same ideal class names and the property values are\n         * the actual generated class names using the ideal class name as the $debugName\n         */\n        this.stylesheet = function (classes) {\n            var classNames = Object.getOwnPropertyNames(classes);\n            var result = {};\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n                var className = classNames_1[_i];\n                var classDef = classes[className];\n                if (classDef) {\n                    classDef.$debugName = className;\n                    result[className] = _this.style(classDef);\n                }\n            }\n            return result;\n        };\n        var freeStyle = createFreeStyle();\n        this._autoGenerateTag = autoGenerateTag;\n        this._freeStyle = freeStyle;\n        this._lastFreeStyleChangeId = freeStyle.changeId;\n        this._pending = 0;\n        this._pendingRawChange = false;\n        this._raw = '';\n        this._tag = undefined;\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n        this.style = this.style.bind(this);\n    }\n    /**\n     * Only calls cb all sync operations settle\n     */\n    TypeStyle.prototype._afterAllSync = function (cb) {\n        var _this = this;\n        this._pending++;\n        var pending = this._pending;\n        raf(function () {\n            if (pending !== _this._pending) {\n                return;\n            }\n            cb();\n        });\n    };\n    TypeStyle.prototype._getTag = function () {\n        if (this._tag) {\n            return this._tag;\n        }\n        if (this._autoGenerateTag) {\n            var tag = typeof window === 'undefined'\n                ? { textContent: '' }\n                : document.createElement('style');\n            if (typeof document !== 'undefined') {\n                document.head.appendChild(tag);\n            }\n            this._tag = tag;\n            return tag;\n        }\n        return undefined;\n    };\n    /** Checks if the style tag needs updating and if so queues up the change */\n    TypeStyle.prototype._styleUpdated = function () {\n        var _this = this;\n        var changeId = this._freeStyle.changeId;\n        var lastChangeId = this._lastFreeStyleChangeId;\n        if (!this._pendingRawChange && changeId === lastChangeId) {\n            return;\n        }\n        this._lastFreeStyleChangeId = changeId;\n        this._pendingRawChange = false;\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\n    };\n    TypeStyle.prototype.style = function () {\n        var className = this._freeStyle.registerStyle(convertToStyles(extend.apply(undefined, arguments)));\n        this._styleUpdated();\n        return className;\n    };\n    return TypeStyle;\n}());\nexport { TypeStyle };\n","import { TypeStyle } from './internal/typestyle';\nexport { TypeStyle };\n/**\n * All the CSS types in the 'types' namespace\n */\nimport * as types from './types';\nexport { types };\n/**\n * Export certain utilities\n */\nexport { extend, classes, media } from './internal/utilities';\n/** Zero configuration, default instance of TypeStyle */\nvar ts = new TypeStyle({ autoGenerateTag: true });\n/** Sets the target tag where we write the css on style updates */\nexport var setStylesTarget = ts.setStylesTarget;\n/**\n * Insert `raw` CSS as a string. This is useful for e.g.\n * - third party CSS that you are customizing with template strings\n * - generating raw CSS in JavaScript\n * - reset libraries like normalize.css that you can use without loaders\n */\nexport var cssRaw = ts.cssRaw;\n/**\n * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n */\nexport var cssRule = ts.cssRule;\n/**\n * Renders styles to the singleton tag imediately\n * NOTE: You should only call it on initial render to prevent any non CSS flash.\n * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n **/\nexport var forceRenderStyles = ts.forceRenderStyles;\n/**\n * Utility function to register an @font-face\n */\nexport var fontFace = ts.fontFace;\n/**\n * Allows use to use the stylesheet in a node.js environment\n */\nexport var getStyles = ts.getStyles;\n/**\n * Takes keyframes and returns a generated animationName\n */\nexport var keyframes = ts.keyframes;\n/**\n * Helps with testing. Reinitializes FreeStyle + raw\n */\nexport var reinit = ts.reinit;\n/**\n * Takes CSSProperties and return a generated className you can use on your component\n */\nexport var style = ts.style;\n/**\n * Takes an object where property names are ideal class names and property values are CSSProperties, and\n * returns an object where property names are the same ideal class names and the property values are\n * the actual generated class names using the ideal class name as the $debugName\n */\nexport var stylesheet = ts.stylesheet;\n/**\n * Creates a new instance of TypeStyle separate from the default instance.\n *\n * - Use this for creating a different typestyle instance for a shadow dom component.\n * - Use this if you don't want an auto tag generated and you just want to collect the CSS.\n *\n * NOTE: styles aren't shared between different instances.\n */\nexport function createTypeStyle(target) {\n    var instance = new TypeStyle({ autoGenerateTag: false });\n    if (target) {\n        instance.setStylesTarget(target);\n    }\n    return instance;\n}\n","export let createNanoEvents = () => ({\n  emit(event, ...args) {\n    for (\n      let i = 0,\n        callbacks = this.events[event] || [],\n        length = callbacks.length;\n      i < length;\n      i++\n    ) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    ;(this.events[event] ||= []).push(cb)\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(8156);\n"],"names":["root","factory","exports","module","define","amd","self","EPSILON","ARRAY_TYPE","Float32Array","Array","RANDOM","Math","random","setMatrixArrayType","type","degree","PI","toRadian","a","equals","b","abs","max","create","out","clone","copy","identity","fromValues","m00","m01","m10","m11","set","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","s","sin","c","cos","scale","v","v0","v1","fromRotation","fromScaling","str","frob","hypot","LDU","L","D","U","add","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","y","i","arguments","length","sqrt","mul","sub","d","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","x","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","width","height","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","t","len","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspectiveNO","fovy","aspect","f","tan","Infinity","perspective","perspectiveZO","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","orthoNO","lr","bt","ortho","orthoZO","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","target","a9","a14","a15","b9","b13","b14","b15","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","r","zScale","transformMat4","m","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","p","angle","mag","cosine","acos","zero","vec","div","dist","sqrDist","sqrLen","forEach","stride","offset","count","fn","arg","l","dot","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fRoot","fTrace","j","k","fromEuler","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","rotationTo","sqlerp","setAxes","view","dq","w1","fromRotationTranslationValues","outer","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","transformMat2","transformMat2d","p0","p1","sinC","cosC","n","e","h","isArray","parentNode","removeChild","_","children","call","defaultProps","g","props","key","ref","__k","__","__b","__e","__d","__c","constructor","__v","__i","__u","vnode","current","this","context","base","M","push","P","__r","debounceRendering","sort","shift","__P","O","__n","namespaceURI","$","N","nextSibling","String","V","contains","insertBefore","nodeType","some","T","setProperty","test","style","cssText","replace","toLowerCase","slice","addEventListener","removeEventListener","removeAttribute","setAttribute","event","prototype","render","contextType","value","__E","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","indexOf","diffed","localName","document","createTextNode","createElementNS","is","data","childNodes","attributes","name","__html","innerHTML","unmount","componentWillUnmount","firstChild","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","Object","defineProperty","BitStream","BitView","buffer","Uint8Array","byteLength","getBits","bits","signed","Error","remaining","bitOffset","currentByte","read","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","scratch","setUint32","getFloat64","DataView","ArrayBuffer","source","index","readBits","val","readInt8","readUint8","readInt16","readUint16","readInt32","readUint32","readFloat32","readFloat64","readString","bytes","utf8","chars","append","string","fromCharCode","apply","decodeURIComponent","Bsp","entities","textures","models","lightmap","skies","sprites","Config","init","params","paths","replays","maps","wads","sounds","assign","getBasePath","getReplaysPath","getMapsPath","getWadsPath","getSkiesPath","getSoundsPath","Fullscreen","apis","enabled","element","request","exit","change","error","apiIdx","doc","isInFullscreen","enter","node","onChange","callback","window","onChangeRemove","onError","Game","PlayerMode","nanoevents_1","Time","Loader_1","Mouse_1","Touch_1","Camera_1","Keyboard_1","SoundSystem_1","Context_1","ReplayPlayer_1","Renderer_1","SkyScene_1","WorldScene_1","config","Context","checkWebGLSupport","hasSupport","status","message","canvas","createElement","renderer","Renderer","worldScene","WorldScene","skyScene","SkyScene","game","pauseTime","isPaused","lastTime","accumTime","timeStep","title","pointerLocked","touch","Touch","mouse","Mouse","keyboard","Keyboard","onLoadAll","loader","replay","changeReplay","changeMode","REPLAY","map","skiesValid","sky","isDone","entries","item","sound","changeMap","events","emit","draw","requestAnimationFrame","parent","parentElement","pw","clientWidth","ph","clientHeight","camera","updateProjectionMatrix","gl","viewport","drawingBufferWidth","drawingBufferHeight","currTime","now","dt","update","mapName","onTouchStart","touches","pressed","position","clientX","clientY","onTouchEnd","delta","onTouchMove","onMouseMove","movementX","movementY","pageX","pageY","keyDown","keys","which","preventDefault","keyUp","onVisibilityChange","hidden","soundSystem","SoundSystem","Loader","on","Camera","mode","FREE","player","ReplayPlayer","createNanoEvents","getCanvas","load","spawn","find","origin","rotation","setTitle","getTitle","ds","KEY_W","KEYS","W","KEY_S","KEY_A","KEY_D","downKey","upKey","SPACE","gl_matrix_1","projectionMatrix","mat4","glMatrix","viewMatrix","vec3","updateViewMatrix","ShaderType","getContext","alpha","console","MESSAGES","WebGLRenderingContext","createProgram","program","vertexShader","createShader","vertexShaderSrc","VERTEX","fragmentShader","fragmentShaderSrc","FRAGMENT","attachShader","linkProgram","validateProgram","getProgramParameter","LINK_STATUS","deleteProgram","deleteShader","reason","getProgramInfoLog","VALIDATE_STATUS","useProgram","attributeNames","attr","getAttribLocation","uniforms","uniformNames","uniform","getUniformLocation","handle","shader","VERTEX_SHADER","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getAnisotropyExtension","getExtension","getMaxAnisotropy","extension","getParameter","MAX_TEXTURE_MAX_ANISOTROPY_EXT","clearColor","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","CULL_FACE","cullFace","FRONT","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","SkyShader_1","SkyShader","vertexBuffer","indexBuffer","texture","isReady","bsp","createBuffer","createTexture","indices","vertices","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","enableVertexAttribArray","ELEMENT_ARRAY_BUFFER","ctx","coords","rt","dn","ft","lf","bk","smc","smctx","imageData","getImageData","putImageData","side","drawImage","pixelData","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","generateMipmap","texParameteri","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","texParameterf","TEXTURE_MAG_FILTER","LINEAR","anisotropy","TEXTURE_MAX_ANISOTROPY_EXT","enableVertexAttribs","setVertexAttribPointers","setDiffuse","setViewMatrix","setProjectionMatrix","drawElements","TRIANGLES","aPosition","aTexCoord","uViewMx","uProjectionMx","uDiffuse","matrix","uniformMatrix4fv","uniform1i","vertexAttribPointer","FLOAT","nextPowerOfTwo","isPowerOfTwo","resizeTexture","pixels","newWidth","newHeight","nc","nctx","cid","createImageData","size","WorldShader_1","BspEntityParser_1","Sprite_1","Util_1","MainShader","modelMatrix","sceneInfo","fillBuffer","loadTextures","loadSpriteTextures","loadLightmap","INVISIBLE_TEXTURES","model","faces","textureIndex","currentVertex","modelInfo","isTransparent","faceInfo","sortedSceneInfo","face","newOffset","newFaces","currentTextureIndex","glTexture","nw","nh","sprite","frames","glLightmap","setLightmap","activeTexture","TEXTURE1","TEXTURE0","opaqueEntities","transparentEntities","rendermode","RenderMode","Normal","Solid","Additive","parseInt","substr","setOpacity","renderWorldSpawn","renderOpaqueEntities","depthMask","renderTransparentEntities","setModelMatrix","drawArrays","mmx","entity","modelIndex","angles","modelOrigin","header","SpriteType","VP_PARALLEL_UPRIGHT","FACING_UPRIGHT","VP_PARALLEL","ORIENTED","VP_PARALLEL_ORIENTED","renderamt","Color","Texture","Glow","DST_ALPHA","entityDistances","aTexCoord2","uModelMx","uLightmap","uOpacity","uniform1f","charCodeAt","click","leftClick","rightClick","vec2","__awaiter","thisArg","_arguments","generator","reject","fulfilled","step","next","rejected","result","done","Sound_1","Tga_1","Wad_1","Replay_1","Xhr_1","BspParser_1","LoadItemStatus","LoadItemBase","progress","Loading","isLoading","skip","Skipped","isSkipped","isError","Done","LoadItemReplay","super","LoadItemBsp","LoadItemSky","LoadItemWad","LoadItemSound","LoadItemSprite","undefined","err","checkStatus","extname","loadReplay","loadMap","replayPath","xhr","method","isBinary","progressCallback","_1","catch","Replay","parseCustomFile","mapsPath","BspParser","parse","filter","pos","arr","loadSprite","skyname","loadSky","isExternal","wadPromises","wad","loadWad","all","Sprite","skiesPath","skyImage","Tga","wadItem","wadsPath","Wad","entry","loadSound","soundsPath","Sound","WorldSpawnStartDark","WorldSpawnGameTitle","WorldSpawnNewUnit","WorldSpawnDefaultTeam","AiScriptedSequenceMoveTo","AiScriptedSequenceFinishSchedule","AiScriptedSequenceSpawnflags","AmbientGenericPreset","AmbientGenericSpawnFlags","ButtonTargetSpawnFlags","CyclerWeaponTriggerCondition","EnvBeamSpawnFlags","ZHLTLightFlags","RenderEffect","BspEntityParser","parseNumberArray","split","parseFloat","parsers","worldspawn","classname","mapversion","maxRange","MaxRange","light","waveHeight","WaveHeight","startDark","startdark","newUnit","newunit","defaultTeam","defaultteam","gameTitle","gametitle","aiscripted_sequence","spawnflags","m_iszEntity","m_iszPlay","m_flRadius","m_flRepeat","m_fMoveTo","m_iFinishSchedule","ambient_generic","targetName","targetname","health","preset","startVolume","volstart","fadeIn","fadein","fadeOut","fadeout","pitch","pitchStart","pitchstart","spinUp","spinup","spinDown","spindown","lfoType","lfotype","lfoRate","lforate","lfoModPitch","lfomodpitch","lfoModVolume","lfomodvolume","cSpinUp","cspinup","spawnFlags","ammo_357","delay","killTarget","killtarget","ammo_9mmAR","ammo_9mmbox","ammo_9mmclip","ammo_ARgrenades","ammo_buckshot","ammo_crossbow","ammo_gaussclip","ammo_rpgclip","button_target","master","renderEffect","renderfx","renderMode","renderAmmount","renderColor","rendercolor","zhltLightFlags","zhlt_lightflags","lightOrigin","light_origin","cycler","sequence","cycler_sprite","framerate","cyclear_weapon","triggerTarget","TriggerTarget","triggerCondition","TriggerCondition","cyclear_wreckage","env_beam","radius","Radius","life","boltWidth","BoltWidth","noiseAmplitude","NoiseAmplitude","textureScroll","TextureScroll","frameRate","frameStart","framestart","strikeTime","StrikeTime","damage","originalClassname","BspLightmapParser","block","Uint16Array","TEXTURE_SIZE","getTexture","processFace","faceData","texinfo","getDimensions","rect","readLightmap","lu","sShift","minU","lv","tShift","minV","maxU","maxV","findFreeSpace","bestHeight","tentativeHeight","BspLumpIndex","parseModels","Vdf_1","Bsp_1","Reader_1","BspLightmapParser_1","Util_2","edges","surfEdges","parsedModels","_faces","uv0","uv1","uv2","luv0","luv1","luv2","maxs","mins","firstFace","faceCount","edgeCount","faceTexInfo","textureInfo","faceTexture","faceSurfEdges","firstEdge","v0idx","v1idx","compIndex","v2idx","flags","lightmapOffset","Reader","ui","lumps","loadEntities","Entities","Textures","loadModels","Models","loadFaces","Faces","loadEdges","Edges","loadSurfEdges","SurfEdges","loadVertices","Vertices","loadTexInfo","TexInfo","Lighting","parsedLightmap","seek","plane","us","planeSide","styles","ub","headNodes","visLeaves","arrx","ReaderDataType","UByte","loadTextureData","nstr","pixelCount","palette","paletteWithLastTransToRGBA","paletteToRGBA","offsets","vdf","VECTOR_ATTRS","NUMBER_ATTRS","worldSpawn","basename","Number","SpriteSyncType","SpriteAlphaType","version","alphaType","frameCount","beamLength","syncType","paletteSize","frame","group","SPR_ALPHTEST","idLength","colorMapType","imageType","colorMap","firstEntryIndex","image","xOrigin","yOrigin","depth","descriptor","byteCount","temp","dst","repCount","bl","gr","rd","rgba","input","objects","parseEntry","metadata","parseDecal","_r","parseCache","parseTexture","rowCount","rowHeight","glyphs","glyphOffset","glyphWidth","parseFont","parseUnknown","entryCount","directoryOffset","entriesMetadata","diskLength","isCompressed","FullscreenButton","preact_1","typestyle_1","Fullscreen_1","style_1","Controls_style_1","Component","onClick","onFullscreen","class","classes","ControlsStyle","button","FullscreenButtonStyle","xmlns","viewBox","fill","stylesheet","minWidth","padding","PauseButton","PlayButton","SettingsButton","Game_1","onFreeModeClick","pause","onReplayModeClick","toggleMenu","isOpen","hasReplay","SettingsButtonStyle","settings","menuOpen","menu","menuItemTitle","menuItemSelected","menuItem","display","fontSize","backgroundColor","flexFlow","borderBottom","fontWeight","cursor","margin","$nest","marginTop","SpeedDownButton","SpeedDownButtonStyle","transform","SpeedUpButton","VolumeButton","marginRight","controls","zIndex","boxSizing","userSelect","opacity","transition","controlsVisible","buttons","justifyContent","marginBottom","alignItems","FreeMode","FreeModeStyle","SettingsButton_1","FullscreenButton_1","active","itemTypeGroupName","items","onItemLoad","onItemProgress","loaderEvents","offLoadStart","offProgress","formatItem","join","visible","LoadingStyle","loading","loadingHidden","spinner","xmlSpace","logItem","reduce","prev","cur","marginLeft","animation","animationName","keyframes","from","to","background","fontFamily","paddingLeft","listStyle","ReplayMode","Time_1","TimeLine_1","VolumeControl_1","PlayButton_1","PauseButton_1","VolumeButton_1","SpeedUpButton_1","SpeedDownButton_1","onPlayClick","play","onPauseClick","onSpeedDown","speedDown","onSpeedUp","speedUp","onVolumeClick","toggleMute","onPlayStateChange","offPlay","offPause","offStop","playing","isPlaying","paused","TimeLine","VolumeControl","RootStyle","color","rootVisible","titleVisible","screen","Root","Loading_1","FreeMode_1","ReplayMode_1","Root_style_1","onPointerLockChange","pointerLockElement","onContextMenu","onWindowClick","isActive","onRootClick","stopPropagation","fadeReset","onKeyDown","setVolume","getVolume","currentTime","onModeChange","onLoadStart","onLoadEnd","onTitleChange","onMouseEnter","isMouseOver","onMouseLeave","isVisible","clearTimeout","onScreenClick","requestPointerLock","onScreenDblClick","appendChild","offLoad","offModeChange","offTitleChange","onDblClick","onPlay","onPauseOrStop","formatTime","total","time","onPostUpdate","currentFrame","rects","currentTarget","getClientRects","seekByPercent","ghostKnobActive","ghostKnobPos","offPostUpdate","timePos","knobOff","lineOff","timeline","ghostLine","line","knob","ghostKnob","borderRadius","onVolumeChange","volume","volumePos","offVolumeChange","control","PlayerInterface","Root_1","rootNode","getRootNode","tell","isLittleEndian","charCode","nstrlen","Byte","Int8Array","UShort","Short","Int16Array","UInt","Uint32Array","Int","Int32Array","Float","Double","Float64Array","NString","DeltaType","FrameDataReader","readCoord_1","readDelta_1","BitReader_1","bad","nop","disconnect","deltaDecoders","bs","eventCount","packetIndex","readDelta","fireTime","setView","entityIndex","attenuation","soundIndex","channel","xPosition","yPosition","zPosition","xFlag","yFlag","zFlag","readCoord","print","stuffText","commands","command","args","trim","func","setAngle","yaw","roll","serverInfo","info","protocol","spawnCount","mapCrc","clientDllHash","maxPlayers","playerIndex","isDeathmatch","gameDir","hostName","mapFileName","mapCycle","lightStyle","lightInfo","updateUserInfo","clientIndex","clientUserId","clientUserInfo","clientCdKeyHash","deltaDescription","fields","fieldCount","clientData","clientDataDecoder","weaponDataDecoder","stopSound","pings","slot","ping","loss","particle","direction","spawnStatic","skin","renderAmt","renderFx","eventReliable","eventIndex","eventData","delayBit","spawnBaseLine","entityTypeString","entityIdx","nExtraData","extraData","tempEntity","effect","textColor","effectColor","fadeInTime","fadeOutTime","holdTime","effectTime","setPause","signOnNum","sign","centerPrint","killedMonster","foundSecret","spawnStaticSound","intermission","finale","text","cdTrack","track","loopTrack","restore","saveName","mapCount","cutscene","weaponAnim","sequenceNumber","weaponModelBodyGroup","decalName","positionIndex","roomType","addAngle","angleToAdd","newUserMsg","packetEntities","entityStates","entityNumber","custom","entityType","deltaPacketEntities","removeEntity","choke","resourceList","nBits","newMoveVars","gravity","stopSpeed","maxSpeed","spectatorMaxSpeed","acceleration","airAcceleration","waterAcceleration","friction","edgeFriction","waterFriction","entityGravity","bounce","stepSize","maxVelocity","zMax","footsteps","rollAngle","rollSpeed","skyColor","skyVec","skyName","resourceRequest","customization","md5hash","downloadSize","crosshairAngle","soundFade","initialPercent","fileTxferFailed","filename","hltv","director","flag","voiceInit","codecName","quality","voiceData","sendExtraInfo","fallbackDir","canCheat","timeScale","resourceLocation","url","sendCvarValue","sendCvarValue2","requestId","handler","handlers","SVC","ReplayMap_1","ReplayCustomMap_1","ReplayChunk_1","ReplayState_1","FrameDataReader_1","readHeader","demoProtocol","netProtocol","modName","dirOffset","readDirectories","directories","id","readFrame","customMessages","tick","orientation","limit","readFrameData","sample","parseFromArrayBuffer","directoryCount","macros","isFinalMacroReached","macro","toString","msg","parseFullFromArrayBuffer","getInitialDeltaDecoders","forward","RefParams","frametime","spectator","onground","waterlevel","velocity","viewHeight","idealPitch","viewAngles","viewSize","punchAngle","maxClients","viewEntity","playerCount","maxEntities","demoPlayback","hardware","smoothing","ptr_cmd","ptr_movevars","nextView","onlyClientDraw","UserCmd","lerp_msec","msec","UNUSED1","forwardMove","sideMove","upMove","lightLevel","UNUSED2","impulse","weaponSelect","UNUSED","impactIndex","impactPosition","MoveVars","viewModel","incoming_sequence","incoming_acknowledged","incoming_reliable_acknowledged","incoming_reliable_sequence","outgoing_sequence","reliable_sequence","last_reliable_sequence","frameDataEnd","frameData","weaponFlags","ducking","fparam1","fparam2","iparam1","iparam2","bparam1","bparam2","weaponAnimation","body","ReplayCustomMap","lines","headerLine","startsWith","headerRegex","matches","match","values","identifier","timestamp","additionalInfo","convertTimestamp","parts","fps","strafes","sync","addFrame","parseIntoChunks","checkType","currentMap","currentChunk","lastFrame","lastFrameOffset","directoryEndOffset","ReplayState","feedFrame","SERVERINFO","ReplayMap","RESOURCELIST","setResources","ReplayChunk","addChunk","timeLength","startTime","lastFrameLength","setData","tempOffset","SOUND","SPAWNSTATICSOUND","resources","used","STUFFTEXT","soundName","initialState","reader","Vector3","timeString","cleanedString","minutesStr","secondsStr","minutes","seconds","millisecondsStr","secondsNumber","milliseconds","parseTimeToMilliseconds","mapFilePath","chunks","skins","decals","res","chunk","obj","cameraPos","JSON","stringify","cameraRot","intFlag","fractionFlag","intValue","fractionValue","dd","maskBitCount","maskBits","brk","DeltaType_1","DT_BYTE","DT_SIGNED","divisor","DT_SHORT","DT_INTEGER","DT_FLOAT","DT_TIMEWINDOW_8","DT_TIMEWINDOW_BIG","DT_ANGLE","multiplier","DT_STRING","initialDeltaDecoders","delta_description_t","updateGame","prevFrame","nextFrame","timeOffset","frameTime","speed","reset","firstFrame","stop","frameDuration","prevFrameData","nextFrameData","interpolatedPos","interpolatedRot","getDist","rawDiff","decodeAudioData","wnd","audioContext","AudioContext","webkitAudioContext","localStorage","getItem","setItem","channels","preMuteVolume","masterGain","createGain","gain","connect","destination","createBufferSource","start","_now","performance","mozNow","msNow","oNow","webkitNow","Date","getTime","path","lastIndexOf","slashPos","dotPos","XMLHttpRequest","responseType","lengthComputable","loaded","totalStr","getResponseHeader","encoding","loadedPercent","readyState","response","open","send","Config_1","index_1","HLV","HLViewer","VERSION","rootSelector","querySelector","uniqueId","CSS_NUMBER","CSS_NUMBER_KEYS","property","prefix","styleToString","sortTuples","stringifyProperties","properties","interpolate","selector","stylize","rulesList","stylesList","nested","isUnique","hasNestedStyles","nestedStyles","propertyName","$unique","parseStyles","pid","child","rules","composeStylize","cache","className","isStyle","Style","Selector","Rule","noopChanges","remove","Cache","changes","sheet","changeId","_keys","_children","_counters","getStyles","curIndex","prevItemChangeId","merge","prevChangeId","unmerge","rule","stringHash","FreeStyle","registerStyle","registerKeyframes","registerHashRule","registerRule","registerCss","convertToStyles","object","subproperties","$displayName","raf","cb","_i","flattened","concat","extend","_a","objects_1","media","mediaQuery","mediaQuerySections","mediaLength","maxWidth","minHeight","maxHeight","prefersColorScheme","createFreeStyle","TypeStyle","_this","autoGenerateTag","cssRaw","mustBeValidCSS","_raw","_pendingRawChange","_styleUpdated","cssRule","_freeStyle","forceRenderStyles","_getTag","textContent","fontFace","freeStyle","_b","$debugName","convertToKeyframes","reinit","_lastFreeStyleChangeId","setStylesTarget","tag","_tag","classNames_1","getOwnPropertyNames","classDef","_autoGenerateTag","_pending","_afterAllSync","pending","head","lastChangeId","ts","createTypeStyle","instance","callbacks","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","enumerable","get","prop","hasOwnProperty","Symbol","toStringTag"],"sourceRoot":""}